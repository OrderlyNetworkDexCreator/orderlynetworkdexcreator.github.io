var Gt=Object.defineProperty;var _t=(t,s,r)=>s in t?Gt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var st=(t,s,r)=>_t(t,typeof s!="symbol"?s+"":s,r);import{j as e,r as i}from"./index-gtzDq4NN.js";import{y as oe}from"./globalDisconnect-BwfQ2Vw-.js";import{C as ge,B as G}from"./Card-CTDM2G3r.js";import{c as At}from"./clsx-B-dksMZM.js";import{aV as te,u as Xe,c1 as qt,c2 as It,c3 as vt,c4 as jt,c5 as Kt,c6 as ze,c7 as Zt,c8 as Qt,c9 as Yt,ca as Jt,cb as es,aW as ts,d as at,cc as ss,bV as as,cd as kt,b as rs,bL as is,ce as ns}from"./ModalContext-mlJE0UaS.js";import{I as ot}from"./ImagePaste-DdHR4gq_.js";import{a as os}from"./index-Dvs6MNyz.js";import{N as ls}from"./NavigationMenuEditor-CH7me4j8.js";import{I as ue}from"./iconify-AJT-F7UA.js";import{F as cs}from"./FuzzySearchInput-CMoxZWNE.js";import{a as Mt,u as Rt}from"./DistributorContext-B2aeeeXX.js";import{d as Ct,b as ds,g as ms,h as us,i as hs,m as St,o as gs,j as ps,k as xs,r as bs}from"./apiClient-DEwubw2O.js";import{a as Dt}from"./useAuth-CdmGF86g.js";import{f as Ft,p as fs}from"./usePrivateQuery-C4ovqd4J.js";function ba(t){return{brokerName:t.brokerName.trim(),telegramLink:t.telegramLink.trim(),discordLink:t.discordLink.trim(),xLink:t.xLink.trim(),walletConnectProjectId:t.walletConnectProjectId.trim(),privyAppId:t.privyAppId.trim(),privyTermsOfUse:t.privyTermsOfUse.trim(),privyLoginMethods:t.privyLoginMethods.join(","),themeCSS:t.currentTheme??null,enabledMenus:t.enabledMenus,customMenus:t.customMenus,enableAbstractWallet:t.enableAbstractWallet,enableServiceDisclaimerDialog:t.enableServiceDisclaimerDialog,enableCampaigns:t.enableCampaigns,...t.swapFeeBps!==null&&{swapFeeBps:t.swapFeeBps},chainIds:t.chainIds,defaultChain:t.defaultChain,disableMainnet:t.disableMainnet,disableTestnet:t.disableTestnet,disableEvmWallets:t.disableEvmWallets,disableSolanaWallets:t.disableSolanaWallets,tradingViewColorConfig:t.tradingViewColorConfig,availableLanguages:t.availableLanguages,seoSiteName:t.seoSiteName.trim(),seoSiteDescription:t.seoSiteDescription.trim(),seoSiteLanguage:t.seoSiteLanguage.trim(),seoSiteLocale:t.seoSiteLocale.trim(),seoTwitterHandle:t.seoTwitterHandle.trim(),seoThemeColor:t.seoThemeColor.trim(),seoKeywords:t.seoKeywords.trim(),analyticsScript:t.analyticsScript.trim()?btoa(encodeURIComponent(t.analyticsScript.trim())):"",symbolList:t.symbolList.trim(),restrictedRegions:t.restrictedRegions.trim(),whitelistedIps:t.whitelistedIps.trim()}}const ys=({title:t,children:s,stepNumber:r,isOptional:n,showSkip:c,onNextInternal:o,isStepContentValidTest:d,isActive:m,isCompleted:u,canOpen:b,setCurrentStep:x,allRequiredPreviousStepsCompleted:g,value:p,isValidating:f})=>e.jsxs(ge,{id:`step-${r}`,className:`overflow-visible transition-all duration-300 ease-in-out ${m?"border-primary shadow-lg":"border-light/10"}`,children:[e.jsxs("div",{className:`flex justify-between items-center p-4 cursor-pointer hover:bg-base-7/80 ${u&&!m?"bg-base-7/30":""}`,onClick:()=>{b?x(r):r>1&&!g(r)&&oe.error("Please complete the previous required steps first.")},children:[e.jsxs("div",{className:"flex items-center",children:[u&&e.jsx("div",{className:"i-mdi:check-circle text-success h-5 w-5 mr-3"}),e.jsxs("h3",{className:`text-lg font-bold ${u&&!m?"text-gray-400":"text-white"}`,children:[t,n&&e.jsx("span",{className:"text-sm text-gray-500",children:" (Optional)"})]})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[!m&&e.jsx("span",{className:"text-sm",children:p}),e.jsx("div",{className:`i-mdi:chevron-down h-6 w-6 transition-transform ${m?"rotate-180":""}`})]})]}),m&&e.jsxs("div",{className:At("p-3 md:p-6 border-t border-light/10 slide-fade-in bg-base-8/30",f?"pointer-events-none":""),children:[s,e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c&&e.jsx(G,{variant:"secondary",onClick:()=>o(!0),type:"button",size:"sm",children:"Skip"}),e.jsx(G,{variant:"primary",onClick:()=>o(!1),type:"button",size:"sm",disabled:!n&&!d,isLoading:f,children:"Next"})]})]})]}),vs=({brokerName:t,handleInputChange:s,brokerNameValidator:r})=>e.jsx(te,{id:"brokerName",label:"Broker Name",value:t,onChange:s("brokerName"),placeholder:"Enter your broker name",helpText:"This name will be used in the HTML metadata, environment configuration, and other places throughout your DEX. Must be 3-30 characters and can only contain letters, numbers, spaces, dots, hyphens, and underscores.",required:!0,minLength:3,maxLength:30,validator:r}),js=({primaryLogo:t,secondaryLogo:s,favicon:r,handleImageChange:n,idPrefix:c=""})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsx(ot,{id:`${c}primaryLogo`,label:e.jsxs(e.Fragment,{children:["Primary Logo"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:t||void 0,onChange:n("primaryLogo"),imageType:"primaryLogo",helpText:"This will be used as the main logo in your DEX, typically displayed prominently on desktop views."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ot,{id:`${c}secondaryLogo`,label:e.jsxs(e.Fragment,{children:["Secondary Logo"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:s||void 0,onChange:n("secondaryLogo"),imageType:"secondaryLogo",helpText:"This will be used in other areas like the footer, on mobile views, and in some dialogs."}),e.jsx(ot,{id:`${c}favicon`,label:e.jsxs(e.Fragment,{children:["Favicon"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:r||void 0,onChange:n("favicon"),imageType:"favicon",helpText:"This is the small icon that appears next to your website's name in a browser tab or in a list of bookmarks, helping users easily identify your DEX."})]})]});function Lt(t){const s=window.getComputedStyle(t),r=window.getComputedStyle(document.documentElement),n=new Set;function c(m){var b;const u=m.getAttribute("style");if(u){const x=/--([a-zA-Z0-9-]+):\s*([^;]+)/g;let g;for(;(g=x.exec(u))!==null;){const p=g[1].trim();p.startsWith("oui-")&&n.add(p)}}try{const x=Array.from(document.styleSheets);for(const g of x)try{const p=Array.from(g.cssRules||g.rules||[]);for(const f of p)if(f instanceof CSSStyleRule)try{const S=f.selectorText;if(S&&(m.matches(S)||m.querySelector(S))){const N=(f.cssText||((b=f.style)==null?void 0:b.cssText)||"").match(/var\(--[^)]+\)/g);N&&N.forEach(I=>{const D=I.match(/var\(--([^),]+)/);if(D){const z=D[1].trim();z.startsWith("oui-")&&n.add(z)}})}}catch{}}catch{}}catch{}}c(t),t.querySelectorAll("*").forEach(m=>{c(m)});const d=[];for(const m of n){const u=`--${m}`,b=s.getPropertyValue(u).trim(),x=r.getPropertyValue(u).trim();let g=x;const p=t.getAttribute("style");if(p){const S=new RegExp(`--${m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}:\\s*([^;]+)`),v=p.match(S);v&&(g=v[1].trim())}const f=b||x||g;f&&d.push({name:m,value:g||x||b,computedValue:f})}return d.sort((m,u)=>m.name.localeCompare(u.name))}function yt(t){const s=[];let r=t;for(;r&&r!==document.body;){let n=r.tagName.toLowerCase();if(r.id){n+=`#${r.id}`,s.unshift(n);break}if(r.className&&typeof r.className=="string"){const o=r.className.split(" ").filter(d=>d&&!d.startsWith("orderly-")).slice(0,2).join(".");o&&(n+=`.${o}`)}const c=r.parentElement;if(c){const o=r.tagName,d=Array.from(c.children).filter(m=>m instanceof HTMLElement&&m.tagName===o);if(d.length>1&&r){const m=d.indexOf(r)+1;n+=`:nth-of-type(${m})`}}s.unshift(n),r=c}return s.join(" > ")}function Tt(t){const s=[];let r=t,n=0;return r=r.replace(/::[a-zA-Z-]+/g,c=>{const o=`__PSEUDO_ELEMENT_${n++}__`;return s.push(c),o}),r=r.replace(/:([a-zA-Z-]+(\([^)]*\))?)/g,""),s.forEach((c,o)=>{r=r.replace(`__PSEUDO_ELEMENT_${o}__`,c)}),r.replace(/\s+/g," ").trim()}function Et(t,s){if(!t)return[];const r=t.match(/\/\*\s*AI Fine-Tune Overrides\s*\*\/\s*([\s\S]*?)(?=\/\*|$)/);if(!r||!r[1])return[];const n=r[1].trim();if(!n)return[];const c=document.createElement("style");c.id="temp-ai-finetune-check",c.textContent=n,document.head.appendChild(c);try{const d=Array.from(document.styleSheets).find(p=>p.ownerNode===c),m=[],u=[s],b=/([^{]+)\{([^}]+)\}/g;let x;const g=[];for(;(x=b.exec(n))!==null;){const p=x[1].trim(),f=x[2].trim();if(f.trim())for(const S of u)try{if(S.matches(p)){g.push({selector:p,properties:f,rawRule:x[0]});break}}catch{try{const v=Tt(p);if(v&&S.matches(v)){g.push({selector:p,properties:f,rawRule:x[0]});break}}catch{}}}if(g.length>0)for(const p of g)m.push({selector:p.selector,properties:p.properties,fullRule:p.rawRule,rawRule:p.rawRule});else if(d)try{const p=Array.from(d.cssRules||[]);for(const f of p)if(f instanceof CSSStyleRule){const S=f.selectorText,v=f.style.cssText||"";let N=!1;for(const I of u)try{if(I.matches(S)){N=!0;break}}catch{try{const D=Tt(S);if(D&&I.matches(D)){N=!0;break}}catch{}}N&&v.trim()&&m.push({selector:S,properties:v,fullRule:`${S} { ${v} }`})}}catch{}return m}finally{c.remove()}}const ws=new Set(["oui-font-family","oui-font-size-base","oui-color-primary","oui-color-primary-light","oui-color-primary-darken","oui-color-primary-contrast","oui-color-link","oui-color-link-light","oui-color-secondary","oui-color-tertiary","oui-color-quaternary","oui-color-danger","oui-color-danger-light","oui-color-danger-darken","oui-color-danger-contrast","oui-color-success","oui-color-success-light","oui-color-success-darken","oui-color-success-contrast","oui-color-warning","oui-color-warning-light","oui-color-warning-darken","oui-color-warning-contrast","oui-color-fill","oui-color-fill-active","oui-color-base-1","oui-color-base-2","oui-color-base-3","oui-color-base-4","oui-color-base-5","oui-color-base-6","oui-color-base-7","oui-color-base-8","oui-color-base-9","oui-color-base-10","oui-color-base-foreground","oui-color-line","oui-color-trading-loss","oui-color-trading-loss-contrast","oui-color-trading-profit","oui-color-trading-profit-contrast","oui-gradient-primary-start","oui-gradient-primary-end","oui-gradient-secondary-start","oui-gradient-secondary-end","oui-gradient-success-start","oui-gradient-success-end","oui-gradient-danger-start","oui-gradient-danger-end","oui-gradient-brand-start","oui-gradient-brand-end","oui-gradient-brand-stop-start","oui-gradient-brand-stop-end","oui-gradient-brand-angle","oui-gradient-warning-start","oui-gradient-warning-end","oui-gradient-neutral-start","oui-gradient-neutral-end","oui-rounded-sm","oui-rounded","oui-rounded-md","oui-rounded-lg","oui-rounded-xl","oui-rounded-2xl","oui-rounded-full","oui-spacing-xs","oui-spacing-sm","oui-spacing-md","oui-spacing-lg","oui-spacing-xl"]);function Pt(t){return ws.has(t)}const Ns=({element:t,originalClickedElement:s,elementPath:r=[],currentTheme:n,defaultTheme:c,onVariableChange:o,onElementSelect:d,onClose:m,onApplyCSSOverrides:u,onThemeChange:b,previewProps:x,viewMode:g="desktop"})=>{const{openModal:p}=Xe(),[f,S]=i.useState([]),[v,N]=i.useState(""),[I,D]=i.useState([]),[z,V]=i.useState(null),[k,B]=i.useState(""),[a,h]=i.useState(null),[C,P]=i.useState(""),[M,X]=i.useState(null),[q,ae]=i.useState(!1),[se,E]=i.useState({x:0,y:0}),j=i.useRef(null),F=i.useRef(null),$=i.useCallback(()=>{!t||!u||p("aiFineTune",{element:t,currentTheme:n,...x&&{previewProps:x},viewMode:g,onApplyOverrides:w=>{t&&u&&u(t,w)}})},[t,n,x,u,p]);i.useEffect(()=>{const w=F.current;if(!w)return;const T=L=>{L.preventDefault(),L.stopPropagation(),L.stopImmediatePropagation(),$()};return w.addEventListener("click",T,!0),w.addEventListener("mousedown",L=>{L.stopPropagation()},!0),()=>{w.removeEventListener("click",T,!0)}},[$]),i.useEffect(()=>{if(s&&!M){const w=s.getBoundingClientRect(),T=window.innerWidth,O=w.left>T/2?16:T-400-16;X({x:O,y:16})}},[s,M]),i.useEffect(()=>{const w=setTimeout(()=>{if(t&&r.length>0){const T=r.indexOf(t),L=T>=0?r.slice(0,T+1):[t],O=new Map;L.forEach(K=>{Lt(K).forEach(Q=>{Pt(Q.name)&&(O.has(Q.name)||O.set(Q.name,Q))})}),S(Array.from(O.values()));const H=r.slice().reverse().map(K=>yt(K).split(" > ").pop()||"");N(H.join(" > "));const _=Et(n,t);D(_)}else if(t){const L=Lt(t).filter(H=>Pt(H.name));S(L),N(yt(t));const O=Et(n,t);D(O)}else S([]),N(""),D([])},50);return()=>clearTimeout(w)},[t,r,n]),i.useEffect(()=>{if(!q)return;const w=L=>{L.preventDefault(),M&&X({x:L.clientX-se.x,y:L.clientY-se.y})},T=()=>{var L;ae(!1),window.getSelection&&((L=window.getSelection())==null||L.removeAllRanges())};return document.addEventListener("mousemove",w),document.addEventListener("mouseup",T),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",T)}},[q,se,M]);const Y=w=>{if(j.current&&M){w.preventDefault();const T=j.current.getBoundingClientRect();E({x:w.clientX-T.left,y:w.clientY-T.top}),ae(!0)}},re=(w,T)=>{V(w),B(T)},J=()=>{if(z&&k){const w=z.startsWith("oui-")?z:`oui-${z}`;o(w,k),V(null),B("")}},ce=()=>{V(null),B(""),h(null),P("")},U=(w,T)=>{h(w),P(T)},R=()=>{if(a===null||!b||!n)return;const w=I[a];if(!w)return;let T=n;const L=T.match(/\/\*\s*AI Fine-Tune Overrides\s*\*\/\s*([\s\S]*?)(?=\/\*|$)/);L&&(T=T.replace(/\/\*\s*AI Fine-Tune Overrides\s*\*\/\s*[\s\S]*?(?=\/\*|$)/,""),T=T.replace(/\n{3,}/g,`

`).trim());let O="";L&&L[1]&&(O=L[1].trim());const H=/([^{]+)\{([^}]+)\}/g,_=[];let K,ee=!1;for(;(K=H.exec(O))!==null;){const ne=K[1].trim(),pe=K[2].trim();ne===w.selector&&!ee?(_.push({selector:ne,properties:C.trim()}),ee=!0):_.push({selector:ne,properties:pe})}ee||_.push({selector:w.selector,properties:C.trim()});const Q=_.map(ne=>`${ne.selector} { ${ne.properties} }`).join(`
`),me=T?`${T}

/* AI Fine-Tune Overrides */
${Q}`:`/* AI Fine-Tune Overrides */
${Q}`;b(me),h(null),P("")},le=w=>{if(!b||!n)return;const T=I[w];if(!T)return;let L=n;const O=L.match(/\/\*\s*AI Fine-Tune Overrides\s*\*\/\s*([\s\S]*?)(?=\/\*|$)/);O&&(L=L.replace(/\/\*\s*AI Fine-Tune Overrides\s*\*\/\s*[\s\S]*?(?=\/\*|$)/,""),L=L.replace(/\n{3,}/g,`

`).trim());let H="";O&&O[1]&&(H=O[1].trim());const K=(T.rawRule||T.fullRule).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ee=new RegExp(K.replace(/\s+/g,"\\s*"),"g"),Q=H.replace(ee,"").trim();if(Q){const me=L?`${L}

/* AI Fine-Tune Overrides */
${Q}`:`/* AI Fine-Tune Overrides */
${Q}`;b(me)}else b(L||"")},de=w=>w.includes("color")||w.includes("fill")?!0:w.includes("gradient")?!w.includes("stop")&&!w.includes("angle"):!1;if(!t||!s)return null;const he=r.length>0?r.slice().reverse().slice(0,5).map(w=>{const T=yt(w);return T.split(" > ").pop()||T}):v.split(" > ").slice(-5);return e.jsxs("div",{ref:j,className:"fixed z-[51] bg-[rgb(var(--oui-color-base-7))] border border-light/20 rounded-lg shadow-xl p-4 max-h-[80vh] overflow-y-auto backdrop-blur-sm w-96",style:{backgroundColor:"rgba(var(--oui-color-base-7), 0.98)",left:(M==null?void 0:M.x)!==void 0?`${M.x}px`:void 0,right:(M==null?void 0:M.x)===void 0?"16px":void 0,top:(M==null?void 0:M.y)!==void 0?`${M.y}px`:void 0,bottom:(M==null?void 0:M.y)===void 0?"16px":void 0,cursor:q?"grabbing":"default",userSelect:q?"none":"auto",WebkitUserSelect:q?"none":"auto"},"data-higher-modal":"true",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-grab active:cursor-grabbing",onMouseDown:Y,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-200",children:"CSS Variables"}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-200 transition-colors",type:"button",children:e.jsx("div",{className:"i-mdi:close h-5 w-5"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-400 font-mono bg-background-dark/50 p-2 rounded border border-light/10 break-all mb-2",children:v}),e.jsx("div",{className:"flex flex-wrap gap-1 text-xs",children:he.map((w,T)=>{const L=he.length-1-T,O=r.length>0&&L<r.length?r[L]:null,H=O===t;return e.jsx("button",{onClick:()=>{O&&d&&d(O)},className:`px-2 py-1 rounded transition-colors ${H?"bg-blue-500/20 text-blue-300 border border-blue-500/50 hover:bg-blue-500/30":"bg-gray-700/50 text-gray-400 border border-gray-600/50 hover:bg-gray-600/50"} ${O?"cursor-pointer":"cursor-default"}`,type:"button",disabled:!O,children:w},T)})})]}),I.length>0&&e.jsxs("div",{className:"mb-3 pt-3 border-t border-light/10",children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-300 mb-2 flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:magic-wand h-3 w-3 text-primary-light"}),"AI Fine-Tune Overrides"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:I.map((w,T)=>{const L=a===T,O=L?C:w.properties;return e.jsxs("div",{className:"bg-background-dark/50 p-2 rounded border border-primary-light/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"text-xs font-mono text-primary-light/80 break-all flex-1",children:w.selector}),!L&&b&&e.jsxs("div",{className:"flex gap-1 ml-2",children:[e.jsx("button",{onClick:()=>U(T,w.properties),className:"text-xs text-primary-light hover:text-primary-light/80 transition-colors",type:"button",children:"Edit"}),e.jsx("button",{onClick:()=>le(T),className:"text-xs text-red-400 hover:text-red-300 transition-colors",type:"button",children:"Delete"})]})]}),L?e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx("textarea",{value:O,onChange:H=>P(H.target.value),className:"w-full bg-background-dark border border-light/20 rounded px-2 py-1 text-xs text-gray-200 font-mono min-h-[60px] resize-y",placeholder:"CSS properties..."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{onClick:R,variant:"primary",size:"xs",type:"button",children:"Save"}),e.jsx(G,{onClick:ce,variant:"secondary",size:"xs",type:"button",children:"Cancel"})]})]}):e.jsx("div",{className:"text-xs text-gray-400 font-mono whitespace-pre-wrap break-all",children:w.properties})]},T)})})]}),t&&u&&e.jsxs("div",{className:"mb-3 pt-3 border-t border-light/10",children:[e.jsxs("button",{ref:F,onClick:w=>{console.log("React onClick fired!",w),w.preventDefault(),w.stopPropagation(),$()},onMouseDown:w=>{console.log("React onMouseDown fired!",w),w.stopPropagation()},className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-primary-light hover:text-primary-darken hover:bg-primary-light/10 rounded border border-primary-light/30 hover:border-primary-light/50 transition-colors",type:"button","data-modal-header-button":"true",children:[e.jsx("div",{className:"i-mdi:magic-wand h-4 w-4"}),e.jsx("span",{children:"AI Fine-Tune This Element"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Use AI to customize this element and its children"})]}),f.length===0?e.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"No CSS variables found for this element"}):e.jsx("div",{className:"space-y-2",children:f.map(w=>{const T=z===w.name,L=de(w.name),O=T?k:w.value,H=L?qt(O):"";return e.jsxs("div",{className:"bg-background-dark/50 p-2 rounded border border-light/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs font-mono text-gray-300",children:["--",w.name]}),!T&&e.jsx("button",{onClick:()=>re(w.name,w.value),className:"text-xs text-primary-light hover:text-primary-light/80 transition-colors",type:"button",children:"Edit"})]}),T?e.jsxs("div",{className:"mt-2 space-y-2",children:[L?e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"color",value:H||"#000000",onChange:_=>B(It(_.target.value)),className:"w-12 h-8 rounded border border-light/20 cursor-pointer"}),e.jsx("div",{className:"w-6 h-6 rounded border border-light/20 flex-shrink-0",style:{backgroundColor:`rgb(${k})`}}),e.jsx("input",{type:"text",value:k,onChange:_=>B(_.target.value),placeholder:"R G B",className:"flex-1 bg-background-dark border border-light/20 rounded px-2 py-1 text-xs text-gray-200 font-mono"})]}):e.jsx("input",{type:"text",value:k,onChange:_=>B(_.target.value),className:"w-full bg-background-dark border border-light/20 rounded px-2 py-1 text-xs text-gray-200 font-mono"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{onClick:J,variant:"primary",size:"xs",type:"button",children:"Save"}),e.jsx(G,{onClick:ce,variant:"secondary",size:"xs",type:"button",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[L&&H&&e.jsx("div",{className:"w-6 h-6 rounded border border-light/20",style:{backgroundColor:`rgb(${w.computedValue})`}}),e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:w.computedValue||w.value||"N/A"})]})]},w.name)})})]})},ks=({isOpen:t,onClose:s,previewProps:r,currentTheme:n,defaultTheme:c,savedTheme:o,onThemeChange:d,viewMode:m,onGenerateTheme:u,updateCssColor:b,updateCssValue:x,tradingViewColorConfig:g,setTradingViewColorConfig:p})=>{const{openModal:f,currentModalType:S}=Xe(),[v,N]=i.useState(null),[I,D]=i.useState([]),[z,V]=i.useState(null),[k,B]=i.useState(!1),a=i.useRef(null),h=i.useRef(null),C=i.useRef(null),P=i.useCallback((E,j)=>{const $=vt(n||c);$[E]=j;const Y=jt($);d(Y)},[n,c,d]),M=i.useCallback((E,j)=>{if(!j.trim())return;let F=n||"";F&&(F=F.replace(/\/\*\s*AI Fine-Tune Overrides\s*\*\/[\s\S]*?(?=\/\*\s*AI Fine-Tune Overrides\s*\*\/|$)/g,""),F=F.replace(/\n{3,}/g,`

`).trim());const $=F?`${F}

/* AI Fine-Tune Overrides */
${j.trim()}`:`/* AI Fine-Tune Overrides */
${j.trim()}`;d($)},[n,d]);i.useEffect(()=>{if(m==="mobile"&&t){const E=window.matchMedia.bind(window);C.current=E,window.matchMedia=j=>j==="(max-width: 768px)"?{matches:!0,media:j,onchange:null,addListener:()=>{},removeListener:()=>{},addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!0}:E(j)}else C.current&&(window.matchMedia=C.current,C.current=null);return()=>{C.current&&(window.matchMedia=C.current,C.current=null)}},[m,t]),i.useEffect(()=>{if(!v)return;const E=v.getBoundingClientRect(),j=document.createElement("div");j.style.position="fixed",j.style.left=`${E.left}px`,j.style.top=`${E.top}px`,j.style.width=`${E.width}px`,j.style.height=`${E.height}px`,j.style.pointerEvents="none",j.style.zIndex="60",j.style.border="2px solid #3b82f6",j.style.backgroundColor="rgba(59, 130, 246, 0.1)",j.style.boxSizing="border-box",j.setAttribute("data-element-highlight","selected"),document.body.appendChild(j);const F=()=>{const $=v.getBoundingClientRect();j.style.left=`${$.left}px`,j.style.top=`${$.top}px`,j.style.width=`${$.width}px`,j.style.height=`${$.height}px`};return window.addEventListener("scroll",F,!0),window.addEventListener("resize",F),()=>{document.querySelectorAll("[data-element-highlight]").forEach($=>$.remove()),window.removeEventListener("scroll",F,!0),window.removeEventListener("resize",F)}},[v]);const X=i.useRef(null),q=i.useRef(null),ae=i.useRef(!1);i.useEffect(()=>{if(t&&X.current==="aiFineTunePreview"&&S!=="aiFineTunePreview"&&n){const E=n.match(/--oui-font-family:\s*([^;]+);/);if(E){const j=E[1].trim(),F="dex-preview-font-override";let $=document.getElementById(F);$||($=document.createElement("style"),$.id=F,document.head.appendChild($)),$.textContent=`
          .orderly-app-container,
          .orderly-app-container *,
          .orderly-app-container *::before,
          .orderly-app-container *::after {
            font-family: ${j} !important;
          }
        `}}X.current=S||null},[t,S,n]),i.useEffect(()=>{const E=!ae.current,j=n!==q.current;t&&(E||j)&&(ae.current=!0,requestAnimationFrame(()=>{const $=(n||c).match(/--oui-font-family:\s*([^;]+);/);if($){const Y=$[1].trim(),re="dex-preview-font-override";let J=document.getElementById(re);J||(J=document.createElement("style"),J.id=re,document.head.appendChild(J)),J.textContent=`
          .orderly-app-container,
          .orderly-app-container *,
          .orderly-app-container *::before,
          .orderly-app-container *::after {
            font-family: ${Y} !important;
          }
        `}})),q.current=n},[t,n,c]);const se=i.useCallback((E,j)=>{u&&u(E,j)},[u]);return i.useEffect(()=>{if(!t){N(null),D([]),V(null),B(!1),document.querySelectorAll('style[id^="ai-override-"]').forEach(R=>R.remove());return}document.querySelectorAll('style[id^="ai-override-"]').forEach(U=>U.remove());const j=U=>U?!!U.closest('[data-higher-modal="true"]'):!1,F=U=>{const R=U.target;j(R)||R.tagName==="INPUT"||R.tagName==="TEXTAREA"||(U.key==="Control"||U.key==="Meta")&&B(!0)},$=U=>{const R=U.target;j(R)||R.tagName==="INPUT"||R.tagName==="TEXTAREA"||(U.key==="Control"||U.key==="Meta")&&B(!1)},Y=U=>{const R=U.target;if(R.closest("[data-modal-header-button]")||R.closest("[data-higher-modal]")||j(R))return;const le=document.querySelector('[data-higher-modal="true"][class*="z-[51]"]');le&&le.contains(R)||U.ctrlKey||U.metaKey},re=U=>{const R=U.target;if(!(R.closest("[data-modal-header-button]")||R.closest("[data-higher-modal]")||j(R)||!(U.ctrlKey||U.metaKey))&&!(!R||!a.current)&&a.current.contains(R)){U.preventDefault(),U.stopPropagation(),U.stopImmediatePropagation();const w=(["button","a","input","select","textarea"].includes(R.tagName.toLowerCase())||R.closest("button, a, input, select, textarea"))&&R.closest("button, a, input, select, textarea")||R,T=[];let L=w;const O=5;for(;L&&T.length<O&&!(L===document.body||L.hasAttribute("data-preview-container")||L.classList.contains("orderly-app-container"));)T.push(L),L=L.parentElement;const H=T.slice(0,O),_=Math.floor((H.length-1)/2),K=H[_]||w;V(w),N(K),D(H)}},J=U=>{const R=U.target;j(R)||R.tagName==="INPUT"||R.tagName==="TEXTAREA"||U.key==="Escape"&&(N(null),D([]),V(null))},ce=setTimeout(()=>{document.addEventListener("click",Y,!0),document.addEventListener("click",re,!0),document.addEventListener("keydown",J),document.addEventListener("keydown",F),document.addEventListener("keyup",$)},100);return()=>{clearTimeout(ce),document.removeEventListener("click",Y,!0),document.removeEventListener("click",re,!0),document.removeEventListener("keydown",J),document.removeEventListener("keydown",F),document.removeEventListener("keyup",$)}},[t]),t?e.jsxs("div",{ref:h,className:"fixed inset-0 z-[50] bg-background-dark/95 flex flex-col",onClick:E=>{E.stopPropagation()},onMouseDown:E=>{E.stopPropagation()},onMouseUp:E=>{E.stopPropagation()},onSubmit:E=>{E.preventDefault(),E.stopPropagation()},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light/10 bg-background-card",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-200",children:[m==="desktop"?"Desktop":"Mobile"," Preview"]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-background-dark/50 border border-light/20",children:[e.jsx("div",{className:"i-mdi:cursor-pointer h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Hold"," ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-background-dark rounded text-xs font-mono",children:"Ctrl"})," ","+ Click to inspect CSS variables"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2","data-modal-header-button":"true",children:[e.jsx(G,{onClick:E=>{E.stopPropagation(),f("themePresetPreview",{previewProps:r,viewMode:m,currentTheme:n,onApply:j=>{d(j)},onPreviewChange:j=>{d(j)}})},variant:"secondary",size:"sm",type:"button","data-modal-header-button":"true",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:swatch h-4 w-4"}),"Presets"]})}),e.jsx(G,{onClick:E=>{E.stopPropagation(),!(!b||!x||!p)&&f("currentTheme",{currentTheme:n,defaultTheme:c,savedTheme:o,updateCssColor:b,updateCssValue:x,tradingViewColorConfig:g,setTradingViewColorConfig:p,onThemeChange:d})},variant:"secondary",size:"sm",type:"button","data-modal-header-button":"true",disabled:!b||!x||!p,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:palette h-4 w-4"}),"Theme"]})}),e.jsx(G,{onClick:E=>{E.stopPropagation(),u&&f("aiThemeGenerator",{viewMode:m,onGenerateTheme:se})},variant:"secondary",size:"sm",type:"button",disabled:!u,"data-modal-header-button":"true",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:magic-wand h-4 w-4"}),"AI"]})}),e.jsx(G,{onClick:s,variant:"secondary",size:"sm",type:"button",children:"Close"})]})]}),e.jsxs("div",{className:`flex-1 relative ${m==="mobile"?"overflow-y-auto overflow-x-hidden":"overflow-hidden"}`,children:[k&&e.jsx("style",{children:`
            [data-preview-container] * {
              cursor: crosshair !important;
            }
          `}),e.jsx("div",{ref:a,"data-preview-container":!0,className:`${m==="mobile"?"max-w-md mx-auto min-h-full":"h-full"} w-full`,style:k?{cursor:"crosshair"}:void 0,children:e.jsx(Kt,{...(({customStyles:E,fontFamily:j,fontSize:F,...$})=>$)(r),customStyles:n||c,className:"h-full w-full"})}),v&&z&&e.jsx(Ns,{element:v,originalClickedElement:z,elementPath:I,currentTheme:n,defaultTheme:c,onVariableChange:P,onElementSelect:E=>{N(E)},onClose:()=>{N(null),D([]),V(null)},onApplyCSSOverrides:M,onThemeChange:d,previewProps:r,viewMode:m})]})]}):null},Cs=({previewProps:t,currentTheme:s,defaultTheme:r,savedTheme:n,onThemeChange:c,onGenerateTheme:o,updateCssColor:d,updateCssValue:m,tradingViewColorConfig:u,setTradingViewColorConfig:b})=>{const[x,g]=i.useState(null),p=S=>{g(S)},f=()=>{g(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold mb-2 text-gray-200",children:"Interactive Preview"}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:'Click "Edit Desktop" or "Edit Mobile" to enter edit mode and customize CSS variables by clicking on elements.'})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-background-card border border-light/10 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Desktop Preview"})}),e.jsx(G,{onClick:()=>p("desktop"),variant:"primary",size:"md",className:"w-full mb-3",type:"button",children:e.jsxs("span",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"i-mdi:pencil h-5 w-5"}),"Edit Desktop"]})}),e.jsx("div",{className:"relative border border-light/10 rounded overflow-hidden bg-background-dark flex items-center justify-center",style:{height:"180px"},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"i-mdi:monitor-dashboard h-10 w-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"Desktop preview"}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:'Click "Edit Desktop" to view'})]})})]}),e.jsxs("div",{className:"bg-background-card border border-light/10 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Mobile Preview"})}),e.jsx(G,{onClick:()=>p("mobile"),variant:"primary",size:"md",className:"w-full mb-3",type:"button",children:e.jsxs("span",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"i-mdi:pencil h-5 w-5"}),"Edit Mobile"]})}),e.jsx("div",{className:"relative border border-light/10 rounded overflow-hidden bg-background-dark mx-auto flex items-center justify-center",style:{width:"100px",height:"180px"},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"i-mdi:cellphone h-6 w-6 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"Mobile preview"}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:'Click "Edit Mobile" to view'})]})})]})]})]}),x&&typeof document<"u"&&os.createPortal(e.jsx(ks,{isOpen:!0,onClose:f,previewProps:t,currentTheme:s,defaultTheme:r,savedTheme:n,onThemeChange:c,viewMode:x,onGenerateTheme:x?(S,v)=>{o(S,v)}:void 0,updateCssColor:d,updateCssValue:m,tradingViewColorConfig:u,setTradingViewColorConfig:b}),document.body)]})},Ss=({value:t,onChange:s,className:r,placeholder:n})=>e.jsx("textarea",{value:t||"",onChange:s,className:r,placeholder:n}),Ls=({currentTheme:t,defaultTheme:s,savedTheme:r,showThemeEditor:n,viewCssCode:c,themePrompt:o,isGeneratingTheme:d,brokerName:m,primaryLogo:u,secondaryLogo:b,tradingViewColorConfig:x,toggleThemeEditor:g,handleResetTheme:p,handleThemeEditorChange:f,setViewCssCode:S,updateCssColor:v,updateCssValue:N,handleInputChange:I,handleGenerateTheme:D,setTradingViewColorConfig:z,idPrefix:V=""})=>{const[k,B]=i.useState("colors"),[a,h]=i.useState(null),[C,P]=i.useState(null),[M,X]=i.useState(!1),{openModal:q}=Xe(),ae=({tab:j,label:F})=>e.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-t-lg ${k===j?"bg-background-dark/50 text-white border-t border-l border-r border-light/10":"bg-transparent text-gray-400 hover:text-white"}`,onClick:()=>B(j),type:"button",children:F});i.useEffect(()=>{const j=()=>{X(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),i.useEffect(()=>{if(a&&URL.revokeObjectURL(a),u){const j=URL.createObjectURL(u);h(j)}else h(null);return()=>{a&&URL.revokeObjectURL(a)}},[u]),i.useEffect(()=>{if(C&&URL.revokeObjectURL(C),b){const j=URL.createObjectURL(b);P(j)}else P(null);return()=>{C&&URL.revokeObjectURL(C)}},[b]);const se=i.useMemo(()=>{const j={...ze.orderlyAppProvider.appIcons};a&&(j.main={component:i.createElement("img",{src:a,alt:"logo",style:{height:"42px"}})}),C&&(j.secondary={img:C});const F=t||s,{fontFamily:$,fontSize:Y}=Zt(F);return{brokerId:"demo",brokerName:m||"My DEX",networkId:"testnet",mainNavProps:ze.scaffold.mainNavProps,footerProps:ze.scaffold.footerProps,initialSymbol:"PERP_BTC_USDC",tradingViewConfig:ze.tradingPage.tradingViewConfig,sharePnLConfig:ze.tradingPage.sharePnLConfig,appIcons:j,customStyles:F,fontFamily:$,fontSize:Y}},[m,a,C,t,s]),E=j=>{f(j)};return e.jsxs(e.Fragment,{children:[!M&&e.jsx("div",{className:"mt-6",children:e.jsx(Cs,{previewProps:se,currentTheme:t,defaultTheme:s,savedTheme:r,onThemeChange:E,onGenerateTheme:(j,F)=>{D(j,se,F)},updateCssColor:v,updateCssValue:N,tradingViewColorConfig:x,setTradingViewColorConfig:z})}),M&&e.jsxs("div",{className:"mt-4 rounded-lg overflow-hidden border border-light/10 p-4 bg-base-7/50",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-light/10",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Theme Presets"})}),e.jsx(G,{onClick:()=>{q("themePresetPreview",{previewProps:void 0,viewMode:"mobile",currentTheme:t,onApply:j=>{E(j)},onPreviewChange:j=>{E(j)}})},variant:"secondary",size:"xs",className:"w-full",type:"button",children:e.jsxs("span",{className:"flex items-center gap-1 justify-center",children:[e.jsx("div",{className:"i-mdi:swatch h-3.5 w-3.5"}),"Select Preset"]})})]}),e.jsxs("div",{className:"flex justify-between mb-2 flex-col sm:flex-row gap-2 sm:gap-0",children:[e.jsx("span",{className:"text-sm font-medium mb-2 text-gray-300",children:"Current Theme"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx(G,{onClick:g,variant:"secondary",size:"xs",className:"w-full sm:w-auto",type:"button",children:e.jsxs("span",{className:"flex items-center gap-1 justify-center sm:justify-start",children:[e.jsx("div",{className:n?"i-mdi:eye h-3.5 w-3.5":"i-mdi:pencil h-3.5 w-3.5"}),n?"Hide Editor":"Edit CSS"]})}),e.jsx(G,{onClick:p,variant:"danger",size:"xs",className:"w-full sm:w-auto",type:"button",children:"Reset"})]})]}),n&&e.jsx("div",{className:"mt-4 slide-fade-in",children:e.jsx(Ss,{value:t||s,onChange:j=>f(j.target.value),className:"w-full h-80 bg-black/80 text-xs text-gray-300 font-mono p-3 rounded border border-light/10",placeholder:"Edit your CSS theme here..."})}),!n&&e.jsx("div",{className:"mt-2 text-xs mb-4",children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>S(!c),className:"cursor-pointer text-gray-400 hover:text-gray-300 transition-colors flex items-center",type:"button",children:[e.jsxs("span",{children:[c?"Hide":"View"," CSS code"]}),e.jsx("div",{className:`i-mdi:chevron-down h-4 w-4 ml-1 transition-transform ${c?"rotate-180":""}`})]}),c&&e.jsx("div",{className:"bg-base-8/50 p-4 rounded-lg overflow-auto text-xs max-h-[300px] mt-2 slide-fade-in",children:e.jsx("pre",{className:"language-css",children:t||s})})]})}),e.jsx(Qt,{currentTheme:t,defaultTheme:s,activeThemeTab:k,updateCssColor:v,updateCssValue:N,tradingViewColorConfig:x,setTradingViewColorConfig:z,ThemeTabButton:ae})]}),M&&e.jsxs("div",{className:"flex flex-col space-y-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h4",{className:"text-base font-bold mb-1",children:"AI Theme Generator"}),e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Describe how you want your DEX theme to look and our AI will generate it for you."}),e.jsx(ge,{className:"mb-3 p-3 slide-fade-in",variant:"default",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:information-outline text-primary-light h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-300 mb-1",children:[e.jsx("span",{className:"text-primary-light font-medium",children:"Note:"})," ","AI-generated themes are a starting point and may not be perfect. After generating:"]}),e.jsxs("ul",{className:"text-xs text-gray-300 list-disc pl-4 space-y-0.5",children:[e.jsx("li",{children:"Review the theme in the preview modal"}),e.jsx("li",{children:"Make adjustments to colors as needed"})]})]})]})}),e.jsx(te,{id:`${V}themePrompt`,label:"Theme Description",value:o,onChange:I("themePrompt"),placeholder:"e.g., A dark blue theme with neon green accents",helpText:"Describe your desired color scheme and style",maxLength:100,disabled:d})]}),e.jsx("div",{className:"mt-1",children:e.jsx(G,{onClick:()=>D(o,void 0,"mobile"),isLoading:d,loadingText:"Generating...",disabled:!o.trim()||d,variant:"secondary",size:"sm",type:"button",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:magic-wand h-4 w-4"}),"Generate Theme"]})})})]})]})};function Ts({pnlPosters:t,onChange:s,idPrefix:r=""}){const[n,c]=i.useState(!1),o=x=>g=>{const p=[...t];p[x]=g,s(p)},d=()=>{t.length<8&&s([...t,null])},m=x=>{const g=t.filter((p,f)=>f!==x);s(g)},u=()=>"pnlPoster",b=t.filter(Boolean).map(x=>x?URL.createObjectURL(x):null).filter(Boolean);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-medium",children:["PnL Sharing Backgrounds"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Custom background images for PnL sharing feature. Users can choose from these when sharing their trading results."})]}),t.length<8&&e.jsx(G,{type:"button",onClick:d,variant:"secondary",size:"sm",className:"shrink-0",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"i-mdi:plus h-4 w-4"}),"Add Poster"]})})]}),t.length===0?e.jsxs(ge,{variant:"default",className:"p-6 text-center",children:[e.jsx("div",{className:"i-mdi:image-multiple-outline h-12 w-12 mx-auto text-gray-500 mb-3"}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"No PnL poster backgrounds added yet."}),e.jsx(G,{type:"button",onClick:d,variant:"primary",size:"sm",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"i-mdi:plus h-4 w-4"}),"Add First Poster"]})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((x,g)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-200",children:["Poster ",g+1]}),e.jsx("button",{type:"button",onClick:()=>m(g),className:"text-xs text-error hover:text-error/70 transition-colors",children:"Remove"})]}),e.jsx(ot,{id:`${r}pnlPoster${g}`,label:"",value:x||void 0,onChange:o(g),imageType:u(),helpText:"16:9 aspect ratio (960x540px). Include a dark area on the left side for text readability."})]},g))}),t.length>0&&t.length<8&&e.jsx("div",{className:"text-center",children:e.jsx(G,{type:"button",onClick:d,variant:"secondary",size:"sm",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"i-mdi:plus h-4 w-4"}),"Add Another Poster (",t.length,"/8)"]})})}),e.jsx(ge,{variant:"default",className:"p-4 text-xs text-gray-400",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-primary-light",children:"About PnL Posters:"})," ","These custom background images will be available to users when sharing their trading PnL (Profit and Loss) results on social media."]}),e.jsxs("div",{className:"bg-background-light/30 rounded-lg p-3 border border-primary-light/20",children:[e.jsx("div",{className:"font-medium text-primary-light mb-2",children:"Design Guidelines:"}),e.jsxs("ul",{className:"space-y-1.5 text-xs",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:check-circle text-green-400 h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Dark Background Area:"})," Include a dark section on the left side (about 40% of width) for text overlay"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:check-circle text-green-400 h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Text Readability:"})," The dark area ensures white/light text remains readable when trading data is overlaid"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:check-circle text-green-400 h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Visual Balance:"})," Right side can feature your branding, illustrations, or decorative elements"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:check-circle text-green-400 h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Format:"})," 16:9 aspect ratio (960x540px recommended) for optimal display"]})]})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"You can add up to 8 custom backgrounds. If none are provided, default backgrounds will be used."})]})}),e.jsxs("div",{className:"border-t border-gray-600/30 pt-4",children:[e.jsx(G,{type:"button",onClick:()=>c(!n),variant:"secondary",size:"sm",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`h-4 w-4 ${n?"i-mdi:eye-off-outline":"i-mdi:eye-outline"}`}),n?"Hide":"Preview"," PnL Sharing"]})}),n&&e.jsx("div",{className:"mt-4 slide-fade-in",children:e.jsx(Yt,{children:e.jsx(Jt,{brokerId:"orderly",brokerName:"Orderly",networkId:"testnet",children:e.jsxs("div",{className:"border border-primary-light/20 rounded-lg p-4 bg-background-light/50",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Preview of PnL sharing widget with your custom backgrounds:"}),e.jsx("form",{onSubmit:x=>(x.preventDefault(),x.stopPropagation(),!1),action:"#",method:"get",children:e.jsx(es,{pnl:{entity:{symbol:"PERP_ETH_USDC",roi:1.22*100,side:"LONG",openPrice:2518.74,openTime:1725345164501,markPrice:2518.81,quantity:.0794},leverage:10,backgroundImages:b}})})]})})})})]})]})}const Es=({telegramLink:t,discordLink:s,xLink:r,handleInputChange:n,urlValidator:c,idPrefix:o=""})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{id:`${o}telegramLink`,label:e.jsxs(e.Fragment,{children:["Telegram URL"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:t,onChange:n("telegramLink"),type:"url",placeholder:"https://t.me/your-group",validator:c}),e.jsx(te,{id:`${o}discordLink`,label:e.jsxs(e.Fragment,{children:["Discord URL"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:s,onChange:n("discordLink"),type:"url",placeholder:"https://discord.gg/your-server",validator:c}),e.jsx(te,{id:`${o}xLink`,label:e.jsxs(e.Fragment,{children:["Twitter/X URL"," ",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:r,onChange:n("xLink"),type:"url",placeholder:"https://twitter.com/your-account",validator:c})]});function Ps({name:t,displayName:s,storedValue:r,isValid:n,commaRgb:c,textColor:o,needsShadow:d,selectedColors:m,onSelectionChange:u,handleCheckboxChange:b,handleSwatchClick:x}){return e.jsx("div",{className:"relative flex-[0_1_200px]",children:e.jsxs("div",{className:`h-16 w-full rounded-md flex items-center justify-between px-3 py-2 border ${n?"border-light/10":"border-error/50"} cursor-pointer hover:ring-2 hover:ring-primary transition-all ${m.includes(t)?"ring-2 ring-primary/50":""}`,style:{backgroundColor:n?`rgb(${c})`:r===null?"rgba(255,255,255,0.05)":"rgba(255,0,0,0.15)"},onClick:x,title:n?`Click to edit ${s} Color, use checkbox to select`:r===null?`Click to set ${s} Color`:`Invalid CSS format for ${s}`,children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium text-[0.8rem]",style:{color:n?o:"white",textShadow:d||!n?"0 0 2px rgba(0,0,0,0.8)":"none"},children:s}),e.jsx("span",{className:"text-[0.65rem] opacity-80",style:{color:n?o:"white",textShadow:d||!n?"0 0 2px rgba(0,0,0,0.8)":"none"},children:n?`RGB(${r==null?void 0:r.replace(/\s+/g,", ")})`:r===null?"Not set":"Invalid format"})]}),u&&e.jsx("div",{className:"flex items-center ml-1",children:e.jsx("input",{type:"checkbox",checked:m.includes(t),onChange:g=>{g.stopPropagation(),b(t,g.target.checked)},className:"w-5 h-5 rounded border-2 border-white bg-black/70 checked:bg-primary checked:border-primary focus:ring-2 focus:ring-primary/50 focus:ring-offset-0 shadow-lg",onClick:g=>g.stopPropagation()})}),!n&&r!=null&&e.jsx("div",{className:"absolute -right-3 -top-3 text-error bg-background-dark/90 rounded-full p-0.5 h-5 w-5 flex items-center justify-center",children:e.jsx("span",{className:"i-mdi:alert-circle text-xs"})})]})},t)}function As({seoSiteName:t,seoSiteDescription:s,seoSiteLanguage:r,seoSiteLocale:n,seoTwitterHandle:c,seoThemeColor:o,seoKeywords:d,handleInputChange:m,updateCssColor:u}){var b,x;return e.jsxs("div",{className:"space-y-4",children:[e.jsx(ge,{className:"mb-3 p-3 slide-fade-in",variant:"default",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:information-outline text-primary-light h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-light font-medium mb-1",children:"SEO Configuration"}),e.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"These settings help optimize how your DEX appears in search engines and when shared on social media platforms like Twitter, Facebook, and Discord."}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Site Name & Description:"})," Improve search engine visibility"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Site URL:"})," Automatically derived from your custom domain or repository URL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Twitter Handle:"})," Credits your account in Twitter shares"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Theme Color:"})," Customizes mobile browser appearance"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Keywords:"})," Help search engines understand your content"]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(te,{label:"Site Name",id:"seoSiteName",value:t,onChange:m("seoSiteName"),placeholder:"My DEX Platform",maxLength:100,helpText:"The name of your DEX shown in browser titles and social media sharing"}),e.jsx(te,{label:"Site Description",id:"seoSiteDescription",value:s,onChange:m("seoSiteDescription"),placeholder:"A powerful decentralized exchange for seamless trading",maxLength:300,helpText:"A brief description of your DEX shown in search results and social media"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(te,{label:"Site Language",id:"seoSiteLanguage",value:r,onChange:m("seoSiteLanguage"),placeholder:"en",helpText:"Language code: 'en', 'es', 'zh' or with region 'en-US', 'es-MX', 'zh-CN'",validator:g=>!g||g.trim()===""||/^[a-z]{2}(-[A-Z]{2})?$/.test(g)?null:"Format: 'en' or 'en-US' (2 lowercase letters, optionally hyphen + 2 uppercase letters)"}),e.jsx(te,{label:"Site Locale",id:"seoSiteLocale",value:n,onChange:m("seoSiteLocale"),placeholder:"en_US",helpText:"Locale for social platforms (e.g., 'en_US', 'zh_CN')",validator:g=>!g||g.trim()===""||/^[a-z]{2}_[A-Z]{2}$/.test(g)?null:"Format: 'en_US' (2 lowercase letters, underscore, 2 uppercase letters)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(te,{label:"Twitter Handle",id:"seoTwitterHandle",value:c,onChange:m("seoTwitterHandle"),placeholder:"@mydex",helpText:"Your Twitter handle for Twitter Card metadata (must start with @)",validator:g=>!g||g.trim()===""||/^@[a-zA-Z0-9_]+$/.test(g)?null:"Must start with @ and contain only alphanumeric characters and underscores"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"seoThemeColor",className:"block text-sm font-bold text-gray-300",children:"Theme Color"}),e.jsx("div",{className:"flex items-center gap-3",children:u?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ps,{name:"theme-color",displayName:"Theme",storedValue:o&&/^#[0-9A-Fa-f]{6}$/.test(o)&&((b=o.replace("#","").match(/.{2}/g))==null?void 0:b.map(g=>parseInt(g,16).toString()).join(" "))||null,isValid:/^#[0-9A-Fa-f]{6}$/.test(o),commaRgb:o&&/^#[0-9A-Fa-f]{6}$/.test(o)&&((x=o.replace("#","").match(/.{2}/g))==null?void 0:x.map(g=>parseInt(g,16).toString()).join(" "))||"0,0,0",textColor:"white",needsShadow:!0,selectedColors:[],handleCheckboxChange:()=>{},handleSwatchClick:g=>{g.preventDefault();const p=document.createElement("input");p.type="color",p.value=o||"#1a1b23",p.onchange=f=>{const v={target:{value:f.target.value}};m("seoThemeColor")(v)},p.click()},onSelectionChange:void 0}),o&&e.jsx("button",{type:"button",onClick:()=>{const g={target:{value:""}};m("seoThemeColor")(g)},className:"px-2 py-1 text-xs text-gray-400 hover:text-gray-300 transition-colors",title:"Clear theme color",children:"Clear"})]}):e.jsx("input",{type:"text",id:"seoThemeColor",value:o,onChange:m("seoThemeColor"),placeholder:"#1a1b23",className:"w-full px-3 py-2 bg-background-dark/50 border border-light/10 rounded-md text-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-400",children:"Hex color for mobile browser theme (e.g., #1a1b23)"})]})]}),e.jsx(te,{label:"Keywords",id:"seoKeywords",value:d,onChange:m("seoKeywords"),placeholder:"dex, crypto, trading, defi, orderly",maxLength:500,helpText:"Comma-separated keywords for search engines (max 500 characters)"})]})}const Is=({analyticsScript:t,handleInputChange:s,idPrefix:r=""})=>e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:`${r}analyticsScript`,className:"text-sm font-medium text-gray-200",children:"Analytics Script"}),e.jsx("textarea",{id:`${r}analyticsScript`,name:"analyticsScript",value:t,onChange:s("analyticsScript"),placeholder:`Paste your analytics script here (including <script> tags)

Example:
<script async src='https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX'><\/script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
<\/script>`,className:"w-full px-3 py-2 bg-background-light/30 border border-light/20 rounded-lg text-sm font-mono resize-y min-h-[160px] focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50",maxLength:2e3}),e.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-400",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:"i-heroicons:information-circle w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"mb-2",children:"Add your analytics tracking script from any provider that uses script tags. The script will be securely injected into your DEX."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," Include the complete script tags exactly as provided by your analytics service. The script will be placed in the DEX's HTML head section."]})]})]}),t&&e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," / 2,000 characters"]})]})}),Ms=({walletConnectProjectId:t,handleInputChange:s,idPrefix:r=""})=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"mb-4 p-4 slide-fade-in",variant:"default",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:wallet-outline text-primary-light h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-primary-light font-medium mb-2",children:"Enhanced Wallet Connectivity with Reown"}),e.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:[e.jsx("span",{className:"text-primary-light font-medium",children:"What is Reown?"})," ","Reown (formerly WalletConnect) provides a superior wallet connection experience that goes far beyond basic browser wallet integration."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-secondary-light mb-1",children:" Key Benefits for Your DEX Users:"}),e.jsxs("ul",{className:"text-sm text-gray-300 list-disc pl-4 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Mobile Wallet Support:"})," Users can connect mobile wallets like MetaMask Mobile, Trust Wallet, and 300+ others via QR code scanning"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-Platform Access:"})," Desktop users can connect to mobile wallets seamlessly, and mobile users get native app connections"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Universal Compatibility:"})," Works with virtually every major wallet, not just browser extensions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Better UX:"})," Clean, modern connection modal with wallet detection and connection status"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure Connections:"})," Encrypted peer-to-peer connections between your DEX and user wallets"]})]})]}),e.jsxs("div",{className:"bg-background-dark/50 p-3 rounded-lg border border-secondary-light/10",children:[e.jsx("h4",{className:"text-base font-bold text-warning mb-1",children:" Why This Matters:"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Without Reown, your DEX can only connect to browser extension wallets (like MetaMask desktop). With Reown, mobile users can scan a QR code to connect their mobile wallets, dramatically expanding your potential user base and improving accessibility."})]})]})]})]})}),e.jsx(te,{id:`${r}walletConnectProjectId`,label:"Reown Project ID",value:t,onChange:s("walletConnectProjectId"),placeholder:"Enter your Reown Project ID",helpText:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"text-primary-light",children:"How to get your free Project ID:"}),e.jsxs("ol",{className:"list-decimal pl-4 mt-1 space-y-1 text-sm",children:[e.jsxs("li",{children:["Visit"," ",e.jsx("a",{href:"https://dashboard.reown.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline",children:"Reown Dashboard"})," ","and create a free account"]}),e.jsx("li",{children:"Set up your project following their setup wizard"}),e.jsx("li",{children:"Copy the Project ID from the top header of your project dashboard"})]})]}),e.jsxs("div",{className:"bg-background-dark/30 p-3 rounded-lg border border-primary-light/10",children:[e.jsx("h4",{className:"text-base font-bold text-primary-light mb-1",children:" Integration Notes:"}),e.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[e.jsx("li",{children:" Your DEX will work perfectly fine without this - it's purely an enhancement"}),e.jsx("li",{children:" If you enable Privy integration, Privy will automatically use this Project ID"}),e.jsx("li",{children:" Free tier includes 10,000 monthly active wallets - more than enough for most DEXs"}),e.jsx("li",{children:" No additional configuration needed - just paste your Project ID and you're done!"})]})]}),e.jsxs("div",{className:"bg-warning/10 p-3 rounded-lg border border-warning/20",children:[e.jsx("h4",{className:"text-base font-bold text-warning mb-1",children:" Important: Domain Allowlist Configuration Required"}),e.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["After creating your project, you ",e.jsx("strong",{children:"MUST"})," configure the domain allowlist in your Reown dashboard for your DEX to work properly."]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:e.jsx("strong",{children:"How to configure domains:"})}),e.jsxs("ol",{className:"list-decimal pl-4 space-y-1 text-sm text-gray-400",children:[e.jsxs("li",{children:["Go to your project dashboard at"," ",e.jsx("a",{href:"https://dashboard.reown.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline",children:"dashboard.reown.com"})]}),e.jsx("li",{children:'Navigate to the "Domain" section'}),e.jsx("li",{children:'Click "Domain" to add your DEX domain'}),e.jsxs("li",{children:["Add your domain (e.g.,"," ",e.jsx("code",{className:"bg-background-dark px-1 rounded",children:"https://yourdex.com"}),")"]})]}),e.jsx("div",{className:"mt-2 p-2 bg-background-dark/50 rounded border border-gray-600/30",children:e.jsxs("p",{className:"text-xs text-gray-400",children:[e.jsx("strong",{children:" Pro tip:"})," You can use wildcards like"," ",e.jsx("code",{className:"bg-background-dark px-1 rounded",children:"https://*.subdomain.com"})," ","to allow all subdomains."]})})]})]})]})})})]}),Rs=({privyAppId:t,privyTermsOfUse:s,handleInputChange:r,urlValidator:n,enableAbstractWallet:c,onEnableAbstractWalletChange:o,disableEvmWallets:d=!1,disableSolanaWallets:m=!1,onDisableEvmWalletsChange:u,onDisableSolanaWalletsChange:b,privyLoginMethods:x=["email"],onPrivyLoginMethodsChange:g,idPrefix:p=""})=>{const f=t.trim()!=="",S=[{id:"email",label:"Email",description:"Email-based authentication",setupRequired:!1},{id:"passkey",label:"Passkey",description:"Biometric and security key authentication",setupRequired:!0,setupText:"Requires enabling Passkey in your Privy dashboard"},{id:"twitter",label:"X",description:"Sign in with X account",setupRequired:!0,setupText:"Requires OAuth setup in your Privy dashboard"},{id:"google",label:"Google",description:"Sign in with Google account",setupRequired:!0,setupText:"Requires OAuth setup in your Privy dashboard"}],v=(N,I)=>{g&&(I?x.includes(N)||g([...x,N]):g(x.filter(D=>D!==N)))};return e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"mb-3 p-3 slide-fade-in",variant:"default",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:information-outline text-primary-light h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-light font-medium mb-1",children:"Privy provides enhanced wallet connection options"}),e.jsxs("p",{className:"text-xs text-gray-300 mb-1",children:[e.jsx("span",{className:"text-primary-light font-medium",children:"Why use Privy?"})," ","Privy provides multiple wallet connection options:"]}),e.jsxs("ul",{className:"text-xs text-gray-300 list-disc pl-4 space-y-0.5",children:[e.jsx("li",{children:"Social logins (Google, Discord, Twitter)"}),e.jsx("li",{children:"Email/phone authentication"}),e.jsx("li",{children:"Multiple wallet types from a single interface"}),e.jsx("li",{children:"Embedded wallets for non-crypto users"})]})]})]})}),e.jsx(te,{id:`${p}privyAppId`,label:e.jsx("div",{className:"flex items-center gap-1",children:"Privy App ID"}),value:t,onChange:r("privyAppId"),placeholder:"Enter your Privy App ID",helpText:e.jsxs(e.Fragment,{children:["Get a Privy App ID by signing up at"," ",e.jsx("a",{href:"https://dashboard.privy.io",target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline",children:"Privy Dashboard"}),". When creating an app, be sure to select"," ",e.jsx("strong",{children:"client-side"})," and ",e.jsx("strong",{children:"web"})," options. You'll find your App ID in the app settings."]})}),e.jsx(te,{id:`${p}privyTermsOfUse`,label:e.jsxs("div",{className:"flex items-center gap-1",children:["Privy Terms of Use URL",e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),value:s,onChange:r("privyTermsOfUse"),type:"url",placeholder:"https://example.com/terms",validator:n,helpText:e.jsx(e.Fragment,{children:"Enter the URL to your terms of service that will be displayed during Privy login. This is optional and only needed if you want to show terms during the login process. Must be a valid URL if provided."})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-base font-medium mb-3",children:"Login Methods"}),e.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["Choose which authentication methods users can use to sign in to your DEX.",!f&&e.jsx("span",{className:"text-orange-400 ml-1",children:"Configure a Privy App ID above to enable these options."})]}),e.jsx("div",{className:"space-y-3",children:S.map(N=>e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border border-light/10 bg-light/5 transition-all duration-200 ease-in-out ${f?"hover:bg-light/10 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:x.includes(N.id),onChange:I=>v(N.id,I.target.checked),disabled:!f,className:"form-checkbox mt-1 rounded bg-dark border-gray-500 text-primary focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${f?"text-gray-200":"text-gray-500"}`,children:N.label}),e.jsx("div",{className:`text-xs mt-1 ${f?"text-gray-400":"text-gray-600"}`,children:N.description}),N.setupRequired&&e.jsx("div",{className:"text-xs mt-1 text-blue-400",children:N.setupText})]})]},N.id))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-base font-medium mb-3",children:"Wallet Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border border-light/10 bg-light/5 transition-all duration-200 ease-in-out ${f?"hover:bg-light/10 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:!d,onChange:N=>u==null?void 0:u(!N.target.checked),disabled:!f,className:"form-checkbox mt-1 rounded bg-dark border-gray-500 text-primary focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${f?"text-gray-200":"text-gray-500"}`,children:"Enable EVM Wallets"}),e.jsx("div",{className:`text-xs mt-1 ${f?"text-gray-400":"text-gray-600"}`,children:"Allows users to connect Ethereum-compatible wallets (MetaMask, Coinbase, etc.)"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border border-light/10 bg-light/5 transition-all duration-200 ease-in-out ${f?"hover:bg-light/10 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:!m,onChange:N=>b==null?void 0:b(!N.target.checked),disabled:!f,className:"form-checkbox mt-1 rounded bg-dark border-gray-500 text-primary focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${f?"text-gray-200":"text-gray-500"}`,children:"Enable Solana Wallets"}),e.jsx("div",{className:`text-xs mt-1 ${f?"text-gray-400":"text-gray-600"}`,children:"Allows users to connect Solana wallets (Phantom, Solflare, etc.)"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border border-light/10 bg-light/5 transition-all duration-200 ease-in-out ${f?"hover:bg-light/10 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",id:`${p}enableAbstractWallet`,checked:c,onChange:N=>o(N.target.checked),disabled:!f,className:"form-checkbox mt-1 rounded bg-dark border-gray-500 text-primary focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${f?"text-gray-200":"text-gray-500"}`,children:"Enable Abstract Wallet (via Privy)"}),e.jsx("div",{className:`text-xs mt-1 ${f?"text-gray-400":"text-gray-600"}`,children:f?"Enables Abstract's wallet solution powered by Privy. This allows users to connect using Abstract's wallet on the Abstract blockchain.":"Requires a Privy App ID to be set above before this can be enabled."})]})]})]})]})]})},Ds=({chainIds:t,onChainIdsChange:s,defaultChain:r,onDefaultChainChange:n,disableMainnet:c,disableTestnet:o,onDisableMainnetChange:d,onDisableTestnetChange:m})=>{var B;const u=[{id:42161,name:"Arbitrum One",symbol:"ETH",type:"L2",network:"mainnet"},{id:10,name:"Optimism",symbol:"ETH",type:"L2",network:"mainnet"},{id:8453,name:"Base",symbol:"ETH",type:"L2",network:"mainnet"},{id:5e3,name:"Mantle",symbol:"MNT",type:"L2",network:"mainnet"},{id:1,name:"Ethereum",symbol:"ETH",type:"L1",network:"mainnet"},{id:56,name:"BNB Chain",symbol:"BNB",type:"L1",network:"mainnet"},{id:900900900,name:"Solana",symbol:"SOL",type:"L1",network:"mainnet"},{id:143,name:"Monad",symbol:"MON",type:"L1",network:"mainnet"},{id:1329,name:"Sei",symbol:"SEI",type:"L1",network:"mainnet"},{id:43114,name:"Avalanche",symbol:"AVAX",type:"L1",network:"mainnet"},{id:2818,name:"Morph",symbol:"ETH",type:"L2",network:"mainnet"},{id:146,name:"Sonic",symbol:"S",type:"L1",network:"mainnet"},{id:80094,name:"Berachain",symbol:"BERA",type:"L1",network:"mainnet"},{id:1514,name:"Story",symbol:"IP",type:"L1",network:"mainnet"},{id:34443,name:"Mode",symbol:"ETH",type:"L2",network:"mainnet"},{id:98866,name:"Plume",symbol:"ETH",type:"L2",network:"mainnet"},{id:2741,name:"Abstract",symbol:"ETH",type:"L2",network:"mainnet"},{id:421614,name:"Arbitrum Sepolia",symbol:"ETH",type:"L2",network:"testnet"},{id:97,name:"BSC Testnet",symbol:"BNB",type:"L1",network:"testnet"},{id:10143,name:"Monad Testnet",symbol:"MON",type:"L2",network:"testnet"},{id:11124,name:"Abstract Testnet",symbol:"ETH",type:"L2",network:"testnet"},{id:901901901,name:"Solana Devnet",symbol:"SOL",type:"L1",network:"testnet"}];i.useEffect(()=>{if(c){const a=u.filter(C=>C.network==="mainnet").map(C=>C.id),h=t.filter(C=>!a.includes(C));h.length!==t.length&&s(h)}},[c]),i.useEffect(()=>{if(o){const a=u.filter(C=>C.network==="testnet").map(C=>C.id),h=t.filter(C=>!a.includes(C));h.length!==t.length&&s(h)}},[o]);const b=a=>{t.includes(a)?s(t.filter(h=>h!==a)):s([...t,a])},x=()=>{const a=u.filter(h=>!(c&&h.network==="mainnet"||o&&h.network==="testnet"));s(a.map(h=>h.id))},g=()=>{s([])},p=c&&o,f=a=>{if(!(a&&o)&&(d==null||d(a),a)){const h=u.filter(P=>P.network==="mainnet").map(P=>P.id),C=t.filter(P=>!h.includes(P));s(C)}},S=a=>{if(!(a&&c)&&(m==null||m(a),a)){const h=u.filter(P=>P.network==="testnet").map(P=>P.id),C=t.filter(P=>!h.includes(P));s(C)}},v=u.filter(a=>a.network==="mainnet"),N=u.filter(a=>a.network==="testnet"),I=v.filter(a=>a.type==="L1"),D=v.filter(a=>a.type==="L2"),z=N.filter(a=>a.type==="L1"),V=N.filter(a=>a.type==="L2"),k=({chain:a})=>{const h=r===a.id;return e.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all duration-200 ease-in-out ${h?"border-primary/50 bg-primary/10 hover:bg-primary/15":"border-light/10 bg-light/5 hover:bg-light/10"}`,children:[e.jsx("input",{type:"checkbox",checked:t.includes(a.id),onChange:()=>b(a.id),className:"mr-3 w-4 h-4 text-primary bg-transparent border-2 border-light/30 rounded focus:ring-primary focus:ring-2 transition-colors duration-200"}),e.jsx("div",{className:"flex items-center flex-1",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-sm text-white flex items-center gap-2",children:[a.name,e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${a.type==="L1"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:a.type}),a.network==="testnet"&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300",children:"Testnet"}),h&&e.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-primary/30 text-primary-light flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:star w-3 h-3"}),"Default"]})]}),e.jsxs("div",{className:"text-xs text-light/70",children:["Chain ID: ",a.id,"  ",a.symbol]})]})})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-1",children:"Supported Blockchains"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Select which blockchains your DEX will support. Users will be able to trade on these networks."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:x,className:"text-xs px-3 py-1 bg-primary/20 hover:bg-primary/30 text-primary-light rounded-full transition-all duration-200 ease-in-out",children:"Select All"}),e.jsx("button",{type:"button",onClick:g,className:"text-xs px-3 py-1 bg-gray-500/20 hover:bg-gray-500/30 text-gray-300 rounded-full transition-all duration-200 ease-in-out",children:"Clear All"})]})]}),t.length===0&&e.jsxs("div",{className:"text-center py-4 px-2 text-sm bg-blue-500/10 border border-blue-500/20 rounded-lg slide-fade-in",children:[e.jsx("div",{className:"text-blue-300 font-medium mb-1",children:" All Chains Mode (Default)"}),e.jsxs("div",{className:"text-gray-400 text-xs leading-relaxed",children:["No specific chains selected. Your DEX will automatically support"," ",e.jsx("strong",{children:"all current and future blockchains"})," added to the Orderly Network. This ensures maximum compatibility and future-proofing without needing updates."]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"defaultChain",className:"block text-sm font-medium mb-1",children:"Default Chain (Optional)"}),e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Choose which mainnet blockchain your DEX will use by default when users first connect. Users can always switch to other supported chains afterward."})]}),e.jsxs("select",{id:"defaultChain",value:r||"",onChange:a=>n==null?void 0:n(a.target.value?parseInt(a.target.value):void 0),className:"w-full px-3 py-2 bg-background-card border border-light/10 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"No default chain"}),(t.length>0?t:u.map(a=>a.id)).filter(a=>{const h=u.find(C=>C.id===a);return!(!h||h.network!=="mainnet"||c)}).map(a=>{const h=u.find(C=>C.id===a);return h?e.jsx("option",{value:h.id,children:h.name},h.id):null})]}),r&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Selected default:"," ",e.jsx("span",{className:"text-primary-light",children:((B=u.find(a=>a.id===r))==null?void 0:B.name)||`Chain ${r}`})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex items-center cursor-pointer transition-all duration-200 ease-in-out hover:text-white ${o?"opacity-50":""}`,children:[e.jsx("input",{type:"checkbox",className:"mr-2 transition-colors duration-200",checked:c,disabled:o,onChange:a=>f(a.target.checked),title:o?"Cannot disable mainnet when testnet is already disabled":""}),e.jsx("span",{className:"text-sm text-gray-300",children:"Disable Mainnet"})]}),e.jsxs("label",{className:`flex items-center cursor-pointer transition-all duration-200 ease-in-out hover:text-white ${c?"opacity-50":""}`,children:[e.jsx("input",{type:"checkbox",className:"mr-2 transition-colors duration-200",checked:o,disabled:c,onChange:a=>S(a.target.checked),title:c?"Cannot disable testnet when mainnet is already disabled":""}),e.jsx("span",{className:"text-sm text-gray-300",children:"Disable Testnet"})]})]}),p&&e.jsxs("div",{className:"text-center py-3 text-sm bg-red-500/10 border border-red-500/20 rounded-lg slide-fade-in",children:[e.jsx("div",{className:"text-red-300 font-medium mb-1",children:" Invalid Configuration"}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Cannot disable both mainnet and testnet. Your DEX needs to support at least one network type."})]}),e.jsxs("div",{className:`space-y-4 transition-all duration-300 ease-in-out ${c?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("h4",{className:"text-sm font-semibold text-white flex items-center",children:[e.jsx("div",{className:"i-mdi:earth h-4 w-4 mr-2"}),"Mainnet Networks",c&&e.jsx("span",{className:"ml-2 text-xs bg-red-500/20 text-red-300 px-2 py-1 rounded slide-fade-in",children:"Disabled"})]}),c?e.jsx("div",{className:"text-center py-4 text-sm text-gray-500 slide-fade-in",children:"Mainnet networks are disabled"}):e.jsxs("div",{className:"slide-fade-in space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 text-blue-300 flex items-center",children:[e.jsx("div",{className:"i-mdi:layers h-4 w-4 mr-2"}),"Layer 1 Networks"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:I.map(a=>e.jsx(k,{chain:a},a.id))})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 text-green-300 flex items-center",children:[e.jsx("div",{className:"i-mdi:layers-triple h-4 w-4 mr-2"}),"Layer 2 Networks"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:D.map(a=>e.jsx(k,{chain:a},a.id))})]})]})]}),e.jsxs("div",{className:`space-y-4 transition-all duration-300 ease-in-out ${o?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("h4",{className:"text-sm font-semibold text-orange-300 flex items-center",children:[e.jsx("div",{className:"i-mdi:flask h-4 w-4 mr-2"}),"Testnet Networks",o&&e.jsx("span",{className:"ml-2 text-xs bg-red-500/20 text-red-300 px-2 py-1 rounded slide-fade-in",children:"Disabled"})]}),o?e.jsx("div",{className:"text-center py-4 text-sm text-gray-500 slide-fade-in",children:"Testnet networks are disabled"}):e.jsxs("div",{className:"slide-fade-in space-y-6",children:[z.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 text-blue-300 flex items-center",children:[e.jsx("div",{className:"i-mdi:layers h-4 w-4 mr-2"}),"Layer 1 Networks"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:z.map(a=>e.jsx(k,{chain:a},a.id))})]}),V.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 text-green-300 flex items-center",children:[e.jsx("div",{className:"i-mdi:layers-triple h-4 w-4 mr-2"}),"Layer 2 Networks"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:V.map(a=>e.jsx(k,{chain:a},a.id))})]})]})]}),e.jsx("div",{className:"pt-3 border-t border-light/10",children:t.length===0?e.jsx("div",{className:"text-center py-2 text-xs text-gray-400",children:"Using All Chains Mode - supporting all current and future blockchains"}):e.jsxs("div",{className:"text-xs text-gray-400",children:["Selected ",t.length," blockchain",t.length!==1?"s":""," "," ",v.filter(a=>t.includes(a.id)).length," ","Mainnet,"," ",N.filter(a=>t.includes(a.id)).length," ","Testnet"]})})]})},rt=[{code:"en",name:"English",flag:""},{code:"zh",name:"",flag:""},{code:"tc",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ko",name:"",flag:""},{code:"vi",name:"Ting Vit",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"fr",name:"Franais",flag:""},{code:"ru",name:"",flag:""},{code:"id",name:"Bahasa Indonesia",flag:""},{code:"tr",name:"Trke",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"uk",name:"",flag:""},{code:"pl",name:"Polski",flag:""},{code:"nl",name:"Nederlands",flag:""}];function Fs({availableLanguages:t,onAvailableLanguagesChange:s}){const r=d=>{const m=t.includes(d);s(m?t.filter(u=>u!==d):[...t,d])},n=()=>{if(c===rt.length)s([]);else{const m=rt.map(u=>u.code);s(m)}},c=t.length,o=c===rt.length;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-1",children:"Available Languages"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Select the languages you want to support in your DEX interface.",c>0&&e.jsxs("span",{className:"text-primary-light ml-1",children:["(",c," selected)"]})]})]}),e.jsx("button",{type:"button",onClick:n,className:"px-3 py-1 text-xs rounded-md transition-all bg-primary/20 text-primary-light hover:bg-primary/30 border border-primary/30",children:o?"Unselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:rt.map(d=>{const m=t.includes(d.code);return e.jsxs("button",{type:"button",onClick:()=>r(d.code),className:`
                flex items-center gap-2 p-2 rounded-lg border text-sm transition-all cursor-pointer
                ${m?"bg-primary/20 border-primary text-primary-light":"bg-background-dark/50 border-light/10 text-gray-300 hover:border-light/20 hover:bg-background-dark/80"}
              `,children:[e.jsx("span",{className:"text-base",children:d.flag}),e.jsx("span",{className:"flex-1 text-left truncate",children:d.name}),m&&e.jsx("div",{className:"i-mdi:check h-4 w-4 text-primary-light flex-shrink-0"})]},d.code)})}),t.length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-400 text-sm",children:[e.jsx("div",{className:"i-mdi:information-outline h-5 w-5 mx-auto mb-2"}),"No languages selected. Your DEX will default to English only."]}),e.jsxs(ge,{children:[e.jsxs("h5",{className:"text-sm font-bold mb-1 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline text-info mr-2 h-4 w-4"}),"Language Support Information"]}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("li",{children:" If no languages are selected, your DEX will default to English only"}),e.jsx("li",{children:" Users will see a language selector in your DEX interface when multiple languages are selected"}),e.jsx("li",{children:" The interface will automatically adapt to the selected language"}),e.jsx("li",{children:" You can add or remove languages at any time"})]})]})]})}const $s=({value:t,onChange:s,className:r=""})=>{const[n,c]=i.useState([]),[o,d]=i.useState(null),[m,u]=i.useState(null),b=a=>a.trim()?a.split(";").map(h=>h.trim()).filter(h=>h.length>0).map(h=>{const[C,P]=h.split(",").map(M=>M.trim());return{name:C||"",url:P||""}}):[],x=a=>a.filter(h=>h.name.trim()||h.url.trim()).map(h=>`${h.name.trim()}, ${h.url.trim()}`).join("; ");i.useEffect(()=>{const a=b(t);c(a.length>0?a:[])},[t]);const g=a=>{c(a),s(x(a))},p=()=>{const a=[...n,{name:"",url:""}];c(a)},f=a=>{const h=n.filter((C,P)=>P!==a);g(h)},S=(a,h,C)=>{const P=[...n];P[a]={...P[a],[h]:C},g(P)},v=(a,h)=>{a.dataTransfer.effectAllowed="move",d(h)},N=(a,h)=>{a.preventDefault(),a.dataTransfer.dropEffect="move",!(o===null||o===h)&&u(h)},I=(a,h)=>{if(a.preventDefault(),o===null||o===h)return;const C=[...n],P=C[o];C.splice(o,1),C.splice(h,0,P),g(C),u(null)},D=()=>{u(null)},z=()=>{d(null),u(null)},V=a=>{const h=[];if(a.name.trim()&&!a.url.trim()&&h.push("URL is required when name is provided"),a.url.trim()&&!a.name.trim()&&h.push("Name is required when URL is provided"),a.url.trim())try{new URL(a.url)}catch{h.push("Invalid URL format")}return h},B=(()=>{const a=n.filter(h=>V(h).length===0&&h.name.trim()&&h.url.trim());return a.length===0&&n.some(h=>h.name.trim()||h.url.trim())?{type:"error",message:"Please complete all menu items with valid names and URLs"}:a.length>0?{type:"success",message:`${a.length} custom menu${a.length===1?"":"s"} configured`}:null})();return e.jsxs("div",{className:`space-y-6 ${r}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{icon:"mdi:link-variant",className:"w-5 h-5 text-primary"}),e.jsx("label",{className:"text-sm font-medium text-gray-200",children:"Custom Navigation Menus"})]}),e.jsx("p",{className:"text-xs text-gray-400 pl-7",children:"Add custom navigation links that will appear in your DEX's navigation bar"})]}),e.jsx("div",{className:"space-y-3",children:n.length===0?e.jsxs("div",{className:"bg-gray-800/20 border-2 border-dashed border-gray-600/50 rounded-xl p-8 text-center slide-fade-in flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-700/30 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ue,{icon:"mdi:link-variant",className:"w-6 h-6 text-gray-400"})}),e.jsx("h4",{className:"text-base font-bold text-gray-300 mb-1",children:"No custom menus yet"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add your first custom navigation link to get started"}),e.jsx(G,{type:"button",variant:"secondary",onClick:p,className:"text-sm px-4 py-2 flex items-center flex-wrap",leftIcon:e.jsx(ue,{icon:"mdi:plus",className:"w-4 h-4"}),children:"Add First Menu"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-base font-bold text-gray-300",children:"Menu Order"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Drag items to reorder"})]}),n.map((a,h)=>{const C=V(a),P=C.length>0&&(a.name.trim()||a.url.trim()),M=a.name.trim()&&a.url.trim()&&!P;return e.jsx("div",{draggable:!0,onDragStart:X=>v(X,h),onDragOver:X=>N(X,h),onDragLeave:D,onDrop:X=>I(X,h),onDragEnd:z,className:`staggered-item bg-gray-800/40 border rounded-xl p-4 transition-all duration-200 cursor-move ${o===h?"opacity-50":"opacity-100"} ${m===h?"border-primary border-dashed bg-primary/10":P?"border-red-400/40 bg-red-500/5":M?"border-green-400/40 bg-green-500/5":"border-gray-600/50 hover:border-gray-500/50"}`,style:{animation:`slideFadeIn 0.25s ease ${.05+h*.05}s forwards`,opacity:0,transform:"translateY(-10px)"},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mt-6 flex-shrink-0 ${P?"bg-red-500/20 text-red-400":M?"bg-green-500/20 text-green-400":"bg-gray-600/30 text-gray-400"}`,children:h+1}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:"Menu Name"}),e.jsx("input",{type:"text",value:a.name,onChange:X=>S(h,"name",X.target.value),placeholder:"e.g., Documentation",className:"w-full px-3 py-2.5 bg-gray-900/50 border border-gray-600/50 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:"URL"}),e.jsx("input",{type:"url",value:a.url,onChange:X=>S(h,"url",X.target.value),placeholder:"https://docs.example.com",className:"w-full px-3 py-2.5 bg-gray-900/50 border border-gray-600/50 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-colors"})]})]}),P&&e.jsxs("div",{className:"flex items-start gap-2 text-xs text-red-400 bg-red-500/10 rounded-lg p-2.5 slide-fade-in-delayed",children:[e.jsx(ue,{icon:"heroicons:exclamation-triangle",className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:C[0]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-300 rounded-lg transition-colors",children:e.jsx(ue,{icon:"mdi:drag",className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f(h),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove menu item",children:e.jsx(ue,{icon:"heroicons:trash",className:"w-4 h-4"})})]})]})},h)}),e.jsx("div",{className:"pt-2 flex justify-center",children:e.jsx(G,{type:"button",variant:"secondary",onClick:p,className:"text-sm slide-fade-in-delayed flex items-center flex-wrap",leftIcon:e.jsx(ue,{icon:"mdi:plus",className:"w-4 h-4"}),children:"Add Another Menu"})})]})}),B&&e.jsxs("div",{className:`flex items-start gap-2 text-xs p-3 rounded-lg slide-fade-in ${B.type==="error"?"text-red-400 bg-red-500/10":"text-green-400 bg-green-500/10"}`,children:[e.jsx(ue,{icon:B.type==="error"?"heroicons:exclamation-triangle":"heroicons:check-circle",className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:B.message})]}),e.jsxs("div",{className:"bg-gray-800/20 rounded-xl p-4 border border-gray-600/30 slide-fade-in-delayed",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ue,{icon:"heroicons:light-bulb",className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Examples"})]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-300",children:"Help Center"}),"  https://help.mydex.com"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-300",children:"API Documentation"}),"  https://docs.mydex.com"]})]})]})]})]})},Bs=({enabledMenus:t,setEnabledMenus:s,customMenus:r,setCustomMenus:n,enableCampaigns:c,setEnableCampaigns:o,swapFeeBps:d,setSwapFeeBps:m})=>{const{openModal:u}=Xe(),b=()=>{u("swapFeeConfig",{currentFeeBps:d,onSave:x=>{m(x)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ls,{value:t,onChange:s,className:"slide-fade-in",swapFeeBps:d,onOpenSwapFeeConfig:b}),e.jsx($s,{value:r,onChange:n,className:"slide-fade-in-delayed"}),e.jsxs("div",{className:"space-y-4 slide-fade-in",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"enableCampaigns",checked:c,onChange:x=>o(x.target.checked),className:"mt-1 h-4 w-4 text-primary accent-primary bg-background-dark border-light/30 rounded focus:ring-primary/50"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"enableCampaigns",className:"text-sm font-medium cursor-pointer",children:"Enable ORDER Token Campaigns"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enable ORDER token-related features and campaigns menu in your DEX"})]})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:information-outline h-5 w-5 text-blue-300 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-blue-300 mb-2",children:"About ORDER Token Campaigns"}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-2",children:[e.jsx("p",{children:"When enabled, this feature adds ORDER token-related links and menu items to your DEX including:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"ORDER token campaigns navigation links"}),e.jsx("li",{children:"Links to ORDER token-related pages"})]}),e.jsxs("p",{className:"pt-2 text-blue-200",children:[e.jsx("strong",{children:"Note:"})," This is an optional feature that adds navigation links for ORDER token campaigns."]})]})]})]})})]})]})},Us=["Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman","Central African Republic","Chad","Chile","China","China - Hong Kong","China - Macao","Christmas Island","Cocos Islands","Colombia","Comoros","Cook Islands","Costa Rica","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of the Congo","Reunion","Romania","Russia","Rwanda","Saint Barthelemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Korea","South Sudan","Spain","Sri Lanka","State of Palestine","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","U.S. Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican","Venezuela","Vietnam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"];function Os({restrictedRegions:t,onRestrictedRegionsChange:s,whitelistedIps:r,onWhitelistedIpsChange:n}){const[c,o]=i.useState(""),[d,m]=i.useState([]),u=i.useMemo(()=>t?t.split(",").map(p=>p.trim()).filter(Boolean):[],[t]),b=p=>{if(o(p),!p.trim()){m([]);return}const f=p.toLowerCase(),S=Us.filter(v=>v.toLowerCase().includes(f)).slice(0,10);m(S)},x=p=>{if(u.includes(p))return;const f=[...u,p];s(f.join(",")),o(""),m([])},g=p=>{const f=u.filter(S=>S!==p);s(f.join(","))};return e.jsx("div",{className:"p-4 bg-background-dark/20 rounded-lg border border-light/10",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Restricted Regions"}),e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Select regions that should be restricted from accessing your DEX."}),e.jsx(cs,{placeholder:"Search for a region...",value:c,onSearch:b,className:"mb-2",debounceTime:50}),d.length>0&&e.jsx("div",{className:"mt-2 border border-light/10 rounded-lg overflow-hidden max-h-48 overflow-y-auto",children:d.map(p=>e.jsx("div",{className:"p-2 hover:bg-primary-light/10 cursor-pointer border-b border-light/5 last:border-b-0",onClick:()=>x(p),children:e.jsx("div",{className:"text-sm",children:p})},p))}),u.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:u.map(p=>e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-primary/20 rounded text-xs",children:[e.jsx("span",{children:p}),e.jsx("button",{type:"button",onClick:()=>g(p),className:"hover:text-error",children:e.jsx("div",{className:"i-mdi:close-circle h-4 w-4"})})]},p))})]})})}const wt=t=>{const s=t.split("_");return s.length>=3&&s[0]==="PERP"?s.slice(1,-1).join("_"):t},Ws=t=>`https://oss.orderly.network/static/symbol_logo/${wt(t)}.png`,zs=t=>{const s=typeof t=="string"?parseFloat(t):t;return isNaN(s)||s===0?"N/A":new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2,style:"currency",currency:"USD"}).format(s)},Xs=t=>t?new Intl.NumberFormat("en-US",{maximumFractionDigits:2,style:"currency",currency:"USD"}).format(t):"N/A",Vs=({symbolList:t,onSymbolListChange:s})=>{const[r,n]=i.useState([]),[c,o]=i.useState(!0),[d,m]=i.useState(""),[u,b]=i.useState([]);i.useEffect(()=>{(async()=>{var N;try{o(!0);const D=await(await fetch(`${ts()}/v1/public/futures`)).json();if(D.success&&((N=D.data)!=null&&N.rows)){const z=[...D.data.rows].sort((V,k)=>{const B=typeof V["24h_volume"]=="number"?V["24h_volume"]:0,a=typeof k["24h_volume"]=="number"?k["24h_volume"]:0,h=V.index_price||0,C=k.index_price||0,P=B*h;return a*C-P});n(z)}}catch(I){console.error("Error fetching assets:",I)}finally{o(!1)}})()},[]),i.useEffect(()=>{t&&t.trim()!==""?b(t.split(",").map(v=>v.trim()).filter(v=>v.length>0)):b([])},[t]);const x=i.useMemo(()=>{if(!d.trim())return r;const v=d.toLowerCase();return r.filter(N=>{const I=wt(N.symbol);return N.symbol.toLowerCase().includes(v)||I.toLowerCase().includes(v)})},[r,d]),g=v=>{const N=u.includes(v)?u.filter(I=>I!==v):[...u,v];b(N),s(N.join(","))},p=()=>{const v=x.map(I=>I.symbol),N=[...new Set([...u,...v])];b(N),s(N.join(","))},f=()=>{const v=u.filter(N=>!x.some(I=>I.symbol===N));b(v),s(v.join(","))},S=()=>{b([]),s("")};return c?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading available assets..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-1",children:"Asset Filtering"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Select which trading pairs will be displayed in your DEX. Leave empty to show all available assets."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{type:"button",onClick:S,className:"text-xs px-3 py-1 bg-gray-500/20 hover:bg-gray-500/30 text-gray-300 rounded-full transition-all duration-200 ease-in-out",children:"Clear Filter"})})]}),u.length===0&&e.jsxs("div",{className:"text-center py-4 px-2 text-sm bg-blue-500/10 border border-blue-500/20 rounded-lg slide-fade-in",children:[e.jsx("div",{className:"text-blue-300 font-medium mb-1",children:" All Assets Mode (Default)"}),e.jsxs("div",{className:"text-gray-400 text-xs leading-relaxed",children:["No specific assets selected. Your DEX will display"," ",e.jsx("strong",{children:"all available trading pairs"})," from the Orderly Network."]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h5",{className:"text-sm font-semibold text-white",children:["Available Assets (",r.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:p,className:"text-xs px-3 py-1 bg-primary/20 hover:bg-primary/30 text-primary-light rounded-full transition-all duration-200 ease-in-out",children:"Select All Filtered"}),e.jsx("button",{type:"button",onClick:f,className:"text-xs px-3 py-1 bg-gray-500/20 hover:bg-gray-500/30 text-gray-300 rounded-full transition-all duration-200 ease-in-out",children:"Clear Filtered"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",placeholder:"Search assets (e.g., BTC, ETH, SOL)...",value:d,onChange:v=>m(v.target.value),className:"w-full px-3 py-2 bg-background-card border border-light/10 rounded-lg text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:['No assets found matching "',d,'"']}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:x.map(v=>{const N=u.includes(v.symbol),I=wt(v.symbol);return e.jsxs("label",{className:`relative flex flex-col items-center p-2 rounded-lg border cursor-pointer transition-all duration-200 ease-in-out ${N?"border-primary/50 bg-primary/10 hover:bg-primary/15":"border-light/10 bg-light/5 hover:bg-light/10"}`,children:[e.jsx("input",{type:"checkbox",checked:N,onChange:()=>g(v.symbol),className:"sr-only"}),e.jsx("div",{className:`absolute top-2 right-2 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-200 pointer-events-none ${N?"bg-primary border-primary shadow-lg shadow-primary/20":"bg-background-dark/50 border-light/30"}`,children:N&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M5 13l4 4L19 7"})})}),e.jsx("img",{src:Ws(v.symbol),alt:I,className:"w-8 h-8 rounded-full mb-1.5",onError:D=>{D.target.style.display="none"}}),e.jsx("div",{className:"font-medium text-xs text-white font-mono text-center truncate w-full",children:I}),e.jsx("div",{className:"text-[10px] text-gray-400 text-center mt-0.5 truncate w-full",children:Xs(v.index_price)}),e.jsxs("div",{className:"text-[10px] text-gray-500 text-center mt-0.5 truncate w-full",children:["Vol:"," ",zs((typeof v["24h_volume"]=="number"?v["24h_volume"]:parseFloat(v["24h_volume"]))*(v.index_price||0))]})]},v.symbol)})})})]})]})},Hs=({sections:t,currentSection:s,onSectionClick:r})=>{const[n,c]=i.useState(new Set);i.useEffect(()=>{const b=new IntersectionObserver(g=>{c(p=>{const f=new Set(p);return g.forEach(S=>{const v=parseInt(S.target.getAttribute("data-section-id")||"0");S.isIntersecting?f.add(v):f.delete(v)}),f})},{rootMargin:"-20% 0px -20% 0px",threshold:.1});return document.querySelectorAll("[data-section-id]").forEach(g=>{b.observe(g)}),()=>b.disconnect()},[]);const o=b=>{const x=document.querySelector(`[data-section-id="${b}"]`);x&&x.scrollIntoView({behavior:"smooth",block:"start"}),r(b)},d=b=>n.has(b),m=b=>b.id<s,u=()=>t.length===0?0:Math.round(s/t.length*100);return e.jsx("div",{className:"w-64 flex-shrink-0 hidden md:block",children:e.jsxs("div",{className:"sticky top-26 bg-background-dark/50 backdrop-blur-sm rounded-lg border border-light/10 p-3 max-h-[calc(100vh-120px)] overflow-y-auto progress-tracker-scrollbar",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Configuration Progress"}),e.jsx("div",{className:"space-y-1",children:t.map((b,x)=>{const g=d(b.id),p=m(b),f=b.id===s;return e.jsxs("div",{className:"relative",children:[x<t.length-1&&e.jsx("div",{className:"absolute left-2.5 top-7 w-0.5 h-5 bg-gray-600"}),e.jsx("button",{type:"button",onClick:()=>o(b.id),className:`w-full text-left p-2 rounded-lg transition-all duration-200 group ${f?"bg-primary/20 border border-primary/30 text-primary-light":g?"bg-background-light/20 border border-light/20 text-white":p?"bg-success/10 border border-success/20 text-success hover:bg-success/20":"bg-background-light/10 border border-light/10 text-gray-400 hover:bg-background-light/20 hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${f?"bg-primary text-white":p?"bg-success text-white":"bg-gray-600 text-gray-400"}`,children:p?e.jsx("div",{className:"i-mdi:check text-xs"}):e.jsx("span",{className:"text-xs font-medium",children:x+1})}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("div",{className:"text-sm font-medium truncate",children:b.label||b.title})})]})})]},b.id)})}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-light/10",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[u(),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-light h-2 rounded-full transition-all duration-300",style:{width:`${u()}%`}})})]})]})})},Gs=t=>{const{distributorCode:s,handleInputChange:r,distributorCodeValidator:n}=t,c=Mt(),[o,d]=i.useState(!!c),[m,u]=i.useState(o),{distributorInfo:b}=Rt(),x=!!(b!=null&&b.exist);i.useEffect(()=>{x&&(u(!0),d(!1))},[x]),i.useEffect(()=>{s||u(!1)},[s]);const g=()=>{r("distributorCode")({target:{value:""}})},p=x?"Your distributor":"Distributor code",f=(b==null?void 0:b.distributor_name)||s,S=x?"":"Alphanumeric characters only. Other special characters and spaces are not permitted.";return e.jsx(te,{id:"distributorCode",label:p,value:f,onChange:r("distributorCode"),placeholder:"Distributor code",helpText:S,maxLength:x?void 0:10,validator:x?void 0:n,disabled:m,suffix:o&&e.jsx(_s,{onClick:g})})},_s=t=>e.jsx("div",{className:At("h-full absolute right-0 top-0","flex items-center justify-center","cursor-pointer mx-4"),onClick:t.onClick,children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7 21C6.45 21 5.97933 20.8043 5.588 20.413C5.19667 20.0217 5.00067 19.5507 5 19V6H4V4H9V3H15V4H20V6H19V19C19 19.55 18.8043 20.021 18.413 20.413C18.0217 20.805 17.5507 21.0007 17 21H7ZM9 17H11V8H9V17ZM13 17H15V8H13V17Z",fill:"white","fill-opacity":"0.36"})})});function qs({enableServiceDisclaimerDialog:t,onEnableServiceDisclaimerDialogChange:s}){const r=n=>{s(n)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-background-dark/30 rounded-lg border border-light/10",children:[e.jsx("input",{type:"checkbox",id:"enableServiceDisclaimerDialog",checked:t,onChange:n=>r(n.target.checked),className:"mt-1 w-4 h-4 rounded border-light/20 bg-background-dark/50 text-primary focus:ring-2 focus:ring-primary/50"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"enableServiceDisclaimerDialog",className:"text-sm font-medium cursor-pointer",children:"Enable Service Disclaimer Dialog"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Show a one-time disclaimer dialog on first visit to inform users that this platform uses Orderly Network's white-label solution and is not a direct operator of the orderbook. The dialog will be stored in localStorage and won't show again after the user accepts."})]})]}),e.jsx("div",{className:"p-4 bg-background-dark/20 rounded-lg border border-light/5 slide-fade-in",children:e.jsxs("div",{className:"text-xs text-gray-400 space-y-2",children:[e.jsx("p",{className:"font-medium text-gray-300",children:"Preview:"}),e.jsx("p",{children:"When enabled, users will see a dialog on their first visit with the following message:"}),e.jsxs("div",{className:"mt-2 p-4 bg-background-dark/50 rounded border border-light/10 text-xs space-y-3",children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"Service Disclaimer"}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("span",{className:"text-gray-200",children:"[Your Broker Name]"})," uses Orderly Network's white-label solution and is not a direct operator of the orderbook."]}),e.jsxs("p",{className:"text-gray-300 text-2xs",children:["By clicking 'Agree', users will access a third-party website using Orderly software."," ",e.jsx("span",{className:"text-gray-200",children:"[Your Broker Name]"})," confirms that it does not directly operate or control the infrastructure or take responsibility for code operations."]})]})]})})]})}var Ks=(t=>(t.DistributorCode="distributorCode",t.BrokerDetails="brokerDetails",t.Branding="branding",t.ThemeCustomization="themeCustomization",t.PnLPosters="pnlPosters",t.SocialLinks="socialLinks",t.SEOConfiguration="seoConfiguration",t.AnalyticsConfiguration="analyticsConfiguration",t.ReownConfiguration="reownConfiguration",t.PrivyConfiguration="privyConfiguration",t.BlockchainConfiguration="blockchainConfiguration",t.LanguageSupport="languageSupport",t.AssetFilter="assetFilter",t.NavigationMenus="navigationMenus",t.ServiceDisclaimer="serviceDisclaimer",t.ServiceRestrictions="serviceRestrictions",t))(Ks||{});const fa=[{id:1,key:"distributorCode",title:"Are you invited by any distributor? ",label:"Distributor code",description:"If you have been referred by a distributor and given a distributor code, please input below for binding.",isOptional:!0,component:Gs,getProps:t=>({distributorCode:t.distributorCode,handleInputChange:t.handleInputChange,distributorCodeValidator:t.distributorCodeValidator}),getValidationTest:t=>t.distributorCode.trim()?t.distributorCodeValidator(t.distributorCode.trim())===null:!0,getValue:t=>t.distributorCode},{id:2,key:"brokerDetails",title:"Broker Details",description:"Configure your DEX's basic information and trading broker details. Broker name can only contain letters, numbers, spaces, dots, hyphens, and underscores.",isOptional:!1,component:vs,getProps:t=>({brokerName:t.brokerName,handleInputChange:t.handleInputChange,brokerNameValidator:t.brokerNameValidator}),getValidationTest:t=>t.brokerNameValidator(t.brokerName.trim())===null,getValue:t=>t.brokerName},{id:3,key:"branding",title:"Branding",description:"Customize your DEX with your own branding by pasting your logos below. Copy an image to your clipboard (from any image editor or browser), then click in the paste area and press Ctrl+V or +V. All branding fields are optional.",isOptional:!0,component:js,getProps:t=>({primaryLogo:t.primaryLogo,secondaryLogo:t.secondaryLogo,favicon:t.favicon,handleImageChange:t.handleImageChange})},{id:4,key:"themeCustomization",title:"Theme Customization",description:"Customize your DEX's colors and theme by editing the CSS directly or describing how you want it to look for AI-assisted generation. Theme customization is completely optional - your DEX will work great with the default theme.",isOptional:!0,component:Ls,getProps:t=>({currentTheme:t.currentTheme,defaultTheme:t.defaultTheme,showThemeEditor:t.showThemeEditor,viewCssCode:t.viewCssCode,themePrompt:t.themePrompt,isGeneratingTheme:t.isGeneratingTheme,brokerName:t.brokerName,primaryLogo:t.primaryLogo,secondaryLogo:t.secondaryLogo,tradingViewColorConfig:t.tradingViewColorConfig,toggleThemeEditor:t.toggleThemeEditor,handleResetTheme:t.handleResetTheme,handleResetToDefault:t.handleResetToDefault,handleThemeEditorChange:t.handleThemeEditorChange,setViewCssCode:t.setViewCssCode,ThemeTabButton:t.ThemeTabButton,updateCssColor:t.updateCssColor,updateCssValue:t.updateCssValue,handleInputChange:t.handleInputChange,setTradingViewColorConfig:t.setTradingViewColorConfig})},{id:5,key:"pnlPosters",title:"PnL Posters",description:"Upload custom background images for PnL sharing posters. Users can share their trading performance with these backgrounds. You can upload up to 8 custom poster backgrounds. Leave empty to use default poster designs.",isOptional:!0,component:Ts,getProps:t=>({pnlPosters:t.pnlPosters,onChange:t.handlePnLPosterChange})},{id:6,key:"socialLinks",title:"Social Media Links",description:"Add social media links that will appear in your DEX footer. All social media links are optional. Leave empty if not applicable.",isOptional:!0,component:Es,getProps:t=>({telegramLink:t.telegramLink,discordLink:t.discordLink,xLink:t.xLink,handleInputChange:t.handleInputChange,urlValidator:t.urlValidator})},{id:7,key:"seoConfiguration",title:"SEO Configuration",description:"Configure SEO settings to optimize how your DEX appears in search engines and social media sharing. All SEO fields are optional but recommended for better discoverability.",isOptional:!0,component:As,getProps:t=>({seoSiteName:t.seoSiteName,seoSiteDescription:t.seoSiteDescription,seoSiteLanguage:t.seoSiteLanguage,seoSiteLocale:t.seoSiteLocale,seoTwitterHandle:t.seoTwitterHandle,seoThemeColor:t.seoThemeColor,seoKeywords:t.seoKeywords,handleInputChange:t.handleInputChange,updateCssColor:t.updateCssColor})},{id:8,key:"analyticsConfiguration",title:"Analytics Configuration",description:"Add your analytics tracking script to monitor usage and performance of your DEX. Supports Google Analytics, Plausible, Matomo, and other analytics services. This is completely optional.",isOptional:!0,component:Is,getProps:t=>({analyticsScript:t.analyticsScript,handleInputChange:t.handleInputChange})},{id:9,key:"reownConfiguration",title:"Reown Configuration",description:"Add your Reown Project ID to enable enhanced wallet connectivity functionality in your DEX. This is completely optional - your DEX will work without it.",isOptional:!0,component:Ms,getProps:t=>({walletConnectProjectId:t.walletConnectProjectId,handleInputChange:t.handleInputChange})},{id:10,key:"privyConfiguration",title:"Privy Configuration",description:"Add your Privy credentials to enable social login, email authentication, and other wallet connection options in your DEX. This is completely optional. Only the App ID is required if you want to use Privy.",isOptional:!0,component:Rs,getProps:t=>({privyAppId:t.privyAppId,privyTermsOfUse:t.privyTermsOfUse,handleInputChange:t.handleInputChange,urlValidator:t.urlValidator,enableAbstractWallet:t.enableAbstractWallet,onEnableAbstractWalletChange:t.onEnableAbstractWalletChange,disableEvmWallets:t.disableEvmWallets,disableSolanaWallets:t.disableSolanaWallets,onDisableEvmWalletsChange:t.onDisableEvmWalletsChange,onDisableSolanaWalletsChange:t.onDisableSolanaWalletsChange,privyLoginMethods:t.privyLoginMethods,onPrivyLoginMethodsChange:t.onPrivyLoginMethodsChange}),getValidationTest:t=>t.privyTermsOfUse.trim()?t.urlValidator(t.privyTermsOfUse.trim())===null:!0},{id:11,key:"blockchainConfiguration",title:"Blockchain Configuration",description:"Choose which blockchains your DEX will support for trading. This is optional - your DEX will support all available blockchains by default.",isOptional:!0,component:Ds,getProps:t=>({chainIds:t.chainIds,onChainIdsChange:t.onChainIdsChange,defaultChain:t.defaultChain,onDefaultChainChange:t.onDefaultChainChange,disableMainnet:t.disableMainnet,disableTestnet:t.disableTestnet,onDisableMainnetChange:t.onDisableMainnetChange,onDisableTestnetChange:t.onDisableTestnetChange})},{id:12,key:"assetFilter",title:"Asset Filtering",description:"Select which trading pairs will be displayed in your DEX. Leave empty to show all available assets. This is optional - your DEX will show all assets by default.",isOptional:!0,component:Vs,getProps:t=>({symbolList:t.symbolList,onSymbolListChange:t.setSymbolList})},{id:13,key:"languageSupport",title:"Language Support",description:"Select the languages you want to support in your DEX interface. This is optional - your DEX will default to English only.",isOptional:!0,component:Fs,getProps:t=>({availableLanguages:t.availableLanguages,onAvailableLanguagesChange:t.onAvailableLanguagesChange})},{id:14,key:"navigationMenus",title:"Navigation Menus",description:"Customize which navigation links appear in your DEX. This is optional - if you don't select any menus, the default menus will be displayed.",isOptional:!0,component:Bs,getProps:t=>({enabledMenus:t.enabledMenus,setEnabledMenus:t.setEnabledMenus,customMenus:t.customMenus,setCustomMenus:t.setCustomMenus,enableCampaigns:t.enableCampaigns,setEnableCampaigns:t.setEnableCampaigns,swapFeeBps:t.swapFeeBps,setSwapFeeBps:t.setSwapFeeBps})},{id:15,key:"serviceDisclaimer",title:"Service Disclaimer",description:"Enable a one-time disclaimer dialog that informs users about the platform's use of Orderly Network's infrastructure. This is optional and can help set proper expectations for users.",isOptional:!0,component:qs,getProps:t=>({enableServiceDisclaimerDialog:t.enableServiceDisclaimerDialog,onEnableServiceDisclaimerDialogChange:t.onEnableServiceDisclaimerDialogChange})},{id:16,key:"serviceRestrictions",title:"Service Restrictions",description:"Configure geo-restrictions to limit access to your DEX by region.",isOptional:!0,component:Os,getProps:t=>({restrictedRegions:t.restrictedRegions,onRestrictedRegionsChange:t.onRestrictedRegionsChange,whitelistedIps:t.whitelistedIps,onWhitelistedIpsChange:t.onWhitelistedIpsChange})}],ya=({mode:t,sections:s,sectionProps:r,handleGenerateTheme:n,currentStep:c,completedSteps:o,setCurrentStep:d,handleNextStep:m,allRequiredPreviousStepsCompleted:u,showSectionHeaders:b=!0,idPrefix:x="",showProgressTracker:g=!1,customRender:p,shouldShowSkip:f,customDescription:S,isValidating:v})=>{const[N,I]=i.useState(1),D=i.useRef({});i.useEffect(()=>{if(t!=="direct"||!g)return;const k=new IntersectionObserver(a=>{a.forEach(h=>{if(h.isIntersecting){const C=parseInt(h.target.getAttribute("data-section-id")||"0");I(C)}})},{rootMargin:"-30% 0px -30% 0px",threshold:.1}),B=setTimeout(()=>{Object.values(D.current).forEach(a=>{a&&k.observe(a)})},100);return()=>{clearTimeout(B),k.disconnect()}},[t,g,s.length]);const z=k=>{I(k)},V=(k,B)=>{const a=k.component,h=k.getProps(r);k.key==="themeCustomization"&&n&&(h.handleGenerateTheme=n);const C={...h,idPrefix:t==="accordion"?"":x};if(t==="accordion"){if(!d||!u||!o||!m)throw new Error("Accordion mode requires setCurrentStep, allRequiredPreviousStepsCompleted, completedSteps, and handleNextStep props");if(!(X=>{if(X===1)return!0;for(let q=1;q<X;q++)if(!o[q])return!1;return!0})(k.id))return null;const M=e.jsxs(ys,{title:k.title,stepNumber:k.id,isOptional:k.isOptional,showSkip:f==null?void 0:f(k),onNextInternal:X=>m(k.id,X),isStepContentValidTest:k.getValidationTest?k.getValidationTest(r):!0,isActive:c===k.id,isCompleted:!!o[k.id],canOpen:u(k.id)||!!o[k.id],setCurrentStep:d,allRequiredPreviousStepsCompleted:u,value:k.getValue?k.getValue(r):void 0,isValidating:v,children:[e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:(S==null?void 0:S(k))||k.description}),e.jsx(a,{...C})]},k.key);return typeof p=="function"?p(M,k):M}else{const P=e.jsxs("div",{ref:M=>{M&&(D.current[k.id]=M)},"data-section-id":k.id,className:B>0?"mt-6 pt-4 border-t border-light/10":"",children:[b&&e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-lg font-bold mb-3",children:[k.title," ",k.isOptional&&e.jsx("span",{className:"text-gray-400 text-sm font-normal",children:"(optional)"})]}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:(S==null?void 0:S(k))||k.description})]}),e.jsx(a,{...C})]},k.key);return typeof p=="function"?p(P,k):P}};return t==="direct"&&g?e.jsxs("div",{className:"flex gap-6",children:[e.jsx(Hs,{sections:s,currentSection:N,onSectionClick:z}),e.jsx("div",{className:"flex-1 min-w-0",children:s.map((k,B)=>V(k,B))})]}):e.jsx(e.Fragment,{children:s.map((k,B)=>V(k,B))})};function Zs(t){const s=i.useCallback((n,c,o)=>{o(d=>{const u=vt(d||t);return u[n]=c,jt(u)})},[t]),r=i.useCallback((n,c,o)=>{const d=It(c);o(m=>{const b=vt(m||t);return n.startsWith("oui-color")?b[n]=d:n.startsWith("gradient")&&(b[`oui-${n}`]=d),jt(b)})},[t]);return{updateCssValue:s,updateCssColor:r}}const it=async t=>(await fetch(t)).blob(),nt=t=>new Promise(s=>{const r=new FileReader;r.onloadend=()=>s(r.result),r.readAsDataURL(t)}),y={brokerName:"",telegramLink:"",discordLink:"",xLink:"",walletConnectProjectId:"",privyAppId:"",privyTermsOfUse:"",privyLoginMethods:["email"],enabledMenus:"",customMenus:"",enableAbstractWallet:!1,enableServiceDisclaimerDialog:!1,enableCampaigns:!1,swapFeeBps:null,primaryLogo:null,secondaryLogo:null,favicon:null,pnlPosters:[],themePrompt:"",currentTheme:null,chainIds:[],defaultChain:void 0,disableMainnet:!1,disableTestnet:!1,disableEvmWallets:!1,disableSolanaWallets:!1,tradingViewColorConfig:null,availableLanguages:[],seoSiteName:"",seoSiteDescription:"",seoSiteLanguage:"",seoSiteLocale:"",seoTwitterHandle:"",seoThemeColor:"",seoKeywords:"",analyticsScript:"",symbolList:"",restrictedRegions:"",whitelistedIps:"",distributorCode:""};function va(){const[t,s]=i.useState(null),[r,n]=i.useState(!1),[c,o]=i.useState(!1),[d,m]=i.useState(!1),{updateCssValue:u,updateCssColor:b}=Zs(at),x=Ct(bs("Broker name"),xs(3,"Broker name"),St(30,"Broker name"),ps("Broker name")),g=Ct(gs(4,"Distributor code"),St(10,"Distributor code"),hs("Distributor code")),p=us(),[f,S]=i.useState(y.brokerName),[v,N]=i.useState(y.telegramLink),[I,D]=i.useState(y.discordLink),[z,V]=i.useState(y.xLink),[k,B]=i.useState(y.walletConnectProjectId),[a,h]=i.useState(y.privyAppId),[C,P]=i.useState(y.privyTermsOfUse),[M,X]=i.useState(y.privyLoginMethods),[q,ae]=i.useState(y.enabledMenus),[se,E]=i.useState(y.customMenus),[j,F]=i.useState(y.enableAbstractWallet),[$,Y]=i.useState(y.enableServiceDisclaimerDialog),[re,J]=i.useState(y.enableCampaigns),[ce,U]=i.useState(y.swapFeeBps),[R,le]=i.useState(y.primaryLogo),[de,he]=i.useState(y.secondaryLogo),[w,T]=i.useState(y.favicon),[L,O]=i.useState(y.pnlPosters),[H,_]=i.useState(y.themePrompt),[K,ee]=i.useState(y.currentTheme),[Q,me]=i.useState(y.chainIds),[ne,pe]=i.useState(y.defaultChain),[be,fe]=i.useState(y.disableMainnet),[ye,ve]=i.useState(y.disableTestnet),[je,we]=i.useState(y.disableEvmWallets),[Ne,ke]=i.useState(y.disableSolanaWallets),[Ce,xe]=i.useState(y.tradingViewColorConfig),[Se,Le]=i.useState(y.availableLanguages),[Te,Ve]=i.useState(y.seoSiteName),[Ee,He]=i.useState(y.seoSiteDescription),[Pe,Ge]=i.useState(y.seoSiteLanguage),[Ae,_e]=i.useState(y.seoSiteLocale),[Ie,qe]=i.useState(y.seoTwitterHandle),[Me,Ke]=i.useState(y.seoThemeColor),[Re,Ze]=i.useState(y.seoKeywords),[De,Qe]=i.useState(y.analyticsScript),[Fe,$e]=i.useState(y.symbolList),[Be,Ye]=i.useState(y.restrictedRegions),[Ue,Je]=i.useState(y.whitelistedIps),lt=Mt(),[Oe,et]=i.useState((lt==null?void 0:lt.toLocaleUpperCase())||y.distributorCode),{distributorInfo:We}=Rt();i.useEffect(()=>{We!=null&&We.distributor_name&&et(We.distributor_name)},[We]);const ct=l=>Z=>{const W=Z.target.value;switch(l){case"brokerName":S(W);break;case"telegramLink":N(W);break;case"discordLink":D(W);break;case"xLink":V(W);break;case"walletConnectProjectId":B(W);break;case"privyAppId":h(W);break;case"privyTermsOfUse":P(W);break;case"themePrompt":_(W);break;case"seoSiteName":Ve(W);break;case"seoSiteDescription":He(W);break;case"seoSiteLanguage":Ge(W);break;case"seoSiteLocale":_e(W);break;case"seoTwitterHandle":qe(W);break;case"seoThemeColor":Ke(W);break;case"seoKeywords":Ze(W);break;case"analyticsScript":Qe(W);break;case"symbolList":$e(W);break;case"distributorCode":et(W==null?void 0:W.toLocaleUpperCase());break}},dt=l=>Z=>{switch(l){case"primaryLogo":le(Z);break;case"secondaryLogo":he(Z);break;case"favicon":T(Z);break}},mt=l=>{O(l)},ut=i.useCallback(l=>{l.brokerName!==void 0&&S(l.brokerName),l.telegramLink!==void 0&&N(l.telegramLink),l.discordLink!==void 0&&D(l.discordLink),l.xLink!==void 0&&V(l.xLink),l.walletConnectProjectId!==void 0&&B(l.walletConnectProjectId),l.privyAppId!==void 0&&h(l.privyAppId),l.privyTermsOfUse!==void 0&&P(l.privyTermsOfUse),l.privyLoginMethods!==void 0&&(typeof l.privyLoginMethods=="string"?X(l.privyLoginMethods.split(",").filter(Boolean)):X(l.privyLoginMethods||["email"])),l.enabledMenus!==void 0&&ae(l.enabledMenus),l.customMenus!==void 0&&E(l.customMenus),l.enableAbstractWallet!==void 0&&F(l.enableAbstractWallet),l.enableServiceDisclaimerDialog!==void 0&&Y(l.enableServiceDisclaimerDialog),l.enableCampaigns!==void 0&&J(l.enableCampaigns),l.swapFeeBps!==void 0&&U(l.swapFeeBps),l.chainIds!==void 0&&me(l.chainIds),l.defaultChain!==void 0&&pe(l.defaultChain),l.disableMainnet!==void 0&&fe(l.disableMainnet),l.disableTestnet!==void 0&&ve(l.disableTestnet),l.disableEvmWallets!==void 0&&we(l.disableEvmWallets),l.disableSolanaWallets!==void 0&&ke(l.disableSolanaWallets),l.tradingViewColorConfig!==void 0&&xe(l.tradingViewColorConfig),l.availableLanguages!==void 0&&Le(l.availableLanguages),l.seoSiteName!==void 0&&Ve(l.seoSiteName),l.seoSiteDescription!==void 0&&He(l.seoSiteDescription),l.seoSiteLanguage!==void 0&&Ge(l.seoSiteLanguage),l.seoSiteLocale!==void 0&&_e(l.seoSiteLocale),l.seoTwitterHandle!==void 0&&qe(l.seoTwitterHandle),l.seoThemeColor!==void 0&&Ke(l.seoThemeColor),l.seoKeywords!==void 0&&Ze(l.seoKeywords),l.analyticsScript!==void 0&&Qe(l.analyticsScript),l.symbolList!==void 0&&$e(l.symbolList),l.restrictedRegions!==void 0&&Ye(l.restrictedRegions),l.whitelistedIps!==void 0&&Je(l.whitelistedIps),l.themeCSS!==void 0&&ee(l.themeCSS)},[]),ht=i.useCallback(async l=>{if(l.primaryLogo&&le(await it(l.primaryLogo)),l.secondaryLogo&&he(await it(l.secondaryLogo)),l.favicon&&T(await it(l.favicon)),l.pnlPosters){const Z=await Promise.all(l.pnlPosters.map(W=>W?it(W):Promise.resolve(null)));O(Z)}},[]),$t=i.useCallback(async()=>{const[l,Z,W,A]=await Promise.all([R?nt(R):Promise.resolve(null),de?nt(de):Promise.resolve(null),w?nt(w):Promise.resolve(null),Promise.all(L.map(tt=>tt?nt(tt):Promise.resolve(null)))]);return{formData:{distributorCode:Oe,brokerName:f,telegramLink:v,discordLink:I,xLink:z,walletConnectProjectId:k,privyAppId:a,privyTermsOfUse:C,privyLoginMethods:M,enabledMenus:q,customMenus:se,enableAbstractWallet:j,enableServiceDisclaimerDialog:$,enableCampaigns:re,swapFeeBps:ce,themePrompt:H,currentTheme:K,chainIds:Q,defaultChain:ne,disableMainnet:be,disableTestnet:ye,disableEvmWallets:je,disableSolanaWallets:Ne,tradingViewColorConfig:Ce,availableLanguages:Se,seoSiteName:Te,seoSiteDescription:Ee,seoSiteLanguage:Pe,seoSiteLocale:Ae,seoTwitterHandle:Ie,seoThemeColor:Me,seoKeywords:Re,analyticsScript:De,symbolList:Fe,restrictedRegions:Be,whitelistedIps:Ue},images:{primaryLogo:l,secondaryLogo:Z,favicon:W,pnlPosters:A}}},[R,de,w,L,f,v,I,z,k,a,C,M,q,se,j,$,re,ce,H,K,Q,ne,be,ye,je,Ne,Ce,Se,Te,Ee,Pe,Ae,Ie,Me,Re,De,Fe,Be,Ue,Oe]),Bt=()=>{S(y.brokerName),N(y.telegramLink),D(y.discordLink),V(y.xLink),B(y.walletConnectProjectId),h(y.privyAppId),P(y.privyTermsOfUse),X(y.privyLoginMethods),ae(y.enabledMenus),E(y.customMenus),F(y.enableAbstractWallet),Y(y.enableServiceDisclaimerDialog),J(y.enableCampaigns),U(y.swapFeeBps),le(y.primaryLogo),he(y.secondaryLogo),T(y.favicon),O(y.pnlPosters),_(y.themePrompt),ee(y.currentTheme),me(y.chainIds),pe(y.defaultChain),fe(y.disableMainnet),ve(y.disableTestnet),we(y.disableEvmWallets),ke(y.disableSolanaWallets),xe(y.tradingViewColorConfig),Le(y.availableLanguages),Ve(y.seoSiteName),He(y.seoSiteDescription),Ge(y.seoSiteLanguage),_e(y.seoSiteLocale),qe(y.seoTwitterHandle),Ke(y.seoThemeColor),Ze(y.seoKeywords),Qe(y.analyticsScript),$e(y.symbolList),Ye(y.restrictedRegions),Je(y.whitelistedIps),et(y.distributorCode)},Ut=i.useCallback(async(l,Z,W,A,tt,ft,Vt,Ht="desktop")=>{const Nt=(ft==null?void 0:ft.trim())||H.trim();if(!Nt){oe.error("Please enter a theme description");return}try{const ie=await ds("api/theme/modify",{prompt:Nt,currentTheme:K||Z},l,{showToastOnError:!1});ie&&ie.themes&&Array.isArray(ie.themes)&&ie.themes.length===3?(tt("themePreview",{oldTheme:K||Z||"",themes:ie.themes,onApply:W,onCancel:A,previewProps:Vt,viewMode:Ht}),oe.success("Theme generated successfully!")):oe.error("Failed to generate theme")}catch(ie){console.error("Error generating theme:",ie),ie&&typeof ie=="object"&&"status"in ie&&ie.status===429?oe.error("Rate limit exceeded. Please wait 30 seconds before generating another theme."):oe.error(ie instanceof Error?ie.message:"Error generating theme. Please try again.")}},[H,K]),Ot=i.useCallback(l=>{ee(l??null),xe(null),_(""),oe.success("Theme reset")},[]),Wt=i.useCallback(()=>{ee(at),xe(null),_(""),oe.success("Theme reset to default")},[]),gt=i.useCallback(()=>{n(l=>!l)},[]),pt=i.useCallback(l=>{ee(l)},[]),xt=i.useCallback((l,Z)=>{u(l,Z,ee)},[u]),bt=i.useCallback((l,Z)=>{b(l,Z,ee)},[b]),zt=i.useCallback(async(l,Z)=>{if(!l)return null;try{const W=Z?`api/dex/${Z}`:"api/dex",A=await ms(W,l);return A&&"id"in A?(s(A),ut({brokerName:A.brokerName,telegramLink:A.telegramLink||"",discordLink:A.discordLink||"",xLink:A.xLink||"",walletConnectProjectId:A.walletConnectProjectId||"",privyAppId:A.privyAppId||"",privyTermsOfUse:A.privyTermsOfUse||"",privyLoginMethods:A.privyLoginMethods||null,enabledMenus:A.enabledMenus||"",customMenus:A.customMenus||"",enableAbstractWallet:A.enableAbstractWallet||!1,enableServiceDisclaimerDialog:A.enableServiceDisclaimerDialog||!1,enableCampaigns:A.enableCampaigns||!1,swapFeeBps:A.swapFeeBps??null,chainIds:A.chainIds||[],defaultChain:A.defaultChain||void 0,disableMainnet:A.disableMainnet||!1,disableTestnet:A.disableTestnet||!1,disableEvmWallets:A.disableEvmWallets||!1,disableSolanaWallets:A.disableSolanaWallets||!1,tradingViewColorConfig:A.tradingViewColorConfig??null,availableLanguages:A.availableLanguages||[],seoSiteName:A.seoSiteName||"",seoSiteDescription:A.seoSiteDescription||"",seoSiteLanguage:A.seoSiteLanguage||"",seoSiteLocale:A.seoSiteLocale||"",seoTwitterHandle:A.seoTwitterHandle||"",seoThemeColor:A.seoThemeColor||"",seoKeywords:A.seoKeywords||"",analyticsScript:A.analyticsScript||"",symbolList:A.symbolList||"",restrictedRegions:A.restrictedRegions||"",whitelistedIps:A.whitelistedIps||"",themeCSS:A.themeCSS}),o(!1),A.themeCSS||ee(at),await ht({primaryLogo:A.primaryLogo,secondaryLogo:A.secondaryLogo,favicon:A.favicon,pnlPosters:A.pnlPosters}),A):null}catch(W){return console.error("Failed to fetch DEX data",W),oe.error("Failed to load DEX configuration"),null}},[ut,ht]),Xt=i.useCallback(l=>({brokerName:f,handleInputChange:ct,brokerNameValidator:x,primaryLogo:R,secondaryLogo:de,favicon:w,handleImageChange:dt,currentTheme:K,defaultTheme:at,savedTheme:(t==null?void 0:t.themeCSS)||null,showThemeEditor:r,viewCssCode:c,themePrompt:H,isGeneratingTheme:d,tradingViewColorConfig:Ce,toggleThemeEditor:gt,handleResetTheme:l.handleResetTheme,handleResetToDefault:l.handleResetToDefault,handleThemeEditorChange:pt,setViewCssCode:o,ThemeTabButton:l.ThemeTabButton,updateCssColor:bt,updateCssValue:xt,setTradingViewColorConfig:xe,pnlPosters:L,handlePnLPosterChange:mt,telegramLink:v,discordLink:I,xLink:z,urlValidator:p,seoSiteName:Te,seoSiteDescription:Ee,seoSiteLanguage:Pe,seoSiteLocale:Ae,seoTwitterHandle:Ie,seoThemeColor:Me,seoKeywords:Re,analyticsScript:De,walletConnectProjectId:k,privyAppId:a,privyTermsOfUse:C,enableAbstractWallet:j,onEnableAbstractWalletChange:F,disableEvmWallets:je,disableSolanaWallets:Ne,enableServiceDisclaimerDialog:$,onDisableEvmWalletsChange:we,onDisableSolanaWalletsChange:ke,onEnableServiceDisclaimerDialogChange:Y,privyLoginMethods:M,onPrivyLoginMethodsChange:X,chainIds:Q,onChainIdsChange:me,defaultChain:ne,onDefaultChainChange:pe,disableMainnet:be,disableTestnet:ye,onDisableMainnetChange:fe,onDisableTestnetChange:ve,availableLanguages:Se,onAvailableLanguagesChange:Le,enabledMenus:q,setEnabledMenus:ae,customMenus:se,setCustomMenus:E,enableCampaigns:re,setEnableCampaigns:J,swapFeeBps:ce,setSwapFeeBps:U,symbolList:Fe,setSymbolList:$e,restrictedRegions:Be,onRestrictedRegionsChange:Ye,whitelistedIps:Ue,onWhitelistedIpsChange:Je,distributorCode:Oe,distributorCodeValidator:g}),[f,ct,x,R,de,w,dt,K,H,Ce,xe,L,mt,v,I,z,p,Te,Ee,Pe,Ae,Ie,Me,Re,De,Fe,Be,Ue,Oe,k,a,C,j,F,je,Ne,$,we,ke,Y,M,X,Q,me,ne,pe,be,ye,fe,ve,Se,Le,q,ae,se,E,re,J,r,c,d,gt,pt,xt,bt,g]);return{brokerNameValidator:x,urlValidator:p,dexData:t,setDexData:s,updateDexData:zt,brokerName:f,telegramLink:v,discordLink:I,xLink:z,walletConnectProjectId:k,privyAppId:a,privyTermsOfUse:C,privyLoginMethods:M,enabledMenus:q,customMenus:se,enableAbstractWallet:j,enableServiceDisclaimerDialog:$,enableCampaigns:re,swapFeeBps:ce,primaryLogo:R,secondaryLogo:de,favicon:w,pnlPosters:L,themePrompt:H,currentTheme:K,chainIds:Q,defaultChain:ne,disableMainnet:be,disableTestnet:ye,disableEvmWallets:je,disableSolanaWallets:Ne,tradingViewColorConfig:Ce,availableLanguages:Se,seoSiteName:Te,seoSiteDescription:Ee,seoSiteLanguage:Pe,seoSiteLocale:Ae,seoTwitterHandle:Ie,seoThemeColor:Me,seoKeywords:Re,analyticsScript:De,symbolList:Fe,restrictedRegions:Be,whitelistedIps:Ue,distributorCode:Oe,setBrokerName:S,setTelegramLink:N,setDiscordLink:D,setXLink:V,setWalletConnectProjectId:B,setPrivyAppId:h,setPrivyTermsOfUse:P,setPrivyLoginMethods:X,setEnabledMenus:ae,setCustomMenus:E,setEnableAbstractWallet:F,setEnableServiceDisclaimerDialog:Y,setEnableCampaigns:J,setSwapFeeBps:U,setPrimaryLogo:le,setSecondaryLogo:he,setFavicon:T,setPnlPosters:O,setThemePrompt:_,setCurrentTheme:ee,setChainIds:me,setDefaultChain:pe,setDisableMainnet:fe,setDisableTestnet:ve,setDisableEvmWallets:we,setDisableSolanaWallets:ke,setTradingViewColorConfig:xe,setAvailableLanguages:Le,setSeoSiteName:Ve,setSeoSiteDescription:He,setSeoSiteLanguage:Ge,setSeoSiteLocale:_e,setSeoTwitterHandle:qe,setSeoThemeColor:Ke,setSeoKeywords:Ze,setAnalyticsScript:Qe,setSymbolList:$e,setRestrictedRegions:Ye,setWhitelistedIps:Je,setDistributorCode:et,handleInputChange:ct,handleImageChange:dt,handlePnLPosterChange:mt,populateFromDexData:ut,loadImagesFromBase64:ht,getFormDataWithBase64Images:$t,generateTheme:Ut,resetTheme:Ot,resetThemeToDefault:Wt,showThemeEditor:r,setShowThemeEditor:n,viewCssCode:c,setViewCssCode:o,isGeneratingTheme:d,setIsGeneratingTheme:m,toggleThemeEditor:gt,handleThemeEditorChange:pt,handleUpdateCssValue:xt,handleUpdateCssColor:bt,getSectionProps:Xt,resetForm:Bt,distributorCodeValidator:g}}class Qs{constructor(s){st(this,"walletClient");st(this,"chainId");st(this,"address");if(this.chainId=s.chainId,this.address=s.address,!s.walletClient)throw new Error("Wallet client is required");this.walletClient=s.walletClient}async signTypedData(s){return await this.walletClient.signTypedData({account:this.address,...s})}getDomain(s){return s?ss(this.chainId):as(this.chainId)}async generateBindDistributorCodeMessage(s){const r=this.getDomain(),n="BindDistributorCode",c={[n]:kt[n]},o={domain:r,message:s,primaryType:n,types:c},d=await this.signTypedData(o);return{message:{...s,chainId:this.chainId,chainType:"EVM"},signature:d,userAddress:this.address,verifyingContract:r.verifyingContract}}async generateRegisterAccountMessage(s){const r=this.getDomain(),n="BindDistributorCode",c={[n]:kt[n]},o={domain:r,message:s,primaryType:n,types:c},d=await this.signTypedData(o);return{message:{...s,chainId:this.chainId,chainType:"EVM"},signature:d,userAddress:this.address,verifyingContract:r.verifyingContract}}}function Ys(){const t=rs(),{address:s}=Dt(),{data:r}=is();return i.useMemo(()=>!r||!s||!t?null:new Qs({walletClient:r,chainId:t,address:s}),[r,t,s])}async function ja(t){const s="Distributor code is not exists.";try{return await Js(t)?null:s}catch(r){return console.error("Error verifying distributor code:",r),s}}async function Js(t){const s=await Ft(`/v1/orderly_one/vanguard/verify_code?distributor_code=${t}`);return s==null?void 0:s.exist}async function ea(t){const s=await Ft(`/v1/orderly_one/vanguard/check?address=${t}`);return s==null?void 0:s.exist}async function ta(t){const s=await fs("/v1/orderly_one/vanguard/bind",t);return s==null?void 0:s.success}function wa(){const{address:t}=Dt(),s=Ys();return{bindDistributorCode:i.useCallback(async n=>{const c="Failed to bind distributor code";try{if(await ea(t))return oe.error("Address is already bound"),!1;const d=await(s==null?void 0:s.generateBindDistributorCodeMessage({inviteeAddress:t,distributorCode:n}));if(await ta(d))return!0;oe.error(c)}catch(o){oe.error((o==null?void 0:o.message)||c)}return!1},[t,s])}}function Na({token:t,form:s,originalThemeCSS:r=null,tradingViewColorConfig:n=null}){const{openModal:c}=Xe(),{setIsGeneratingTheme:o}=ns(),d=i.useCallback(g=>{s.setCurrentTheme(g)},[s]),m=i.useCallback(()=>{},[]),u=i.useCallback(async(g,p,f="desktop")=>{if(t){o(!0);try{await s.generateTheme(t,r??void 0,d,m,c,g,p,f)}catch(S){console.error("Error generating theme:",S)}finally{o(!1)}}},[t,r,s,d,m,c,o]),b=i.useCallback((g=!1)=>{g&&r?s.resetTheme(r):s.resetTheme(null),s.setTradingViewColorConfig(n??null),s.setShowThemeEditor(!1),s.setViewCssCode(!1)},[s,r,n]),x=i.useCallback(()=>{s.resetThemeToDefault(),s.setShowThemeEditor(!1),s.setViewCssCode(!1)},[s]);return{handleApplyGeneratedTheme:d,handleCancelGeneratedTheme:m,handleGenerateTheme:u,handleResetTheme:b,handleResetToDefault:x}}export{fa as D,Ks as a,Na as b,wa as c,ya as d,ba as e,va as u,ja as v};
