import{r as i,j as y}from"./index-gtzDq4NN.js";import{u as L}from"./DexContext-BStH6aHx.js";import{d as n,e as O}from"./usePrivateQuery-C4ovqd4J.js";import{a as h}from"./index-_0cUeJFu.js";import{a as C}from"./useAuth-CdmGF86g.js";const E=()=>{var r;const[t]=h();return(r=t.get("distributor_code"))==null?void 0:r.toLocaleUpperCase()},S=()=>{const t=E(),{data:r}=n(t?`/v1/orderly_one/vanguard/verify_code?distributor_code=${t}`:null,{revalidateOnFocus:!1});return{distributor_code:t,...r}},I=t=>n(t?`/v1/orderly_one/vanguard/check?address=${t}`:null,{revalidateOnFocus:!1});function B(){return O("/v1/vanguard/summary",{revalidateOnFocus:!1,shouldRetryOnError:!1})}function P(t,r){return n(t&&r?`/v1/get_account?address=${t}&broker_id=${r}`:null,{revalidateOnFocus:!1,shouldRetryOnError:!1})}const c="ambassador",m=i.createContext(void 0);function k({children:t}){const{address:r}=C(),{dexData:o,setBrokerId:l}=L(),{data:e,isLoading:f,mutate:b}=B(),{data:s,isLoading:v,mutate:D}=P(r,c),{data:a,isLoading:_,mutate:g}=I(r),u=!!(s!=null&&s.account_id),p=u&&!!(e!=null&&e.distributor_name),d=!!o||!!(a!=null&&a.exist),A=d&&!!(o!=null&&o.isGraduated),x=v||_||f;return i.useEffect(()=>{s!=null&&s.account_id&&l(c)},[s]),y.jsx(m.Provider,{value:{isInitialLoading:x,isAmbassador:u,ambassadorCompleted:p,isBuilder:d,builderCompleted:A,mutateAmbassadorInfo:b,mutateAccountInfo:D,mutateDistributorInfo:g,distributorInfo:a,ambassadorInfo:e},children:t})}function Q(){const t=i.useContext(m);if(t===void 0)throw new Error("useDistributor must be used within a DistributorProvider");return t}export{k as D,E as a,S as b,Q as u};
