var pt=t=>{throw TypeError(t)};var Ke=(t,s,r)=>s.has(t)||pt("Cannot "+r);var g=(t,s,r)=>(Ke(t,s,"read from private field"),r?r.call(t):s.get(t)),H=(t,s,r)=>s.has(t)?pt("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),z=(t,s,r,a)=>(Ke(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),B=(t,s,r)=>(Ke(t,s,"access private method"),r);import{r as y,j as e}from"./index-gtzDq4NN.js";import{B as K,C as os}from"./Card-DzC9HQ_p.js";import{k as cs,A as ls,s as ds,a as us,e as Re,g as Le,u as At,B as It}from"./index--NnR_BUb.js";import{n as De,B as lt,s as Et,ar as Dt,as as Pt,at as $t,au as Ft,av as ft,aw as Ot,ax as hs,ay as zt,az as Ge,aA as ms,aB as xs,aC as gs,aD as ps,aE as fs,aF as _t,aG as ys,aH as Ue,aI as Me,aJ as Xe,t as bs,aK as dt,aL as ws,g as vs,aM as js,aN as Ns,aO as Cs,aP as ks,aQ as Ss,aR as Ts,aS as Rs,aT as Ms,aU as As,aV as Is,aW as Es,aX as Ds,A as ut,aY as Ps,aZ as $s,e as ht,y as Y,a9 as Fs,aa as Os,ab as Lt,a_ as zs,a$ as _s}from"./globalDisconnect-DEHmIGkh.js";import{g as Ut}from"./apiClient-Br2nePLb.js";import{R as Ls,v as Ye,f as Je,w as ie,s as Us,x as Vt,y as Vs,n as mt,g as qs,z as We,B as Bs,S as Ks,C as yt,D as Ze,r as _e,E as et,F as bt,k as Gs,G as Ws,H as Hs,I as qt,J as wt,c as Pe,d as Qs,a as $e,u as Bt}from"./useAuth-RM4Avg_6.js";async function Xs(t,{chain:s}){const{id:r,name:a,nativeCurrency:i,rpcUrls:c,blockExplorers:l}=s;await t.request({method:"wallet_addEthereumChain",params:[{chainId:De(r),chainName:a,nativeCurrency:i,rpcUrls:c.default.http,blockExplorerUrls:l?Object.values(l).map(({url:h})=>h):void 0}]},{dedupe:!0,retryCount:0})}class Ys extends lt{constructor({domain:s}){super(`Invalid domain "${Et(s)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Js extends lt{constructor({primaryType:s,types:r}){super(`Invalid primary type \`${s}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Zs extends lt{constructor({type:s}){super(`Struct type "${s}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function er(t){const{domain:s,message:r,primaryType:a,types:i}=t,c=(x,f)=>{const b={...f};for(const n of x){const{name:m,type:u}=n;u==="address"&&(b[m]=b[m].toLowerCase())}return b},l=i.EIP712Domain?s?c(i.EIP712Domain,s):{}:{},h=(()=>{if(a!=="EIP712Domain")return c(i[a],r)})();return Et({domain:l,message:h,primaryType:a,types:i})}function tr(t){const{domain:s,message:r,primaryType:a,types:i}=t,c=(l,h)=>{for(const x of l){const{name:f,type:b}=x,n=h[f],m=b.match(Dt);if(m&&(typeof n=="number"||typeof n=="bigint")){const[v,d,j]=m;De(n,{signed:d==="int",size:Number.parseInt(j)/8})}if(b==="address"&&typeof n=="string"&&!Pt(n))throw new $t({address:n});const u=b.match(Ft);if(u){const[v,d]=u;if(d&&ft(n)!==Number.parseInt(d))throw new Ot({expectedSize:Number.parseInt(d),givenSize:ft(n)})}const w=i[b];w&&(rr(b),c(w,n))}};if(i.EIP712Domain&&s){if(typeof s!="object")throw new Ys({domain:s});c(i.EIP712Domain,s)}if(a!=="EIP712Domain")if(i[a])c(i[a],r);else throw new Js({primaryType:a,types:i})}function sr({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function rr(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Zs({type:t})}function ar(t,s){if(t.length!==s.length)throw new hs({expectedLength:t.length,givenLength:s.length});const r=[];for(let a=0;a<t.length;a++){const i=t[a],c=s[a];r.push(Kt(i,c))}return zt(r)}function Kt(t,s,r=!1){if(t==="address"){const l=s;if(!Pt(l))throw new $t({address:l});return Ge(l.toLowerCase(),{size:r?32:null})}if(t==="string")return ms(s);if(t==="bytes")return s;if(t==="bool")return Ge(xs(s),{size:r?32:1});const a=t.match(Dt);if(a){const[l,h,x="256"]=a,f=Number.parseInt(x)/8;return De(s,{size:r?32:f,signed:h==="int"})}const i=t.match(Ft);if(i){const[l,h]=i;if(Number.parseInt(h)!==(s.length-2)/2)throw new Ot({expectedSize:Number.parseInt(h),givenSize:(s.length-2)/2});return Ge(s,{dir:"right",size:r?32:null})}const c=t.match(gs);if(c&&Array.isArray(s)){const[l,h]=c,x=[];for(let f=0;f<s.length;f++)x.push(Kt(h,s[f],!0));return x.length===0?"0x":zt(x)}throw new ps(t)}function nr(t,s){const{abi:r,args:a,bytecode:i,...c}=s,l=fs({abi:r,args:a,bytecode:i});return _t(t,{...c,...c.authorizationList?{to:null}:{},data:l})}async function ir(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(a=>ys(a))}async function or(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Gt(t,s){var x;const{account:r=t.account,chainId:a,nonce:i}=s;if(!r)throw new Ue({docsPath:"/docs/eip7702/prepareAuthorization"});const c=Me(r),l=(()=>{if(s.executor)return s.executor==="self"?s.executor:Me(s.executor)})(),h={address:s.contractAddress??s.address,chainId:a,nonce:i};return typeof h.chainId>"u"&&(h.chainId=((x=t.chain)==null?void 0:x.id)??await Xe(t,dt,"getChainId")({})),typeof h.nonce>"u"&&(h.nonce=await Xe(t,ws,"getTransactionCount")({address:c.address,blockTag:"pending"}),(l==="self"||l!=null&&l.address&&bs(l.address,c.address))&&(h.nonce+=1)),h}async function cr(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>vs(r))}async function lr(t,s){return t.request({method:"wallet_requestPermissions",params:[s]},{retryCount:0})}async function dr(t,s){const{account:r=t.account}=s;if(!r)throw new Ue({docsPath:"/docs/eip7702/signAuthorization"});const a=Me(r);if(!a.signAuthorization)throw new js({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const i=await Gt(t,s);return a.signAuthorization(i)}async function ur(t,s){var f,b,n,m;const{account:r=t.account,chain:a=t.chain,...i}=s;if(!r)throw new Ue({docsPath:"/docs/actions/wallet/signTransaction"});const c=Me(r);Ns({account:c,...s});const l=await Xe(t,dt,"getChainId")({});a!==null&&Cs({currentChainId:l,chain:a});const h=(a==null?void 0:a.formatters)||((f=t.chain)==null?void 0:f.formatters),x=((b=h==null?void 0:h.transactionRequest)==null?void 0:b.format)||ks;return c.signTransaction?c.signTransaction({...i,chainId:l},{serializer:(m=(n=t.chain)==null?void 0:n.serializers)==null?void 0:m.transaction}):await t.request({method:"eth_signTransaction",params:[{...x(i),chainId:De(l),from:c.address}]},{retryCount:0})}async function hr(t,s){const{account:r=t.account,domain:a,message:i,primaryType:c}=s;if(!r)throw new Ue({docsPath:"/docs/actions/wallet/signTypedData"});const l=Me(r),h={EIP712Domain:sr({domain:a}),...s.types};if(tr({domain:a,message:i,primaryType:c,types:h}),l.signTypedData)return l.signTypedData({domain:a,message:i,primaryType:c,types:h});const x=er({domain:a,message:i,primaryType:c,types:h});return t.request({method:"eth_signTypedData_v4",params:[l.address,x]},{retryCount:0})}async function mr(t,{id:s}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:De(s)}]},{retryCount:0})}async function xr(t,s){return await t.request({method:"wallet_watchAsset",params:s},{retryCount:0})}function gr(t){return{addChain:s=>Xs(t,s),deployContract:s=>nr(t,s),getAddresses:()=>ir(t),getChainId:()=>dt(t),getPermissions:()=>or(t),prepareAuthorization:s=>Gt(t,s),prepareTransactionRequest:s=>Ms(t,s),requestAddresses:()=>cr(t),requestPermissions:s=>lr(t,s),sendRawTransaction:s=>Rs(t,s),sendTransaction:s=>_t(t,s),signAuthorization:s=>dr(t,s),signMessage:s=>Ts(t,s),signTransaction:s=>ur(t,s),signTypedData:s=>hr(t,s),switchChain:s=>mr(t,s),watchAsset:s=>xr(t,s),writeContract:s=>Ss(t,s)}}function vt(t){return t.state.chainId}let He=[];function jt(t){const s=t.chains;return As(He,s)?He:(He=s,s)}async function pr(t,s={}){return(await Is(t,s)).extend(gr)}function fr(t,s){const{onChange:r}=s;return t.subscribe(a=>a.chainId,r)}function yr(t,s){const{onChange:r}=s;return t._internal.chains.subscribe((a,i)=>{r(a,i)})}var be,we,ae,he,X,Ae,me,ne,le,Rt,Fa=(Rt=class extends Ls{constructor(s){super();H(this,ne);H(this,be);H(this,we);H(this,ae);H(this,he);H(this,X);H(this,Ae);H(this,me);z(this,me,!1),z(this,Ae,s.defaultOptions),this.setOptions(s.options),this.observers=[],z(this,he,s.client),z(this,ae,g(this,he).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,z(this,be,br(this.options)),this.state=s.state??g(this,be),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=g(this,X))==null?void 0:s.promise}setOptions(s){this.options={...g(this,Ae),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,ae).remove(this)}setData(s,r){const a=Ye(this.state.data,s,this.options);return B(this,ne,le).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){B(this,ne,le).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,i;const r=(a=g(this,X))==null?void 0:a.promise;return(i=g(this,X))==null||i.cancel(s),r?r.then(Je).catch(Je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,be))}isActive(){return this.observers.some(s=>ie(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Us||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!Vt(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=g(this,X))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=g(this,X))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),g(this,ae).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(g(this,X)&&(g(this,me)?g(this,X).cancel({revert:!0}):g(this,X).cancelRetry()),this.scheduleGc()),g(this,ae).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,ne,le).call(this,{type:"invalidate"})}fetch(s,r){var x,f,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(g(this,X))return g(this,X).continueRetry(),g(this,X).promise}if(s&&this.setOptions(s),!this.options.queryFn){const n=this.observers.find(m=>m.options.queryFn);n&&this.setOptions(n.options)}const a=new AbortController,i=n=>{Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(z(this,me,!0),a.signal)})},c=()=>{const n=qs(this.options,r),m={client:g(this,he),queryKey:this.queryKey,meta:this.meta};return i(m),z(this,me,!1),this.options.persister?this.options.persister(n,m,this):n(m)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:g(this,he),state:this.state,fetchFn:c};i(l),(x=this.options.behavior)==null||x.onFetch(l,this),z(this,we,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&B(this,ne,le).call(this,{type:"fetch",meta:(b=l.fetchOptions)==null?void 0:b.meta});const h=n=>{var m,u,w,v;We(n)&&n.silent||B(this,ne,le).call(this,{type:"error",error:n}),We(n)||((u=(m=g(this,ae).config).onError)==null||u.call(m,n,this),(v=(w=g(this,ae).config).onSettled)==null||v.call(w,this.state.data,n,this)),this.scheduleGc()};return z(this,X,Vs({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:n=>{var m,u,w,v;if(n===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(n)}catch(d){h(d);return}(u=(m=g(this,ae).config).onSuccess)==null||u.call(m,n,this),(v=(w=g(this,ae).config).onSettled)==null||v.call(w,n,this.state.error,this),this.scheduleGc()},onError:h,onFail:(n,m)=>{B(this,ne,le).call(this,{type:"failed",failureCount:n,error:m})},onPause:()=>{B(this,ne,le).call(this,{type:"pause"})},onContinue:()=>{B(this,ne,le).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),g(this,X).start()}},be=new WeakMap,we=new WeakMap,ae=new WeakMap,he=new WeakMap,X=new WeakMap,Ae=new WeakMap,me=new WeakMap,ne=new WeakSet,le=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Wt(a.data,this.options),fetchMeta:s.meta??null};case"success":return{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=s.error;return We(i)&&i.revert&&g(this,we)?{...g(this,we),fetchStatus:"idle"}:{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),mt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),g(this,ae).notify({query:this,type:"updated",action:s})})},Rt);function Wt(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bs(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function br(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var se,F,Ie,Z,xe,ve,de,ce,Ee,je,Ne,ge,pe,ue,Ce,V,Te,tt,st,rt,at,nt,it,ot,Ht,Mt,wr=(Mt=class extends Ks{constructor(s,r){super();H(this,V);H(this,se);H(this,F);H(this,Ie);H(this,Z);H(this,xe);H(this,ve);H(this,de);H(this,ce);H(this,Ee);H(this,je);H(this,Ne);H(this,ge);H(this,pe);H(this,ue);H(this,Ce,new Set);this.options=r,z(this,se,s),z(this,ce,null),z(this,de,yt()),this.options.experimental_prefetchInRender||g(this,de).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,F).addObserver(this),Nt(g(this,F),this.options)?B(this,V,Te).call(this):this.updateResult(),B(this,V,at).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ct(g(this,F),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ct(g(this,F),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,V,nt).call(this),B(this,V,it).call(this),g(this,F).removeObserver(this)}setOptions(s){const r=this.options,a=g(this,F);if(this.options=g(this,se).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ie(this.options.enabled,g(this,F))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,V,ot).call(this),g(this,F).setOptions(this.options),r._defaulted&&!Ze(this.options,r)&&g(this,se).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,F),observer:this});const i=this.hasListeners();i&&Ct(g(this,F),a,this.options,r)&&B(this,V,Te).call(this),this.updateResult(),i&&(g(this,F)!==a||ie(this.options.enabled,g(this,F))!==ie(r.enabled,g(this,F))||_e(this.options.staleTime,g(this,F))!==_e(r.staleTime,g(this,F)))&&B(this,V,tt).call(this);const c=B(this,V,st).call(this);i&&(g(this,F)!==a||ie(this.options.enabled,g(this,F))!==ie(r.enabled,g(this,F))||c!==g(this,ue))&&B(this,V,rt).call(this,c)}getOptimisticResult(s){const r=g(this,se).getQueryCache().build(g(this,se),s),a=this.createResult(r,s);return jr(this,a)&&(z(this,Z,a),z(this,ve,this.options),z(this,xe,g(this,F).state)),a}getCurrentResult(){return g(this,Z)}trackResult(s,r){const a={};return Object.keys(s).forEach(i=>{Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),s[i])})}),a}trackProp(s){g(this,Ce).add(s)}getCurrentQuery(){return g(this,F)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=g(this,se).defaultQueryOptions(s),a=g(this,se).getQueryCache().build(g(this,se),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(s){return B(this,V,Te).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,Z)))}createResult(s,r){var R;const a=g(this,F),i=this.options,c=g(this,Z),l=g(this,xe),h=g(this,ve),f=s!==a?s.state:g(this,Ie),{state:b}=s;let n={...b},m=!1,u;if(r._optimisticResults){const N=this.hasListeners(),D=!N&&Nt(s,r),M=N&&Ct(s,a,r,i);(D||M)&&(n={...n,...Wt(b.data,s.options)}),r._optimisticResults==="isRestoring"&&(n.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:d}=n;if(r.select&&n.data!==void 0)if(c&&n.data===(l==null?void 0:l.data)&&r.select===g(this,Ee))u=g(this,je);else try{z(this,Ee,r.select),u=r.select(n.data),u=Ye(c==null?void 0:c.data,u,r),z(this,je,u),z(this,ce,null)}catch(N){z(this,ce,N)}else u=n.data;if(r.placeholderData!==void 0&&u===void 0&&d==="pending"){let N;if(c!=null&&c.isPlaceholderData&&r.placeholderData===(h==null?void 0:h.placeholderData))N=c.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((R=g(this,Ne))==null?void 0:R.state.data,g(this,Ne)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),z(this,ce,null)}catch(D){z(this,ce,D)}N!==void 0&&(d="success",u=Ye(c==null?void 0:c.data,N,r),m=!0)}g(this,ce)&&(w=g(this,ce),u=g(this,je),v=Date.now(),d="error");const j=n.fetchStatus==="fetching",k=d==="pending",S=d==="error",E=k&&j,G=u!==void 0,p={status:d,fetchStatus:n.fetchStatus,isPending:k,isSuccess:d==="success",isError:S,isInitialLoading:E,isLoading:E,data:u,dataUpdatedAt:n.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:n.fetchFailureCount,failureReason:n.fetchFailureReason,errorUpdateCount:n.errorUpdateCount,isFetched:n.dataUpdateCount>0||n.errorUpdateCount>0,isFetchedAfterMount:n.dataUpdateCount>f.dataUpdateCount||n.errorUpdateCount>f.errorUpdateCount,isFetching:j,isRefetching:j&&!k,isLoadingError:S&&!G,isPaused:n.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&G,isStale:xt(s,r),refetch:this.refetch,promise:g(this,de)};if(this.options.experimental_prefetchInRender){const N=C=>{p.status==="error"?C.reject(p.error):p.data!==void 0&&C.resolve(p.data)},D=()=>{const C=z(this,de,p.promise=yt());N(C)},M=g(this,de);switch(M.status){case"pending":s.queryHash===a.queryHash&&N(M);break;case"fulfilled":(p.status==="error"||p.data!==M.value)&&D();break;case"rejected":(p.status!=="error"||p.error!==M.reason)&&D();break}}return p}updateResult(){const s=g(this,Z),r=this.createResult(g(this,F),this.options);if(z(this,xe,g(this,F).state),z(this,ve,this.options),g(this,xe).data!==void 0&&z(this,Ne,g(this,F)),Ze(r,s))return;z(this,Z,r);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!g(this,Ce).size)return!0;const l=new Set(c??g(this,Ce));return this.options.throwOnError&&l.add("error"),Object.keys(g(this,Z)).some(h=>{const x=h;return g(this,Z)[x]!==s[x]&&l.has(x)})};B(this,V,Ht).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,V,at).call(this)}},se=new WeakMap,F=new WeakMap,Ie=new WeakMap,Z=new WeakMap,xe=new WeakMap,ve=new WeakMap,de=new WeakMap,ce=new WeakMap,Ee=new WeakMap,je=new WeakMap,Ne=new WeakMap,ge=new WeakMap,pe=new WeakMap,ue=new WeakMap,Ce=new WeakMap,V=new WeakSet,Te=function(s){B(this,V,ot).call(this);let r=g(this,F).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Je)),r},tt=function(){B(this,V,nt).call(this);const s=_e(this.options.staleTime,g(this,F));if(et||g(this,Z).isStale||!bt(s))return;const a=Vt(g(this,Z).dataUpdatedAt,s)+1;z(this,ge,setTimeout(()=>{g(this,Z).isStale||this.updateResult()},a))},st=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,F)):this.options.refetchInterval)??!1},rt=function(s){B(this,V,it).call(this),z(this,ue,s),!(et||ie(this.options.enabled,g(this,F))===!1||!bt(g(this,ue))||g(this,ue)===0)&&z(this,pe,setInterval(()=>{(this.options.refetchIntervalInBackground||Gs.isFocused())&&B(this,V,Te).call(this)},g(this,ue)))},at=function(){B(this,V,tt).call(this),B(this,V,rt).call(this,B(this,V,st).call(this))},nt=function(){g(this,ge)&&(clearTimeout(g(this,ge)),z(this,ge,void 0))},it=function(){g(this,pe)&&(clearInterval(g(this,pe)),z(this,pe,void 0))},ot=function(){const s=g(this,se).getQueryCache().build(g(this,se),this.options);if(s===g(this,F))return;const r=g(this,F);z(this,F,s),z(this,Ie,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Ht=function(s){mt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(g(this,Z))}),g(this,se).getQueryCache().notify({query:g(this,F),type:"observerResultsUpdated"})})},Mt);function vr(t,s){return ie(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Nt(t,s){return vr(t,s)||t.state.data!==void 0&&ct(t,s,s.refetchOnMount)}function ct(t,s,r){if(ie(s.enabled,t)!==!1){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&xt(t,s)}return!1}function Ct(t,s,r,a){return(t!==s||ie(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&xt(t,r)}function xt(t,s){return ie(s.enabled,t)!==!1&&t.isStaleByTime(_e(s.staleTime,t))}function jr(t,s){return!Ze(t.getCurrentResult(),s)}function Oa(t,s){return Ws(t,s)}function Nr(t){return JSON.stringify(t,(s,r)=>Cr(r)?Object.keys(r).sort().reduce((a,i)=>(a[i]=r[i],a),{}):typeof r=="bigint"?r.toString():r)}function Cr(t){if(!kt(t))return!1;const s=t.constructor;if(typeof s>"u")return!0;const r=s.prototype;return!(!kt(r)||!r.hasOwnProperty("isPrototypeOf"))}function kt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Qt(t){const{_defaulted:s,behavior:r,gcTime:a,initialData:i,initialDataUpdatedAt:c,maxPages:l,meta:h,networkMode:x,queryFn:f,queryHash:b,queryKey:n,queryKeyHashFn:m,retry:u,retryDelay:w,structuralSharing:v,getPreviousPageParam:d,getNextPageParam:j,initialPageParam:k,_optimisticResults:S,enabled:E,notifyOnChangeProps:G,placeholderData:W,refetchInterval:p,refetchIntervalInBackground:R,refetchOnMount:N,refetchOnReconnect:D,refetchOnWindowFocus:M,retryOnMount:C,select:O,staleTime:ee,suspense:fe,throwOnError:re,config:Q,connector:te,query:J,...ye}=t;return ye}function kr(t,s={}){return{async queryFn({queryKey:r}){const{address:a,scopeKey:i,...c}=r[1];if(!a)throw new Error("address is required");return await Es(t,{...c,address:a})??null},queryKey:Sr(s)}}function Sr(t={}){return["balance",Qt(t)]}function Tr(t,s={}){return{gcTime:0,async queryFn({queryKey:r}){const{connector:a}=s,{connectorUid:i,scopeKey:c,...l}=r[1];return pr(t,{...l,connector:a})},queryKey:Rr(s)}}function Rr(t={}){const{connector:s,...r}=t;return["walletClient",{...Qt(r),connectorUid:s==null?void 0:s.uid}]}function Mr(t){return{mutationFn(s){return Ds(t,s)},mutationKey:["switchChain"]}}var Xt=y.createContext(!1),Ar=()=>y.useContext(Xt);Xt.Provider;function Ir(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Er=y.createContext(Ir()),Dr=()=>y.useContext(Er),Pr=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},$r=t=>{y.useEffect(()=>{t.clearReset()},[t])},Fr=({result:t,errorResetBoundary:s,throwOnError:r,query:a,suspense:i})=>t.isError&&!s.isReset()&&!t.isFetching&&a&&(i&&t.data===void 0||Hs(r,[t.error,a])),Or=t=>{const s=t.staleTime;t.suspense&&(t.staleTime=typeof s=="function"?(...r)=>Math.max(s(...r),1e3):Math.max(s??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},zr=(t,s)=>t.isLoading&&t.isFetching&&!s,_r=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,St=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function Lr(t,s,r){var n,m,u,w,v;const a=qt(),i=Ar(),c=Dr(),l=a.defaultQueryOptions(t);(m=(n=a.getDefaultOptions().queries)==null?void 0:n._experimental_beforeQuery)==null||m.call(n,l),l._optimisticResults=i?"isRestoring":"optimistic",Or(l),Pr(l,c),$r(c);const h=!a.getQueryCache().get(l.queryHash),[x]=y.useState(()=>new s(a,l)),f=x.getOptimisticResult(l),b=!i&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(d=>{const j=b?x.subscribe(mt.batchCalls(d)):wt;return x.updateResult(),j},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),y.useEffect(()=>{x.setOptions(l)},[l,x]),_r(l,f))throw St(l,x,c);if(Fr({result:f,errorResetBoundary:c,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((w=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||w.call(u,l,f),l.experimental_prefetchInRender&&!et&&zr(f,i)){const d=h?St(l,x,c):(v=a.getQueryCache().get(l.queryHash))==null?void 0:v.promise;d==null||d.catch(wt).finally(()=>{x.updateResult()})}return l.notifyOnChangeProps?f:x.trackResult(f)}function Ur(t,s){return Lr(t,wr)}function Yt(t){const s=Ur({...t,queryKeyHashFn:Nr});return s.queryKey=t.queryKey,s}function Se(t={}){const s=Pe(t);return y.useSyncExternalStore(r=>fr(s,{onChange:r}),()=>vt(s),()=>vt(s))}function Vr(t={}){const{address:s,query:r={}}=t,a=Pe(t),i=Se({config:a}),c=kr(a,{...t,chainId:t.chainId??i}),l=!!(s&&(r.enabled??!0));return Yt({...r,...c,enabled:l})}function qr(t={}){const s=Pe(t);return y.useSyncExternalStore(r=>yr(s,{onChange:r}),()=>jt(s),()=>jt(s))}function Ve(t={}){const{mutation:s}=t,r=Pe(t),a=Mr(r),{mutate:i,mutateAsync:c,...l}=Qs({...s,...a});return{...l,chains:qr({config:r}),switchChain:i,switchChainAsync:c}}function Jt(t={}){const{query:s={},...r}=t,a=Pe(r),i=qt(),{address:c,connector:l,status:h}=$e({config:a}),x=Se({config:a}),f=t.connector??l,{queryKey:b,...n}=Tr(a,{...t,chainId:t.chainId??x,connector:t.connector??l}),m=!!((h==="connected"||h==="reconnecting"&&(f!=null&&f.getProvider))&&(s.enabled??!0)),u=y.useRef(c);return y.useEffect(()=>{const w=u.current;!c&&w?(i.removeQueries({queryKey:b}),u.current=void 0):c!==w&&(i.invalidateQueries({queryKey:b}),u.current=c)},[c,i]),Yt({...s,...n,queryKey:b,enabled:m,staleTime:Number.POSITIVE_INFINITY})}const Zt="orderly-key",qe={Registration:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"timestamp",type:"uint64"},{name:"registrationNonce",type:"uint256"}],AddOrderlyKey:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"orderlyKey",type:"string"},{name:"scope",type:"string"},{name:"timestamp",type:"uint64"},{name:"expiration",type:"uint64"}],DelegateAddOrderlyKey:[{name:"delegateContract",type:"address"},{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"orderlyKey",type:"string"},{name:"scope",type:"string"},{name:"timestamp",type:"uint64"},{name:"expiration",type:"uint64"}],DelegateWithdraw:[{name:"delegateContract",type:"address"},{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"receiver",type:"address"},{name:"token",type:"string"},{name:"amount",type:"uint256"},{name:"withdrawNonce",type:"uint64"},{name:"timestamp",type:"uint64"}]};async function es(t,s){var i;const r=await fetch(`${oe()}/v1/get_account?address=${t}&broker_id=${s}`);if(!r.ok)throw new Error("Failed to check account registration status");const a=await r.json();return a.success&&((i=a.data)!=null&&i.account_id)?{isRegistered:!0,accountId:a.data.account_id}:{isRegistered:!1}}async function za(t,s,r=20,a=1e3){for(let i=1;i<=r;i++)try{const c=await es(t,s);if(c.isRegistered&&c.accountId)return c.accountId;if(i<r){const l=a*i;await new Promise(h=>setTimeout(h,l))}}catch(c){if(console.warn(`Registration check attempt ${i} failed:`,c),i<r){const l=a*i;await new Promise(h=>setTimeout(h,l))}}throw new Error("Account registration polling timed out. Please try again later.")}async function _a(t,s,r,a){const i=await es(s,a);if(i.isRegistered&&i.accountId)return i.accountId;const h=(await(await fetch(`${oe()}/v1/registration_nonce`)).json()).data.registration_nonce,x={brokerId:a,chainId:Number(r),timestamp:Date.now(),registrationNonce:h},f=await t.signTypedData(gt(r),{Registration:qe.Registration},x),n=await(await fetch(`${oe()}/v1/register_account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:x,signature:f,userAddress:s})})).json();if(!n.success)throw new Error(n.message);return n.data.account_id}async function Br(t,s,r,a,i,c){const l=At.randomPrivateKey(),h=`ed25519:${Re(await Le(l))}`,x=Date.now(),f={brokerId:a,chainId:Number(r),orderlyKey:h,scope:i,timestamp:x,expiration:x+1e3*60*60*24*365},b=await t.signTypedData(gt(r),{AddOrderlyKey:qe.AddOrderlyKey},f),m=await(await fetch(`${oe()}/v1/orderly_key`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:f,signature:b,userAddress:s})})).json();if(!m.success)throw new Error(m.message);return ss(c,l),l}async function Kr(t,s,r,a,i,c,l){const h=At.randomPrivateKey(),x=`ed25519:${Re(await Le(h))}`,f=Date.now(),b={delegateContract:r,brokerId:i,chainId:Number(a),orderlyKey:x,scope:c,timestamp:f,expiration:f+1e3*60*60*24*365},n=await t.signTypedData(gt(a),{DelegateAddOrderlyKey:qe.DelegateAddOrderlyKey},b),u=await(await fetch(`${oe()}/v1/delegate_orderly_key`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:b,signature:n,userAddress:s})})).json();if(!u.success)throw new Error(u.message);return ss(l,h),h}async function Gr(t,s,r,a,i,c,l,h,x,f){const m=(await(await ke(x,f,`${oe()}/v1/withdraw_nonce`)).json()).data.withdraw_nonce,u={delegateContract:r,brokerId:i,chainId:Number(a),receiver:c,token:l,amount:h,timestamp:Date.now(),withdrawNonce:m},w=await t.signTypedData(Xr(a),{DelegateWithdraw:qe.DelegateWithdraw},u),d=await(await ke(x,f,`${oe()}/v1/delegate_withdraw_request`,{method:"POST",body:JSON.stringify({message:u,signature:w,userAddress:s,verifyingContract:as()})})).json();if(!d.success)throw new Error(d.message)}async function Wr(t,s){var i;const a=await(await ke(t,s,`${oe()}/v1/client/holding`)).json();if(!a.success)throw new Error(a.message||"Failed to fetch holdings");return((i=a.data)==null?void 0:i.holding)||[]}async function ke(t,s,r,a){const i=Date.now(),c=new TextEncoder,l=new URL(r);let h=`${String(i)}${(a==null?void 0:a.method)??"GET"}${l.pathname}`;a!=null&&a.body&&(h+=a.body);const x=await us(c.encode(h),s);return fetch(r,{headers:{"Content-Type":(a==null?void 0:a.method)!=="GET"&&(a==null?void 0:a.method)!=="DELETE"?"application/json":"application/x-www-form-urlencoded","orderly-timestamp":String(i),"orderly-account-id":t,"orderly-key":`ed25519:${Re(await Le(s))}`,"orderly-signature":rs(x),...(a==null?void 0:a.headers)??{}},...a??{}})}async function La(t,s,r){const i=await(await ke(t,s,`${oe()}/v1/referral/auto_referral/update`,{method:"POST",body:JSON.stringify(r)})).json();if(!i.success)throw new Error(i.message||"Failed to update auto referral settings")}async function Ua(t,s,r,a,i,c){const l={maker_fee_rate:r,taker_fee_rate:a};i!==void 0&&(l.rwa_maker_fee_rate=i),c!==void 0&&(l.rwa_taker_fee_rate=c);const x=await(await ke(t,s,`${oe()}/v1/broker/fee_rate/default`,{method:"POST",body:JSON.stringify(l)})).json();if(!x.success)throw new Error(x.message||"Failed to update broker fees")}async function Va(t,s){const a=await(await ke(t,s,`${oe()}/v1/referral/auto_referral/info`)).json();if(!a.success)throw new Error(a.message||"Failed to get auto referral info");return a.data||null}function ts(t,s){const r=ls.defaultAbiCoder();return cs(r.encode(["address","bytes32"],[t,ds(["string"],[s])]))}function Hr(t){const r=window.localStorage.getItem(`${Zt}:${t}:mainnet`);if(r)return Qr(r)}function ss(t,s){window.localStorage.setItem(`${Zt}:${t}:mainnet`,rs(s))}function rs(t){return btoa(Array.from(new Uint8Array(t)).map(s=>String.fromCharCode(s)).join("")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qr(t){return new Uint8Array(atob(t.replace(/-/g,"+").replace(/_/g,"/")).split("").map(s=>s.charCodeAt(0)))}function gt(t){return{name:"Orderly",version:"1",chainId:Number(t),verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"}}function Xr(t){return{name:"Orderly",version:"1",chainId:Number(t),verifyingContract:as()}}function oe(){switch("mainnet"){case"mainnet":return"https://api.orderly.org";case"staging":return"https://testnet-api.orderly.org";case"qa":return"https://qa-api-aliyun.orderly.network";case"dev":default:return"https://dev-api-aliyun.orderly.network"}}function as(){switch("mainnet"){case"mainnet":return"0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203";case"staging":return"0x1826B75e2ef249173FC735149AE4B8e9ea10abff";case"qa":return"0x50F59504D3623Ad99302835da367676d1f7E3D44";case"dev":default:return"0x8794E7260517B1766fc7b55cAfcd56e6bf08600e"}}function Yr({isOpen:t,onClose:s,onLogin:r}){const[a,i]=y.useState(!1);if(!t)return null;const c=async()=>{i(!0);try{await r()}finally{i(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:a?void 0:s}),e.jsxs("div",{className:"relative z-[1002] max-w-md p-6 rounded-xl bg-background-light border border-primary-light/20 shadow-2xl slide-fade-in",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 gradient-text",children:"Complete Your Login"}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:"You're almost there! To secure your session, you'll need to sign a message with your wallet."}),e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-secondary-light/10 text-sm",children:[e.jsx("h4",{className:"font-semibold mb-2 text-secondary-light",children:"Why do I need to sign?"}),e.jsx("p",{className:"text-gray-400",children:"Signing a message proves you own this wallet without sharing your private keys. This is a secure method that doesn't cost any gas fees or involve blockchain transactions."})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"secondary",onClick:s,disabled:a,children:"Later"}),e.jsx(K,{variant:"primary",onClick:c,isLoading:a,loadingText:"Signing",children:"Sign Message"})]})]})]})}function Jr({isOpen:t,onClose:s,onConfirm:r,entityName:a}){const[i,c]=y.useState(!1);if(!t)return null;const l=async()=>{c(!0);try{await r(),s()}catch(h){console.error("Error during deletion:",h)}finally{c(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:i?void 0:s}),e.jsxs("div",{className:"relative z-[1002] max-w-md p-6 rounded-xl bg-background-light border border-red-500/20 shadow-2xl slide-fade-in",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-red-500",children:["Delete ",a]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete this ",a.toLowerCase(),"? This action cannot be undone."]}),e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-red-500/10 text-sm",children:[e.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Warning"}),e.jsxs("p",{className:"text-gray-400",children:["Deleting your ",a.toLowerCase()," will permanently remove all associated data from the system, including the GitHub repository. However, any deployed instances on GitHub Pages will remain active and must be manually disabled through GitHub."]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"ghost",onClick:s,disabled:i,children:"Cancel"}),e.jsxs(K,{variant:"danger",onClick:l,isLoading:i,loadingText:"Deleting",children:["Delete ",a]})]})]})]})}function Zr({isOpen:t,onClose:s,onConfirm:r,title:a,message:i,warningMessage:c,confirmButtonText:l,confirmButtonVariant:h="primary",cancelButtonText:x="Cancel",isDestructive:f=!1}){const[b,n]=y.useState(!1);if(!t)return null;const m=async()=>{n(!0);try{await r(),s()}catch(j){console.error("Error during confirmation action:",j)}finally{n(!1)}},u=()=>{switch(h){case"danger":return"border-error/20";case"warning":return"border-warning/20";case"success":return"border-success/20";default:return"border-primary/20"}},w=()=>{switch(h){case"danger":return"text-error";case"warning":return"text-warning";case"success":return"text-success";default:return"text-primary-light"}},v=()=>{switch(h){case"danger":return"border-error/10";case"warning":return"border-warning/10";case"success":return"border-success/10";default:return"border-primary/10"}},d=()=>{switch(h){case"danger":return"text-error";case"warning":return"text-warning";case"success":return"text-success";default:return"text-primary-light"}};return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:b?void 0:s}),e.jsxs("div",{className:`relative z-[1002] max-w-md p-6 rounded-xl bg-background-light border ${u()} shadow-2xl slide-fade-in`,children:[e.jsx("h3",{className:`text-xl font-bold mb-4 ${w()}`,children:a}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:i}),c&&e.jsxs("div",{className:`bg-background-dark/50 p-4 rounded-lg border ${v()} text-sm`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${d()}`,children:f?"⚠️ Warning":"ℹ️ Important"}),e.jsx("p",{className:"text-gray-400",children:c})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"ghost",onClick:s,disabled:b,children:x}),e.jsx(K,{variant:h,onClick:m,isLoading:b,loadingText:"Processing...",children:l})]})]})]})}function ea({isOpen:t,onClose:s,onApply:r,imageSource:a,originalDimensions:i,initialCrop:c,targetDimensions:l,enforceSquare:h=!1,enforce16by9:x=!1}){const[f,b]=y.useState(!1),[n,m]=y.useState(c),[u,w]=y.useState({width:c.width,height:c.height}),[v,d]=y.useState(!1),[j,k]=y.useState(null),[S,E]=y.useState(1),G=y.useRef(n),W=y.useRef({x:0,y:0}),p=y.useRef(null),R=y.useRef(!1),N=y.useRef(null),D=y.useRef(1),M=y.useRef(null),C=y.useRef(null),O=y.useCallback((T,I)=>{const A=T>l.width,P=I>l.height;if(A||P){const $=l.width/T,q=l.height/I,L=Math.min($,q);return{width:Math.round(T*L),height:Math.round(I*L)}}return{width:T,height:I}},[l]),ee=y.useCallback(async()=>{if(!(n.width<=0||n.height<=0)){b(!0);try{await r(n,u),s()}catch(T){console.error("Error applying crop:",T)}finally{b(!1)}}},[n,u,r,s]);if(y.useEffect(()=>{G.current=n},[n]),y.useEffect(()=>{R.current=v},[v]),y.useEffect(()=>{N.current=j},[j]),y.useEffect(()=>{D.current=S},[S]),y.useEffect(()=>{m(c),w(O(c.width,c.height))},[c,O]),y.useEffect(()=>{w(O(n.width,n.height))},[O,n.width,n.height]),y.useEffect(()=>{t&&a&&M.current&&i&&fe()},[t,n,a]),y.useEffect(()=>{const T=I=>{I.key==="Enter"&&!f&&(I.preventDefault(),ee())};return t&&window.addEventListener("keydown",T),()=>{window.removeEventListener("keydown",T)}},[t,f,ee]),y.useEffect(()=>{const T=A=>{if(!R.current||!M.current||!p.current)return;const $=M.current.getBoundingClientRect(),q=A.clientX-$.left,L=A.clientY-$.top,U=(q-W.current.x)/D.current,_=(L-W.current.y)/D.current;let o={...p.current};switch(N.current){case"center":o.x=Math.max(0,Math.min(i.width-o.width,o.x+U)),o.y=Math.max(0,Math.min(i.height-o.height,o.y+_));break;case"top-left":if(h){const Oe=Math.max(U,_);o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+Oe)),o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+Oe)),o.width=p.current.x+p.current.width-o.x,o.height=o.width}else x?(o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.width=p.current.x+p.current.width-o.x,o.height=o.width/1.7777777777777777):(o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.width=p.current.x+p.current.width-o.x,o.height=p.current.y+p.current.height-o.y);break;case"top-right":h?(o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.width=Math.max(10,Math.min(i.width-o.x,p.current.width-_)),o.height=o.width):x?(o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+U)),o.height=o.width/1.7777777777777777):(o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+U)),o.height=p.current.y+p.current.height-o.y);break;case"bottom-left":h?(o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.width=p.current.x+p.current.width-o.x,o.height=o.width):x?(o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.width=p.current.x+p.current.width-o.x,o.height=o.width/1.7777777777777777):(o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.width=p.current.x+p.current.width-o.x,o.height=Math.max(10,Math.min(i.height-o.y,p.current.height+_)));break;case"bottom-right":if(h){const Oe=Math.max(U,_);o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+Oe)),o.height=o.width}else x?(o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+U)),o.height=o.width/1.7777777777777777):(o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+U)),o.height=Math.max(10,Math.min(i.height-o.y,p.current.height+_)));break;case"top":o.y=Math.max(0,Math.min(o.y+o.height-10,o.y+_)),o.height=p.current.y+p.current.height-o.y,h?o.width=o.height:x&&(o.width=o.height*1.7777777777777777);break;case"bottom":o.height=Math.max(10,Math.min(i.height-o.y,p.current.height+_)),h?o.width=o.height:x&&(o.width=o.height*1.7777777777777777);break;case"left":o.x=Math.max(0,Math.min(o.x+o.width-10,o.x+U)),o.width=p.current.x+p.current.width-o.x,h?o.height=o.width:x&&(o.height=o.width/1.7777777777777777);break;case"right":o.width=Math.max(10,Math.min(i.width-o.x,p.current.width+U)),h?o.height=o.width:x&&(o.height=o.width/1.7777777777777777);break}o.width=Math.max(10,o.width),o.height=Math.max(10,o.height);const Be={x:Math.round(o.x),y:Math.round(o.y),width:Math.round(o.width),height:Math.round(o.height)};m(Be),w(O(Be.width,Be.height))},I=()=>{d(!1),k(null),R.current=!1,N.current=null,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",I)};if(v)return window.addEventListener("mousemove",T),window.addEventListener("mouseup",I),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",I)}},[v,h,x,i,O]),!t)return null;const fe=()=>{if(!M.current||!a)return;const T=M.current,I=T.getContext("2d");if(!I)return;I.clearRect(0,0,T.width,T.height);const A=new Image;A.onload=()=>{const $=Math.min(300/A.width,300/A.height);E($),T.width=A.width*$,T.height=A.height*$,I.drawImage(A,0,0,T.width,T.height);const q=n.x*$,L=n.y*$,U=n.width*$,_=n.height*$;I.fillStyle="rgba(0, 0, 0, 0.7)",I.fillRect(0,0,T.width,L),I.fillRect(0,L,q,_),I.fillRect(q+U,L,T.width-(q+U),_),I.fillRect(0,L+_,T.width,T.height-(L+_)),I.strokeStyle="rgb(89, 91, 255)",I.lineWidth=2,I.strokeRect(q,L,U,_);const o=8;re(I,q-o/2,L-o/2,o,o),re(I,q+U-o/2,L-o/2,o,o),re(I,q-o/2,L+_-o/2,o,o),re(I,q+U-o/2,L+_-o/2,o,o),re(I,q+U/2-o/2,L-o/2,o,o),re(I,q+U/2-o/2,L+_-o/2,o,o),re(I,q-o/2,L+_/2-o/2,o,o),re(I,q+U-o/2,L+_/2-o/2,o,o)},A.src=a},re=(T,I,A,P,$)=>{T.fillStyle="white",T.fillRect(I,A,P,$),T.strokeStyle="rgb(89, 91, 255)",T.lineWidth=1,T.strokeRect(I,A,P,$)},Q=(T,I)=>{let A=Math.max(0,Math.round(I));if(T==="x")A=Math.min(A,i.width-n.width);else if(T==="y")A=Math.min(A,i.height-n.height);else if(T==="width"){if(A=Math.min(A,i.width-n.x),h){m(P=>({...P,height:A,width:A}));return}if(x){const P=A/1.7777777777777777;m($=>({...$,width:A,height:P})),w(O(A,P));return}}else if(T==="height"){if(A=Math.min(A,i.height-n.y),h){m(P=>({...P,width:A,height:A}));return}if(x){const P=A*1.7777777777777777;m($=>({...$,height:A,width:P})),w(O(P,A));return}}if(m(P=>({...P,[T]:A})),T==="width"||T==="height"){const P={...n,[T]:A};w(O(P.width,P.height))}},te=T=>{if(!M.current)return;const A=M.current.getBoundingClientRect(),P=T.clientX-A.left,$=T.clientY-A.top;W.current={x:P,y:$},p.current={...n};const q=n.x*S,L=n.y*S,U=n.width*S,_=n.height*S,o=10;if(J(P,$,q,L,o))k("top-left"),N.current="top-left";else if(J(P,$,q+U,L,o))k("top-right"),N.current="top-right";else if(J(P,$,q,L+_,o))k("bottom-left"),N.current="bottom-left";else if(J(P,$,q+U,L+_,o))k("bottom-right"),N.current="bottom-right";else if(J(P,$,q+U/2,L,o,!0))k("top"),N.current="top";else if(J(P,$,q+U/2,L+_,o,!0))k("bottom"),N.current="bottom";else if(J(P,$,q,L+_/2,o,!0))k("left"),N.current="left";else if(J(P,$,q+U,L+_/2,o,!0))k("right"),N.current="right";else if(P>=q&&P<=q+U&&$>=L&&$<=L+_)k("center"),N.current="center";else return;d(!0),R.current=!0},J=(T,I,A,P,$,q=!1)=>Math.abs(T-A)<=$&&Math.abs(I-P)<=$,ye=()=>{if(!j)return"default";switch(j){case"top-left":return"nwse-resize";case"top-right":return"nesw-resize";case"bottom-left":return"nesw-resize";case"bottom-right":return"nwse-resize";case"top":return"ns-resize";case"bottom":return"ns-resize";case"left":return"ew-resize";case"right":return"ew-resize";case"center":return"move";default:return"default"}};return e.jsxs("div",{className:"fixed inset-0 z-[1000] overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:f?void 0:s}),e.jsx("div",{className:"relative z-[1002] min-h-screen flex items-center justify-center p-2 sm:p-4",children:e.jsxs("div",{className:"w-full max-w-4xl p-4 sm:p-6 rounded-xl bg-background-light border border-light/10 shadow-2xl slide-fade-in my-4 sm:my-8 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Crop Image"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 lg:gap-6",children:[e.jsx("div",{className:"flex-grow flex justify-center",children:e.jsxs("div",{ref:C,className:"relative",children:[e.jsx("canvas",{ref:M,className:"border border-light/20 rounded-md max-w-full max-h-[300px]",width:300,height:300,onMouseDown:te,style:{cursor:ye()}}),e.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:"Drag to move, handles to resize"})]})}),e.jsxs("div",{className:"flex flex-col gap-3 min-w-[150px] lg:min-w-[200px]",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block",children:"X"}),e.jsx("input",{type:"number",value:n.x,onChange:T=>Q("x",parseInt(T.target.value)),className:"w-full px-2 py-1 bg-dark/50 border border-light/10 rounded-lg text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block",children:"Y"}),e.jsx("input",{type:"number",value:n.y,onChange:T=>Q("y",parseInt(T.target.value)),className:"w-full px-2 py-1 bg-dark/50 border border-light/10 rounded-lg text-xs"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Size"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block",children:"Width"}),e.jsx("input",{type:"number",value:n.width,onChange:T=>Q("width",parseInt(T.target.value)),className:"w-full px-2 py-1 bg-dark/50 border border-light/10 rounded-lg text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block",children:"Height"}),e.jsx("input",{type:"number",value:n.height,onChange:T=>Q("height",parseInt(T.target.value)),className:"w-full px-2 py-1 bg-dark/50 border border-light/10 rounded-lg text-xs",disabled:h})]})]}),h&&e.jsx("p",{className:"text-xs text-gray-400",children:"This image type requires a square aspect ratio"})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-3",children:[e.jsxs("p",{children:["Original size: ",i.width,"x",i.height,"px"]}),e.jsxs("p",{children:["Crop size: ",n.width,"x",n.height,"px"]}),e.jsxs("p",{children:["Final output size: ",u.width,"x",u.height,"px"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max size: ",l.width,"x",l.height,"px"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[e.jsx(K,{variant:"ghost",onClick:s,disabled:f,children:"Cancel"}),e.jsx(K,{variant:"primary",onClick:ee,isLoading:f,loadingText:"Applying",children:"Apply Crop"})]})]})})]})}function ta({css:t,onColorChange:s}){const[r,a]=y.useState(!0),i=d=>{const j={},k=/--oui-color-([a-zA-Z0-9-]+):\s*([^;]+)/g;let S;for(;(S=k.exec(d))!==null;){const[,E,G]=S,W=/^\s*(\d+)\s+(\d+)\s+(\d+)\s*$/;G.match(W)?j[E]=G.trim().replace(/\s+/g," "):j[E]=null}return j},c=d=>{const j={},k=/--oui-gradient-([a-zA-Z0-9-]+):\s*([^;]+);/g;let S;for(;(S=k.exec(d))!==null;){const[,E,G]=S;j[E]=G.trim()}return j},l=d=>{const[j,k,S]=d.replace(/,/g," ").split(/\s+/).map(Number);return`#${((1<<24)+(j<<16)+(k<<8)+S).toString(16).slice(1)}`},h=i(t),x=c(t),f=Object.keys(h),n=[{title:"Primary Colors",colors:f.filter(d=>d.includes("primary")||d.includes("link")||d==="secondary"||d==="tertiary"||d==="quaternary")},{title:"Status Colors",colors:f.filter(d=>d.includes("success")||d.includes("warning")||d.includes("danger"))},{title:"Base Colors",colors:f.filter(d=>d.includes("base"))},{title:"Trading Colors",colors:f.filter(d=>d.includes("trading"))},{title:"Fill Colors",colors:f.filter(d=>d.includes("fill"))},{title:"Line Colors",colors:f.filter(d=>d.includes("line")&&!d.includes("trading"))},{title:"Other Colors",colors:f.filter(d=>!d.includes("primary")&&!d.includes("link")&&!d.includes("success")&&!d.includes("warning")&&!d.includes("danger")&&!d.includes("base")&&!d.includes("trading")&&!d.includes("fill")&&!d.includes("line")&&d!=="secondary"&&d!=="tertiary"&&d!=="quaternary")}].filter(d=>d.colors.length>0);function m(d){return d.split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ")}const u=d=>{const[j,k,S]=d.split(",").map(Number);return(.299*j+.587*k+.114*S)/255<.5},w=d=>{const j=m(d),k=h[d],S=k!==null,E=S?k==null?void 0:k.replace(/\s+/g,","):"255,0,0",G=u(E),W=G?"white":"black",p=G,R=N=>{const D=N.target.value;s(`oui-color-${d}`,D)};return e.jsx("div",{className:"relative flex-[0_1_160px]",children:e.jsxs("div",{className:`h-16 w-full rounded-md flex items-center justify-between px-3 py-2 border ${S?"border-light/10":"border-error/50"} cursor-pointer hover:ring-2 hover:ring-primary transition-all`,style:{backgroundColor:S?`rgb(${E})`:k===null?"rgba(255,255,255,0.05)":"rgba(255,0,0,0.15)"},title:S?`Click to edit ${j} Color, use checkbox to select`:k===null?`Click to set ${j} Color`:`Invalid CSS format for ${j}`,children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium text-[0.8rem]",style:{color:S?W:"white",textShadow:p||!S?"0 0 2px rgba(0,0,0,0.8)":"none"},children:j}),e.jsx("span",{className:"text-[0.65rem] opacity-80",style:{color:S?W:"white",textShadow:p||!S?"0 0 2px rgba(0,0,0,0.8)":"none"},children:S?`RGB(${k==null?void 0:k.replace(/\s+/g,", ")})`:k===null?"Not set":"Invalid format"})]}),!S&&k!=null&&e.jsx("div",{className:"absolute -right-3 -top-3 text-error bg-background-dark/90 rounded-full p-0.5 h-5 w-5 flex items-center justify-center",children:e.jsx("span",{className:"i-mdi:alert-circle text-xs"})}),e.jsx("input",{type:"color",className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",value:S?l(E):"#FF0000",onChange:R,onClick:N=>N.stopPropagation()})]})},d)},v=()=>{const d=x["brand-start"],j=x["brand-end"],k=x["brand-angle"]||"17.44deg",S=x["brand-stop-start"]||"6.62%",E=x["brand-stop-end"]||"86.5%",G=d&&j;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-300",children:"Brand Gradient"}),e.jsxs("label",{className:"flex items-center cursor-pointer relative",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:()=>a(!r),className:"sr-only"}),e.jsx("div",{className:`w-10 h-5 rounded-full mr-2 flex items-center px-0.5 transition-colors duration-200 ease-in-out ${r?"bg-primary/60":"bg-background-dark/80"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform duration-200 ease-in-out ${r?"transform translate-x-5":"transform translate-x-0"}`})}),e.jsx("span",{className:"text-xs text-gray-300",children:"Sync with primary"})]})]}),G?e.jsx("div",{className:"w-full h-16 rounded-md border border-light/10 overflow-hidden mb-2",style:{background:`linear-gradient(${k}, rgb(${d.replace(/\s+/g,",")}) ${S}, rgb(${j.replace(/\s+/g,",")}) ${E})`}}):e.jsx("div",{className:"w-full h-16 rounded-md border border-error/50 bg-background-dark/50 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Invalid gradient format"})}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Brand gradient is used for primary buttons and important UI elements"})]})};return e.jsxs("div",{className:"space-y-6",children:[v(),n.map(d=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-300",children:[d.title," (",d.colors.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-3 mt-4",children:d.colors.map(j=>w(j))})]},d.title))]})}function sa(t){if(!t)return{};const s={},r=/--([^:]+):\s*([^;]+);/g;let a;for(;(a=r.exec(t))!==null;)s[a[1]]=a[2].trim();return s}function ra(t){const s=sa(t);return{fontFamily:s["oui-font-family"]||"'Manrope', sans-serif",fontSize:s["oui-font-size-base"]||"16px"}}function qa(t){return`:root {
  --oui-font-family: ${t["oui-font-family"]||"'Manrope', sans-serif"};
  --oui-font-size-base: ${t["oui-font-size-base"]||"16px"};

  /* colors */
  --oui-color-primary: ${t["oui-color-primary"]||"176 132 233"};
  --oui-color-primary-light: ${t["oui-color-primary-light"]||"213 190 244"};
  --oui-color-primary-darken: ${t["oui-color-primary-darken"]||"137 76 209"};
  --oui-color-primary-contrast: ${t["oui-color-primary-contrast"]||"255 255 255"};

  --oui-color-link: ${t["oui-color-link"]||"189 107 237"};
  --oui-color-link-light: ${t["oui-color-link-light"]||"217 152 250"};

  --oui-color-secondary: ${t["oui-color-secondary"]||"255 255 255"};
  --oui-color-tertiary: ${t["oui-color-tertiary"]||"218 218 218"};
  --oui-color-quaternary: ${t["oui-color-quaternary"]||"218 218 218"};

  --oui-color-danger: ${t["oui-color-danger"]||"245 97 139"};
  --oui-color-danger-light: ${t["oui-color-danger-light"]||"250 167 188"};
  --oui-color-danger-darken: ${t["oui-color-danger-darken"]||"237 72 122"};
  --oui-color-danger-contrast: ${t["oui-color-danger-contrast"]||"255 255 255"};

  --oui-color-success: ${t["oui-color-success"]||"41 233 169"};
  --oui-color-success-light: ${t["oui-color-success-light"]||"101 240 194"};
  --oui-color-success-darken: ${t["oui-color-success-darken"]||"0 161 120"};
  --oui-color-success-contrast: ${t["oui-color-success-contrast"]||"255 255 255"};

  --oui-color-warning: ${t["oui-color-warning"]||"255 209 70"};
  --oui-color-warning-light: ${t["oui-color-warning-light"]||"255 229 133"};
  --oui-color-warning-darken: ${t["oui-color-warning-darken"]||"255 152 0"};
  --oui-color-warning-contrast: ${t["oui-color-warning-contrast"]||"255 255 255"};

  --oui-color-fill: ${t["oui-color-fill"]||"36 32 47"};
  --oui-color-fill-active: ${t["oui-color-fill-active"]||"40 46 58"};

  --oui-color-base-1: ${t["oui-color-base-1"]||"93 83 123"};
  --oui-color-base-2: ${t["oui-color-base-2"]||"81 72 107"};
  --oui-color-base-3: ${t["oui-color-base-3"]||"68 61 69"};
  --oui-color-base-4: ${t["oui-color-base-4"]||"57 52 74"};
  --oui-color-base-5: ${t["oui-color-base-5"]||"51 46 66"};
  --oui-color-base-6: ${t["oui-color-base-6"]||"43 38 56"};
  --oui-color-base-7: ${t["oui-color-base-7"]||"36 32 47"};
  --oui-color-base-8: ${t["oui-color-base-8"]||"29 26 38"};
  --oui-color-base-9: ${t["oui-color-base-9"]||"22 20 28"};
  --oui-color-base-10: ${t["oui-color-base-10"]||"14 13 18"};

  --oui-color-base-foreground: ${t["oui-color-base-foreground"]||"255 255 255"};
  --oui-color-line: ${t["oui-color-line"]||"255 255 255"};

  --oui-color-trading-loss: ${t["oui-color-trading-loss"]||"245 97 139"};
  --oui-color-trading-loss-contrast: ${t["oui-color-trading-loss-contrast"]||"255 255 255"};
  --oui-color-trading-profit: ${t["oui-color-trading-profit"]||"41 233 169"};
  --oui-color-trading-profit-contrast: ${t["oui-color-trading-profit-contrast"]||"255 255 255"};

  /* gradients */
  --oui-gradient-primary-start: ${t["oui-gradient-primary-start"]||"40 0 97"};
  --oui-gradient-primary-end: ${t["oui-gradient-primary-end"]||"189 107 237"};

  --oui-gradient-secondary-start: ${t["oui-gradient-secondary-start"]||"81 42 121"};
  --oui-gradient-secondary-end: ${t["oui-gradient-secondary-end"]||"176 132 233"};

  --oui-gradient-success-start: ${t["oui-gradient-success-start"]||"1 83 68"};
  --oui-gradient-success-end: ${t["oui-gradient-success-end"]||"41 223 169"};

  --oui-gradient-danger-start: ${t["oui-gradient-danger-start"]||"153 24 76"};
  --oui-gradient-danger-end: ${t["oui-gradient-danger-end"]||"245 97 139"};

  --oui-gradient-brand-start: ${t["oui-gradient-brand-start"]||"231 219 249"};
  --oui-gradient-brand-end: ${t["oui-gradient-brand-end"]||"159 107 225"};
  --oui-gradient-brand-stop-start: ${t["oui-gradient-brand-stop-start"]||"6.62%"};
  --oui-gradient-brand-stop-end: ${t["oui-gradient-brand-stop-end"]||"86.5%"};
  --oui-gradient-brand-angle: ${t["oui-gradient-brand-angle"]||"17.44deg"};

  --oui-gradient-warning-start: ${t["oui-gradient-warning-start"]||"152 58 8"};
  --oui-gradient-warning-end: ${t["oui-gradient-warning-end"]||"255 209 70"};

  --oui-gradient-neutral-start: ${t["oui-gradient-neutral-start"]||"27 29 24"};
  --oui-gradient-neutral-end: ${t["oui-gradient-neutral-end"]||"38 41 46"};

  /* rounded */
  --oui-rounded-sm: ${t["oui-rounded-sm"]||"2px"};
  --oui-rounded: ${t["oui-rounded"]||"4px"};
  --oui-rounded-md: ${t["oui-rounded-md"]||"6px"};
  --oui-rounded-lg: ${t["oui-rounded-lg"]||"8px"};
  --oui-rounded-xl: ${t["oui-rounded-xl"]||"12px"};
  --oui-rounded-2xl: ${t["oui-rounded-2xl"]||"16px"};
  --oui-rounded-full: ${t["oui-rounded-full"]||"9999px"};

  /* spacing */
  --oui-spacing-xs: ${t["oui-spacing-xs"]||"20rem"};
  --oui-spacing-sm: ${t["oui-spacing-sm"]||"22.5rem"};
  --oui-spacing-md: ${t["oui-spacing-md"]||"26.25rem"};
  --oui-spacing-lg: ${t["oui-spacing-lg"]||"30rem"};
  --oui-spacing-xl: ${t["oui-spacing-xl"]||"33.75rem"};
}

html, body {
  font-family: ${t["oui-font-family"]||"'Manrope', sans-serif"} !important;
  font-size: ${t["oui-font-size-base"]||"16px"} !important;
}`}const Qe=[{name:"Manrope",value:"'Manrope', sans-serif",preview:"Manrope",category:"Default"},{name:"Roboto",value:"'Roboto', sans-serif",preview:"Roboto",category:"Modern"},{name:"Open Sans",value:"'Open Sans', sans-serif",preview:"Open Sans",category:"Readable"},{name:"Lato",value:"'Lato', sans-serif",preview:"Lato",category:"Readable"},{name:"Poppins",value:"'Poppins', sans-serif",preview:"Poppins",category:"Modern"},{name:"Source Sans Pro",value:"'Source Sans Pro', sans-serif",preview:"Source Sans Pro",category:"Readable"},{name:"Nunito",value:"'Nunito', sans-serif",preview:"Nunito",category:"Friendly"},{name:"Montserrat",value:"'Montserrat', sans-serif",preview:"Montserrat",category:"Modern"},{name:"Raleway",value:"'Raleway', sans-serif",preview:"Raleway",category:"Elegant"},{name:"Ubuntu",value:"'Ubuntu', sans-serif",preview:"Ubuntu",category:"Modern"},{name:"Fira Sans",value:"'Fira Sans', sans-serif",preview:"Fira Sans",category:"Technical"}],aa=({value:t,onChange:s,isOpen:r,onToggle:a})=>{const i=Qe.find(c=>c.value===t)||Qe[0];return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:a,className:"w-full px-3 py-2 bg-background-dark/80 border border-light/20 rounded text-sm text-white focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary flex items-center justify-between",children:[e.jsx("span",{style:{fontFamily:i.value},children:i.name}),e.jsx("div",{className:`i-mdi:chevron-down h-4 w-4 transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background-dark/95 border border-light/20 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:Qe.map(c=>e.jsxs("button",{type:"button",onClick:()=>{s(c.value),a()},className:"w-full px-3 py-2 text-left hover:bg-background-light/30 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("span",{className:"text-sm text-white",style:{fontFamily:c.value},children:c.preview}),e.jsx("span",{className:"text-xs text-gray-400",children:c.category}),e.jsx("div",{className:"mt-1 text-md text-gray-300",style:{fontFamily:c.value},children:"ABC abc 123"})]}),t===c.value&&e.jsx("div",{className:"i-mdi:check h-4 w-4 text-primary"})]},c.value))})]})};function na({css:t,onValueChange:s}){const[r,a]=y.useState({fontFamily:"'Manrope', sans-serif",fontSize:"16px"}),[i,c]=y.useState(!1);y.useEffect(()=>{const u=ra(t);a(u)},[t]);const l=u=>{const w=u.match(/^([\d.]+)(.*)$/);return w?{value:parseFloat(w[1]),unit:w[2]}:{value:16,unit:"px"}},h=(u,w)=>`${u}${w}`,x=u=>{a(w=>({...w,fontFamily:u})),s("oui-font-family",u)},f=u=>{const w=parseFloat(u.target.value),{unit:v}=l(r.fontSize),d=h(w,v);a(j=>({...j,fontSize:d})),s("oui-font-size-base",d)},b=u=>{const w=u.target.value;/^[\d.]+[a-z%]*$/.test(w)&&(a(d=>({...d,fontSize:w})),s("oui-font-size-base",w))},n=()=>{const{value:u}=l(r.fontSize);return u>32?Math.ceil(u+8):32},{value:m}=l(r.fontSize);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1.5 mb-2",children:[e.jsx("span",{className:"i-mdi:format-font text-primary text-sm"}),e.jsx("span",{children:"Customize the font family and base font size used throughout your DEX interface"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 flex-shrink-0 flex items-center justify-center bg-background-dark/50 border border-light/10 rounded",children:e.jsx("span",{className:"text-lg font-medium text-white",style:{fontFamily:r.fontFamily},children:"Aa"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:"Font Family"}),e.jsx("span",{className:"text-xs text-gray-400",children:"--oui-font-family"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(aa,{value:r.fontFamily,onChange:x,isOpen:i,onToggle:()=>c(!i)})})]}),e.jsxs("div",{className:"space-y-2 border-t border-light/10 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 flex-shrink-0 flex items-center justify-center bg-background-dark/50 border border-light/10 rounded",children:e.jsx("span",{className:"text-white font-medium",style:{fontFamily:r.fontFamily,fontSize:r.fontSize},children:"T"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:"Font Size"}),e.jsx("span",{className:"text-xs text-gray-400",children:"--oui-font-size-base"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"8",max:n(),value:m,step:"0.5",onChange:f,className:`flex-grow h-2 rounded-lg appearance-none cursor-pointer bg-background-dark/80 border border-light/20 relative 
              hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary`}),e.jsx("input",{type:"text",value:r.fontSize,onChange:b,className:"w-16 sm:w-20 px-2 py-1 bg-background-dark/80 border border-light/20 rounded text-sm text-white focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary","aria-label":"Font size value"})]})})]}),e.jsxs("div",{className:"border-t border-light/10 pt-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Preview"})}),e.jsxs("div",{className:"p-4 bg-background-dark/50 border border-light/10 rounded-lg",style:{fontFamily:r.fontFamily,fontSize:r.fontSize},children:[e.jsx("p",{className:"text-white mb-2",children:"This is how your DEX interface text will look with the selected font and size."}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Trading pairs, prices, and all interface elements will use this styling."})]})]})]})}const ia=["sm","","md","lg","xl","2xl","full"],oa={sm:"Small","":"Base",md:"Medium",lg:"Large",xl:"Extra Large","2xl":"2X Large",full:"Full"};function ca({css:t,onValueChange:s}){const[r,a]=y.useState({});y.useEffect(()=>{const n=i(t);a(n)},[t]);const i=n=>{const m={},u=/--oui-rounded(-[^:]*)?:\s*([^;]+);/g;let w;for(;(w=u.exec(n))!==null;){const v=w[1]?w[1].substring(1):"",d=w[2].trim();m[v]=d}return m},c=n=>{const m=n.match(/^([\d.]+)(.*)$/);return m?{value:parseFloat(m[1]),unit:m[2]}:{value:0,unit:"px"}},l=(n,m)=>`${n}${m}`,h=(n,m)=>{if(n==="full")return;const u=parseInt(m.target.value,10),{unit:w}=c(r[n]),v=l(u,w);a({...r,[n]:v}),s(`oui-rounded${n?`-${n}`:""}`,v)},x=(n,m)=>{if(n==="full")return;const u=m.target.value;/^[\d.]+[a-z%]*$/.test(u)&&(a({...r,[n]:u}),s(`oui-rounded${n?`-${n}`:""}`,u))},f=n=>{const{value:m}=c(r[n]||"0px");return m>40?Math.ceil(m+10):40},b=(n,m)=>{const u=n==="full"?{borderRadius:"50%"}:{borderRadius:m};return e.jsx("div",{className:"w-full h-full bg-primary/30 border border-primary transition-all duration-300",style:u})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1.5 mb-2",children:[e.jsx("span",{className:"i-mdi:radius-outline text-primary text-sm"}),e.jsx("span",{children:"Adjust the border radius values used throughout your DEX interface"})]}),ia.map(n=>{const m=r[n]||"0px",{value:u}=c(m),w=n==="full",v=`--oui-rounded${n?`-${n}`:""}`,d=oa[n];return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 py-2 border-b border-light/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 flex-shrink-0 flex items-center justify-center",children:b(n,m)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:d}),e.jsx("span",{className:"text-xs text-gray-400",children:v})]})]}),e.jsx("div",{className:"flex-grow mt-2 sm:mt-0",children:w?e.jsx("div",{className:"text-xs text-gray-400 italic px-1",children:"(Full rounded value cannot be modified)"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"0",max:f(n),value:u,onChange:j=>h(n,j),className:`flex-grow h-2 rounded-lg appearance-none cursor-pointer bg-background-dark/80 border border-light/20 relative 
                    hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary`}),e.jsx("input",{type:"text",value:m,onChange:j=>x(n,j),className:"w-16 sm:w-20 px-2 py-1 bg-background-dark/80 border border-light/20 rounded text-sm text-white focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary","aria-label":`${d} value`})]})})]},n)})]})}const la=["xs","sm","md","lg","xl"],da={xs:"Extra Small",sm:"Small",md:"Medium",lg:"Large",xl:"Extra Large"};function ua({css:t,onValueChange:s}){const[r,a]=y.useState({});y.useEffect(()=>{const n=i(t);a(n)},[t]);const i=n=>{const m={},u=/--oui-spacing-([^:]*)?:\s*([^;]+);/g;let w;for(;(w=u.exec(n))!==null;){const v=w[1]?w[1]:"",d=w[2].trim();m[v]=d}return m},c=n=>{const m=n.match(/^([\d.]+)(.*)$/);return m?{value:parseFloat(m[1]),unit:m[2]}:{value:0,unit:"rem"}},l=(n,m)=>`${n}${m}`,h=(n,m)=>{const u=parseFloat(m.target.value),{unit:w}=c(r[n]),v=l(u,w);a({...r,[n]:v}),s(`oui-spacing-${n}`,v)},x=(n,m)=>{const u=m.target.value;/^[\d.]+[a-z%]*$/.test(u)&&(a({...r,[n]:u}),s(`oui-spacing-${n}`,u))},f=n=>{const{value:m}=c(r[n]||"0rem");return m>40?Math.ceil(m+10):40},b=(n,m)=>{const{value:u}=c(m),w=Math.min(Math.max(Math.log2(u+1)*9,6),60);return e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"bg-primary/30 border border-primary transition-all duration-300",style:{width:`${w}px`,height:`${w}px`}})})};return e.jsx("div",{className:"space-y-4",children:la.map(n=>{const m=r[n]||"0rem",{value:u}=c(m),w=`--oui-spacing-${n}`,v=da[n];return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 py-2 border-b border-light/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 flex-shrink-0",children:b(n,m)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:v}),e.jsx("span",{className:"text-xs text-gray-400",children:w})]})]}),e.jsx("div",{className:"flex-grow mt-2 sm:mt-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"0",max:f(n),value:u,step:"0.5",onChange:d=>h(n,d),className:`flex-grow h-2 rounded-lg appearance-none cursor-pointer bg-background-dark/80 border border-light/20 relative 
                  hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary`}),e.jsx("input",{type:"text",value:m,onChange:d=>x(n,d),className:"w-16 sm:w-20 px-2 py-1 bg-background-dark/80 border border-light/20 rounded text-sm text-white focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary","aria-label":`${v} value`})]})})]},n)})})}function ha({isOpen:t,onClose:s,onApply:r,onCancel:a,css:i}){const[c,l]=y.useState(i),[h,x]=y.useState("colors");if(y.useEffect(()=>{l(i)},[i]),!t)return null;const f=()=>{a&&a(),s()},b=()=>{r(c)},n=v=>{v=v.replace("#","");const d=parseInt(v.slice(0,2),16),j=parseInt(v.slice(2,4),16),k=parseInt(v.slice(4,6),16);return`${d} ${j} ${k}`},m=(v,d)=>{const j=n(d);l(k=>{let S=k;if(v.startsWith("oui-color")){const E=new RegExp(`(--${v}:\\s*)(\\d+\\s+\\d+\\s+\\d+)`,"g");S=S.replace(E,`$1${j}`)}else if(v.startsWith("gradient")){const E=new RegExp(`(--oui-${v}:\\s*)(\\d+\\s+\\d+\\s+\\d+)`,"g");S=S.replace(E,`$1${j}`)}return S})},u=(v,d)=>{l(j=>{const k=new RegExp(`(--${v}:\\s*)([^;]+)`,"g");return j.replace(k,`$1${d}`)})},w=({tab:v,label:d})=>e.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-t-lg ${h===v?"bg-background-dark/50 text-white border-t border-l border-r border-light/10":"bg-transparent text-gray-400 hover:text-white"}`,onClick:()=>x(v),children:d});return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:f}),e.jsxs("div",{className:"relative z-[1002] w-full max-w-3xl p-6 rounded-xl bg-background-light border border-light/10 shadow-2xl slide-fade-in max-h-[90vh] overflow-auto",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Theme Preview"}),e.jsx(os,{className:"mb-4 p-3 slide-fade-in",variant:"default",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:robot text-primary-light h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:"AI-Generated Theme"}),e.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"This theme was created by an AI based on your description. While we strive for quality results:"}),e.jsxs("ul",{className:"text-xs text-gray-300 list-disc pl-4 space-y-1 mb-2",children:[e.jsx("li",{children:"Colors may not always perfectly match your description"}),e.jsx("li",{children:"Contrast ratios between elements might need adjustment"}),e.jsx("li",{children:"Some color combinations might not look ideal in all contexts"})]}),e.jsxs("p",{className:"text-xs text-gray-300",children:[e.jsx("span",{className:"text-primary-light font-medium",children:"Recommendation:"})," ","Use the preview functionality to see how your theme looks in a real DEX environment, and make adjustments as needed using the color editor below."]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("div",{className:"border-b border-light/10",children:e.jsxs("div",{className:"flex",children:[e.jsx(w,{tab:"colors",label:"Color Palette"}),e.jsx(w,{tab:"fonts",label:"Fonts"}),e.jsx(w,{tab:"rounded",label:"Border Radius"}),e.jsx(w,{tab:"spacing",label:"Spacing"})]})}),e.jsxs("div",{className:"pt-2",children:[h==="colors"&&e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-light/10",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex justify-between items-center",children:[e.jsx("span",{children:"Color Palette"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Click on any color to edit"})]}),e.jsx(ta,{css:c,onColorChange:m})]}),h==="fonts"&&e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-light/10",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex justify-between items-center",children:[e.jsx("span",{children:"Fonts"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Customize font family and size"})]}),e.jsx(na,{css:c,onValueChange:u})]}),h==="rounded"&&e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-light/10",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex justify-between items-center",children:[e.jsx("span",{children:"Border Radius"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Adjust values with the sliders"})]}),e.jsx(ca,{css:c,onValueChange:u})]}),h==="spacing"&&e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-light/10",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex justify-between items-center",children:[e.jsx("span",{children:"Spacing"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Adjust spacing values with the sliders"})]}),e.jsx(ua,{css:c,onValueChange:u})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("h4",{className:"font-semibold",children:"CSS"})}),e.jsx("pre",{className:"bg-background-dark/95 p-4 rounded-lg text-sm border-2 border-primary/20 overflow-x-auto text-gray-200 shadow-inner max-h-[300px] overflow-y-auto",children:c})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"ghost",onClick:f,children:"Cancel"}),e.jsx(K,{variant:"primary",onClick:b,children:"Apply Theme"})]})]})]})}function ma({isOpen:t,onClose:s}){return t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:s}),e.jsxs("div",{className:"relative z-[1002] w-full max-w-2xl p-6 rounded-xl bg-background-light border border-light/10 shadow-2xl slide-fade-in max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"TradingView License Guide"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:e.jsx("div",{className:"i-mdi:close h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-success/10 rounded-lg border border-success/20 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:check-circle text-success h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-1 text-success",children:"Good News: It's Completely Free!"}),e.jsx("p",{className:"text-xs text-gray-300",children:"The TradingView Advanced Charts license is free for commercial use. You just need to fill out their application form to get approved."})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-3",children:"What You Need to Do"}),e.jsxs("ol",{className:"text-sm text-gray-300 space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Visit the"," ",e.jsx("a",{href:"https://www.tradingview.com/advanced-charts/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline",children:"TradingView Advanced Charts page"})]}),e.jsx("li",{children:'Click on "Get the library" to open the application form'}),e.jsx("li",{children:"Fill out the form with the details provided below"}),e.jsx("li",{children:"Wait for approval (usually takes a few business days)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-3",children:"Where to Click"}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-light/10",children:[e.jsx("img",{src:"/advanced-charts.webp",alt:"TradingView Advanced Charts page showing where to click to request a license",className:"w-full rounded border border-light/20"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:'Look for the "Get the library" button on the TradingView Advanced Charts page'})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-3",children:"Application Form Details"}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-light/10 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-primary-light",children:"Website URL:"}),e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Use your custom domain (the one you're setting up in the Custom Domain section)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-primary-light",children:"GitHub Profile:"}),e.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:["You'll need to create a personal"," ",e.jsx("a",{href:"https://github.com/signup",target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline",children:"GitHub account"}),". Even though you won't need direct access to their library (we've already handled that), it's required for the application process."]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-primary-light",children:"Company Profile:"}),e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:'"Crypto Exchange"'})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-primary-light",children:"Own Data Feed:"}),e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Yes"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-primary-light",children:"Reason for Request:"}),e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Mention that this is for a perpetual futures decentralized exchange"})]})]})]}),e.jsx("div",{className:"bg-warning/10 rounded-lg border border-warning/20 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:information-outline text-warning h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold mb-2 text-warning",children:"Important Notes"}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"The license application is free and typically approved within a few business days"}),e.jsx("li",{children:"You must apply using your custom domain, not the GitHub Pages URL"}),e.jsx("li",{children:"The GitHub account requirement is just for their application process"}),e.jsx("li",{children:"Once approved, your DEX will continue working normally with the TradingView charts"})]})]})]})}),e.jsx("div",{className:"flex justify-center pt-2",children:e.jsx(K,{as:"a",href:"https://www.tradingview.com/advanced-charts/",target:"_blank",rel:"noopener noreferrer",variant:"primary",children:e.jsxs("span",{className:"flex items-center gap-2",children:["Apply for TradingView License",e.jsx("div",{className:"i-mdi:open-in-new h-4 w-4"})]})})})]})]})]}):null}const Ba={scaffold:{mainNavProps:{initialMenu:"/",mainMenus:[{name:"Trading",href:"/"}]},footerProps:{telegramUrl:"https://orderly.network",discordUrl:"https://discord.com/invite/orderlynetwork",twitterUrl:"https://twitter.com/OrderlyNetwork"}},orderlyAppProvider:{appIcons:{main:{img:"/orderly-logo.svg"},secondary:{img:"/orderly-logo-secondary.svg"}}},tradingPage:{tradingViewConfig:{scriptSRC:"/tradingview/charting_library/charting_library.js",library_path:"/tradingview/charting_library/",customCssUrl:"/tradingview/chart.css"},sharePnLConfig:{backgroundImages:["/pnl/poster_bg_1.png","/pnl/poster_bg_2.png","/pnl/poster_bg_3.png","/pnl/poster_bg_4.png"],color:"rgba(255, 255, 255, 0.98)",profitColor:"rgba(41, 223, 169, 1)",lossColor:"rgba(245, 97, 139, 1)",brandColor:"rgba(255, 255, 255, 0.98)",refLink:"https://orderly.network",refSlogan:"Orderly referral"}}};function Fe(){return"mainnet"}function xa(){const t=Fe(),s=t==="staging"||t==="qa"||t==="dev";return Object.values(ut).filter(r=>r.isTestnet===s)}function ga(){const t=Fe(),r=t==="staging"||t==="qa"||t==="dev"?["sepolia","arbitrum-sepolia","base-sepolia"]:["ethereum","arbitrum","base"];return Object.values(ut).filter(a=>r.includes(a.id))}function ze(t){const s=Fe();return s==="staging"||s==="qa"||s==="dev"?{arbitrum:"arbitrum-sepolia",ethereum:"sepolia",base:"base-sepolia","arbitrum-sepolia":"arbitrum-sepolia",sepolia:"sepolia","base-sepolia":"base-sepolia","solana-devnet":"solana-devnet","solana-mainnet-beta":"solana-devnet"}[t]||t:{"arbitrum-sepolia":"arbitrum",sepolia:"ethereum","base-sepolia":"base",arbitrum:"arbitrum",ethereum:"ethereum",base:"base","solana-devnet":"solana-mainnet-beta","solana-mainnet-beta":"solana-mainnet-beta"}[t]||t}const pa=["eth:","base:","arb:","sepolia:","sep:","base-sep:","basesep:","arb-sep:","arbsep:"],ns=t=>{let s=t;for(const r of pa)if(s.toLowerCase().startsWith(r)){s=s.substring(r.length);break}return s},Ka=t=>{const s={"eth:":1,"base:":8453,"arb:":42161,"sepolia:":11155111,"sep:":11155111,"base-sep:":84532,"basesep:":84532,"arb-sep:":421614,"arbsep:":421614};for(const[r,a]of Object.entries(s))if(t.toLowerCase().startsWith(r))return a;return null};function fa({isOpen:t,onClose:s,onSuccess:r,onCancel:a,brokerId:i,accountId:c}){const{address:l}=$e(),{data:h}=Jt(),x=Se(),{switchChain:f}=Ve(),{token:b}=Bt(),[n,m]=y.useState(!1),[u,w]=y.useState(),[v,d]=y.useState(),[j,k]=y.useState(!1),S=Fe()==="mainnet",W=(S?Ps:$s).map(Q=>Q.id).includes(x),p=S?1:11155111;y.useEffect(()=>{if(!t||!i||!b)return;(async()=>{k(!0);try{const te=await Ut("/api/graduation/graduation-status",b,{showToastOnError:!1});te.isMultisig&&te.multisigAddress?(w(te.multisigAddress),d(te.multisigChainId||void 0)):(w(void 0),d(void 0))}catch(te){console.error("Failed to fetch graduation status:",te)}finally{k(!1)}})()},[t,i,b]);const R=!!u,N=u?ns(u):l,D=c||(N&&i?ts(N,i):""),M=R&&v?v:null,C=M?x===M:W,O=M?ht(M):null,ee=async()=>{try{await f({chainId:M||p})}catch(Q){console.error("Failed to switch chain:",Q),Y.error("Please switch to the required network in your wallet")}},fe=async()=>{if(!h||!l){Y.error("Please connect your wallet first");return}if(!C){Y.error(R?"Please switch to the network where your multisig delegate signer link was established":"Please switch to a supported network");return}if(!N||!D){Y.error("Missing required account information");return}m(!0);try{const te=await new It(h).getSigner();let J;R?J=await Kr(te,l,N,x,i,"read,trading",D):J=await Br(te,l,x,i,"read,trading",D),Y.success("Orderly key created successfully!"),r(J),s()}catch(Q){console.error("Failed to create orderly key:",Q),Y.error(Q instanceof Error?Q.message:"Failed to create orderly key. Please try again.")}finally{m(!1)}},re=()=>{a(),s()};return t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen md:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:n?void 0:s}),e.jsx("div",{className:"relative z-[1002] w-full h-full md:h-auto md:max-w-md md:max-h-[90vh] overflow-y-auto p-6 md:rounded-xl bg-background-light border-0 md:border md:border-primary-light/20 shadow-2xl slide-fade-in",children:j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"bg-warning/20 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx("div",{className:"i-mdi:loading text-warning w-8 h-8 animate-spin"})}),e.jsx("h2",{className:"text-xl font-bold mb-2 gradient-text",children:"Checking Admin Wallet"}),e.jsx("p",{className:"text-gray-400",children:"Verifying your admin wallet configuration..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-warning/20 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx("div",{className:"i-mdi:key text-warning w-8 h-8"})}),e.jsx("h2",{className:"text-xl font-bold mb-2 gradient-text",children:"Create Orderly Key"}),e.jsx("p",{className:"text-gray-300",children:"To interact with the Orderly Network API, you'll need to create an Orderly API key by signing a message with your wallet."}),R&&e.jsx("div",{className:"mt-3 bg-info/10 rounded-lg p-3 border border-info/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:information-outline text-info w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-gray-400 text-left",children:[e.jsxs("p",{className:"mb-1",children:["Creating delegate key for multisig wallet:"," ",e.jsx("span",{className:"font-mono text-primary-light",children:u})]}),O&&e.jsxs("p",{className:"text-info",children:["Required network:"," ",e.jsx("span",{className:"font-semibold",children:O.name})]})]})]})})]}),e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-secondary-light/10 mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm text-secondary-light",children:"What happens next:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:numeric-1-circle text-primary w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Your wallet will prompt you to sign a message"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:numeric-2-circle text-primary w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"An Orderly API key will be generated securely"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:numeric-3-circle text-primary w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"The key will be stored locally for API interactions"})]})]})]}),e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-secondary-light/10 mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2 text-secondary-light",children:"Security Note"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"This key allows secure API access to manage your DEX settings and interact with the Orderly Network. It will be stored locally in your browser and is unique to your DEX broker account. No gas fees or blockchain transactions are required."})]}),!C&&e.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:alert text-warning w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-warning text-sm",children:R&&O?`Please switch to ${O.name} where your multisig delegate signer link was established.`:R&&M?`Please switch to the network where your multisig delegate signer link was established (Chain ID: ${M}).`:"Please switch to a supported network to create your Orderly key."})})]})}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"secondary",onClick:re,disabled:n,children:"Cancel"}),C?e.jsx(K,{variant:"primary",onClick:fe,isLoading:n,loadingText:"Creating Key",children:"Create Key"}):e.jsx(K,{variant:"primary",onClick:ee,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"i-mdi:swap-horizontal w-4 h-4"}),"Switch Network"]})})]})]})})]}):null}function ya({isOpen:t,onClose:s,orderlyKey:r,accountId:a}){const[i,c]=y.useState(!1);if(!t)return null;const l=`ed25519:${Re(r)}`,h=async()=>{try{const n=await Le(r);return`ed25519:${Re(n)}`}catch(n){return console.error("Failed to get public key:",n),"Error generating public key"}},[x,f]=y.useState("");y.useEffect(()=>{h().then(f)},[r]);const b=async(n,m)=>{try{await navigator.clipboard.writeText(n),Y.success(`${m} copied to clipboard!`)}catch(u){console.error("Failed to copy:",u),Y.error("Failed to copy to clipboard")}};return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen md:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/80 backdrop-blur-sm z-[1001]",onClick:s}),e.jsxs("div",{className:"relative z-[1002] w-full h-full md:h-auto md:max-w-lg md:max-h-[90vh] overflow-y-auto p-6 md:rounded-xl bg-background-light border-0 md:border md:border-primary-light/20 shadow-2xl slide-fade-in",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 gradient-text",children:"Admin Dashboard Login"}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:"Copy these credentials to log into the Orderly Admin Dashboard. Keep your private key secure!"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-secondary-light",children:"Account ID"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-background-dark border border-light/10 text-white font-mono text-sm"}),e.jsx(K,{variant:"secondary",onClick:()=>b(a,"Account ID"),className:"flex-shrink-0",children:e.jsx("div",{className:"i-mdi:content-copy w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-secondary-light",children:"Public Key (Orderly Key)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-background-dark border border-light/10 text-white font-mono text-sm"}),e.jsx(K,{variant:"secondary",onClick:()=>b(x,"Public Key"),className:"flex-shrink-0",children:e.jsx("div",{className:"i-mdi:content-copy w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-secondary-light",children:"Private Key (Secret Key)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:i?"text":"password",value:l,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-background-dark border border-light/10 text-white font-mono text-sm"}),e.jsx(K,{variant:"secondary",onClick:()=>c(!i),className:"flex-shrink-0",children:e.jsx("div",{className:`w-4 h-4 ${i?"i-mdi:eye-off":"i-mdi:eye"}`})}),e.jsx(K,{variant:"secondary",onClick:()=>b(l,"Private Key"),className:"flex-shrink-0",children:e.jsx("div",{className:"i-mdi:content-copy w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"⚠️ Never share your private key with anyone!"})]})]}),e.jsxs("div",{className:"bg-background-dark/50 p-4 rounded-lg border border-secondary-light/10 text-sm mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2 text-secondary-light",children:"How to log in:"}),e.jsxs("ol",{className:"text-gray-400 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Open the Admin Dashboard link"}),e.jsx("li",{children:"Paste your Account ID in the first field"}),e.jsx("li",{children:"Paste your Public Key in the second field"}),e.jsx("li",{children:"Paste your Private Key in the third field"}),e.jsx("li",{children:'Click "Sign In" to access your broker settings'})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(K,{variant:"secondary",onClick:s,children:"Close"}),e.jsx(K,{variant:"primary",onClick:()=>window.open("https://admin.orderly.network/","_blank"),children:"Open Admin Dashboard"})]})]})]})}function ba({isOpen:t,onClose:s}){return t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/90 backdrop-blur-sm z-[1001]"}),e.jsxs("div",{className:"relative z-[1002] max-w-2xl w-full max-h-[90vh] rounded-xl bg-background-light border border-primary/20 shadow-2xl slide-fade-in overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 p-8 pb-0",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"bg-primary/20 p-3 rounded-full",children:e.jsx("div",{className:"i-mdi:rocket-launch text-primary w-8 h-8"})}),e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ready to Graduate Your DEX?"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-8",children:e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-6 border border-primary/20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary-light mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:lightning-bolt h-5 w-5 mr-2"}),"What is Graduation?"]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Graduation requires paying a fee in ORDER or USDC to unlock revenue-generating features for your DEX. Once graduated, your DEX becomes eligible to earn trading fees from users."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:cash-multiple h-4 w-4 mr-2"}),"Earn Revenue"]}),e.jsx("p",{className:"text-sm text-gray-300",children:"Get a split of trading fees generated by users on your DEX"})]}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-primary-light mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:account-key h-4 w-4 mr-2"}),"Unique Broker ID"]}),e.jsx("p",{className:"text-sm text-gray-300",children:"Get your own identifier in the Orderly ecosystem"})]})]})]}),e.jsxs("div",{className:"bg-warning/10 rounded-lg p-6 border border-warning/20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-warning mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:alert-circle h-5 w-5 mr-2"}),"Why Graduate Now?"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-warning/20 p-1 rounded-full mt-0.5",children:e.jsx("div",{className:"i-mdi:chart-line h-4 w-4 text-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 font-medium",children:"Start Earning Immediately"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Begin collecting trading fees as soon as users start trading"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-warning/20 p-1 rounded-full mt-0.5",children:e.jsx("div",{className:"i-mdi:shield-check h-4 w-4 text-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 font-medium",children:"Enhanced Features"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Unlock referral programs and advanced DEX management tools"})]})]})]})]}),e.jsxs("div",{className:"bg-info/10 rounded-lg p-6 border border-info/20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-info mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline h-5 w-5 mr-2"}),"How It Works"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-info/20 text-info rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),e.jsx("p",{className:"text-gray-300",children:"Pay the graduation fee in ORDER or USDC"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-info/20 text-info rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),e.jsx("p",{className:"text-gray-300",children:"Set your custom trading fees (maker/taker)"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-info/20 text-info rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),e.jsx("p",{className:"text-gray-300",children:"Start earning revenue from trading activity"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 py-4 px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[e.jsx(K,{variant:"secondary",onClick:s,className:"w-full sm:w-auto",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"i-mdi:close h-4 w-4"}),"Maybe Later"]})}),e.jsx(K,{as:"a",href:"/dex/graduation",variant:"primary",className:"w-full sm:w-auto",onClick:s,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"i-mdi:rocket-launch h-4 w-4"}),"Graduate Now"]})})]})})]})]}):null}const wa=[{id:1,title:"Create CloudFlare Account",description:"Visit the CloudFlare signup page to create a new account. Use your email address and create a strong password.",imageUrl:"/cloudflare-signup.webp",imageAlt:"CloudFlare sign up page",link:"https://dash.cloudflare.com/sign-up",linkText:"CloudFlare Sign Up"},{id:2,title:"Search and Select Domain",description:"Visit the CloudFlare registrar to search for your desired domain name. Choose your domain and TLD, review pricing, and select registration period.",imageUrl:"/cloudflare-registrar.webp",imageAlt:"Domain search and selection",link:"https://domains.cloudflare.com/",linkText:"CloudFlare Domain Registration"},{id:3,title:"Complete Registration and Payment",description:"Fill in your contact information, complete the registration form, and proceed to payment. CloudFlare accepts major credit cards and PayPal.",imageUrl:"/cloudflare-registration.webp",imageAlt:"Domain registration and payment"},{id:4,title:"Access DNS Management",description:"After purchase, your domain will appear in your CloudFlare dashboard. Click on your domain, then select 'DNS' > 'Records' in the sidebar to access DNS management.",imageUrl:"/cloudflare-domain.webp",imageAlt:"CloudFlare DNS management navigation",link:"https://dash.cloudflare.com",linkText:"CloudFlare Dashboard"},{id:5,title:"Configure DNS Records",description:"In the DNS tab, add the required A records and CNAME record. Most importantly, ensure the 'Proxy status' (orange cloud icon) is enabled for all records. This provides instant SSL/TLS encryption and better performance than waiting for GitHub Pages certificates.",imageUrl:"/cloudflare-dns.webp",imageAlt:"DNS configuration interface in CloudFlare",link:"https://dash.cloudflare.com",linkText:"CloudFlare DNS Management"}],va=[{id:1,title:"Create Namecheap Account",description:"Visit the Namecheap signup page to create a new account. You can also sign up using your Google or Facebook account for faster registration.",imageUrl:"/namecheap-signup.webp",imageAlt:"Namecheap sign up page",link:"https://www.namecheap.com/myaccount/signup",linkText:"Namecheap Sign Up"},{id:2,title:"Search and Select Domain",description:"Use the domain search bar to find your desired domain name. Choose your domain and TLD, review pricing, and add to cart.",imageUrl:"/namecheap-registrar.webp",imageAlt:"Namecheap domain search and selection",link:"https://namecheap.com",linkText:"Namecheap Homepage"},{id:3,title:"Configure Settings and Complete Purchase",description:"Configure additional services like WHOIS privacy protection, auto-renewal, and domain locking. Fill in your contact information, complete the registration form, and proceed to payment.",imageUrl:"/namecheap-registration.webp",imageAlt:"Domain configuration and payment"},{id:4,title:"Access Domain Management",description:"Log into your Namecheap account and go to 'Domain List'. Click 'Manage' next to your domain to access DNS settings, contact information, and other domain management options.",imageUrl:"/namecheap-domain.webp",imageAlt:"Namecheap domain management dashboard",link:"https://ap.www.namecheap.com/domains/",linkText:"Namecheap Domain Management"},{id:5,title:"Configure DNS Records",description:"In the 'Advanced DNS' tab, first remove the default DNS setup (one redirect and a CNAME www record). Then add the required A records and CNAME record for your DEX.",imageUrl:"/namecheap-dns.webp",imageAlt:"Namecheap DNS management interface",link:"https://ap.www.namecheap.com/domains/",linkText:"Namecheap DNS Management"}];function ja({isOpen:t,onClose:s,customDomain:r}){const[a,i]=y.useState("cloudflare"),[c,l]=y.useState(1),[h,x]=y.useState(!1);if(!t)return null;const f=a==="cloudflare"?wa:va,b=f.find(j=>j.id===c),n=c===1,m=c===f.length,u=()=>{c<f.length&&l(c+1)},w=()=>{c>1&&l(c-1)},v=j=>{i(j),l(1),x(!1)},d=()=>{l(1),i("cloudflare"),x(!1),s()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-0 sm:p-4",children:e.jsxs("div",{className:"bg-background-dark rounded-none sm:rounded-lg border-0 sm:border border-light/10 w-full h-full sm:w-full sm:max-w-4xl lg:max-w-6xl xl:max-w-7xl sm:max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-light/10",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"Domain Purchase & Setup Guide"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1 hidden sm:block",children:"Step-by-step instructions for purchasing and configuring your custom domain"})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white transition-colors flex-shrink-0 ml-2",children:e.jsx("div",{className:"i-mdi:close h-6 w-6"})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 min-h-0 relative",children:[e.jsx("div",{className:"lg:hidden flex items-center justify-between p-4 border-b border-light/10",children:e.jsxs("button",{onClick:()=>x(!h),className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx("div",{className:"i-mdi:menu h-4 w-4"}),a==="cloudflare"?"CloudFlare":"Namecheap"," - Step ",c," of ",f.length]})}),e.jsxs("div",{className:`lg:w-80 border-r border-light/10 p-4 lg:p-6 overflow-y-auto ${h?"absolute inset-0 z-20 bg-background-dark lg:relative lg:inset-auto lg:z-auto lg:block":"hidden lg:block"}`,children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Choose Your Provider"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:()=>v("cloudflare"),className:`w-full p-4 rounded-lg border text-left transition-colors ${a==="cloudflare"?"border-primary-light bg-primary-light/10 text-primary-light":"border-light/20 hover:border-light/40"}`,children:[e.jsx("div",{className:"font-bold mb-1",children:"CloudFlare"}),e.jsx("div",{className:"text-sm text-gray-300",children:"Integrated DNS management, competitive pricing, fast setup"})]}),e.jsxs("button",{onClick:()=>v("namecheap"),className:`w-full p-4 rounded-lg border text-left transition-colors ${a==="namecheap"?"border-primary-light bg-primary-light/10 text-primary-light":"border-light/20 hover:border-light/40"}`,children:[e.jsx("div",{className:"font-bold mb-1",children:"Namecheap"}),e.jsx("div",{className:"text-sm text-gray-300",children:"Affordable domains, excellent support, user-friendly interface"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold mb-2",children:["Steps (",c,"/",f.length,")"]}),e.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:f.map(j=>e.jsx("button",{onClick:()=>{l(j.id),x(!1)},className:`w-full text-left p-1.5 rounded text-xs transition-colors ${c===j.id?"bg-primary-light/20 text-primary-light":"hover:bg-light/5"}`,children:e.jsx("div",{className:"font-medium leading-tight",children:j.title})},j.id))})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto min-h-0",children:b&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"bg-primary-light/20 text-primary-light px-2 py-1 rounded text-sm font-bold",children:["Step ",b.id]}),e.jsx("span",{className:"text-sm text-gray-400",children:a==="cloudflare"?"CloudFlare":"Namecheap"})]}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:b.title})]}),e.jsx("div",{className:"mb-6",children:b.imageUrl?e.jsx("div",{className:"bg-base-8/50 border border-light/10 rounded-lg overflow-hidden",children:e.jsx("img",{src:b.imageUrl,alt:b.imageAlt||"Step illustration",className:"w-full h-auto object-contain max-h-96"})}):e.jsxs("div",{className:"bg-base-8/50 border border-light/10 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"i-mdi:image-outline h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:b.imageAlt||"Step illustration"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Image will be added here (16:9 aspect ratio)"})]})}),e.jsx("div",{className:"prose prose-invert max-w-none",children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:b.description})}),b.link&&e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-primary-light hover:text-primary-light/80 transition-colors font-medium",children:[e.jsx("span",{children:b.linkText}),e.jsx("div",{className:"i-mdi:open-in-new h-4 w-4"})]})}),(b.title.includes("Configure DNS Records")||b.title.includes("DNS"))&&e.jsxs("div",{className:"mt-6 p-4 bg-success/10 rounded-lg border border-success/20",children:[e.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:dns h-4 w-4 mr-2 text-success"}),r?`Required DNS Records for ${r}`:"Required DNS Records"]}),r?r.split(".").length===2?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-bold mb-2 text-success",children:"A Records (4 required):"}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.108.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.109.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.110.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.111.153"})]})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-bold mb-2 text-success",children:"CNAME Record (required for SSL):"}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs",children:e.jsx("div",{children:"Type: CNAME | Name: www | Value: orderlynetworkdexcreator.github.io"})})]}),a==="cloudflare"&&e.jsxs("div",{className:"mt-4 p-3 bg-primary-light/10 rounded-lg border border-primary-light/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:shield-check h-3.5 w-3.5 mr-1.5 text-primary-light"}),"CloudFlare Proxy Setup (Important!)"]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("div",{children:"• Enable the orange cloud icon (Proxy status) for ALL records"}),e.jsx("div",{children:"• This provides instant SSL/TLS encryption"}),e.jsx("div",{children:"• Much faster than waiting for GitHub Pages certificates"}),e.jsx("div",{children:"• Better performance and security"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-warning/10 rounded-lg border border-warning/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:security h-3.5 w-3.5 mr-1.5 text-warning"}),"Recommended: Email Security Records"]}),e.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Add these TXT records to protect your domain from email spoofing attacks. Without these, attackers could send phishing emails appearing to come from your domain, which may cause your site to be flagged by Google Safe Browsing."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"SPF Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: @ | Value: v=spf1 -all"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"DMARC Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: _dmarc | Value: v=DMARC1; p=reject; sp=reject; aspf=s; adkim=s"})})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"These records tell email servers that your domain doesn't send emails and to reject any emails claiming to be from your domain."})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-bold mb-2 text-success",children:"CNAME Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs",children:e.jsxs("div",{children:["Type: CNAME | Name:"," ",r.split(".")[0]," | Value: orderlynetworkdexcreator.github.io"]})})]}),a==="cloudflare"&&e.jsxs("div",{className:"p-3 bg-primary-light/10 rounded-lg border border-primary-light/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:shield-check h-3.5 w-3.5 mr-1.5 text-primary-light"}),"CloudFlare Proxy Setup (Important!)"]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("div",{children:"• Enable the orange cloud icon (Proxy status) for the CNAME record"}),e.jsx("div",{children:"• This provides instant SSL/TLS encryption"}),e.jsx("div",{children:"• Much faster than waiting for GitHub Pages certificates"}),e.jsx("div",{children:"• Better performance and security"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-warning/10 rounded-lg border border-warning/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:security h-3.5 w-3.5 mr-1.5 text-warning"}),"Recommended: Email Security Records"]}),e.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Add these TXT records to your root domain to protect it from email spoofing attacks. Without these, attackers could send phishing emails appearing to come from your domain, which may cause your site to be flagged by Google Safe Browsing."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"SPF Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: @ | Value: v=spf1 -all"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"DMARC Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: _dmarc | Value: v=DMARC1; p=reject; sp=reject; aspf=s; adkim=s"})})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"These records tell email servers that your domain doesn't send emails and to reject any emails claiming to be from your domain."})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-bold mb-2 text-success",children:"For Apex Domains (example.com):"}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.108.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.109.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.110.153"}),e.jsx("div",{children:"Type: A | Name: @ | Value: 185.199.111.153"}),e.jsx("div",{className:"mt-2",children:"Type: CNAME | Name: www | Value: orderlynetworkdexcreator.github.io"})]})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-bold mb-2 text-success",children:"For Subdomains (dex.example.com):"}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs",children:e.jsx("div",{children:"Type: CNAME | Name: dex | Value: orderlynetworkdexcreator.github.io"})})]}),a==="cloudflare"&&e.jsxs("div",{className:"mt-4 p-3 bg-primary-light/10 rounded-lg border border-primary-light/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:shield-check h-3.5 w-3.5 mr-1.5 text-primary-light"}),"CloudFlare Proxy Setup (Important!)"]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("div",{children:"• Enable the orange cloud icon (Proxy status) for ALL records"}),e.jsx("div",{children:"• This provides instant SSL/TLS encryption"}),e.jsx("div",{children:"• Much faster than waiting for GitHub Pages certificates"}),e.jsx("div",{children:"• Better performance and security"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-warning/10 rounded-lg border border-warning/20",children:[e.jsxs("h6",{className:"text-xs font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:security h-3.5 w-3.5 mr-1.5 text-warning"}),"Recommended: Email Security Records"]}),e.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Add these TXT records to protect your domain from email spoofing attacks. Without these, attackers could send phishing emails appearing to come from your domain, which may cause your site to be flagged by Google Safe Browsing."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"SPF Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: @ | Value: v=spf1 -all"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold mb-1 text-warning",children:"DMARC Record:"}),e.jsx("div",{className:"bg-base-9/70 rounded p-2 font-mono text-xs",children:e.jsx("div",{children:"Type: TXT | Name: _dmarc | Value: v=DMARC1; p=reject; sp=reject; aspf=s; adkim=s"})})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"These records tell email servers that your domain doesn't send emails and to reject any emails claiming to be from your domain."})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-300",children:e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Copy these exact values to your DNS provider. Changes may take up to 24 hours to propagate."})]})})]})]})}),e.jsx("div",{className:"border-t border-light/10 p-3 sm:p-4 lg:p-6 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx(K,{onClick:w,variant:"secondary",disabled:n,className:"flex-1 sm:flex-none",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:chevron-left h-4 w-4"}),"Previous"]})}),m?e.jsx(K,{onClick:d,variant:"primary",className:"flex-1 sm:flex-none",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:check h-4 w-4"}),"Complete Guide"]})}):e.jsx(K,{onClick:u,variant:"primary",className:"flex-1 sm:flex-none",children:e.jsxs("span",{className:"flex items-center gap-1",children:["Next",e.jsx("div",{className:"i-mdi:chevron-right h-4 w-4"})]})})]})})]})]})]})})}function Na({isOpen:t,onClose:s,onSelect:r,currentChain:a,currentPaymentType:i}){const{address:c}=$e(),{switchChain:l}=Ve(),h=Se(),{token:x}=Bt(),[f,b]=y.useState(null),[n,m]=y.useState(!1),[u,w]=y.useState(null),v=xa(),d=ga();y.useEffect(()=>{(async()=>{var R;if(f===null){m(!0);try{const N=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=orderly-network&vs_currencies=usd");if(N.ok){const M=(R=(await N.json())["orderly-network"])==null?void 0:R.usd;M&&b(M)}}catch(N){console.error("Failed to fetch ORDER token price:",N)}finally{m(!1)}}})()},[f]),y.useEffect(()=>{(async()=>{if(!(!x||u))try{const R=await Ut("api/graduation/fee-options",x);w(R)}catch(R){console.error("Failed to fetch fee options:",R)}})()},[x,u]);const j=p=>{var N;const R=ze(p);return((N=v.find(D=>D.id===R))==null?void 0:N.name)||R},k=y.useMemo(()=>{const p=[];return d.forEach(R=>{var O;const N=ze(R.id),D=((O=v.find(ee=>ee.id===N))==null?void 0:O.chainId)||1,M=Fs[N],C=Os[N];M&&p.push({chain:R.id,paymentType:"usdc",chainId:D,tokenAddress:M}),C&&p.push({chain:R.id,paymentType:"order",chainId:D,tokenAddress:C})}),p},[d,v]),S=k.map(p=>Vr({address:c,token:p.tokenAddress,chainId:p.chainId,query:{enabled:!!c&&!!p.tokenAddress,retry:3,staleTime:6e4}})),E=(p,R)=>{var D;const N=k.findIndex(M=>M.chain===p&&M.paymentType===R);return N===-1?null:(D=S[N])==null?void 0:D.data},G=y.useMemo(()=>{const p=[];return d.forEach(R=>{var ye;const N=ze(R.id),D=((ye=v.find(T=>T.id===N))==null?void 0:ye.name)||N,M=E(R.id,"usdc"),C=E(R.id,"order"),ee=`$${(M?parseFloat(M.formatted):0).toFixed(2)}`,fe=C&&f?parseFloat(C.formatted)*f:0,re=n?"Loading...":`$${fe.toFixed(2)}`,Q=u?`${u.usdc.amount.toLocaleString()} USDC`:"Loading...",te=u?`${u.order.amount.toLocaleString()} ORDER`:"Loading...",J=u?`Save 25% (~$${(u.order.amount*u.order.currentPrice).toFixed(2)})`:"";p.push({id:`usdc-${R.id}`,name:`USD Coin on ${D}`,symbol:"USDC",icon:"https://assets.coingecko.com/coins/images/6319/standard/usdc.png",chain:R.id,paymentType:"usdc",balance:M?`${parseFloat(M.formatted).toFixed(2)} USDC`:"0 USDC",value:ee,graduationFee:Q}),p.push({id:`order-${R.id}`,name:`Order Token on ${D}`,symbol:"ORDER",icon:"https://assets.coingecko.com/coins/images/38501/standard/Orderly_Network_Coingecko_200*200.png",chain:R.id,paymentType:"order",balance:C?`${parseFloat(C.formatted).toFixed(2)} ORDER`:"0 ORDER",value:re,graduationFee:te,discountInfo:J})}),p},[d,v,S,f,n,u]),W=async p=>{var D;const R=ze(p.chain),N=(D=v.find(M=>M.id===R))==null?void 0:D.chainId;if(N&&N!==h)try{await l({chainId:N})}catch(M){console.error("Failed to switch chain:",M)}r(p.chain,p.paymentType),s()};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:e.jsxs("div",{className:"w-full max-w-md mx-auto bg-background-light rounded-xl border border-light/10 shadow-2xl",onClick:p=>p.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light/10",children:[e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-200 transition-colors",children:e.jsx("div",{className:"i-mdi:arrow-left w-6 h-6"})}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Select a token"}),e.jsx("div",{className:"w-6"})," "]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:G.map(p=>e.jsxs("button",{onClick:()=>W(p),className:`w-full p-4 flex items-center justify-between hover:bg-light/5 transition-colors ${p.chain===a&&p.paymentType===i?"bg-primary/5 border-l-2 border-primary":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-background-card flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:p.icon,alt:p.symbol,className:"w-8 h-8 rounded-full"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:p.symbol}),e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx("img",{src:Lt(p.chain),alt:j(p.chain),className:"w-3 h-3 rounded-full"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary hidden"}),e.jsx("span",{children:j(p.chain)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:p.balance})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:p.value}),e.jsx("div",{className:"text-sm text-gray-400",children:p.chain===a&&p.paymentType===i&&e.jsx("span",{className:"text-primary",children:"Selected"})}),p.graduationFee&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Graduation: ",p.graduationFee]}),p.discountInfo&&e.jsx("div",{className:"text-xs text-warning mt-1 font-medium",children:p.discountInfo})]})]},p.id))})]})}):null}const Tt={mainnet:[1,42161,8453],testnet:[11155111,421614,84532]};function Ca({isOpen:t,onClose:s,brokerId:r,chainId:a}){var M;const[i,c]=y.useState(),[l,h]=y.useState("safe"),[x,f]=y.useState(null),[b,n]=y.useState(a),[m,u]=y.useState(!1),{address:w}=$e(),v=Se(),{switchChain:d}=Ve();y.useEffect(()=>{async function C(){const O=await fetch("https://raw.githubusercontent.com/OrderlyNetwork/contract-evm-abi/main/abi/latest/Vault.json");O.ok&&c(await O.text())}C()},[]);const j=Fe(),k=j==="mainnet"?Tt.mainnet:Tt.testnet,S=Object.values(ut).filter(C=>k.includes(C.chainId)),E=ht(b),G=E?(M=zs[j][E.id])==null?void 0:M.vaultAddress:void 0,p=[_s(ar(["string"],[r])),w??""],R=async(C,O)=>{await navigator.clipboard.writeText(C),f(O),setTimeout(()=>f(null),2e3)},N=async C=>{if(n(C),v!==C){u(!0);try{await d({chainId:C})}catch(O){console.error("Failed to switch chain:",O)}finally{setTimeout(()=>u(!1),1e3)}}};if(!t)return null;const D=[{value:"safe",label:"1. Open Wallet"},{value:"transaction",label:"2. Create Tx"},{value:"review-confirm",label:"3. Review & Confirm"},{value:"txhash",label:"4. Get Tx Hash"}];return e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center h-screen p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-background-dark/90 backdrop-blur-sm z-[1001]"}),e.jsxs("div",{className:"relative z-[1002] max-w-5xl w-full max-h-[90vh] rounded-xl bg-background-light border border-primary/20 shadow-2xl slide-fade-in overflow-hidden flex",children:[e.jsxs("div",{className:"flex-shrink-0 w-64 bg-background-dark/50 border-r border-primary/10 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"bg-primary/20 p-2 rounded-lg",children:e.jsx("div",{className:"i-mdi:safe text-primary w-6 h-6"})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Safe Wallet"})]}),e.jsx("nav",{className:"space-y-2",children:D.map(C=>e.jsx("button",{onClick:()=>h(C.value),className:`w-full text-left px-4 py-3 rounded-lg transition-all ${l===C.value?"bg-primary/20 text-primary border border-primary/30":"text-gray-400 hover:bg-background-light/50 hover:text-gray-300"}`,children:C.label},C.value))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 p-8 pb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Gnosis Safe Instructions"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v!==b&&!m&&e.jsxs("div",{className:"text-xs text-warning flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:alert-circle h-3 w-3"}),"Not connected"]}),m&&e.jsxs("div",{className:"text-xs text-info flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:loading h-3 w-3 animate-spin"}),"Switching..."]})]}),e.jsx("div",{className:"flex gap-2",children:S.map(C=>e.jsxs("button",{onClick:()=>N(C.chainId),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs transition-all ${b===C.chainId?"bg-primary/20 border border-primary/30":"bg-background-dark/50 border border-light/10 hover:border-light/20"}`,children:[e.jsx("img",{src:Lt(C.id),alt:C.name,className:"w-4 h-4 rounded-full",onError:O=>{const ee=O.currentTarget;ee.style.display="none"}}),e.jsx("span",{className:`font-medium ${b===C.chainId?"text-primary":"text-gray-300"}`,children:C.name}),v===C.chainId&&e.jsx("div",{className:"i-mdi:check-circle h-3 w-3 text-success"})]},C.chainId))}),v!==b&&!m&&e.jsx("div",{className:"mt-2 pt-2 border-t border-light/10",children:e.jsxs("button",{onClick:()=>N(b),className:"text-xs text-primary hover:text-primary-light flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:swap-horizontal h-3 w-3"}),"Switch to ",E==null?void 0:E.name]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-8",children:[l==="safe"&&e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("div",{className:"bg-info/10 border border-info/20 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"i-mdi:information-outline text-info w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-info mb-2",children:"Important: Match Your Safe's Network"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Use the network selector above to choose the chain where your Safe wallet is deployed. Currently selected:"," ",e.jsx("span",{className:"font-semibold text-white",children:E==null?void 0:E.name}),". If your Safe is on a different chain, switch using the network selector at the top before proceeding."]})]})]})}),e.jsxs("p",{className:"text-gray-300",children:["Visit"," ",e.jsx("a",{href:"https://app.safe.global/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary-light underline",children:"Gnosis Safe"}),". Set up your wallet if not already done. Then visit the batch transaction builder as shown below."]}),e.jsx("img",{src:"/safe.webp",alt:"Gnosis Safe Instructions",className:"w-full rounded-lg border border-primary/20"})]}),l==="transaction"&&e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-primary/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:"Enter Orderly Vault Address"}),e.jsxs("button",{onClick:()=>G&&R(G,"vault"),className:"flex items-center gap-2 px-3 py-1 bg-primary/20 hover:bg-primary/30 text-primary rounded text-sm transition-colors",children:[e.jsx("div",{className:x==="vault"?"i-mdi:check h-4 w-4":"i-mdi:content-copy h-4 w-4"}),x==="vault"?"Copied!":"Copy"]})]}),e.jsx("code",{className:"block text-sm text-gray-300 bg-background-dark p-3 rounded border border-primary/10 break-all",children:G||"Vault address not available for this chain"})]}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-primary/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:"Copy ABI"}),e.jsxs("button",{onClick:()=>i&&R(i,"abi"),disabled:!i,className:"flex items-center gap-2 px-3 py-1 bg-primary/20 hover:bg-primary/30 text-primary rounded text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:x==="abi"?"i-mdi:check h-4 w-4":"i-mdi:content-copy h-4 w-4"}),x==="abi"?"Copied!":"Copy"]})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto bg-background-dark p-3 rounded border border-primary/10",children:e.jsx("code",{className:"text-xs text-gray-300 break-all whitespace-pre-wrap",children:i??"Loading ABI..."})})]}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-primary/10",children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Select Contract Method"}),e.jsx("code",{className:"text-sm text-primary bg-background-dark px-3 py-1 rounded",children:"delegateSigner"})]}),e.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-4 border border-primary/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:"Insert Data Tuple"}),e.jsxs("button",{onClick:()=>R(JSON.stringify(p),"data"),className:"flex items-center gap-2 px-3 py-1 bg-primary/20 hover:bg-primary/30 text-primary rounded text-sm transition-colors",children:[e.jsx("div",{className:x==="data"?"i-mdi:check h-4 w-4":"i-mdi:content-copy h-4 w-4"}),x==="data"?"Copied!":"Copy"]})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"This data will send your wallet address & Delegate Signer address."}),e.jsx("code",{className:"block text-xs text-gray-300 bg-background-dark p-3 rounded border border-primary/10 break-all whitespace-pre-wrap",children:JSON.stringify(p,void 0,2)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-3",children:"Create Batch Transaction"}),e.jsx("img",{src:"/batch-create.webp",alt:"Create Batch for Gnosis Safe",className:"w-full rounded-lg border border-primary/20"})]})]}),l==="review-confirm"&&e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Review Transaction"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"You can simulate the transaction in order to make sure that it will not fail."}),e.jsx("img",{src:"/review-batch.webp",alt:"Review Gnosis Safe batch transaction",className:"w-full rounded-lg border border-primary/20"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Execute Transaction"}),e.jsx("img",{src:"/confirm-tx.webp",alt:"Confirm Gnosis Safe batch transaction",className:"w-full rounded-lg border border-primary/20"})]})]}),l==="txhash"&&e.jsx("div",{className:"space-y-4 mb-8",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Receive Transaction Hash"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"After the multisig transaction succeeded with enough wallets signing the transaction, you need to receive the transaction hash. Copy it in order to accept the Delegate Signer link."}),e.jsx("img",{src:"/multisig-txhash.webp",alt:"Receive Gnosis Safe transaction hash",className:"w-full rounded-lg border border-primary/20"})]})})]}),e.jsx("div",{className:"flex-shrink-0 py-4 px-8",children:e.jsx("div",{className:"flex justify-end",children:e.jsx(K,{variant:"secondary",onClick:s,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"i-mdi:close h-4 w-4"}),"Close"]})})})})]})]})]})}function ka({isOpen:t,onClose:s,brokerId:r,multisigAddress:a,multisigChainId:i}){const{address:c}=$e(),{data:l}=Jt(),h=Se(),{switchChain:x}=Ve(),[f,b]=y.useState(!1),[n,m]=y.useState(""),[u,w]=y.useState(null),[v,d]=y.useState(!1),j=ns(a),k=ts(j,r),[S,E]=y.useState(null),G=h===i,W=ht(i);y.useEffect(()=>{if(t){const C=Hr(k);C?E(C):(Y.error("No Orderly key found. Please create one first."),s())}},[t,k,s]),y.useEffect(()=>{S&&k&&p()},[S,k]);const p=async()=>{if(!(!S||!k)){d(!0);try{const O=(await Wr(k,S)).find(ee=>ee.token==="USDC");w((O==null?void 0:O.holding)||0)}catch(C){console.error("Error fetching USDC balance:",C)}finally{d(!1)}}},R=()=>{u!==null&&m(u.toString())},N=async()=>{try{await x({chainId:i})}catch(C){console.error("Failed to switch chain:",C),Y.error("Please switch to the required network in your wallet")}},D=async()=>{if(!l||!k||!S||!c){Y.error("Missing required data for withdrawal");return}if(!G){Y.error(`Please switch to ${(W==null?void 0:W.name)||"the correct network"} to withdraw`);return}if(!n.trim()||parseFloat(n)<=0){Y.error("Please enter valid amount");return}try{const O=await new It(l).getSigner();await Gr(O,c,j,i,r,j,"USDC",Number(n),k,S),Y.success("Withdrawal request submitted successfully!"),s()}catch(C){console.error("Error withdrawing:",C),Y.error(C instanceof Error?C.message:"Failed to withdraw")}},M=async()=>{if(!n.trim()||parseFloat(n)<=0){Y.error("Please enter valid amount");return}b(!0);try{await D()}catch(C){console.error("Error in full withdrawal:",C)}finally{b(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:e.jsxs("div",{className:"w-full max-w-md mx-auto bg-background-light rounded-xl border border-light/10 shadow-2xl",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Withdraw Fees"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-200 transition-colors",children:e.jsx("div",{className:"i-mdi:close w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-info/10 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:information-outline text-info w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-info font-medium mb-1",children:"Multisig Withdrawal Process"}),e.jsx("p",{className:"text-xs text-gray-400",children:"This will withdraw fees to your multisig wallet. The operation requires a signature from your connected EOA wallet."})]})]})}),e.jsxs("div",{className:"bg-background-card rounded-lg p-3 border border-light/10",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Withdrawal Address (Multisig)"}),e.jsx("div",{className:"font-mono text-sm text-gray-300 break-all",children:a})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Amount (USDC)"}),e.jsx("div",{className:"flex items-center gap-2",children:v?e.jsx("span",{className:"text-xs text-gray-400",children:"Loading balance..."}):u!==null?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Available: ",u.toFixed(2)," USDC"]}),e.jsx("button",{onClick:R,className:"text-xs text-primary-light hover:text-primary font-medium",children:"MAX"})]}):null})]}),e.jsx("input",{type:"number",value:n,onChange:C=>m(C.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-3 py-2 bg-background-dark border border-light/10 rounded-lg text-white placeholder-gray-400 focus:border-primary/50 focus:outline-none"})]}),!G&&e.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"i-mdi:alert text-warning w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-warning font-medium mb-1",children:"Wrong Network"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Please switch to"," ",e.jsx("span",{className:"font-semibold text-white",children:(W==null?void 0:W.name)||`Chain ID ${i}`})," ","where your multisig delegate signer link was established."]})]})]})}),G?e.jsx(K,{onClick:M,variant:"primary",className:"w-full",isLoading:f,loadingText:"Processing...",disabled:!n.trim()||!S,children:"Withdraw Fees"}):e.jsx(K,{onClick:N,variant:"primary",className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"i-mdi:swap-horizontal w-4 h-4"}),"Switch to ",(W==null?void 0:W.name)||"Correct Network"]})})]})]})}):null}const Sa={openModal:()=>{},closeModal:()=>{},isModalOpen:!1,currentModalType:null,currentModalProps:{}},is=y.createContext(Sa),Ta=()=>y.useContext(is);function Ga({children:t}){const[s,r]=y.useState(!1),[a,i]=y.useState(null),[c,l]=y.useState({}),h=(b,n={})=>{r(!0),i(b),l(n)},x=()=>{r(!1),setTimeout(()=>{i(null),l({})},300)},f=y.useMemo(()=>({openModal:h,closeModal:x,isModalOpen:s,currentModalType:a,currentModalProps:c}),[s,a,c]);return e.jsxs(is.Provider,{value:f,children:[t,e.jsx(Ra,{})]})}function Ra(){const{isModalOpen:t,currentModalType:s,currentModalProps:r,closeModal:a}=Ta();if(!t||!s)return null;switch(s){case"login":return e.jsx(Yr,{isOpen:t,onClose:r.onClose||a,onLogin:r.onLogin});case"deleteConfirm":return e.jsx(Jr,{isOpen:t,onClose:a,onConfirm:r.onConfirm,entityName:r.entityName||"Item"});case"confirmation":return e.jsx(Zr,{isOpen:t,onClose:a,onConfirm:r.onConfirm,title:r.title||"Confirm Action",message:r.message||"Are you sure you want to proceed?",warningMessage:r.warningMessage,confirmButtonText:r.confirmButtonText||"Confirm",confirmButtonVariant:r.confirmButtonVariant||"primary",cancelButtonText:r.cancelButtonText||"Cancel",isDestructive:r.isDestructive||!1});case"imageCrop":return e.jsx(ea,{isOpen:t,onClose:a,onApply:r.onApply,imageSource:r.imageSource,originalDimensions:r.originalDimensions,initialCrop:r.initialCrop,targetDimensions:r.targetDimensions,enforceSquare:r.enforceSquare,enforce16by9:r.enforce16by9});case"themePreview":return e.jsx(ha,{isOpen:t,onClose:a,onApply:i=>{r.onApply&&r.onApply(i),a()},onCancel:r.onCancel,css:r.theme});case"tradingViewLicense":return e.jsx(ma,{isOpen:t,onClose:a});case"orderlyKeyLogin":return e.jsx(fa,{isOpen:t,onClose:a,onSuccess:r.onSuccess,onCancel:r.onCancel,brokerId:r.brokerId,accountId:r.accountId});case"adminLogin":return e.jsx(ya,{isOpen:t,onClose:a,orderlyKey:r.orderlyKey,accountId:r.accountId});case"graduationExplanation":return e.jsx(ba,{isOpen:t,onClose:a});case"domainSetupGuide":return e.jsx(ja,{isOpen:t,onClose:a,customDomain:r.customDomain});case"tokenSelection":return e.jsx(Na,{isOpen:t,onClose:a,onSelect:r.onSelect,currentChain:r.currentChain,currentPaymentType:r.currentPaymentType});case"safeInstructions":return e.jsx(Ca,{isOpen:t,onClose:a,brokerId:r.brokerId,chainId:r.chainId});case"feeWithdrawal":return e.jsx(ka,{isOpen:t,onClose:a,brokerId:r.brokerId,multisigAddress:r.multisigAddress,multisigChainId:r.multisigChainId});default:return null}}export{na as A,ca as B,ua as C,sa as D,qa as E,Ga as M,Fa as Q,ta as T,La as a,ts as b,oe as c,Se as d,Yt as e,Qt as f,Va as g,Oa as h,Ua as i,ze as j,xa as k,Hr as l,Jt as m,Ve as n,Vr as o,ns as p,Fe as q,es as r,ss as s,_a as t,Ta as u,za as v,Ka as w,gt as x,ra as y,Ba as z};
