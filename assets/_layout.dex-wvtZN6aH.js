import{r,j as e}from"./index-gtzDq4NN.js";import{y as m}from"./globalDisconnect-BwfQ2Vw-.js";import{u as te,t as K}from"./useAuth-CdmGF86g.js";import{u as ce}from"./DexContext-BStH6aHx.js";import{u as ae,d as J}from"./ModalContext-mlJE0UaS.js";import{g as O,b as q,c as de,f as me,e as Q}from"./apiClient-DEwubw2O.js";import{W as Z}from"./WalletConnect-R3qWhd59.js";import{C as A,B as T}from"./Card-CTDM2G3r.js";import{g as xe}from"./deploymentUrl-2BmYCh8V.js";import{u as re,c as ue,D as he,a as I,b as pe,d as fe,v as ee,e as ge}from"./useThemeHandlers-ATqQ7dHb.js";import{F as ye}from"./ImagePaste-DdHR4gq_.js";import{u as ie,a as be,b as je}from"./DistributorContext-B2aeeeXX.js";import{M as se}from"./ChainsSelect-vcwHHKyG.js";import{c as Ne}from"./clsx-B-dksMZM.js";import{P as ve}from"./PointSystemIcon-DZDfiAFx.js";import{a as we,b as ke}from"./index-DG3TDxXu.js";import"./dijkstra-C00ieaqj.js";import"./css-BzFf4VQ5.js";import"./Combination-CTmdEaXQ.js";import"./index-Dvs6MNyz.js";import"./tslib.es6-MJ473bz6.js";import"./dayjs.min-DsMxAas2.js";import"./browser-BqbI9gSd.js";import"./iconify-AJT-F7UA.js";import"./NavigationMenuEditor-CH7me4j8.js";import"./FuzzySearchInput-CMoxZWNE.js";import"./usePrivateQuery-C4ovqd4J.js";import"./OrderlyKeyContext-4mPVxEwy.js";import"./index-_0cUeJFu.js";import"./index-UZBry7Gd.js";function Ce({dexId:t,workflowName:x,className:d="",autoRefresh:s=!0,onSuccessfulDeployment:D}){const{token:f}=te(),[k,X]=r.useState(!1),[w,l]=r.useState(!1),[o,R]=r.useState(null),[g,N]=r.useState(null),[U,P]=r.useState(null),[n,c]=r.useState(null),[C,L]=r.useState(!1),$=r.useCallback(async(a,u=!0)=>{if(!(!f||!t)){u&&l(!0),P(a);try{const h=await O(`api/dex/${t}/workflow-runs/${a}`,f);N(h),R(b=>b&&{...b,workflowRuns:b.workflowRuns.map(M=>M.id===a?{...M,status:h.status,conclusion:h.conclusion,updatedAt:h.updatedAt}:M)})}catch(h){console.error("Error fetching run details:",h),m.error("Could not fetch workflow run details"),P(null)}finally{u&&l(!1)}}},[f,t]),F=r.useCallback(async()=>{if(!(!f||!t)){X(!0),c(null);try{let a=`api/dex/${t}/workflow-status`;x&&(a+=`?workflow=${encodeURIComponent(x)}`);const u=await O(a,f);if(R(u),L(!1),U&&u.workflowRuns.some(h=>h.id===U)){const h=u.workflowRuns.find(b=>b.id===U);h&&(h.status==="in_progress"||h.status==="queued")&&$(U,!1)}}catch(a){console.error("Error fetching workflow status:",a);const u=a instanceof Error?a.message:"Unknown error";c(`Failed to fetch workflow status: ${u}`)}finally{X(!1)}}},[f,t,x,U,$]);r.useEffect(()=>{F()},[f,t,x]),r.useEffect(()=>{if(!s)return;const a=!o||o.totalCount===0?5e3:2e4,u=setInterval(F,a);return()=>clearInterval(u)},[s,o,F]);const V=r.useCallback(()=>{if(!o||!o.workflowRuns.length||!D)return;const a=`notified-deployments-${t}`;let u=[];try{const b=localStorage.getItem(a);b&&(u=JSON.parse(b))}catch(b){console.error("Error reading from localStorage:",b)}const h=o.workflowRuns.filter(b=>b.name==="Deploy to GitHub Pages");if(h.length>0){const b=h.find(M=>M.status==="completed"&&M.conclusion==="success");if(b&&b.htmlUrl){const M=b.htmlUrl.split("/actions/runs/")[0],i=xe(M);if(i){const p=!u.includes(b.id);if(D(i,p),p){u.push(b.id);try{localStorage.setItem(a,JSON.stringify(u))}catch(j){console.error("Error writing to localStorage:",j)}}L(!0);return}}!g&&h.length>0&&$(h[0].id)}},[o,D,g,$,t]);r.useEffect(()=>{!C&&o&&V()},[o,V,C]);const Y=a=>new Date(a).toLocaleString(),z=(a,u)=>{if(a==="completed")switch(u){case"success":return"bg-success";case"failure":return"bg-error";case"cancelled":return"bg-gray-500";default:return"bg-yellow-500"}else{if(a==="in_progress")return"bg-blue-500 animate-pulse";if(a==="queued")return"bg-blue-300"}return"bg-gray-400"},W=(a,u)=>{if(a==="completed")switch(u){case"success":return"Success";case"failure":return"Failed";case"cancelled":return"Cancelled";default:return u||"Completed"}return a.replace("_"," ")};return k&&!o?e.jsxs("div",{className:`p-4 ${d}`,children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-6 w-6 mx-auto text-primary-light"}),e.jsx("p",{className:"text-center text-sm mt-2",children:"Loading workflow status..."})]}):n?e.jsxs(A,{variant:"error",className:d,children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Workflow Status Error"}),e.jsx("p",{className:"text-sm",children:n}),e.jsx("button",{onClick:F,className:"mt-3 px-3 py-1 text-xs bg-dark/50 hover:bg-dark/70 rounded-md",children:"Retry"})]}):!o||o.totalCount===0?e.jsxs("div",{className:`p-4 ${d}`,children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-6 w-6 mx-auto text-primary-light"}),e.jsx("p",{className:"text-center text-sm mt-2",children:"Waiting for workflows to start..."})]}):e.jsx("div",{className:d,children:e.jsxs(A,{className:"slide-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-md font-medium",children:x?`"${x}" Workflow Status`:"Workflow Status"}),e.jsx("button",{onClick:F,disabled:k,className:"p-1 rounded hover:bg-dark/50",title:"Refresh",children:e.jsx("div",{className:`i-mdi:refresh h-5 w-5 ${k?"animate-spin":""}`})})]}),o.workflowRuns.length===0?e.jsx("p",{className:"text-sm text-gray-400",children:"No recent workflow runs found"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"overflow-auto max-h-80",children:[o.workflowRuns.slice(0,5).map(a=>e.jsxs("div",{className:`p-3 mb-2 bg-dark/30 rounded-lg hover:bg-dark/50 cursor-pointer staggered-item ${U===a.id?"border border-primary-light/30":""}`,onClick:()=>{g&&g.id===a.id?$(a.id,!1):$(a.id)},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${w&&U===a.id?"bg-blue-500 animate-pulse":z(a.status,a.conclusion)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),e.jsx("span",{className:"text-xs text-gray-400",children:w&&U===a.id?"Loading...":W(a.status,a.conclusion)})]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-400 flex justify-between",children:[e.jsxs("span",{children:["Run #",a.id]}),e.jsx("span",{children:Y(a.updatedAt)})]})]},a.id)),o.workflowRuns.length>5&&e.jsxs("div",{className:"text-xs text-gray-400 text-center mt-2 slide-fade-in-delayed",children:["Showing 5 most recent of ",o.workflowRuns.length," ","total runs"]})]}),U&&e.jsx("div",{className:"bg-dark/20 p-3 rounded-lg mt-4 border border-light/10 slide-fade-in",children:w?e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-6 w-6 mx-auto text-primary-light mb-2"}),e.jsx("p",{className:"text-center text-sm text-gray-400",children:"Loading workflow details..."})]}):g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"font-medium",children:["Run Details: ",g.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("a",{href:g.htmlUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-light hover:underline flex items-center",children:[e.jsx("span",{children:"View on GitHub"}),e.jsx("div",{className:"i-mdi:open-in-new h-3 w-3 ml-1"})]}),e.jsx("button",{onClick:()=>{N(null),P(null)},className:"p-1 rounded hover:bg-dark/50 ml-2",title:"Close details",children:e.jsx("div",{className:"i-mdi:close h-4 w-4"})})]})]}),e.jsxs("div",{className:"my-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("span",{className:"font-medium",children:W(g.status,g.conclusion)})]}),e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Started"}),e.jsx("span",{children:Y(g.createdAt)})]}),e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Last updated"}),e.jsx("span",{children:Y(g.updatedAt)})]})]}),g.jobs.length>0&&e.jsxs("div",{className:"mt-3 slide-fade-in-delayed",children:[e.jsx("h5",{className:"text-sm font-bold mb-2",children:"Jobs"}),e.jsx("div",{className:"space-y-2",children:g.jobs.map((a,u)=>e.jsxs("div",{className:"bg-dark/30 p-2 rounded text-xs",style:{animation:`slideFadeIn 0.25s ease ${.1+u*.05}s forwards`,opacity:0,transform:"translateY(-10px)"},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:a.name}),e.jsxs("div",{className:`${a.conclusion==="success"?"bg-success/30 text-success":a.conclusion==="failure"?"bg-error/30 text-error":"bg-yellow-500/30 text-yellow-300"} px-2 py-0.5 rounded text-xs font-medium flex items-center`,children:[e.jsx("span",{className:`${a.conclusion==="success"?"text-success":a.conclusion==="failure"?"text-error":"text-yellow-400"} mr-1`}),a.conclusion==="success"?"Success":a.conclusion==="failure"?"Failed":"In Progress"]})]}),a.steps&&a.steps.length>0&&e.jsx("div",{className:"mt-2 pl-2 border-l border-light/10",children:a.steps.map(h=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-gray-400",children:h.name}),e.jsx("span",{className:h.conclusion==="success"?"text-success":h.conclusion==="failure"?"text-error":"text-yellow-400",children:W(h.status,h.conclusion)})]},h.number))})]},a.id))})]})]}):e.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"Failed to load workflow details"})})]})]})})}function De({dexData:t,deploymentUrl:x,deploymentConfirmed:d,isForking:s,handleRetryForking:D,handleSuccessfulDeployment:f}){return t?t.repoUrl?e.jsxs(A,{variant:"success",className:"mb-6",id:"dex-creation-status",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"DEX Creation Status"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"We've created the source code for your DEX! Here's what's happening now:"}),e.jsxs("div",{className:"mb-4 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[e.jsxs("h4",{className:"text-base font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:code-tags text-primary-light mr-2 h-5 w-5"}),"Step 1: Source Code Created"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"We've created a GitHub repository containing all the code needed for your DEX. Think of this as the blueprint for your exchange:"}),e.jsxs("a",{href:t.repoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline break-all mb-1 flex items-center text-sm",children:[e.jsx("span",{className:"break-all",children:t.repoUrl}),e.jsx("div",{className:"i-mdi:open-in-new h-4 w-4 ml-1 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-400 italic",children:"(You don't need to do anything with this link unless you're a developer)"})]}),x&&d?e.jsxs("div",{className:"mb-4 p-3 bg-success/10 rounded-lg border border-success/20 slide-fade-in",children:[e.jsxs("h4",{className:"text-base font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:check-circle text-success mr-2 h-5 w-5"}),"Step 2: Your DEX is Live!"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Congratulations! Your DEX website is fully built and ready to use. Your users can access it at:"}),e.jsxs("a",{href:t.customDomain?`https://${t.customDomain}`:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/20 hover:bg-primary/30 rounded text-primary-light transition-colors",children:[e.jsx("span",{className:"break-all",children:t.customDomain?t.customDomain:x}),e.jsx("div",{className:"i-mdi:open-in-new h-4 w-4"})]}),t.customDomain&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex items-start gap-1",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Your DEX is using a custom domain. The standard deployment URL will no longer work correctly as the build is now optimized for your custom domain."})]}),t.customDomain&&e.jsxs("div",{className:"mt-2 text-xs text-warning flex items-start gap-1",children:[e.jsx("div",{className:"i-mdi:alert-circle-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:'Note: After changing any custom domain settings, you must wait for a deployment to complete (check "Updates & Deployment Status" below) for domain changes to take effect.'})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-light/10",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline text-primary-light mr-2 h-4 w-4"}),"Making Changes to Your DEX"]}),e.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"When you update any information above (like your broker name, logos, or social links):"}),e.jsxs("ul",{className:"text-xs text-gray-300 list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Your changes are first saved to our system"}),e.jsx("li",{children:"An automatic update process (workflow) runs to rebuild your DEX"}),e.jsx("li",{children:"Once complete, your changes will appear live on your DEX website"}),e.jsx("li",{children:"This process typically takes 2-5 minutes"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:'You can track the progress of your updates in the "Deployment Progress" section above'})]})]}):e.jsxs("div",{className:"mb-4 p-3 bg-warning/10 rounded-lg border border-warning/20",children:[e.jsxs("h4",{className:"text-base font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:progress-clock text-warning mr-2 h-5 w-5"}),"Step 2: Building Your DEX Website"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"We're currently building your DEX website from the source code. This process usually takes 2-5 minutes to complete."}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Once complete, you'll see a link to your live DEX here."}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-light/10",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline text-warning mr-2 h-4 w-4"}),"About Future Updates"]}),e.jsx("p",{className:"text-xs text-gray-300",children:"Whenever you make changes to your DEX (updating logos, social links, etc.), this same build process will run again. Your changes will be live after the process completes, which typically takes 2-5 minutes."})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-light/10",children:[e.jsx("h4",{className:"text-base font-bold mb-3",children:"Updates & Deployment Status"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:'This shows the current status of your DEX updates. When the latest run shows "completed", your changes are live on your DEX website:'}),e.jsx(Ce,{dexId:t.id,workflowName:"Deploy to GitHub Pages",onSuccessfulDeployment:f})]})]}):t.id&&!t.repoUrl?e.jsxs(A,{variant:"error",className:"mb-6",id:"dex-creation-status",children:[e.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:[e.jsx("span",{className:"text-red-300 font-medium",children:"⚠️ Note:"})," Your DEX configuration was saved, but we couldn't create your repository."]}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"You can retry the repository creation now."}),e.jsx(T,{onClick:D,disabled:s,variant:"danger",size:"sm",isLoading:s,loadingText:"Retrying...",children:"Retry Repository Creation"})]}):null:null}function Se({dexData:t,token:x,isSaving:d,onDexDataUpdate:s,onSavingChange:D,onShowDomainRemoveConfirm:f}){const[k,X]=r.useState(""),[w,l]=r.useState(!1),{openModal:o,closeModal:R}=ae(),g=async()=>{const c=k.trim().toLowerCase(),C=/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?(\.[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*\.[a-z]{2,}$/;if(!c){m.error("Domain name cannot be empty");return}if(c!==k){m.error("Domain must be lowercase with no leading/trailing spaces");return}if(!C.test(c)){m.error("Please enter a valid domain name (e.g., example.com)");return}if(c.includes("..")||c.startsWith(".")||c.endsWith(".")){m.error("Domain cannot have consecutive dots or start/end with a dot");return}if(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(c)){m.error("IP addresses are not allowed. Please use a domain name");return}w?N(c):o("tradingViewLicenseAcknowledgment",{onAcknowledge:()=>N(c),onViewGuide:()=>{o("tradingViewLicense")}})},N=async c=>{R(),D(!0);try{await q(`api/dex/${t.id}/custom-domain`,{domain:c},x),s({...t,customDomain:c}),m.success(w?"Custom domain updated successfully":"Custom domain configured successfully"),l(!1),X("")}catch(C){console.error("Error setting custom domain:",C),m.error(w?"Failed to update custom domain":"Failed to set custom domain")}finally{D(!1)}},U=()=>{X(t.customDomain||""),l(!0)},P=()=>{l(!1),X("")},n=(c,C)=>{navigator.clipboard.writeText(c),m.success(C)};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Custom Domain Setup"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Deploy your DEX to your own domain instead of using the default GitHub Pages URL. You'll need to configure your domain's DNS settings to point to GitHub Pages."}),!t.customDomain&&e.jsxs("div",{className:"mb-4 p-3 bg-warning/10 rounded-lg border border-warning/30",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:alert-circle h-4 w-4 mr-2 text-warning"}),"Limited Mobile Functionality"]}),e.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"Your DEX is currently using the default deployment domain. This means a special mobile feature that allows users to connect to their mobile device without requiring a mobile wallet will not work."}),e.jsx("p",{className:"text-xs text-gray-300",children:"Configure a custom domain below to enable this mobile connection feature for your users."})]}),e.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 rounded-lg border border-red-500/30",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:alert h-4 w-4 mr-2 text-red-400"}),"Important License Requirement"]}),e.jsxs("p",{className:"text-xs text-gray-300 mb-3",children:["When using your own custom domain, you are required to apply for your own",e.jsx("strong",{children:" TradingView Advanced Charts license"}),". The default license only covers the default domain."]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("a",{href:"https://www.tradingview.com/advanced-charts/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-light hover:underline flex items-center",children:["Apply for TradingView Advanced Charts license",e.jsx("div",{className:"i-mdi:open-in-new h-3.5 w-3.5 ml-1"})]}),e.jsxs("button",{onClick:()=>o("tradingViewLicense"),className:"text-xs text-secondary-light hover:underline flex items-center",children:["Need help? Read our guide",e.jsx("div",{className:"i-mdi:help-circle-outline h-3.5 w-3.5 ml-1"})]})]})]}),t.customDomain?e.jsx("div",{className:"mb-4",children:w?e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center mb-4",children:[e.jsxs("div",{className:"bg-warning/10 text-warning px-3 py-1 rounded-full text-sm flex items-center",children:[e.jsx("div",{className:"i-mdi:pencil h-4 w-4 mr-1"}),"Editing Domain"]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Current domain: ",t.customDomain]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"editCustomDomain",className:"block text-sm font-bold mb-1",children:"Domain Name"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-2",children:[e.jsx("input",{id:"editCustomDomain",type:"text",value:k,onChange:c=>X(c.target.value),placeholder:"example.com",className:"flex-1 bg-background-dark/80 border border-light/10 rounded px-3 py-2 text-sm focus:ring-1 focus:ring-primary-light focus:border-primary-light"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{onClick:g,variant:"primary",size:"sm",isLoading:d,loadingText:"Saving...",disabled:!k||d,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:check h-4 w-4"}),"Update"]})}),e.jsx(T,{onClick:P,variant:"secondary",size:"sm",disabled:d,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:close h-4 w-4"}),"Cancel"]})})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter your domain without 'http://' or 'https://' (e.g., example.com)"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center mb-4",children:[e.jsxs("div",{className:"bg-success/10 text-success px-3 py-1 rounded-full text-sm flex items-center",children:[e.jsx("div",{className:"i-mdi:check-circle h-4 w-4 mr-1"}),"Domain Configured"]}),e.jsxs("div",{className:"text-sm",children:["Your DEX is available at"," ",e.jsxs("a",{href:`https://${t.customDomain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-light hover:underline inline-flex items-center",children:[t.customDomain,e.jsx("div",{className:"i-mdi:open-in-new h-3.5 w-3.5 ml-1"})]})]})]}),e.jsxs("div",{className:"bg-info/10 rounded-lg border border-info/20 p-4 mb-4",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline text-info mr-2 h-4 w-4"}),"DNS Configuration Status"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"It may take up to 24 hours for DNS changes to propagate. If your domain is not working yet, please check back later."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(T,{onClick:U,variant:"secondary",size:"sm",disabled:d,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:pencil h-4 w-4"}),"Edit Domain"]})}),e.jsx(T,{onClick:f,variant:"danger",size:"sm",isLoading:d,loadingText:"Removing...",disabled:d,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:delete h-4 w-4"}),"Remove Custom Domain"]})})]})]})]})}):e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"customDomain",className:"block text-sm font-bold mb-1",children:"Domain Name"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-2",children:[e.jsx("input",{id:"customDomain",type:"text",value:k,onChange:c=>X(c.target.value),placeholder:"example.com",className:"flex-1 bg-background-dark/80 border border-light/10 rounded px-3 py-2 text-sm focus:ring-1 focus:ring-primary-light focus:border-primary-light"}),e.jsx(T,{onClick:g,variant:"primary",size:"sm",isLoading:d,loadingText:"Saving...",disabled:!k||d,className:"w-full sm:w-auto",children:e.jsxs("span",{className:"flex items-center gap-1 justify-center sm:justify-start",children:[e.jsx("div",{className:"i-mdi:link h-4 w-4"}),"Set Domain"]})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter your domain without 'http://' or 'https://' (e.g., example.com)"})]})}),e.jsxs("div",{className:"mb-4 p-4 bg-primary-light/5 rounded-lg border border-primary-light/20",children:[e.jsxs("h5",{className:"text-sm font-bold mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:shopping-cart h-4 w-4 mr-2 text-primary-light"}),"Need to Purchase a Domain?"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Don't have a domain yet? We've created step-by-step guides to help you purchase and configure your domain with popular providers."}),e.jsx(T,{onClick:()=>o("domainSetupGuide",{customDomain:t.customDomain}),variant:"primary",size:"sm",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-mdi:book-open-variant h-4 w-4"}),"Show Step-by-Step Guide"]})})]}),e.jsxs("div",{className:"rounded-lg border border-light/10 p-4 bg-base-8/50",children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:dns h-4 w-4 mr-2 text-primary-light"}),"DNS Configuration Instructions"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"To use a custom domain, you'll need to configure your domain's DNS settings:"}),t.customDomain&&t.customDomain.split(".").length===2?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto",children:[e.jsxs("div",{className:"mb-2 text-gray-400",children:[e.jsx("span",{className:"text-primary-light",children:"Step 1:"})," Add"," ",e.jsx("span",{className:"text-primary-light",children:"A records"})," for your apex domain:"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Type:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"A"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("A","Copied to clipboard"),"aria-label":"Copy record type to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Name:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"@"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("@","Copied to clipboard"),"aria-label":"Copy @ symbol to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsx("div",{className:"text-gray-400",children:"Values (create 4 separate A records):"}),["185.199.108.153","185.199.109.153","185.199.110.153","185.199.111.153"].map(c=>e.jsxs("div",{className:"flex items-center ml-2",children:[e.jsx("span",{className:"text-white",children:c}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n(c,"Copied to clipboard"),"aria-label":`Copy IP address ${c} to clipboard`,children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]},c)),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"TTL:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"3600"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("3600","Copied to clipboard"),"aria-label":"Copy TTL value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})," ","(or automatic)"]})]})]})]}),e.jsxs("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto",children:[e.jsxs("div",{className:"mb-2 text-gray-400",children:[e.jsx("span",{className:"text-primary-light",children:"Step 2:"})," Add a"," ",e.jsx("span",{className:"text-primary-light",children:"CNAME record"})," for www subdomain"," ",e.jsx("span",{className:"text-warning",children:"(required for SSL certificate)"}),":"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Type:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"CNAME"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("CNAME","Copied to clipboard"),"aria-label":"Copy record type to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Name:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"www"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("www","Copied to clipboard"),"aria-label":"Copy www to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Value:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"orderlynetworkdexcreator.github.io"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("orderlynetworkdexcreator.github.io","Copied to clipboard"),"aria-label":"Copy domain value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"TTL:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"3600"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("3600","Copied to clipboard"),"aria-label":"Copy TTL value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})," ","(or automatic)"]})]})]})]})]}):t.customDomain&&t.customDomain.split(".").length>2?e.jsxs("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto mb-3",children:[e.jsxs("div",{className:"mb-1 text-gray-400",children:["Add a ",e.jsx("span",{className:"text-primary-light",children:"CNAME record"})," ","with the following values:"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Name:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:t.customDomain.split(".")[0]}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>{var c;return n(((c=t.customDomain)==null?void 0:c.split(".")[0])||"","Copied to clipboard")},"aria-label":"Copy subdomain name to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Value:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"orderlynetworkdexcreator.github.io"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("orderlynetworkdexcreator.github.io","Copied to clipboard"),"aria-label":"Copy domain value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"TTL:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"3600"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("3600","Copied to clipboard"),"aria-label":"Copy TTL value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})," ","(or automatic)"]})]})]}):e.jsxs("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto mb-3",children:[e.jsx("div",{className:"mb-2 text-gray-400",children:"DNS configuration depends on your domain type:"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-primary-light mb-1",children:"For apex domains (example.com):"}),e.jsxs("div",{className:"ml-2 space-y-1",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-warning text-xs mb-1",children:"Step 1: A Records"}),e.jsxs("div",{children:["Type: ",e.jsx("span",{className:"text-white",children:"A"})]}),e.jsxs("div",{children:["Name: ",e.jsx("span",{className:"text-white",children:"@"})]}),e.jsxs("div",{children:["Values:"," ",e.jsx("span",{className:"text-white",children:"185.199.108.153, 185.199.109.153, 185.199.110.153, 185.199.111.153"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-warning text-xs mb-1",children:"Step 2: www CNAME (required for SSL)"}),e.jsxs("div",{children:["Type: ",e.jsx("span",{className:"text-white",children:"CNAME"})]}),e.jsxs("div",{children:["Name: ",e.jsx("span",{className:"text-white",children:"www"})]}),e.jsxs("div",{children:["Value:"," ",e.jsx("span",{className:"text-white",children:"orderlynetworkdexcreator.github.io"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-primary-light mb-1",children:"For subdomains (dex.example.com):"}),e.jsxs("div",{className:"ml-2 space-y-1",children:[e.jsxs("div",{children:["Type: ",e.jsx("span",{className:"text-white",children:"CNAME"})]}),e.jsxs("div",{children:["Name: ",e.jsx("span",{className:"text-white",children:"dex"})," (your subdomain)"]}),e.jsxs("div",{children:["Value:"," ",e.jsx("span",{className:"text-white",children:"orderlynetworkdexcreator.github.io"})]})]})]})]}),e.jsxs("div",{className:"mb-3 p-3 bg-info/10 rounded-lg border border-info/20",children:[e.jsxs("h6",{className:"text-xs font-medium mb-2 flex items-center",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mr-1.5 text-info"}),"Important: About Domain Updates"]}),e.jsx("p",{className:"text-xs text-gray-300",children:"After adding or removing a custom domain, a deployment process must complete for the changes to take effect. Your domain will not work correctly until this process finishes (usually 2-5 minutes)."}),e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:'You can monitor the deployment status in the "Updates & Deployment Status" section below.'})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[t.customDomain&&t.customDomain.split(".").length===2?e.jsxs("div",{className:"flex items-start gap-1 mb-1",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["You've configured an apex domain (",t.customDomain,"). You must create 4 separate A records with the IP addresses shown above."]})]}):t.customDomain&&t.customDomain.split(".").length>2?e.jsxs("div",{className:"flex items-start gap-1 mb-1",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["You've configured a subdomain (",t.customDomain.split(".")[0],".",t.customDomain.split(".").slice(1).join("."),"). Use the exact subdomain name shown above in the Name field."]})]}):e.jsxs("div",{className:"flex items-start gap-1 mb-1",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Choose between an apex domain (example.com) using A records or a subdomain (dex.example.com) using a CNAME record."})]}),e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx("div",{className:"i-mdi:clock-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"DNS changes can take up to 24 hours to propagate globally, though they often complete within a few hours."})]})]})]}),e.jsxs("div",{className:"mt-4 rounded-lg border border-warning/20 p-4 bg-warning/5",children:[e.jsxs("h5",{className:"text-sm font-bold mb-3 flex items-center",children:[e.jsx("div",{className:"i-mdi:security h-4 w-4 mr-2 text-warning"}),"Recommended: Email Security Records"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Add these TXT records to protect your domain from email spoofing attacks. Without these records, attackers could send phishing emails that appear to come from your domain, which may cause your site to be flagged by Google Safe Browsing."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-bold mb-2 text-warning flex items-center",children:[e.jsx("div",{className:"i-mdi:shield-lock h-3.5 w-3.5 mr-1"}),"SPF Record (Sender Policy Framework)"]}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Type:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white ml-1",children:"TXT"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("TXT","Copied to clipboard"),"aria-label":"Copy record type to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Name:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white ml-1",children:"@"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("@","Copied to clipboard"),"aria-label":"Copy @ symbol to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Value:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white ml-1",children:"v=spf1 -all"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("v=spf1 -all","Copied to clipboard"),"aria-label":"Copy SPF record value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-bold mb-2 text-warning flex items-center",children:[e.jsx("div",{className:"i-mdi:email-lock h-3.5 w-3.5 mr-1"}),"DMARC Record (Email Authentication)"]}),e.jsx("div",{className:"bg-base-9/70 rounded p-3 font-mono text-xs overflow-x-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Type:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white ml-1",children:"TXT"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("TXT","Copied to clipboard"),"aria-label":"Copy record type to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Name:"})," ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white ml-1",children:"_dmarc"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors",onClick:()=>n("_dmarc","Copied to clipboard"),"aria-label":"Copy _dmarc to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-gray-400 flex-shrink-0",children:"Value:"})," ",e.jsxs("div",{className:"flex items-start ml-1",children:[e.jsx("span",{className:"text-white break-all",children:"v=DMARC1; p=reject; sp=reject; aspf=s; adkim=s"}),e.jsx("button",{className:"ml-1.5 text-gray-400 hover:text-primary-light transition-colors flex-shrink-0",onClick:()=>n("v=DMARC1; p=reject; sp=reject; aspf=s; adkim=s","Copied to clipboard"),"aria-label":"Copy DMARC record value to clipboard",children:e.jsx("div",{className:"i-mdi:content-copy h-3.5 w-3.5"})})]})]})]})})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-info/10 rounded-lg border border-info/20",children:e.jsxs("div",{className:"text-xs text-gray-300 space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("div",{className:"i-mdi:information-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0 text-info"}),e.jsxs("span",{children:[e.jsx("strong",{children:"What these records do:"})," They tell email servers that your domain doesn't send emails and to reject any emails claiming to be from your domain."]})]}),e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("div",{className:"i-mdi:shield-check h-3.5 w-3.5 mt-0.5 flex-shrink-0 text-success"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Why this matters:"})," Prevents attackers from spoofing your domain to send phishing emails, which could get your site flagged by Google Safe Browsing."]})]}),e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("div",{className:"i-mdi:alert-circle-outline h-3.5 w-3.5 mt-0.5 flex-shrink-0 text-warning"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Note:"})," Only add these records if your domain won't be used for sending legitimate emails. If you plan to send emails from this domain, consult your email provider for proper SPF/DMARC configuration."]})]})]})})]})]})}function Ee({token:t,updateDexData:x,refreshDexData:d}){const s=re(),{bindDistributorCode:D}=ue(),[f,k]=r.useState(!1),[X]=r.useState(!1),[w,l]=r.useState(""),[o,R]=r.useState(1),[g,N]=r.useState({}),[U,P]=r.useState(!1),{distributorInfo:n}=ie(),c=be(),C=r.useMemo(()=>he.filter(i=>i.key!==I.AnalyticsConfiguration).map((i,p)=>({...i,id:p+1})),[]),L=r.useMemo(()=>C.length,[C]),{handleGenerateTheme:$,handleResetTheme:F,handleResetToDefault:V}=pe({token:t,form:s,originalThemeCSS:null}),Y=({tab:i,label:p})=>e.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-t-lg bg-transparent text-gray-400 hover:text-white",type:"button",disabled:!0,children:p}),z=i=>{if(i===1)return!0;for(let p=1;p<i;p++){const j=C.find(S=>S.id===p);if(j&&!j.isOptional&&!g[p])return!1}return!0},W=async(i,p)=>{var S;const j=C.find(y=>y.id===i);if(j&&j.key===I.DistributorCode&&!(n!=null&&n.exist))if(p)s.setDistributorCode("");else{const y=s.distributorCode.trim();if(!y){m.error("Please input distributor code.");return}let E=s.distributorCodeValidator(y);if(E||(P(!0),E=await ee(y),P(!1)),E!==null){m.error(typeof E=="string"?E:"Distributor code is invalid. It must be between 4 and 10 characters.");return}}if(j&&!j.isOptional&&!p&&j.key===I.BrokerDetails){const y=s.brokerNameValidator(s.brokerName.trim());if(y!==null){m.error(typeof y=="string"?y:"Broker name is invalid. It must be between 3 and 50 characters.");return}}if(i===((S=C.find(y=>y.title==="Privy Configuration"))==null?void 0:S.id)&&s.privyTermsOfUse&&s.privyTermsOfUse.trim()!==""&&s.urlValidator(s.privyTermsOfUse.trim())!==null){m.error("Privy Terms of Use URL is not a valid URL.");return}N(y=>({...y,[i]:!0})),i<L?(R(i+1),setTimeout(()=>{const y=(j==null?void 0:j.key)===I.BrokerDetails?`step-${i}`:`step-${i+1}`,E=document.getElementById(y);E&&E.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},100)):(R(L+1),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}))},a=async()=>{const i=s.getSectionProps({handleResetTheme:F,handleResetToDefault:V,ThemeTabButton:Y}),p=[];for(const S of C)if(S.key===I.DistributorCode){const y=s.distributorCode.trim();if(y&&!(n!=null&&n.exist)){const E=s.distributorCodeValidator(y)||await ee(y);E&&p.push(E)}}else if(S.getValidationTest&&!S.getValidationTest(i)){const E=`${S.title}: validation failed`;if(S.key===I.BrokerDetails){const _=s.brokerNameValidator(s.brokerName.trim());p.push(_||E)}else S.key===I.PrivyConfiguration?p.push(`${S.title}: Please enter a valid Terms of Use URL`):p.push(E)}return s.enabledMenus.split(",").includes("Swap")&&s.swapFeeBps===null&&p.push("Navigation Menus: Swap fee configuration is required when Swap page is enabled"),p},u=async i=>{const p=await a();if(p.length>0){m.error(p[0]);return}try{if(k(!0),!(n!=null&&n.exist)&&s.distributorCode.trim()&&!await D(s.distributorCode.trim())){k(!1);return}l(i.forkingStatus);const{formData:j}=await s.getFormDataWithBase64Images(),S={primaryLogo:s.primaryLogo,secondaryLogo:s.secondaryLogo,favicon:s.favicon,pnlPosters:s.pnlPosters},y=ge(j),E=de(y,S),_=await me("api/dex",E,t,{showToastOnError:!1});_.repoUrl?m.success(i.successMessageWithRepo):(m.success(i.successMessageWithoutRepo),m.warning("Repository could not be forked. You can retry later.")),K("create_dex_success"),i.onSuccess&&await i.onSuccess(_),await d()}catch(j){const S=j instanceof Error?j.message:"Unknown error";console.error("Error creating DEX:",j),m.error(S||"Failed to create DEX. Please try again.")}finally{k(!1),l("")}},h=async i=>{i.preventDefault(),await u({forkingStatus:"Creating DEX and forking repository...",successMessageWithRepo:"DEX created and repository forked successfully!",successMessageWithoutRepo:"DEX information saved successfully!"})},b=async()=>{K("click_quick_setup"),await u({forkingStatus:"Creating DEX with current settings...",successMessageWithRepo:"DEX created with current settings! Repository is being set up.",successMessageWithoutRepo:"DEX created with current settings!",onSuccess:i=>{x(i)}})};if((f||X)&&w)return e.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex items-center justify-center px-4 mt-26 pb-52",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-12 w-12 mx-auto text-primary-light mb-4"}),e.jsx("div",{className:"text-lg md:text-xl mb-4 font-medium",children:w}),e.jsx("div",{className:"text-xs md:text-sm text-gray-400 max-w-sm mx-auto",children:"This may take a moment. We're setting up your DEX repository and configuring it with your information."})]})});const M=s.brokerName.trim()&&!(o>L&&g[L])&&e.jsxs("div",{id:"quick-setup",className:"mb-4 p-6 bg-primary/5 border border-primary/20 rounded-lg slide-fade-in flex flex-col items-center justify-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary-light mb-2 flex items-center justify-center",children:[e.jsx("div",{className:"i-mdi:lightning-bolt h-5 w-5 mr-2"}),"Quick Setup"]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Create your DEX with current settings. You can customize it later."}),e.jsx(T,{variant:"primary",onClick:b,disabled:f||X,className:"shadow-lg hover:shadow-xl transition-all duration-200",children:f||X?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-4 w-4 mr-2"}),"Creating DEX..."]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-mdi:rocket-launch h-4 w-4 mr-2"}),"Create DEX Now"]})})]});return e.jsxs("div",{className:"container mx-auto p-4 max-w-3xl mt-26 pb-52",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:e.jsx("h1",{className:"text-2xl md:text-3xl font-bold gradient-text",children:"Create Your DEX - Step-by-Step"})}),e.jsx(ye,{onSubmit:h,className:"flex flex-col gap-4",submitText:o>L&&g[L]?"Create Your DEX":"",isLoading:f,loadingText:"Creating DEX...",disabled:X||f||!(o>L&&g[L]),enableRateLimit:!1,children:e.jsx(fe,{mode:"accordion",sections:C,sectionProps:s.getSectionProps({handleResetTheme:()=>F(!1),handleResetToDefault:V,ThemeTabButton:Y}),handleGenerateTheme:$,currentStep:o,completedSteps:g,setCurrentStep:R,handleNextStep:W,allRequiredPreviousStepsCompleted:z,customRender:(i,p)=>p.key===I.Branding?e.jsxs("div",{children:[M,i]}):i,shouldShowSkip:i=>i.key===I.DistributorCode?!(!!(n!=null&&n.exist)||!!c&&c===s.distributorCode.trim().toUpperCase()):!1,customDescription:i=>i.key===I.DistributorCode&&n!=null&&n.exist?"You have been invited by the following distributor.":i.description,isValidating:U})}),o>L&&g[L]&&!f&&e.jsxs("div",{className:"mt-8 p-6 bg-success/10 border border-success/20 rounded-lg text-center slide-fade-in",children:[e.jsx("h3",{className:"text-lg font-semibold text-success mb-2",children:"All steps completed!"}),e.jsx("p",{className:"text-gray-300 mb-4",children:`You're ready to create your DEX. Click the "Create Your DEX" button above to proceed.`})]})]})}function Te({dexData:t,token:x}){const[d,s]=r.useState(null),[D,f]=r.useState(!1),k=r.useMemo(()=>{if(!(d!=null&&d.commits)||d.commits.length===0)return[];const w=d.commits.filter(R=>R.message.toLowerCase().startsWith("feat:")),l=d.commits.filter(R=>R.message.toLowerCase().startsWith("fix:"));let o=[...w];return o.length<5&&(o=[...o,...l].slice(0,5)),o.length<5&&(o=d.commits.slice(0,5)),o},[d]);r.useEffect(()=>{t&&t.id&&t.repoUrl&&x&&(async()=>{try{const l=await O(`api/dex/${t.id}/upgrade-status`,x,{showToastOnError:!1});s(l)}catch(l){console.error("Error checking upgrade status:",l)}})()},[t,x]);const X=async()=>{if(!t||!t.id){m.error("No DEX data available");return}f(!0);try{await q(`api/dex/${t.id}/upgrade`,{},x),m.success("DEX upgraded successfully! New features are being deployed."),s(null)}catch(w){console.error("Error upgrading DEX:",w),m.error("Failed to upgrade DEX. Please try again.")}finally{f(!1)}};return!d||!d.hasUpdates||!t?null:e.jsx(A,{className:"my-6 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 slide-fade-in",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500/20 p-2 rounded-full",children:e.jsx("div",{className:"i-mdi:arrow-up-circle text-blue-400 w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-1 flex items-center gap-2",children:["DEX Upgrade Available",e.jsx("span",{className:"text-xs bg-blue-500/30 text-blue-300 px-2 py-0.5 rounded-full",children:"New"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"New features and improvements are ready for your DEX. Click upgrade to get the latest updates."}),k.length>0&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium mb-1",children:"What's new:"}),k.map((w,l)=>e.jsxs("div",{className:"text-xs text-gray-400 flex items-start gap-1",children:[e.jsx("div",{className:"i-mdi:check-circle h-4 w-4 flex-shrink-0 text-blue-400"}),e.jsx("span",{className:"line-clamp-1",children:w.message})]},l))]})]})]}),e.jsx(T,{onClick:X,disabled:D,className:"whitespace-nowrap flex-shrink-0",variant:"primary",children:D?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-4 w-4 mr-2"}),"Upgrading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-mdi:rocket-launch h-4 w-4 mr-2"}),"Upgrade DEX"]})})]})})}const ls=()=>[{title:"Create Your DEX - Orderly One"},{name:"description",content:"Configure and deploy your perpetual DEX. Customize branding, features, and settings for your trading platform."}];function ns(){const{isAuthenticated:t,token:x,isLoading:d}=te(),{dexData:s,isLoading:D,updateDexData:f,refreshDexData:k,clearDexData:X,isGraduationEligible:w,isGraduated:l,deploymentUrl:o}=ce(),{openModal:R}=ae(),g=we(),N=re(),[U,P]=r.useState(!1),[n,c]=r.useState(!1),[C,L]=r.useState(!1),[$,F]=r.useState(null),V=$||o,[Y,z]=r.useState(!1),W=r.useRef(null),a=r.useRef(null),u=r.useRef(null),h=je(),{isAmbassador:b}=ie(),M=ke();r.useEffect(()=>{s&&a.current!==s.id&&(a.current=s.id,N.populateFromDexData({brokerName:s.brokerName,telegramLink:s.telegramLink||"",discordLink:s.discordLink||"",xLink:s.xLink||"",walletConnectProjectId:s.walletConnectProjectId||"",privyAppId:s.privyAppId||"",privyTermsOfUse:s.privyTermsOfUse||"",privyLoginMethods:s.privyLoginMethods,enabledMenus:s.enabledMenus||"",customMenus:s.customMenus||"",enableAbstractWallet:s.enableAbstractWallet||!1,enableServiceDisclaimerDialog:s.enableServiceDisclaimerDialog||!1,enableCampaigns:s.enableCampaigns||!1,chainIds:s.chainIds||[],defaultChain:s.defaultChain||void 0,disableMainnet:s.disableMainnet||!1,disableTestnet:s.disableTestnet||!1,disableEvmWallets:s.disableEvmWallets||!1,disableSolanaWallets:s.disableSolanaWallets||!1,tradingViewColorConfig:s.tradingViewColorConfig??null,availableLanguages:s.availableLanguages||[],seoSiteName:s.seoSiteName||"",seoSiteDescription:s.seoSiteDescription||"",seoSiteLanguage:s.seoSiteLanguage||"",seoSiteLocale:s.seoSiteLocale||"",seoTwitterHandle:s.seoTwitterHandle||"",seoThemeColor:s.seoThemeColor||"",seoKeywords:s.seoKeywords||"",analyticsScript:s.analyticsScript||"",themeCSS:s.themeCSS}),N.setViewCssCode(!1),s.themeCSS||N.setCurrentTheme(J),F(s.repoUrl?`https://dex.orderly.network/${s.repoUrl.split("/").pop()}/`:null))},[s,N.populateFromDexData,N.setViewCssCode,N.setCurrentTheme]),r.useEffect(()=>{s&&!N.currentTheme&&!(s!=null&&s.themeCSS)&&u.current!==s.id&&(u.current=s.id,N.setCurrentTheme(J))},[N.currentTheme,N.setCurrentTheme,s]),r.useEffect(()=>{s&&W.current!==s.id&&(W.current=s.id,N.loadImagesFromBase64({primaryLogo:s.primaryLogo,secondaryLogo:s.secondaryLogo,favicon:s.favicon,pnlPosters:s.pnlPosters}))},[s,N.loadImagesFromBase64]),r.useEffect(()=>{s||(W.current=null,a.current=null,u.current=null)},[s]),r.useEffect(()=>{if(window.location.hash==="#dex-creation-status"){const B=setTimeout(()=>{const G=document.getElementById("dex-creation-status");G&&(G.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),window.history.replaceState(null,"",window.location.pathname))},100);return()=>clearTimeout(B)}},[s,d,D]),r.useEffect(()=>{if(s&&s.customDomain&&!l&&t&&!d&&!D){const v=`graduation-popup-shown-${s.id}`;if(!localStorage.getItem(v)){const G=setTimeout(()=>{R("graduationExplanation"),localStorage.setItem(v,"true")},1e3);return()=>clearTimeout(G)}}},[s,l,t,d,D,R]),r.useEffect(()=>{b&&g(`/distributor${M.search}`)},[b]);const i=async()=>{if(!s||!s.id||!x){m.error("DEX information is not available");return}c(!0);try{const v=await q(`api/dex/${s.id}/fork`,{},x);v&&v.dex?(f(v.dex),v.dex.repoUrl?(m.success("Repository forked successfully!"),F(`https://dex.orderly.network/${v.dex.repoUrl.split("/").pop()}/`)):m.error("Repository creation failed. Please try again later.")):m.error("Failed to get response from server. Please try again later.")}catch(v){console.error("Error forking repository:",v),m.error("Failed to fork repository. Please try again later.")}finally{c(!1)}},p=(v,B)=>{F(v),z(!0),B&&m.success("Your DEX has been successfully deployed!")},j=async()=>{if(!s||!s.id||!x){m.error("DEX information is not available");return}L(!0);try{await Q(`api/dex/${s.id}`,null,x),m.success("DEX deleted successfully!"),N.resetForm(),F(null),X(),g("/")}catch(v){console.error("Error deleting DEX:",v),m.error("Failed to delete the DEX. Please try again later.")}finally{L(!1)}},S=()=>{R("deleteConfirm",{onConfirm:j,entityName:"DEX"})},y=()=>{!s||!s.id||!s.customDomain||R("deleteConfirm",{onConfirm:()=>{P(!0),Q(`api/dex/${s.id}/custom-domain`,null,x).then(()=>{f({customDomain:null}),m.success("Custom domain removed successfully")}).catch(v=>{console.error("Error removing custom domain:",v),m.error("Failed to remove custom domain")}).finally(()=>{P(!1)})},entityName:"custom domain",title:"Remove Custom Domain",message:`Are you sure you want to remove the custom domain "${s.customDomain}"? This action cannot be undone.`})};if(d||D)return e.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex items-center justify-center px-4 mt-26 pb-52",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"i-svg-spinners:pulse-rings-multiple h-12 w-12 mx-auto text-primary-light mb-4"}),e.jsx("div",{className:"text-base md:text-lg mb-2",children:"Loading your DEX"}),e.jsx("div",{className:"text-xs md:text-sm text-gray-400",children:"Please wait while we fetch your configuration"})]})});if(!t)return e.jsx("div",{className:"w-full max-w-3xl mx-auto px-4 py-6 md:py-10 mt-26 pb-52",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-4 md:mb-6",children:"Create Your DEX"}),e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("p",{className:"text-gray-400 mr-3",children:"Via"}),se.map((v,B)=>e.jsx("div",{style:{zIndex:se.length-B},className:Ne("flex items-center justify-center","w-[24px] h-[24px] ml-[-6px] bg-black rounded-full"),children:e.jsx("img",{className:"w-5 h-5 rounded-full",src:`https://oss.orderly.network/static/network_logo/${v.chain_id}.png`,alt:v.name},v.chain_id)}))]}),e.jsxs("h2",{className:"text-lg md:text-xl",children:["Join"," ",h.distributor_name?`${h.distributor_name} and other `:"","1K+ Orderly builders to launch your no-code DEX"]}),e.jsxs("div",{className:"text-base-contrast-54 mt-4 mb-15",children:[e.jsx("p",{children:"Create your own omnichain perpetuals exchange in minutes."}),e.jsx("p",{children:"Deep liquidity, 140+ assets, and support for 17+ major chains in minutes."})]}),e.jsxs(A,{children:[e.jsx("h2",{className:"text-md md:text-2xl font-medium mb-3 md:mb-4 text-base-contrast",children:"Connect your wallet to get started"}),e.jsx("p",{className:"px-10 mb-4 md:mb-6 text-xs md:text-sm text-base-contrast-54",children:"Authentication required. Please connect your wallet and login to create and manage your DEX"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Z,{})})]})]})});if(!s&&t&&x)return e.jsx(Ee,{token:x,updateDexData:f,refreshDexData:k});const E=s&&s.repoUrl&&e.jsx(A,{className:"my-6 bg-gradient-to-r from-secondary/20 to-primary/20 border border-secondary/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-secondary/20 p-2 rounded-full",children:e.jsx("div",{className:"i-mdi:cog text-secondary w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Configure Your DEX"}),e.jsx("p",{className:"text-gray-300",children:"Customize branding, themes, social links, wallets, and advanced settings for your DEX."})]})]}),e.jsx(T,{as:"a",href:"/dex/config",className:"whitespace-nowrap flex-shrink-0",children:"Open Settings"})]})}),_=w&&!l&&s&&e.jsx(A,{className:"my-6 bg-gradient-to-r from-primary/20 to-secondary/20 border border-primary/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary/20 p-2 rounded-full",children:e.jsx("div",{className:"i-mdi:rocket-launch text-primary w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Ready to Graduate?"}),e.jsx("p",{className:"text-gray-300",children:"Graduate your DEX to earn fee splits."})]})]}),e.jsx(T,{as:"a",href:"/dex/graduation",className:"whitespace-nowrap flex-shrink-0",children:"Graduate Now"})]})}),H=s&&e.jsx(A,{className:"my-6 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-purple-500/20 p-2 rounded-full",children:e.jsx("div",{className:"i-mdi:share-variant text-purple-400 w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"DEX Card Setup"}),e.jsx("p",{className:"text-gray-300",children:"Configure how your DEX appears on the board page. Set up description, banner, logo, and token information for better visibility. Note: Your DEX card will only appear on the board after graduation."})]})]}),e.jsx(T,{as:"a",href:"/dex/card",className:"whitespace-nowrap flex-shrink-0",children:"Setup DEX Card"})]})}),le=s&&s.brokerId!=="demo"&&e.jsx(A,{className:`my-6 ${l?"bg-gradient-to-r from-success/20 to-primary/20 border border-success/30":"bg-gradient-to-r from-warning/20 to-primary/20 border border-warning/30"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${l?"bg-success/20":"bg-warning/20"}`,children:e.jsx("div",{className:`w-6 h-6 ${l?"i-mdi:check-circle text-success":"i-mdi:account-key text-warning"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:l?"Graduated DEX":"Broker ID Created"}),e.jsx("p",{className:"text-gray-300",children:l?e.jsxs(e.Fragment,{children:["Your DEX is earning fee share revenue!"," ",e.jsx("a",{href:"/dex/graduation",className:"text-primary-light hover:underline",children:"Visit the graduation page"})," ","to access your earnings and manage your DEX settings."]}):e.jsxs(e.Fragment,{children:["Your broker ID"," ",e.jsx("span",{className:"font-mono text-primary-light",children:s.brokerId})," ","has been created. Complete the registration process to start earning fees."]})})]})]}),e.jsx(T,{as:"a",href:"/dex/graduation",variant:l?"success":"primary",leftIcon:e.jsx("div",{className:`h-4 w-4 ${l?"i-mdi:cash-multiple":"i-mdi:account-plus"}`}),className:"flex-shrink-0",children:l?"View Benefits":"Complete Registration"})]})}),ne=s&&s.repoUrl&&e.jsx(A,{className:`my-6 ${l?"bg-gradient-to-r from-secondary/20 to-primary/20 border border-secondary/30":"bg-gradient-to-r from-gray-500/20 to-gray-400/20 border border-gray-400/30"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ve,{className:"flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Point Campaign Setup"}),e.jsx("p",{className:"text-gray-300",children:l?"Configure campaign parameters and set coefficients for trading volume, PNL, and referrals.":"Configure campaign parameters and set coefficients for trading volume, PNL, and referrals. Graduate first to enable the Point Campaign."})]})]}),l?e.jsx(T,{as:"a",href:"/points",className:"whitespace-nowrap flex-shrink-0",children:"Setup Point System"}):e.jsx(T,{as:"a",href:"/dex/graduation",variant:"secondary",className:"whitespace-nowrap flex-shrink-0",children:"Graduate DEX"})]})}),oe=s&&s.repoUrl&&e.jsx(A,{className:`my-6 ${l?"bg-gradient-to-r from-warning/20 to-primary/20 border border-warning/30":"bg-gradient-to-r from-gray-500/20 to-gray-400/20 border border-gray-400/30"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${l?"bg-warning/20":"bg-gray-400/20"}`,children:e.jsx("div",{className:`w-6 h-6 ${l?"i-mdi:account-group text-warning":"i-mdi:lock text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Referral Settings"}),e.jsx("p",{className:"text-gray-300",children:l?"Set up and manage your auto referral program to incentivize traders and grow your DEX community.":"Referral settings become available after graduating your DEX. Graduate first to start earning revenue and enable referrals."})]})]}),l?e.jsx(T,{as:"a",href:"/referral",className:"whitespace-nowrap flex-shrink-0",children:"Manage Referrals"}):e.jsx(T,{as:"a",href:"/dex/graduation",variant:"secondary",className:"whitespace-nowrap flex-shrink-0",children:"Graduate DEX"})]})});return e.jsxs("div",{className:"container mx-auto p-4 max-w-3xl mt-26 pb-52",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:e.jsx("h1",{className:"text-2xl md:text-3xl font-bold gradient-text",children:s?"Manage Your DEX":"Create Your DEX"})}),!t&&!d?e.jsx("div",{className:"text-center mt-16",children:e.jsxs(A,{className:"p-8",children:[e.jsx("p",{className:"text-lg mb-6",children:"Please connect your wallet to create or manage your DEX."}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Z,{})})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(Te,{dexData:s,token:x}),E,_,H,le,ne,oe,e.jsx(De,{dexData:s,deploymentUrl:V,deploymentConfirmed:Y,isForking:n,handleRetryForking:i,handleSuccessfulDeployment:p}),s&&s.repoUrl&&e.jsx(A,{children:e.jsx(Se,{dexData:s,token:x,isSaving:U,onDexDataUpdate:f,onSavingChange:P,onShowDomainRemoveConfirm:y})}),s&&!l&&e.jsxs(A,{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-red-400",children:"Danger Zone"}),e.jsx("div",{className:"border border-red-500/20 rounded-lg p-4 bg-red-500/5",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-400 mb-1",children:"Delete DEX"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Permanently delete your DEX configuration and repository. This action cannot be undone."})]}),e.jsx(T,{variant:"danger",onClick:S,disabled:C,className:"whitespace-nowrap",children:C?"Deleting...":"Delete DEX"})]})})]})]})]})}export{ns as default,ls as meta};
