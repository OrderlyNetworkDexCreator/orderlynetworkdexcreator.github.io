const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-aZ9g9wnK.js","assets/index-gtzDq4NN.js","assets/clsx-B-dksMZM.js","assets/ccip-PreNGXUi.js","assets/embedded-wallet-Rc1atG0G.js","assets/if-defined-Di4EeOnb.js","assets/index-BYQsxpBc.js","assets/index-ahLEtcD7.js","assets/index-BOdA3nuV.js","assets/index-DbgAnm08.js","assets/index-DW8hbQKv.js","assets/index-Bn_gR-35.js","assets/index-D7Q9BrPL.js","assets/index-Baju-5_P.js","assets/email-B8o6yLKS.js","assets/index-B4IWTyjU.js","assets/socials-B3Nc1VnH.js","assets/index-CRlN99Fz.js","assets/index-5vykPy3R.js","assets/index-Crg8r_fF.js","assets/dijkstra-C00ieaqj.js","assets/index-DAPlyexM.js","assets/swaps-5E6hIXXM.js","assets/index-45CWFHPM.js","assets/index-CvUlrJog.js","assets/index-CXh30lmF.js","assets/send-Bt90mkLu.js","assets/index-DdYH2mLW.js","assets/receive-Cnbw_pTQ.js","assets/index-pc_B4y9h.js","assets/onramp-DgMvgOxy.js","assets/index-CA1jO0zU.js","assets/dayjs.min-DsMxAas2.js","assets/index-CiRjwCZ7.js","assets/transactions-CyeoyA_c.js","assets/index-DNXXA6AA.js","assets/index-DczEZaT_.js","assets/index-BXDNzoN_.js","assets/w3m-modal-DLF6rtp7.js","assets/index-DQ0sP7Yj.js"])))=>i.map(i=>d[i]);
import{r as Cr,W as Er,p as We,g as vh,b as A1,c as mt}from"./index-gtzDq4NN.js";import{c as lo}from"./clsx-B-dksMZM.js";function rS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}rS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qu=t=>typeof t=="number"&&!isNaN(t),mo=t=>typeof t=="string",Xn=t=>typeof t=="function",iS=t=>mo(t)||qu(t),Zg=t=>mo(t)||Xn(t)?t:null,nS=(t,e)=>t===!1||qu(t)&&t>0?t:e,Yg=t=>Cr.isValidElement(t)||mo(t)||Xn(t)||qu(t);function sS(t,e,r=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function oS({enter:t,exit:e,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:n,position:c,preventExitTransition:f,done:m,nodeRef:p,isIn:d,playToast:y}){let _=r?`${t}--${c}`:t,x=r?`${e}--${c}`:e,M=Cr.useRef(0);return Cr.useLayoutEffect(()=>{let C=p.current,T=_.split(" "),S=I=>{I.target===p.current&&(y(),C.removeEventListener("animationend",S),C.removeEventListener("animationcancel",S),M.current===0&&I.type!=="animationcancel"&&C.classList.remove(...T))};C.classList.add(...T),C.addEventListener("animationend",S),C.addEventListener("animationcancel",S)},[]),Cr.useEffect(()=>{let C=p.current,T=()=>{C.removeEventListener("animationend",T),i?sS(C,m,s):m()};d||(f?T():(M.current=1,C.className+=` ${x}`,C.addEventListener("animationend",T)))},[d]),Er.createElement(Er.Fragment,null,n)}}function tb(t,e){return{content:hx(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function hx(t,e,r=!1){return Cr.isValidElement(t)&&!mo(t.type)?Cr.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Xn(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function aS({closeToast:t,theme:e,ariaLabel:r="close"}){return Er.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":r},Er.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Er.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cS({delay:t,isRunning:e,closeToast:r,type:i="default",hide:s,className:n,controlledProgress:c,progress:f,rtl:m,isIn:p,theme:d}){let y=s||c&&f===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(_.transform=`scaleX(${f})`);let x=lo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),M=Xn(n)?n({rtl:m,type:i,defaultClassName:x}):lo(x,n),C={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{p&&r()}};return Er.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Er.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),Er.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:M,style:_,...C}))}var uS=1,dx=()=>`${uS++}`;function fS(t,e,r){let i=1,s=0,n=[],c=[],f=e,m=new Map,p=new Set,d=I=>(p.add(I),()=>p.delete(I)),y=()=>{c=Array.from(m.values()),p.forEach(I=>I())},_=({containerId:I,toastId:N,updateId:O})=>{let D=I?I!==t:t!==1,$=m.has(N)&&O==null;return D||$},x=(I,N)=>{m.forEach(O=>{var D;(N==null||N===O.props.toastId)&&((D=O.toggle)==null||D.call(O,I))})},M=I=>{var N,O;(O=(N=I.props)==null?void 0:N.onClose)==null||O.call(N,I.removalReason),I.isActive=!1},C=I=>{if(I==null)m.forEach(M);else{let N=m.get(I);N&&M(N)}y()},T=()=>{s-=n.length,n=[]},S=I=>{var N,O;let{toastId:D,updateId:$}=I.props,z=$==null;I.staleId&&m.delete(I.staleId),I.isActive=!0,m.set(D,I),y(),r(tb(I,z?"added":"updated")),z&&((O=(N=I.props).onOpen)==null||O.call(N))};return{id:t,props:f,observe:d,toggle:x,removeToast:C,toasts:m,clearQueue:T,buildToast:(I,N)=>{if(_(N))return;let{toastId:O,updateId:D,data:$,staleId:z,delay:G}=N,L=D==null;L&&s++;let te={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(N).filter(([o,u])=>u!=null)),toastId:O,updateId:D,data:$,isIn:!1,className:Zg(N.className||f.toastClassName),progressClassName:Zg(N.progressClassName||f.progressClassName),autoClose:N.isLoading?!1:nS(N.autoClose,f.autoClose),closeToast(o){m.get(O).removalReason=o,C(O)},deleteToast(){let o=m.get(O);if(o!=null){if(r(tb(o,"removed")),m.delete(O),s--,s<0&&(s=0),n.length>0){S(n.shift());return}y()}}};te.closeButton=f.closeButton,N.closeButton===!1||Yg(N.closeButton)?te.closeButton=N.closeButton:N.closeButton===!0&&(te.closeButton=Yg(f.closeButton)?f.closeButton:!0);let E={content:I,props:te,staleId:z};f.limit&&f.limit>0&&s>f.limit&&L?n.push(E):qu(G)?setTimeout(()=>{S(E)},G):S(E)},setProps(I){f=I},setToggle:(I,N)=>{let O=m.get(I);O&&(O.toggle=N)},isToastActive:I=>{var N;return(N=m.get(I))==null?void 0:N.isActive},getSnapshot:()=>c}}var li=new Map,Gc=[],Jg=new Set,lS=t=>Jg.forEach(e=>e(t)),px=()=>li.size>0;function hS(){Gc.forEach(t=>gx(t.content,t.options)),Gc=[]}var dS=(t,{containerId:e})=>{var r;return(r=li.get(e||1))==null?void 0:r.toasts.get(t)};function mx(t,e){var r;if(e)return!!((r=li.get(e))!=null&&r.isToastActive(t));let i=!1;return li.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function pS(t){if(!px()){Gc=Gc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||iS(t))li.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=li.get(t.containerId);e?e.removeToast(t.id):li.forEach(r=>{r.removeToast(t.id)})}}var mS=(t={})=>{li.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function gx(t,e){Yg(t)&&(px()||Gc.push({content:t,options:e}),li.forEach(r=>{r.buildToast(t,e)}))}function gS(t){var e;(e=li.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function vx(t,e){li.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function vS(t){let e=t.containerId||1;return{subscribe(r){let i=fS(e,t,lS);li.set(e,i);let s=i.observe(r);return hS(),()=>{s(),li.delete(e)}},setProps(r){var i;(i=li.get(e))==null||i.setProps(r)},getSnapshot(){var r;return(r=li.get(e))==null?void 0:r.getSnapshot()}}}function yS(t){return Jg.add(t),()=>{Jg.delete(t)}}function bS(t){return t&&(mo(t.toastId)||qu(t.toastId))?t.toastId:dx()}function ju(t,e){return gx(t,e),e.toastId}function yh(t,e){return{...e,type:e&&e.type||t,toastId:bS(e)}}function bh(t){return(e,r)=>ju(e,yh(t,r))}function gr(t,e){return ju(t,yh("default",e))}gr.loading=(t,e)=>ju(t,yh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function wS(t,{pending:e,error:r,success:i},s){let n;e&&(n=mo(e)?gr.loading(e,s):gr.loading(e.render,{...s,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,d,y)=>{if(d==null){gr.dismiss(n);return}let _={type:p,...c,...s,data:y},x=mo(d)?{render:d}:d;return n?gr.update(n,{..._,...x}):gr(x.render,{..._,...x}),y},m=Xn(t)?t():t;return m.then(p=>f("success",i,p)).catch(p=>f("error",r,p)),m}gr.promise=wS;gr.success=bh("success");gr.info=bh("info");gr.error=bh("error");gr.warning=bh("warning");gr.warn=gr.warning;gr.dark=(t,e)=>ju(t,yh("default",{theme:"dark",...e}));function _S(t){pS(t)}gr.dismiss=_S;gr.clearWaitingQueue=mS;gr.isActive=mx;gr.update=(t,e={})=>{let r=dS(t,e);if(r){let{props:i,content:s}=r,n={delay:100,...i,...e,toastId:e.toastId||t,updateId:dx()};n.toastId!==t&&(n.staleId=t);let c=n.render||s;delete n.render,ju(c,n)}};gr.done=t=>{gr.update(t,{progress:1})};gr.onChange=yS;gr.play=t=>vx(!0,t);gr.pause=t=>vx(!1,t);function ES(t){var e;let{subscribe:r,getSnapshot:i,setProps:s}=Cr.useRef(vS(t)).current;s(t);let n=(e=Cr.useSyncExternalStore(r,i,i))==null?void 0:e.slice();function c(f){if(!n)return[];let m=new Map;return t.newestOnTop&&n.reverse(),n.forEach(p=>{let{position:d}=p.props;m.has(d)||m.set(d,[]),m.get(d).push(p)}),Array.from(m,p=>f(p[0],p[1]))}return{getToastToRender:c,isToastActive:mx,count:n==null?void 0:n.length}}function AS(t){let[e,r]=Cr.useState(!1),[i,s]=Cr.useState(!1),n=Cr.useRef(null),c=Cr.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:m,closeToast:p,onClick:d,closeOnClick:y}=t;gS({id:t.toastId,containerId:t.containerId,fn:r}),Cr.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{x()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||S(),window.addEventListener("focus",T),window.addEventListener("blur",S)}function x(){window.removeEventListener("focus",T),window.removeEventListener("blur",S)}function M(z){if(t.draggable===!0||t.draggable===z.pointerType){I();let G=n.current;c.canCloseOnClick=!0,c.canDrag=!0,G.style.transition="none",t.draggableDirection==="x"?(c.start=z.clientX,c.removalDistance=G.offsetWidth*(t.draggablePercent/100)):(c.start=z.clientY,c.removalDistance=G.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function C(z){let{top:G,bottom:L,left:te,right:E}=n.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&t.pauseOnHover&&z.clientX>=te&&z.clientX<=E&&z.clientY>=G&&z.clientY<=L?S():T()}function T(){r(!0)}function S(){r(!1)}function I(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",D)}function N(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",D)}function O(z){let G=n.current;if(c.canDrag&&G){c.didMove=!0,e&&S(),t.draggableDirection==="x"?c.delta=z.clientX-c.start:c.delta=z.clientY-c.start,c.start!==z.clientX&&(c.canCloseOnClick=!1);let L=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;G.style.transform=`translate3d(${L},0)`,G.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function D(){N();let z=n.current;if(c.canDrag&&c.didMove&&z){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let $={onPointerDown:M,onPointerUp:C};return f&&m&&($.onMouseEnter=S,t.stacked||($.onMouseLeave=T)),y&&($.onClick=z=>{d&&d(z),c.canCloseOnClick&&p(!0)}),{playToast:T,pauseToast:S,isRunning:e,preventExitTransition:i,toastRef:n,eventHandlers:$}}var xS=typeof window<"u"?Cr.useLayoutEffect:Cr.useEffect,wh=({theme:t,type:e,isLoading:r,...i})=>Er.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function MS(t){return Er.createElement(wh,{...t},Er.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CS(t){return Er.createElement(wh,{...t},Er.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function SS(t){return Er.createElement(wh,{...t},Er.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function IS(t){return Er.createElement(wh,{...t},Er.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TS(){return Er.createElement("div",{className:"Toastify__spinner"})}var Qg={info:CS,warning:MS,success:SS,error:IS,spinner:TS},RS=t=>t in Qg;function NS({theme:t,type:e,isLoading:r,icon:i}){let s=null,n={theme:t,type:e};return i===!1||(Xn(i)?s=i({...n,isLoading:r}):Cr.isValidElement(i)?s=Cr.cloneElement(i,n):r?s=Qg.spinner():RS(e)&&(s=Qg[e](n))),s}var PS=t=>{let{isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:s,playToast:n}=AS(t),{closeButton:c,children:f,autoClose:m,onClick:p,type:d,hideProgressBar:y,closeToast:_,transition:x,position:M,className:C,style:T,progressClassName:S,updateId:I,role:N,progress:O,rtl:D,toastId:$,deleteToast:z,isIn:G,isLoading:L,closeOnClick:te,theme:E,ariaLabel:o}=t,u=lo("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":te}),l=Xn(C)?C({rtl:D,position:M,type:d,defaultClassName:u}):lo(u,C),h=NS(t),g=!!O||!m,w={closeToast:_,type:d,theme:E},A=null;return c===!1||(Xn(c)?A=c(w):Cr.isValidElement(c)?A=Cr.cloneElement(c,w):A=aS(w)),Er.createElement(x,{isIn:G,done:z,position:M,preventExitTransition:r,nodeRef:i,playToast:n},Er.createElement("div",{id:$,tabIndex:0,onClick:p,"data-in":G,className:l,...s,style:T,ref:i,...G&&{role:N,"aria-label":o}},h!=null&&Er.createElement("div",{className:lo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},h),hx(f,t,!e),A,!t.customProgressBar&&Er.createElement(cS,{...I&&!g?{key:`p-${I}`}:{},rtl:D,theme:E,delay:m,isRunning:e,isIn:G,closeToast:_,hide:y,type:d,className:S,controlledProgress:g,progress:O||0})))},OS=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),kS=oS(OS("bounce",!0)),BS={position:"top-right",transition:kS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function cte(t){let e={...BS,...t},r=t.stacked,[i,s]=Cr.useState(!0),n=Cr.useRef(null),{getToastToRender:c,isToastActive:f,count:m}=ES(e),{className:p,style:d,rtl:y,containerId:_,hotKeys:x}=e;function M(T){let S=lo("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":y});return Xn(p)?p({position:T,rtl:y,defaultClassName:S}):lo(S,Zg(p))}function C(){r&&(s(!0),gr.play())}return xS(()=>{var T;if(r){let S=n.current.querySelectorAll('[data-in="true"]'),I=12,N=(T=e.position)==null?void 0:T.includes("top"),O=0,D=0;Array.from(S).reverse().forEach(($,z)=>{let G=$;G.classList.add("Toastify__toast--stacked"),z>0&&(G.dataset.collapsed=`${i}`),G.dataset.pos||(G.dataset.pos=N?"top":"bot");let L=O*(i?.2:1)+(i?0:I*z);G.style.setProperty("--y",`${N?L:L*-1}px`),G.style.setProperty("--g",`${I}`),G.style.setProperty("--s",`${1-(i?D:0)}`),O+=G.offsetHeight,D+=.025})}},[i,m,r]),Cr.useEffect(()=>{function T(S){var I;let N=n.current;x(S)&&((I=N.querySelector('[tabIndex="0"]'))==null||I.focus(),s(!1),gr.pause()),S.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(s(!0),gr.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[x]),Er.createElement("section",{ref:n,className:"Toastify",id:_,onMouseEnter:()=>{r&&(s(!1),gr.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((T,S)=>{let I=S.length?{...d}:{...d,pointerEvents:"none"};return Er.createElement("div",{tabIndex:-1,className:M(T),"data-stacked":r,style:I,key:`c-${T}`},S.map(({content:N,props:O})=>Er.createElement(PS,{...O,stacked:r,collapseAll:C,isIn:f(O.toastId,O.containerId),key:`t-${O.key}`},N)))}))}const DS=Symbol(),rb=Object.getPrototypeOf,Xg=new WeakMap,$S=t=>t&&(Xg.has(t)?Xg.get(t):rb(t)===Object.prototype||rb(t)===Array.prototype),US=t=>$S(t)&&t[DS]||null,ib=(t,e=!0)=>{Xg.set(t,e)},Pl={},pd=t=>typeof t=="object"&&t!==null,ms=new WeakMap,Tc=new WeakSet,FS=(t=Object.is,e=(p,d)=>new Proxy(p,d),r=p=>pd(p)&&!Tc.has(p)&&(Array.isArray(p)||!(Symbol.iterator in p))&&!(p instanceof WeakMap)&&!(p instanceof WeakSet)&&!(p instanceof Error)&&!(p instanceof Number)&&!(p instanceof Date)&&!(p instanceof String)&&!(p instanceof RegExp)&&!(p instanceof ArrayBuffer),i=p=>{switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:throw p}},s=new WeakMap,n=(p,d,y=i)=>{const _=s.get(p);if((_==null?void 0:_[0])===d)return _[1];const x=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p));return ib(x,!0),s.set(p,[d,x]),Reflect.ownKeys(p).forEach(M=>{if(Object.getOwnPropertyDescriptor(x,M))return;const C=Reflect.get(p,M),{enumerable:T}=Reflect.getOwnPropertyDescriptor(p,M),S={value:C,enumerable:T,configurable:!0};if(Tc.has(C))ib(C,!1);else if(C instanceof Promise)delete S.value,S.get=()=>y(C);else if(ms.has(C)){const[I,N]=ms.get(C);S.value=n(I,N(),y)}Object.defineProperty(x,M,S)}),Object.preventExtensions(x)},c=new WeakMap,f=[1,1],m=p=>{if(!pd(p))throw new Error("object required");const d=c.get(p);if(d)return d;let y=f[0];const _=new Set,x=(L,te=++f[0])=>{y!==te&&(y=te,_.forEach(E=>E(L,te)))};let M=f[1];const C=(L=++f[1])=>(M!==L&&!_.size&&(M=L,S.forEach(([te])=>{const E=te[1](L);E>y&&(y=E)})),y),T=L=>(te,E)=>{const o=[...te];o[1]=[L,...o[1]],x(o,E)},S=new Map,I=(L,te)=>{if((Pl?"production":void 0)!=="production"&&S.has(L))throw new Error("prop listener already exists");if(_.size){const E=te[3](T(L));S.set(L,[te,E])}else S.set(L,[te])},N=L=>{var te;const E=S.get(L);E&&(S.delete(L),(te=E[1])==null||te.call(E))},O=L=>(_.add(L),_.size===1&&S.forEach(([E,o],u)=>{if((Pl?"production":void 0)!=="production"&&o)throw new Error("remove already exists");const l=E[3](T(u));S.set(u,[E,l])}),()=>{_.delete(L),_.size===0&&S.forEach(([E,o],u)=>{o&&(o(),S.set(u,[E]))})}),D=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p)),z=e(D,{deleteProperty(L,te){const E=Reflect.get(L,te);N(te);const o=Reflect.deleteProperty(L,te);return o&&x(["delete",[te],E]),o},set(L,te,E,o){const u=Reflect.has(L,te),l=Reflect.get(L,te,o);if(u&&(t(l,E)||c.has(E)&&t(l,c.get(E))))return!0;N(te),pd(E)&&(E=US(E)||E);let h=E;if(E instanceof Promise)E.then(g=>{E.status="fulfilled",E.value=g,x(["resolve",[te],g])}).catch(g=>{E.status="rejected",E.reason=g,x(["reject",[te],g])});else{!ms.has(E)&&r(E)&&(h=m(E));const g=!Tc.has(h)&&ms.get(h);g&&I(te,g)}return Reflect.set(L,te,h,o),x(["set",[te],E,l]),!0}});c.set(p,z);const G=[D,C,n,O];return ms.set(z,G),Reflect.ownKeys(p).forEach(L=>{const te=Object.getOwnPropertyDescriptor(p,L);"value"in te&&(z[L]=p[L],delete te.value,delete te.writable),Object.defineProperty(D,L,te)}),z})=>[m,ms,Tc,t,e,r,i,s,n,c,f],[LS]=FS();function Ar(t={}){return LS(t)}function pi(t,e,r){const i=ms.get(t);(Pl?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let s;const n=[],c=i[3];let f=!1;const p=c(d=>{n.push(d),s||(s=Promise.resolve().then(()=>{s=void 0,f&&e(n.splice(0))}))});return f=!0,()=>{f=!1,p()}}function Zc(t,e){const r=ms.get(t);(Pl?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[i,s,n]=r;return n(i,s(),e)}function go(t){return Tc.add(t),t}function Mi(t,e,r,i){let s=t[e];return pi(t,()=>{const n=t[e];Object.is(s,n)||r(s=n)})}function qS(t){const e=Ar({data:Array.from([]),has(r){return this.data.some(i=>i[0]===r)},set(r,i){const s=this.data.find(n=>n[0]===r);return s?s[1]=i:this.data.push([r,i]),this},get(r){var i;return(i=this.data.find(s=>s[0]===r))==null?void 0:i[1]},delete(r){const i=this.data.findIndex(s=>s[0]===r);return i===-1?!1:(this.data.splice(i,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(i=>{r(i[1],i[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Yc={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var jS=20,zS=1,Ua=1e6,HS=1e6,WS=-7,VS=21,KS=!1,zu="[big.js] ",Oo=zu+"Invalid ",_h=Oo+"decimal places",GS=Oo+"rounding mode",yx=zu+"Division by zero",zt={},Tn=void 0,ZS=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function bx(){function t(e){var r=this;if(!(r instanceof t))return e===Tn?bx():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Oo+"value");e=e===0&&1/e<0?"-0":String(e)}YS(r,e)}r.constructor=t}return t.prototype=zt,t.DP=jS,t.RM=zS,t.NE=WS,t.PE=VS,t.strict=KS,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function YS(t,e){var r,i,s;if(!ZS.test(e))throw Error(Oo+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),s=e.length,i=0;i<s&&e.charAt(i)=="0";)++i;if(i==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-i-1,t.c=[],r=0;i<=s;)t.c[r++]=+e.charAt(i++)}return t}function ko(t,e,r,i){var s=t.c;if(r===Tn&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(GS);if(e<1)i=r===3&&(i||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(i||s[1]!==Tn))),s.length=1,i?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(i=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(i||s[e+1]!==Tn||s[e-1]&1))||r===3&&(i||!!s[0]),s.length=e,i){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Bo(t,e,r){var i=t.e,s=t.c.join(""),n=s.length;if(e)s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(i>0)if(++i>n)for(i-=n;i--;)s+="0";else i<n&&(s=s.slice(0,i)+"."+s.slice(i));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}zt.abs=function(){var t=new this.constructor(this);return t.s=1,t};zt.cmp=function(t){var e,r=this,i=r.c,s=(t=new r.constructor(t)).c,n=r.s,c=t.s,f=r.e,m=t.e;if(!i[0]||!s[0])return i[0]?n:s[0]?-c:0;if(n!=c)return n;if(e=n<0,f!=m)return f>m^e?1:-1;for(c=(f=i.length)<(m=s.length)?f:m,n=-1;++n<c;)if(i[n]!=s[n])return i[n]>s[n]^e?1:-1;return f==m?0:f>m^e?1:-1};zt.div=function(t){var e=this,r=e.constructor,i=e.c,s=(t=new r(t)).c,n=e.s==t.s?1:-1,c=r.DP;if(c!==~~c||c<0||c>Ua)throw Error(_h);if(!s[0])throw Error(yx);if(!i[0])return t.s=n,t.c=[t.e=0],t;var f,m,p,d,y,_=s.slice(),x=f=s.length,M=i.length,C=i.slice(0,f),T=C.length,S=t,I=S.c=[],N=0,O=c+(S.e=e.e-t.e)+1;for(S.s=n,n=O<0?0:O,_.unshift(0);T++<f;)C.push(0);do{for(p=0;p<10;p++){if(f!=(T=C.length))d=f>T?1:-1;else for(y=-1,d=0;++y<f;)if(s[y]!=C[y]){d=s[y]>C[y]?1:-1;break}if(d<0){for(m=T==f?s:_;T;){if(C[--T]<m[T]){for(y=T;y&&!C[--y];)C[y]=9;--C[y],C[T]+=10}C[T]-=m[T]}for(;!C[0];)C.shift()}else break}I[N++]=d?p:++p,C[0]&&d?C[T]=i[x]||0:C=[i[x]]}while((x++<M||C[0]!==Tn)&&n--);return!I[0]&&N!=1&&(I.shift(),S.e--,O--),N>O&&ko(S,O,r.RM,C[0]!==Tn),S};zt.eq=function(t){return this.cmp(t)===0};zt.gt=function(t){return this.cmp(t)>0};zt.gte=function(t){return this.cmp(t)>-1};zt.lt=function(t){return this.cmp(t)<0};zt.lte=function(t){return this.cmp(t)<1};zt.minus=zt.sub=function(t){var e,r,i,s,n=this,c=n.constructor,f=n.s,m=(t=new c(t)).s;if(f!=m)return t.s=-m,n.plus(t);var p=n.c.slice(),d=n.e,y=t.c,_=t.e;if(!p[0]||!y[0])return y[0]?t.s=-m:p[0]?t=new c(n):t.s=1,t;if(f=d-_){for((s=f<0)?(f=-f,i=p):(_=d,i=y),i.reverse(),m=f;m--;)i.push(0);i.reverse()}else for(r=((s=p.length<y.length)?p:y).length,f=m=0;m<r;m++)if(p[m]!=y[m]){s=p[m]<y[m];break}if(s&&(i=p,p=y,y=i,t.s=-t.s),(m=(r=y.length)-(e=p.length))>0)for(;m--;)p[e++]=0;for(m=e;r>f;){if(p[--r]<y[r]){for(e=r;e&&!p[--e];)p[e]=9;--p[e],p[r]+=10}p[r]-=y[r]}for(;p[--m]===0;)p.pop();for(;p[0]===0;)p.shift(),--_;return p[0]||(t.s=1,p=[_=0]),t.c=p,t.e=_,t};zt.mod=function(t){var e,r=this,i=r.constructor,s=r.s,n=(t=new i(t)).s;if(!t.c[0])throw Error(yx);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=n,e?new i(r):(s=i.DP,n=i.RM,i.DP=i.RM=0,r=r.div(t),i.DP=s,i.RM=n,this.minus(r.times(t)))};zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};zt.plus=zt.add=function(t){var e,r,i,s=this,n=s.constructor;if(t=new n(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var c=s.e,f=s.c,m=t.e,p=t.c;if(!f[0]||!p[0])return p[0]||(f[0]?t=new n(s):t.s=s.s),t;if(f=f.slice(),e=c-m){for(e>0?(m=c,i=p):(e=-e,i=f),i.reverse();e--;)i.push(0);i.reverse()}for(f.length-p.length<0&&(i=p,p=f,f=i),e=p.length,r=0;e;f[e]%=10)r=(f[--e]=f[e]+p[e]+r)/10|0;for(r&&(f.unshift(r),++m),e=f.length;f[--e]===0;)f.pop();return t.c=f,t.e=m,t};zt.pow=function(t){var e=this,r=new e.constructor("1"),i=r,s=t<0;if(t!==~~t||t<-1e6||t>HS)throw Error(Oo+"exponent");for(s&&(t=-t);t&1&&(i=i.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(i):i};zt.prec=function(t,e){if(t!==~~t||t<1||t>Ua)throw Error(Oo+"precision");return ko(new this.constructor(this),t,e)};zt.round=function(t,e){if(t===Tn)t=0;else if(t!==~~t||t<-1e6||t>Ua)throw Error(_h);return ko(new this.constructor(this),t+this.e+1,e)};zt.sqrt=function(){var t,e,r,i=this,s=i.constructor,n=i.s,c=i.e,f=new s("0.5");if(!i.c[0])return new s(i);if(n<0)throw Error(zu+"No square root");n=Math.sqrt(+Bo(i,!0,!0)),n===0||n===1/0?(e=i.c.join(""),e.length+c&1||(e+="0"),n=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new s((n==1/0?"5e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+c)):t=new s(n+""),c=t.e+(s.DP+=4);do r=t,t=f.times(r.plus(i.div(r)));while(r.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return ko(t,(s.DP-=4)+t.e+1,s.RM)};zt.times=zt.mul=function(t){var e,r=this,i=r.constructor,s=r.c,n=(t=new i(t)).c,c=s.length,f=n.length,m=r.e,p=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!n[0])return t.c=[t.e=0],t;for(t.e=m+p,c<f&&(e=s,s=n,n=e,p=c,c=f,f=p),e=new Array(p=c+f);p--;)e[p]=0;for(m=f;m--;){for(f=0,p=c+m;p>m;)f=e[p]+n[m]*s[p-m-1]+f,e[p--]=f%10,f=f/10|0;e[p]=f}for(f?++t.e:e.shift(),m=e.length;!e[--m];)e.pop();return t.c=e,t};zt.toExponential=function(t,e){var r=this,i=r.c[0];if(t!==Tn){if(t!==~~t||t<0||t>Ua)throw Error(_h);for(r=ko(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return Bo(r,!0,!!i)};zt.toFixed=function(t,e){var r=this,i=r.c[0];if(t!==Tn){if(t!==~~t||t<0||t>Ua)throw Error(_h);for(r=ko(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return Bo(r,!1,!!i)};zt[Symbol.for("nodejs.util.inspect.custom")]=zt.toJSON=zt.toString=function(){var t=this,e=t.constructor;return Bo(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};zt.toNumber=function(){var t=+Bo(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(zu+"Imprecise conversion");return t};zt.toPrecision=function(t,e){var r=this,i=r.constructor,s=r.c[0];if(t!==Tn){if(t!==~~t||t<1||t>Ua)throw Error(Oo+"precision");for(r=ko(new i(r),t,e);r.c.length<t;)r.c.push(0)}return Bo(r,t<=r.e||r.e<=i.NE||r.e>=i.PE,!!s)};zt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(zu+"valueOf disallowed");return Bo(t,t.e<=e.NE||t.e>=e.PE,!0)};var rc=bx();const bf={bigNumber(t){return t?new rc(t):new rc(0)},multiply(t,e){if(t===void 0||e===void 0)return new rc(0);const r=new rc(t),i=new rc(e);return r.times(i)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},JS=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],QS=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],XS=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ue={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},eI={getERC20Abi:t=>Ue.USDT_CONTRACT_ADDRESSES.includes(t)?XS:JS,getSwapAbi:()=>QS},os={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,i,s]=e;if(!r||!i||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:i,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,i]=e;if(!r||!i)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:i}}},Tt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function md(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Et={setItem(t,e){Rc()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Rc())return localStorage.getItem(t)||void 0},removeItem(t){Rc()&&localStorage.removeItem(t)},clear(){Rc()&&localStorage.clear()}};function Rc(){return typeof window<"u"&&typeof localStorage<"u"}function Gn(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function tI(t){return(t==null?void 0:t.endsWith(Ue.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Ue.WC_NAME_SUFFIX))}var nb={};const gd=(typeof We<"u"&&typeof nb<"u"?nb.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",ute=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],fte="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Dr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:gd,SECURE_SITE_DASHBOARD:`${gd}/dashboard`,SECURE_SITE_FAVICON:`${gd}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},et={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=et.getActiveNamespace(),e=et.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,i=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:i}},setWalletConnectDeepLink({name:t,href:e}){try{Et.setItem(Tt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Et.getItem(Tt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Et.removeItem(Tt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Et.setItem(Tt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Et.setItem(Tt.ACTIVE_CAIP_NETWORK_ID,t),et.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Et.getItem(Tt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Et.removeItem(Tt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=md(t);Et.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=et.getRecentWallets();e.find(i=>i.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Et.setItem(Tt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Et.getItem(Tt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=md(t);Et.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Et.getItem(Tt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=md(t);return Et.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Et.setItem(Tt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Et.getItem(Tt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Et.removeItem(Tt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Et.getItem(Tt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=Et.getItem(Tt.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{Et.setItem(Tt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Et.getItem(Tt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Et.getItem(Tt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Et.setItem(Tt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=et.getConnectedNamespaces();e.includes(t)||(e.push(t),et.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=et.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),et.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Et.getItem(Tt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Et.setItem(Tt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Et.removeItem(Tt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Et.getItem(Tt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=et.getBalanceCache();Et.setItem(Tt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=et.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;et.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=et.getBalanceCache();e[t.caipAddress]=t,Et.setItem(Tt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Et.getItem(Tt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=et.getBalanceCache();Et.setItem(Tt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=et.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),et.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=et.getNativeBalanceCache();e[t.caipAddress]=t,Et.setItem(Tt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Et.getItem(Tt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=et.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;et.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=et.getEnsCache();e[t.address]=t,Et.setItem(Tt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=et.getEnsCache();Et.setItem(Tt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Et.getItem(Tt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=et.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;et.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=et.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Et.setItem(Tt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=et.getIdentityCache();Et.setItem(Tt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Et.removeItem(Tt.PORTFOLIO_CACHE),Et.removeItem(Tt.NATIVE_BALANCE_CACHE),Et.removeItem(Tt.ENS_CACHE),Et.removeItem(Tt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},dt={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return dt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Dr.TEN_SEC_MS:!0},isAllowedRetry(t,e=Dr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Dr.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...i)=>{function s(){t(...i)}r&&clearTimeout(r),r=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(dt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,href:r}},formatUniversalUrl(t,e){if(!dt.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?et.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,i)=>{const s=new Image;s.onload=r,s.onerror=i,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,dt.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const i=Number(t);if(i){const s=Math.floor(i*1e3)/1e3;s&&(r=s.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var i;let r;if(t==="0")r="0";else if(typeof t=="string"){const s=Number(t);s&&(r=(i=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:i[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return Ue.W3M_API_URL},getBlockchainApiUrl(){return Ue.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ue.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((i,s)=>{r[i]=s}),e.sort((i,s)=>{const n=r[i.id],c=r[s.id];return n!==void 0&&c!==void 0?n-c:n!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,i]=e.split(".");return{dollars:r,pennies:i}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(i=>{const s=i[e];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(t,e,r){const s=t.length===0?Dr.ADAPTER_TYPES.UNIVERSAL:t.map(n=>n.adapterType).join(",");return`${e}-${s}-${r}`},createAccount(t,e,r,i,s){return{namespace:t,address:e,type:r,publicKey:i,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in Ue.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",n=t.substring(t.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(n),r,e);return t.replace(n,encodeURIComponent(c))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const i=t.indexOf(e);if(i===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",i),n=e.length,c=s!==-1?s:t.length,f=t.substring(0,i+n),m=t.substring(i+n,c),p=t.substring(s),d=m+r;return f+d+p}};async function ic(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Eh{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:i,...s}){const n=this.createUrl(s);return(await ic(n,{method:"GET",headers:e,signal:r,cache:i})).json()}async getBlob({headers:e,signal:r,...i}){const s=this.createUrl(i);return(await ic(s,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:i,...s}){const n=this.createUrl(s);return(await ic(n,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:i})).json()}async put({body:e,headers:r,signal:i,...s}){const n=this.createUrl(s);return(await ic(n,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:i})).json()}async delete({body:e,headers:r,signal:i,...s}){const n=this.createUrl(s);return(await ic(n,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:i})).json()}createUrl({path:e,params:r}){const i=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([s,n])=>{n&&i.searchParams.append(s,n)}),this.clientId&&i.searchParams.append("clientId",this.clientId),i}}const rI={handleSolanaDeeplinkRedirect(t){if(le.state.activeChain===Ue.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const i=e.startsWith("https")?"https":"http",s=e.split("/")[2],n=encodeURIComponent(`${i}://${s}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${n}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},Ii=Ar({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),an={state:Ii,subscribeNetworkImages(t){return pi(Ii.networkImages,()=>t(Ii.networkImages))},subscribeKey(t,e){return Mi(Ii,t,e)},subscribe(t){return pi(Ii,()=>t(Ii))},setWalletImage(t,e){Ii.walletImages[t]=e},setNetworkImage(t,e){Ii.networkImages[t]=e},setChainImage(t,e){Ii.chainImages[t]=e},setConnectorImage(t,e){Ii.connectorImages={...Ii.connectorImages,[t]:e}},setTokenImage(t,e){Ii.tokenImages[t]=e},setCurrencyImage(t,e){Ii.currencyImages[t]=e}},iI={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},vd=Ar({networkImagePromises:{}}),wx={async fetchWalletImage(t){if(t)return await St._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(vd.networkImagePromises[t]||(vd.networkImagePromises[t]=St._fetchNetworkImage(t)),await vd.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return an.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return an.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,i;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((i=t==null?void 0:t.assets)!=null&&i.imageId)return an.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return an.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return an.state.connectorImages[t.imageId]},getChainImage(t){return an.state.networkImages[iI[t]]}},nI={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Dr.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(dt.isTelegram()){if(dt.isIos())return t.filter(e=>e!=="google");if(dt.isMac())return t.filter(e=>e!=="x");if(dt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ct=Ar({features:Dr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Dr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0}),Fe={state:ct,subscribeKey(t,e){return Mi(ct,t,e)},setOptions(t){Object.assign(ct,t)},setFeatures(t){if(!t)return;ct.features||(ct.features=Dr.DEFAULT_FEATURES);const e={...ct.features,...t};ct.features=e,ct.features.socials&&(ct.features.socials=nI.filterSocialsByPlatform(ct.features.socials))},setProjectId(t){ct.projectId=t},setCustomRpcUrls(t){ct.customRpcUrls=t},setAllWallets(t){ct.allWallets=t},setIncludeWalletIds(t){ct.includeWalletIds=t},setExcludeWalletIds(t){ct.excludeWalletIds=t},setFeaturedWalletIds(t){ct.featuredWalletIds=t},setTokens(t){ct.tokens=t},setTermsConditionsUrl(t){ct.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ct.privacyPolicyUrl=t},setCustomWallets(t){ct.customWallets=t},setIsSiweEnabled(t){ct.isSiweEnabled=t},setIsUniversalProvider(t){ct.isUniversalProvider=t},setSdkVersion(t){ct.sdkVersion=t},setMetadata(t){ct.metadata=t},setDisableAppend(t){ct.disableAppend=t},setEIP6963Enabled(t){ct.enableEIP6963=t},setDebug(t){ct.debug=t},setEnableWalletConnect(t){ct.enableWalletConnect=t},setEnableWalletGuide(t){ct.enableWalletGuide=t},setEnableAuthLogger(t){ct.enableAuthLogger=t},setEnableWallets(t){ct.enableWallets=t},setHasMultipleAddresses(t){ct.hasMultipleAddresses=t},setSIWX(t){ct.siwx=t},setConnectMethodsOrder(t){ct.features={...ct.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ct.features={...ct.features,walletFeaturesOrder:t}},setSocialsOrder(t){ct.features={...ct.features,socials:t}},setCollapseWallets(t){ct.features={...ct.features,collapseWallets:t}},setEnableEmbedded(t){ct.enableEmbedded=t},setAllowUnsupportedChain(t){ct.allowUnsupportedChain=t},setManualWCControl(t){ct.manualWCControl=t},setEnableNetworkSwitch(t){ct.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(ct.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){ct.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ct.universalProviderConfigOverride},getSnapshot(){return Zc(ct)}},as=Ar({message:"",variant:"info",open:!1}),ga={state:as,subscribeKey(t,e){return Mi(as,t,e)},open(t,e){const{debug:r}=Fe.state,{shortMessage:i,longMessage:s}=t;r&&(as.message=i,as.variant=e,as.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){as.open=!1,as.message="",as.variant="info"}},sI=dt.getAnalyticsUrl(),oI=new Eh({baseUrl:sI,clientId:null}),aI=["MODAL_CREATED"],Un=Ar({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),mr={state:Un,subscribe(t){return pi(Un,()=>t(Un))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Fe.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=nt.state.address;if(aI.includes(t.data.event)||typeof window>"u")return;await oI.post({path:"/e",params:mr.getSdkProperties(),body:{eventId:dt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Un.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ue.HTTP_STATUS_CODES.FORBIDDEN&&!Un.reportedErrors.FORBIDDEN&&(ga.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Rc()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Un.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Un.timestamp=Date.now(),Un.data=t,(e=Fe.state.features)!=null&&e.analytics&&mr._sendAnalyticsEvent(Un)}},cI=dt.getApiUrl(),ni=new Eh({baseUrl:cI,clientId:null}),uI="40",sb="4",fI=20,Lt=Ar({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),St={state:Lt,subscribeKey(t,e){return Mi(Lt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Fe.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Fe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ni.baseUrl}/getWalletImage/${t}`,r=await ni.getBlob({path:e,params:St._getSdkProperties()});an.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ni.baseUrl}/public/getAssetImage/${t}`,r=await ni.getBlob({path:e,params:St._getSdkProperties()});an.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ni.baseUrl}/public/getAssetImage/${t}`,r=await ni.getBlob({path:e,params:St._getSdkProperties()});an.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ni.baseUrl}/public/getCurrencyImage/${t}`,r=await ni.getBlob({path:e,params:St._getSdkProperties()});an.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ni.baseUrl}/public/getTokenImage/${t}`,r=await ni.getBlob({path:e,params:St._getSdkProperties()});an.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=le.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!wx.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>St._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=wt.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>St._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>St._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>St._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Fe.state;if(t!=null&&t.length){const{data:e}=await ni.get({path:"/getWallets",params:{...St._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):sb,include:t==null?void 0:t.join(",")}});e.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=e.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>St._fetchWalletImage(i))),Lt.featured=e,Lt.allFeatured=e}},async fetchRecommendedWallets(){try{Lt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Fe.state,i=[...e??[],...r??[]].filter(Boolean),s=le.getRequestedCaipNetworkIds().join(","),{data:n,count:c}=await ni.get({path:"/getWallets",params:{...St._getSdkProperties(),page:"1",chains:s,entries:sb,include:t==null?void 0:t.join(","),exclude:i==null?void 0:i.join(",")}}),f=et.getRecentWallets(),m=n.map(d=>d.image_id).filter(Boolean),p=f.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...m,...p].map(d=>St._fetchWalletImage(d))),Lt.recommended=n,Lt.allRecommended=n,Lt.count=c??0}catch{}finally{Lt.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:i}=Fe.state,s=le.getRequestedCaipNetworkIds().join(","),n=[...Lt.recommended.map(({id:p})=>p),...r??[],...i??[]].filter(Boolean),{data:c,count:f}=await ni.get({path:"/getWallets",params:{...St._getSdkProperties(),page:String(t),entries:uI,chains:s,include:e==null?void 0:e.join(","),exclude:n.join(",")}}),m=c.slice(0,fI).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(m.map(p=>St._fetchWalletImage(p))),Lt.wallets=dt.uniqueBy([...Lt.wallets,...St._filterOutExtensions(c)],"id"),Lt.count=f>Lt.count?f:Lt.count,Lt.page=t},async initializeExcludedWallets({ids:t}){const e=le.getRequestedCaipNetworkIds().join(","),{data:r}=await ni.get({path:"/getWallets",params:{...St._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});r&&r.forEach(i=>{i!=null&&i.rdns&&Lt.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:i}=Fe.state;Lt.search=[];const s=le.getRequestedCaipNetworkIds().join(","),{data:n}=await ni.get({path:"/getWallets",params:{...St._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:s,include:r==null?void 0:r.join(","),exclude:i==null?void 0:i.join(",")}});mr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const c=n.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...c.map(f=>St._fetchWalletImage(f)),dt.wait(300)]),Lt.search=St._filterOutExtensions(n)},initPromise(t,e){const r=Lt.promises[t];return r||(Lt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:i=!0}={}){const s=[t&&St.initPromise("connectorImages",St.fetchConnectorImages),e&&St.initPromise("featuredWallets",St.fetchFeaturedWallets),r&&St.initPromise("recommendedWallets",St.fetchRecommendedWallets),i&&St.initPromise("networkImages",St.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=Fe.state.features)!=null&&t.analytics&&St.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ni.get({path:"/getAnalyticsConfig",params:St._getSdkProperties()});Fe.setFeatures({analytics:t})}catch{Fe.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Lt.featured=Lt.allFeatured,Lt.recommended=Lt.allRecommended;return}const e=le.getRequestedCaipNetworkIds().join(",");Lt.featured=Lt.allFeatured.filter(r=>{var i;return(i=r.chains)==null?void 0:i.some(s=>e.includes(s))}),Lt.recommended=Lt.allRecommended.filter(r=>{var i;return(i=r.chains)==null?void 0:i.some(s=>e.includes(s))})}},Ut=Ar({view:"Connect",history:["Connect"],transactionStack:[]}),jt={state:Ut,subscribeKey(t,e){return Mi(Ut,t,e)},pushTransactionStack(t){Ut.transactionStack.push(t)},popTransactionStack(t){var r,i;const e=Ut.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const n=Ut.history.indexOf("ConnectingSiwe");n>0?this.goBackToIndex(n-1):(Nr.close(),Ut.history=[])}else e.view&&this.reset(e.view);(i=e==null?void 0:e.onSuccess)==null||i.call(e)}},push(t,e){t!==Ut.view&&(Ut.view=t,Ut.history.push(t),Ut.data=e)},reset(t,e){Ut.view=t,Ut.history=[t],Ut.data=e},replace(t,e){Ut.history.at(-1)===t||(Ut.view=t,Ut.history[Ut.history.length-1]=t,Ut.data=e)},goBack(){var e;const t=!le.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Ut.history.length>1&&!Ut.history.includes("UnsupportedChain")){Ut.history.pop();const[r]=Ut.history.slice(-1);r&&(Ut.view=r)}else Nr.close();(e=Ut.data)!=null&&e.wallet&&(Ut.data.wallet=void 0),setTimeout(()=>{var r,i,s;if(t){nt.setFarcasterUrl(void 0,le.state.activeChain);const n=wt.getAuthConnector();(r=n==null?void 0:n.provider)==null||r.reload();const c=Zc(Fe.state);(s=(i=n==null?void 0:n.provider)==null?void 0:i.syncDappData)==null||s.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Ut.history.length>1){Ut.history=Ut.history.slice(0,t+1);const[e]=Ut.history.slice(-1);e&&(Ut.view=e)}}},Fn=Ar({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),oi={state:Fn,subscribe(t){return pi(Fn,()=>t(Fn))},setThemeMode(t){Fn.themeMode=t;try{const e=wt.getAuthConnector();if(e){const r=oi.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Gn(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Fn.themeVariables={...Fn.themeVariables,...t};try{const e=wt.getAuthConnector();if(e){const r=oi.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Gn(Fn.themeVariables,Fn.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Zc(Fn)}},_x={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},qt=Ar({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{..._x}}),wt={state:qt,subscribe(t){return pi(qt,()=>{t(qt)})},subscribeKey(t,e){return Mi(qt,t,e)},initialize(t){t.forEach(e=>{const r=et.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(qt.activeConnector=go(t))},setConnectors(t){t.filter(r=>!qt.allConnectors.some(i=>i.id===r.id&&this.getConnectorName(i.name)===this.getConnectorName(r.name)&&i.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&qt.allConnectors.push(go(r))}),qt.connectors=this.mergeMultiChainConnectors(qt.allConnectors)},removeAdapter(t){qt.allConnectors=qt.allConnectors.filter(e=>e.chain!==t),qt.connectors=this.mergeMultiChainConnectors(qt.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(i=>{const s=i[0],n=(s==null?void 0:s.id)===Ue.CONNECTOR_ID.AUTH;i.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...i],type:n?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:i}=r,s=this.getConnectorName(i);if(!s)return;const n=e.get(s)||[];n.find(f=>f.chain===r.chain)||n.push(r),e.set(s,n)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(i=>i.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,i;if(t.id===Ue.CONNECTOR_ID.AUTH){const s=t,n=Zc(Fe.state),c=oi.getSnapshot().themeMode,f=oi.getSnapshot().themeVariables;(r=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),(i=s==null?void 0:s.provider)==null||i.syncTheme({themeMode:c,themeVariables:f,w3mThemeVariables:Gn(f,c)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var i;const e=t||le.state.activeChain,r=qt.connectors.find(s=>s.id===Ue.CONNECTOR_ID.AUTH);if(r)return(i=r==null?void 0:r.connectors)!=null&&i.length?r.connectors.find(n=>n.chain===e):r},getAnnouncedConnectorRdns(){return qt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return qt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return qt.allConnectors.filter(i=>i.chain===le.state.activeChain).find(i=>{var s;return i.explorerId===t||((s=i.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var n,c;if(t.id!=="ID_AUTH")return;const e=t,r=Zc(Fe.state),i=oi.getSnapshot().themeMode,s=oi.getSnapshot().themeVariables;(c=(n=e==null?void 0:e.provider)==null?void 0:n.syncDappData)==null||c.call(n,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:i,themeVariables:s,w3mThemeVariables:Gn(s,i)})},getConnectorsByNamespace(t){const e=qt.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=wt.getConnector(t.id,t.rdns);le.state.activeChain===Ue.CHAIN.SOLANA&&rI.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?jt.push("ConnectingExternal",{connector:e}):jt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(qt.allConnectors)},setFilterByNamespace(t){qt.filterByNamespace=t,qt.connectors=this.getConnectors(t),St.setFilterByNamespace(t)},setConnectorId(t,e){t&&(qt.activeConnectorIds={...qt.activeConnectorIds,[e]:t},et.setConnectedConnectorId(e,t))},removeConnectorId(t){qt.activeConnectorIds={...qt.activeConnectorIds,[t]:void 0},et.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return qt.activeConnectorIds[t]},isConnected(t){return t?!!qt.activeConnectorIds[t]:Object.values(qt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){qt.activeConnectorIds={..._x}}};function wf(t,e){return wt.getConnectorId(t)===e}function lI(t){const e=Array.from(le.state.chains.keys());let r=[];return t?(r.push([t,le.state.chains.get(t)]),wf(t,Ue.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(i=>{i!==t&&wf(i,Ue.CONNECTOR_ID.WALLET_CONNECT)&&r.push([i,le.state.chains.get(i)])}):wf(t,Ue.CONNECTOR_ID.AUTH)&&e.forEach(i=>{i!==t&&wf(i,Ue.CONNECTOR_ID.AUTH)&&r.push([i,le.state.chains.get(i)])})):r=Array.from(le.state.chains.entries()),r}var x1={},Ah={};Ah.byteLength=pI;Ah.toByteArray=gI;Ah.fromByteArray=bI;var Sn=[],Wi=[],hI=typeof Uint8Array<"u"?Uint8Array:Array,yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Lo=0,dI=yd.length;Lo<dI;++Lo)Sn[Lo]=yd[Lo],Wi[yd.charCodeAt(Lo)]=Lo;Wi[45]=62;Wi[95]=63;function Ex(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function pI(t){var e=Ex(t),r=e[0],i=e[1];return(r+i)*3/4-i}function mI(t,e,r){return(e+r)*3/4-r}function gI(t){var e,r=Ex(t),i=r[0],s=r[1],n=new hI(mI(t,i,s)),c=0,f=s>0?i-4:i,m;for(m=0;m<f;m+=4)e=Wi[t.charCodeAt(m)]<<18|Wi[t.charCodeAt(m+1)]<<12|Wi[t.charCodeAt(m+2)]<<6|Wi[t.charCodeAt(m+3)],n[c++]=e>>16&255,n[c++]=e>>8&255,n[c++]=e&255;return s===2&&(e=Wi[t.charCodeAt(m)]<<2|Wi[t.charCodeAt(m+1)]>>4,n[c++]=e&255),s===1&&(e=Wi[t.charCodeAt(m)]<<10|Wi[t.charCodeAt(m+1)]<<4|Wi[t.charCodeAt(m+2)]>>2,n[c++]=e>>8&255,n[c++]=e&255),n}function vI(t){return Sn[t>>18&63]+Sn[t>>12&63]+Sn[t>>6&63]+Sn[t&63]}function yI(t,e,r){for(var i,s=[],n=e;n<r;n+=3)i=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(t[n+2]&255),s.push(vI(i));return s.join("")}function bI(t){for(var e,r=t.length,i=r%3,s=[],n=16383,c=0,f=r-i;c<f;c+=n)s.push(yI(t,c,c+n>f?f:c+n));return i===1?(e=t[r-1],s.push(Sn[e>>2]+Sn[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],s.push(Sn[e>>10]+Sn[e>>4&63]+Sn[e<<2&63]+"=")),s.join("")}var M1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */M1.read=function(t,e,r,i,s){var n,c,f=s*8-i-1,m=(1<<f)-1,p=m>>1,d=-7,y=r?s-1:0,_=r?-1:1,x=t[e+y];for(y+=_,n=x&(1<<-d)-1,x>>=-d,d+=f;d>0;n=n*256+t[e+y],y+=_,d-=8);for(c=n&(1<<-d)-1,n>>=-d,d+=i;d>0;c=c*256+t[e+y],y+=_,d-=8);if(n===0)n=1-p;else{if(n===m)return c?NaN:(x?-1:1)*(1/0);c=c+Math.pow(2,i),n=n-p}return(x?-1:1)*c*Math.pow(2,n-i)};M1.write=function(t,e,r,i,s,n){var c,f,m,p=n*8-s-1,d=(1<<p)-1,y=d>>1,_=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=i?0:n-1,M=i?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=d):(c=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-c))<1&&(c--,m*=2),c+y>=1?e+=_/m:e+=_*Math.pow(2,1-y),e*m>=2&&(c++,m/=2),c+y>=d?(f=0,c=d):c+y>=1?(f=(e*m-1)*Math.pow(2,s),c=c+y):(f=e*Math.pow(2,y-1)*Math.pow(2,s),c=0));s>=8;t[r+x]=f&255,x+=M,f/=256,s-=8);for(c=c<<s|f,p+=s;p>0;t[r+x]=c&255,x+=M,c/=256,p-=8);t[r+x-M]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ah,r=M1,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:n,ArrayBuffer:c,SharedArrayBuffer:f}=globalThis;d.TYPED_ARRAY_SUPPORT=m(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const W=new n(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,n.prototype),Object.setPrototypeOf(W,k),W.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function p(W){if(W>s)throw new RangeError('The value "'+W+'" is invalid for option "size"');const k=new n(W);return Object.setPrototypeOf(k,d.prototype),k}function d(W,k,q){if(typeof W=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(W)}return y(W,k,q)}d.poolSize=8192;function y(W,k,q){if(typeof W=="string")return C(W,k);if(c.isView(W))return S(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(xe(W,c)||W&&xe(W.buffer,c)||typeof f<"u"&&(xe(W,f)||W&&xe(W.buffer,f)))return I(W,k,q);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=W.valueOf&&W.valueOf();if(J!=null&&J!==W)return d.from(J,k,q);const ie=N(W);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return d.from(W[Symbol.toPrimitive]("string"),k,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}d.from=function(W,k,q){return y(W,k,q)},Object.setPrototypeOf(d.prototype,n.prototype),Object.setPrototypeOf(d,n);function _(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function x(W,k,q){return _(W),W<=0?p(W):k!==void 0?typeof q=="string"?p(W).fill(k,q):p(W).fill(k):p(W)}d.alloc=function(W,k,q){return x(W,k,q)};function M(W){return _(W),p(W<0?0:O(W)|0)}d.allocUnsafe=function(W){return M(W)},d.allocUnsafeSlow=function(W){return M(W)};function C(W,k){if((typeof k!="string"||k==="")&&(k="utf8"),!d.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const q=$(W,k)|0;let J=p(q);const ie=J.write(W,k);return ie!==q&&(J=J.slice(0,ie)),J}function T(W){const k=W.length<0?0:O(W.length)|0,q=p(k);for(let J=0;J<k;J+=1)q[J]=W[J]&255;return q}function S(W){if(xe(W,n)){const k=new n(W);return I(k.buffer,k.byteOffset,k.byteLength)}return T(W)}function I(W,k,q){if(k<0||W.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<k+(q||0))throw new RangeError('"length" is outside of buffer bounds');let J;return k===void 0&&q===void 0?J=new n(W):q===void 0?J=new n(W,k):J=new n(W,k,q),Object.setPrototypeOf(J,d.prototype),J}function N(W){if(d.isBuffer(W)){const k=O(W.length)|0,q=p(k);return q.length===0||W.copy(q,0,0,k),q}if(W.length!==void 0)return typeof W.length!="number"||it(W.length)?p(0):T(W);if(W.type==="Buffer"&&Array.isArray(W.data))return T(W.data)}function O(W){if(W>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return W|0}function D(W){return+W!=W&&(W=0),d.alloc(+W)}d.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==d.prototype},d.compare=function(k,q){if(xe(k,n)&&(k=d.from(k,k.offset,k.byteLength)),xe(q,n)&&(q=d.from(q,q.offset,q.byteLength)),!d.isBuffer(k)||!d.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===q)return 0;let J=k.length,ie=q.length;for(let pe=0,ae=Math.min(J,ie);pe<ae;++pe)if(k[pe]!==q[pe]){J=k[pe],ie=q[pe];break}return J<ie?-1:ie<J?1:0},d.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(k,q){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return d.alloc(0);let J;if(q===void 0)for(q=0,J=0;J<k.length;++J)q+=k[J].length;const ie=d.allocUnsafe(q);let pe=0;for(J=0;J<k.length;++J){let ae=k[J];if(xe(ae,n))pe+ae.length>ie.length?(d.isBuffer(ae)||(ae=d.from(ae)),ae.copy(ie,pe)):n.prototype.set.call(ie,ae,pe);else if(d.isBuffer(ae))ae.copy(ie,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=ae.length}return ie};function $(W,k){if(d.isBuffer(W))return W.length;if(c.isView(W)||xe(W,c))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const q=W.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&q===0)return 0;let ie=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return Ge(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return ze(W).length;default:if(ie)return J?-1:Ge(W).length;k=(""+k).toLowerCase(),ie=!0}}d.byteLength=$;function z(W,k,q){let J=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,k>>>=0,q<=k))return"";for(W||(W="utf8");;)switch(W){case"hex":return R(this,k,q);case"utf8":case"utf-8":return w(this,k,q);case"ascii":return a(this,k,q);case"latin1":case"binary":return b(this,k,q);case"base64":return g(this,k,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,k,q);default:if(J)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),J=!0}}d.prototype._isBuffer=!0;function G(W,k,q){const J=W[k];W[k]=W[q],W[q]=J}d.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<k;q+=2)G(this,q,q+1);return this},d.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<k;q+=4)G(this,q,q+3),G(this,q+1,q+2);return this},d.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<k;q+=8)G(this,q,q+7),G(this,q+1,q+6),G(this,q+2,q+5),G(this,q+3,q+4);return this},d.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?w(this,0,k):z.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(k){if(!d.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:d.compare(this,k)===0},d.prototype.inspect=function(){let k="";const q=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(k+=" ... "),"<Buffer "+k+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(k,q,J,ie,pe){if(xe(k,n)&&(k=d.from(k,k.offset,k.byteLength)),!d.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(q===void 0&&(q=0),J===void 0&&(J=k?k.length:0),ie===void 0&&(ie=0),pe===void 0&&(pe=this.length),q<0||J>k.length||ie<0||pe>this.length)throw new RangeError("out of range index");if(ie>=pe&&q>=J)return 0;if(ie>=pe)return-1;if(q>=J)return 1;if(q>>>=0,J>>>=0,ie>>>=0,pe>>>=0,this===k)return 0;let ae=pe-ie,_e=J-q;const Xe=Math.min(ae,_e),be=this.slice(ie,pe),Me=k.slice(q,J);for(let Ve=0;Ve<Xe;++Ve)if(be[Ve]!==Me[Ve]){ae=be[Ve],_e=Me[Ve];break}return ae<_e?-1:_e<ae?1:0};function L(W,k,q,J,ie){if(W.length===0)return-1;if(typeof q=="string"?(J=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,it(q)&&(q=ie?0:W.length-1),q<0&&(q=W.length+q),q>=W.length){if(ie)return-1;q=W.length-1}else if(q<0)if(ie)q=0;else return-1;if(typeof k=="string"&&(k=d.from(k,J)),d.isBuffer(k))return k.length===0?-1:te(W,k,q,J,ie);if(typeof k=="number")return k=k&255,typeof n.prototype.indexOf=="function"?ie?n.prototype.indexOf.call(W,k,q):n.prototype.lastIndexOf.call(W,k,q):te(W,[k],q,J,ie);throw new TypeError("val must be string, number or Buffer")}function te(W,k,q,J,ie){let pe=1,ae=W.length,_e=k.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(W.length<2||k.length<2)return-1;pe=2,ae/=2,_e/=2,q/=2}function Xe(Me,Ve){return pe===1?Me[Ve]:Me.readUInt16BE(Ve*pe)}let be;if(ie){let Me=-1;for(be=q;be<ae;be++)if(Xe(W,be)===Xe(k,Me===-1?0:be-Me)){if(Me===-1&&(Me=be),be-Me+1===_e)return Me*pe}else Me!==-1&&(be-=be-Me),Me=-1}else for(q+_e>ae&&(q=ae-_e),be=q;be>=0;be--){let Me=!0;for(let Ve=0;Ve<_e;Ve++)if(Xe(W,be+Ve)!==Xe(k,Ve)){Me=!1;break}if(Me)return be}return-1}d.prototype.includes=function(k,q,J){return this.indexOf(k,q,J)!==-1},d.prototype.indexOf=function(k,q,J){return L(this,k,q,J,!0)},d.prototype.lastIndexOf=function(k,q,J){return L(this,k,q,J,!1)};function E(W,k,q,J){q=Number(q)||0;const ie=W.length-q;J?(J=Number(J),J>ie&&(J=ie)):J=ie;const pe=k.length;J>pe/2&&(J=pe/2);let ae;for(ae=0;ae<J;++ae){const _e=parseInt(k.substr(ae*2,2),16);if(it(_e))return ae;W[q+ae]=_e}return ae}function o(W,k,q,J){return ge(Ge(k,W.length-q),W,q,J)}function u(W,k,q,J){return ge(de(k),W,q,J)}function l(W,k,q,J){return ge(ze(k),W,q,J)}function h(W,k,q,J){return ge(ve(k,W.length-q),W,q,J)}d.prototype.write=function(k,q,J,ie){if(q===void 0)ie="utf8",J=this.length,q=0;else if(J===void 0&&typeof q=="string")ie=q,J=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(J)?(J=J>>>0,ie===void 0&&(ie="utf8")):(ie=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-q;if((J===void 0||J>pe)&&(J=pe),k.length>0&&(J<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let ae=!1;for(;;)switch(ie){case"hex":return E(this,k,q,J);case"utf8":case"utf-8":return o(this,k,q,J);case"ascii":case"latin1":case"binary":return u(this,k,q,J);case"base64":return l(this,k,q,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,k,q,J);default:if(ae)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ae=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(W,k,q){return k===0&&q===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(k,q))}function w(W,k,q){q=Math.min(W.length,q);const J=[];let ie=k;for(;ie<q;){const pe=W[ie];let ae=null,_e=pe>239?4:pe>223?3:pe>191?2:1;if(ie+_e<=q){let Xe,be,Me,Ve;switch(_e){case 1:pe<128&&(ae=pe);break;case 2:Xe=W[ie+1],(Xe&192)===128&&(Ve=(pe&31)<<6|Xe&63,Ve>127&&(ae=Ve));break;case 3:Xe=W[ie+1],be=W[ie+2],(Xe&192)===128&&(be&192)===128&&(Ve=(pe&15)<<12|(Xe&63)<<6|be&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ae=Ve));break;case 4:Xe=W[ie+1],be=W[ie+2],Me=W[ie+3],(Xe&192)===128&&(be&192)===128&&(Me&192)===128&&(Ve=(pe&15)<<18|(Xe&63)<<12|(be&63)<<6|Me&63,Ve>65535&&Ve<1114112&&(ae=Ve))}}ae===null?(ae=65533,_e=1):ae>65535&&(ae-=65536,J.push(ae>>>10&1023|55296),ae=56320|ae&1023),J.push(ae),ie+=_e}return v(J)}const A=4096;function v(W){const k=W.length;if(k<=A)return String.fromCharCode.apply(String,W);let q="",J=0;for(;J<k;)q+=String.fromCharCode.apply(String,W.slice(J,J+=A));return q}function a(W,k,q){let J="";q=Math.min(W.length,q);for(let ie=k;ie<q;++ie)J+=String.fromCharCode(W[ie]&127);return J}function b(W,k,q){let J="";q=Math.min(W.length,q);for(let ie=k;ie<q;++ie)J+=String.fromCharCode(W[ie]);return J}function R(W,k,q){const J=W.length;(!k||k<0)&&(k=0),(!q||q<0||q>J)&&(q=J);let ie="";for(let pe=k;pe<q;++pe)ie+=Ae[W[pe]];return ie}function P(W,k,q){const J=W.slice(k,q);let ie="";for(let pe=0;pe<J.length-1;pe+=2)ie+=String.fromCharCode(J[pe]+J[pe+1]*256);return ie}d.prototype.slice=function(k,q){const J=this.length;k=~~k,q=q===void 0?J:~~q,k<0?(k+=J,k<0&&(k=0)):k>J&&(k=J),q<0?(q+=J,q<0&&(q=0)):q>J&&(q=J),q<k&&(q=k);const ie=this.subarray(k,q);return Object.setPrototypeOf(ie,d.prototype),ie};function F(W,k,q){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+k>q)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(k,q,J){k=k>>>0,q=q>>>0,J||F(k,q,this.length);let ie=this[k],pe=1,ae=0;for(;++ae<q&&(pe*=256);)ie+=this[k+ae]*pe;return ie},d.prototype.readUintBE=d.prototype.readUIntBE=function(k,q,J){k=k>>>0,q=q>>>0,J||F(k,q,this.length);let ie=this[k+--q],pe=1;for(;q>0&&(pe*=256);)ie+=this[k+--q]*pe;return ie},d.prototype.readUint8=d.prototype.readUInt8=function(k,q){return k=k>>>0,q||F(k,1,this.length),this[k]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(k,q){return k=k>>>0,q||F(k,2,this.length),this[k]|this[k+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(k,q){return k=k>>>0,q||F(k,2,this.length),this[k]<<8|this[k+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(k,q){return k=k>>>0,q||F(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(k,q){return k=k>>>0,q||F(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},d.prototype.readBigUInt64LE=Ie(function(k){k=k>>>0,fe(k,"offset");const q=this[k],J=this[k+7];(q===void 0||J===void 0)&&$e(k,this.length-8);const ie=q+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,pe=this[++k]+this[++k]*2**8+this[++k]*2**16+J*2**24;return BigInt(ie)+(BigInt(pe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ie(function(k){k=k>>>0,fe(k,"offset");const q=this[k],J=this[k+7];(q===void 0||J===void 0)&&$e(k,this.length-8);const ie=q*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],pe=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+J;return(BigInt(ie)<<BigInt(32))+BigInt(pe)}),d.prototype.readIntLE=function(k,q,J){k=k>>>0,q=q>>>0,J||F(k,q,this.length);let ie=this[k],pe=1,ae=0;for(;++ae<q&&(pe*=256);)ie+=this[k+ae]*pe;return pe*=128,ie>=pe&&(ie-=Math.pow(2,8*q)),ie},d.prototype.readIntBE=function(k,q,J){k=k>>>0,q=q>>>0,J||F(k,q,this.length);let ie=q,pe=1,ae=this[k+--ie];for(;ie>0&&(pe*=256);)ae+=this[k+--ie]*pe;return pe*=128,ae>=pe&&(ae-=Math.pow(2,8*q)),ae},d.prototype.readInt8=function(k,q){return k=k>>>0,q||F(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},d.prototype.readInt16LE=function(k,q){k=k>>>0,q||F(k,2,this.length);const J=this[k]|this[k+1]<<8;return J&32768?J|4294901760:J},d.prototype.readInt16BE=function(k,q){k=k>>>0,q||F(k,2,this.length);const J=this[k+1]|this[k]<<8;return J&32768?J|4294901760:J},d.prototype.readInt32LE=function(k,q){return k=k>>>0,q||F(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},d.prototype.readInt32BE=function(k,q){return k=k>>>0,q||F(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},d.prototype.readBigInt64LE=Ie(function(k){k=k>>>0,fe(k,"offset");const q=this[k],J=this[k+7];(q===void 0||J===void 0)&&$e(k,this.length-8);const ie=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(J<<24);return(BigInt(ie)<<BigInt(32))+BigInt(q+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),d.prototype.readBigInt64BE=Ie(function(k){k=k>>>0,fe(k,"offset");const q=this[k],J=this[k+7];(q===void 0||J===void 0)&&$e(k,this.length-8);const ie=(q<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(ie)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+J)}),d.prototype.readFloatLE=function(k,q){return k=k>>>0,q||F(k,4,this.length),r.read(this,k,!0,23,4)},d.prototype.readFloatBE=function(k,q){return k=k>>>0,q||F(k,4,this.length),r.read(this,k,!1,23,4)},d.prototype.readDoubleLE=function(k,q){return k=k>>>0,q||F(k,8,this.length),r.read(this,k,!0,52,8)},d.prototype.readDoubleBE=function(k,q){return k=k>>>0,q||F(k,8,this.length),r.read(this,k,!1,52,8)};function K(W,k,q,J,ie,pe){if(!d.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ie||k<pe)throw new RangeError('"value" argument is out of bounds');if(q+J>W.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(k,q,J,ie){if(k=+k,q=q>>>0,J=J>>>0,!ie){const _e=Math.pow(2,8*J)-1;K(this,k,q,J,_e,0)}let pe=1,ae=0;for(this[q]=k&255;++ae<J&&(pe*=256);)this[q+ae]=k/pe&255;return q+J},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(k,q,J,ie){if(k=+k,q=q>>>0,J=J>>>0,!ie){const _e=Math.pow(2,8*J)-1;K(this,k,q,J,_e,0)}let pe=J-1,ae=1;for(this[q+pe]=k&255;--pe>=0&&(ae*=256);)this[q+pe]=k/ae&255;return q+J},d.prototype.writeUint8=d.prototype.writeUInt8=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,1,255,0),this[q]=k&255,q+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,2,65535,0),this[q]=k&255,this[q+1]=k>>>8,q+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,2,65535,0),this[q]=k>>>8,this[q+1]=k&255,q+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,4,4294967295,0),this[q+3]=k>>>24,this[q+2]=k>>>16,this[q+1]=k>>>8,this[q]=k&255,q+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,4,4294967295,0),this[q]=k>>>24,this[q+1]=k>>>16,this[q+2]=k>>>8,this[q+3]=k&255,q+4};function Z(W,k,q,J,ie){he(k,J,ie,W,q,7);let pe=Number(k&BigInt(4294967295));W[q++]=pe,pe=pe>>8,W[q++]=pe,pe=pe>>8,W[q++]=pe,pe=pe>>8,W[q++]=pe;let ae=Number(k>>BigInt(32)&BigInt(4294967295));return W[q++]=ae,ae=ae>>8,W[q++]=ae,ae=ae>>8,W[q++]=ae,ae=ae>>8,W[q++]=ae,q}function U(W,k,q,J,ie){he(k,J,ie,W,q,7);let pe=Number(k&BigInt(4294967295));W[q+7]=pe,pe=pe>>8,W[q+6]=pe,pe=pe>>8,W[q+5]=pe,pe=pe>>8,W[q+4]=pe;let ae=Number(k>>BigInt(32)&BigInt(4294967295));return W[q+3]=ae,ae=ae>>8,W[q+2]=ae,ae=ae>>8,W[q+1]=ae,ae=ae>>8,W[q]=ae,q+8}d.prototype.writeBigUInt64LE=Ie(function(k,q=0){return Z(this,k,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ie(function(k,q=0){return U(this,k,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(k,q,J,ie){if(k=+k,q=q>>>0,!ie){const Xe=Math.pow(2,8*J-1);K(this,k,q,J,Xe-1,-Xe)}let pe=0,ae=1,_e=0;for(this[q]=k&255;++pe<J&&(ae*=256);)k<0&&_e===0&&this[q+pe-1]!==0&&(_e=1),this[q+pe]=(k/ae>>0)-_e&255;return q+J},d.prototype.writeIntBE=function(k,q,J,ie){if(k=+k,q=q>>>0,!ie){const Xe=Math.pow(2,8*J-1);K(this,k,q,J,Xe-1,-Xe)}let pe=J-1,ae=1,_e=0;for(this[q+pe]=k&255;--pe>=0&&(ae*=256);)k<0&&_e===0&&this[q+pe+1]!==0&&(_e=1),this[q+pe]=(k/ae>>0)-_e&255;return q+J},d.prototype.writeInt8=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,1,127,-128),k<0&&(k=255+k+1),this[q]=k&255,q+1},d.prototype.writeInt16LE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,2,32767,-32768),this[q]=k&255,this[q+1]=k>>>8,q+2},d.prototype.writeInt16BE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,2,32767,-32768),this[q]=k>>>8,this[q+1]=k&255,q+2},d.prototype.writeInt32LE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,4,2147483647,-2147483648),this[q]=k&255,this[q+1]=k>>>8,this[q+2]=k>>>16,this[q+3]=k>>>24,q+4},d.prototype.writeInt32BE=function(k,q,J){return k=+k,q=q>>>0,J||K(this,k,q,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[q]=k>>>24,this[q+1]=k>>>16,this[q+2]=k>>>8,this[q+3]=k&255,q+4},d.prototype.writeBigInt64LE=Ie(function(k,q=0){return Z(this,k,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ie(function(k,q=0){return U(this,k,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(W,k,q,J,ie,pe){if(q+J>W.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function X(W,k,q,J,ie){return k=+k,q=q>>>0,ie||Y(W,k,q,4),r.write(W,k,q,J,23,4),q+4}d.prototype.writeFloatLE=function(k,q,J){return X(this,k,q,!0,J)},d.prototype.writeFloatBE=function(k,q,J){return X(this,k,q,!1,J)};function re(W,k,q,J,ie){return k=+k,q=q>>>0,ie||Y(W,k,q,8),r.write(W,k,q,J,52,8),q+8}d.prototype.writeDoubleLE=function(k,q,J){return re(this,k,q,!0,J)},d.prototype.writeDoubleBE=function(k,q,J){return re(this,k,q,!1,J)},d.prototype.copy=function(k,q,J,ie){if(!d.isBuffer(k))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ie&&ie!==0&&(ie=this.length),q>=k.length&&(q=k.length),q||(q=0),ie>0&&ie<J&&(ie=J),ie===J||k.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),k.length-q<ie-J&&(ie=k.length-q+J);const pe=ie-J;return this===k&&typeof n.prototype.copyWithin=="function"?this.copyWithin(q,J,ie):n.prototype.set.call(k,this.subarray(J,ie),q),pe},d.prototype.fill=function(k,q,J,ie){if(typeof k=="string"){if(typeof q=="string"?(ie=q,q=0,J=this.length):typeof J=="string"&&(ie=J,J=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!d.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(k.length===1){const ae=k.charCodeAt(0);(ie==="utf8"&&ae<128||ie==="latin1")&&(k=ae)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(q<0||this.length<q||this.length<J)throw new RangeError("Out of range index");if(J<=q)return this;q=q>>>0,J=J===void 0?this.length:J>>>0,k||(k=0);let pe;if(typeof k=="number")for(pe=q;pe<J;++pe)this[pe]=k;else{const ae=d.isBuffer(k)?k:d.from(k,ie),_e=ae.length;if(_e===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(pe=0;pe<J-q;++pe)this[pe+q]=ae[pe%_e]}return this};const ee={};function H(W,k,q){ee[W]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(W,k){return`The "${W}" argument must be of type number. Received type ${typeof k}`},TypeError),H("ERR_OUT_OF_RANGE",function(W,k,q){let J=`The value of "${W}" is out of range.`,ie=q;return Number.isInteger(q)&&Math.abs(q)>2**32?ie=oe(String(q)):typeof q=="bigint"&&(ie=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(ie=oe(ie)),ie+="n"),J+=` It must be ${k}. Received ${ie}`,J},RangeError);function oe(W){let k="",q=W.length;const J=W[0]==="-"?1:0;for(;q>=J+4;q-=3)k=`_${W.slice(q-3,q)}${k}`;return`${W.slice(0,q)}${k}`}function Ne(W,k,q){fe(k,"offset"),(W[k]===void 0||W[k+q]===void 0)&&$e(k,W.length-(q+1))}function he(W,k,q,J,ie,pe){if(W>q||W<k){const ae=typeof k=="bigint"?"n":"";let _e;throw k===0||k===BigInt(0)?_e=`>= 0${ae} and < 2${ae} ** ${(pe+1)*8}${ae}`:_e=`>= -(2${ae} ** ${(pe+1)*8-1}${ae}) and < 2 ** ${(pe+1)*8-1}${ae}`,new ee.ERR_OUT_OF_RANGE("value",_e,W)}Ne(J,ie,pe)}function fe(W,k){if(typeof W!="number")throw new ee.ERR_INVALID_ARG_TYPE(k,"number",W)}function $e(W,k,q){throw Math.floor(W)!==W?(fe(W,q),new ee.ERR_OUT_OF_RANGE("offset","an integer",W)):k<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,W)}const ye=/[^+/0-9A-Za-z-_]/g;function ue(W){if(W=W.split("=")[0],W=W.trim().replace(ye,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Ge(W,k){k=k||1/0;let q;const J=W.length;let ie=null;const pe=[];for(let ae=0;ae<J;++ae){if(q=W.charCodeAt(ae),q>55295&&q<57344){if(!ie){if(q>56319){(k-=3)>-1&&pe.push(239,191,189);continue}else if(ae+1===J){(k-=3)>-1&&pe.push(239,191,189);continue}ie=q;continue}if(q<56320){(k-=3)>-1&&pe.push(239,191,189),ie=q;continue}q=(ie-55296<<10|q-56320)+65536}else ie&&(k-=3)>-1&&pe.push(239,191,189);if(ie=null,q<128){if((k-=1)<0)break;pe.push(q)}else if(q<2048){if((k-=2)<0)break;pe.push(q>>6|192,q&63|128)}else if(q<65536){if((k-=3)<0)break;pe.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((k-=4)<0)break;pe.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return pe}function de(W){const k=[];for(let q=0;q<W.length;++q)k.push(W.charCodeAt(q)&255);return k}function ve(W,k){let q,J,ie;const pe=[];for(let ae=0;ae<W.length&&!((k-=2)<0);++ae)q=W.charCodeAt(ae),J=q>>8,ie=q%256,pe.push(ie),pe.push(J);return pe}function ze(W){return e.toByteArray(ue(W))}function ge(W,k,q,J){let ie;for(ie=0;ie<J&&!(ie+q>=k.length||ie>=W.length);++ie)k[ie+q]=W[ie];return ie}function xe(W,k){return W instanceof k||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===k.name}function it(W){return W!==W}const Ae=function(){const W="0123456789abcdef",k=new Array(256);for(let q=0;q<16;++q){const J=q*16;for(let ie=0;ie<16;++ie)k[J+ie]=W[q]+W[ie]}return k}();function Ie(W){return typeof BigInt>"u"?at:W}function at(){throw new Error("BigInt not supported")}})(x1);const lt=x1.Buffer,hte=x1.Buffer,ot=globalThis||void 0||self;var _f={exports:{}},ob;function Fa(){if(ob)return _f.exports;ob=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(D,$,z){return Function.prototype.apply.call(D,$,z)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:r=function(D){return Object.getOwnPropertyNames(D)};function i(O){console&&console.warn&&console.warn(O)}var s=Number.isNaN||function(D){return D!==D};function n(){n.init.call(this)}_f.exports=n,_f.exports.once=S,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var c=10;function f(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(O){if(typeof O!="number"||O<0||s(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");c=O}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||s(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function m(O){return O._maxListeners===void 0?n.defaultMaxListeners:O._maxListeners}n.prototype.getMaxListeners=function(){return m(this)},n.prototype.emit=function(D){for(var $=[],z=1;z<arguments.length;z++)$.push(arguments[z]);var G=D==="error",L=this._events;if(L!==void 0)G=G&&L.error===void 0;else if(!G)return!1;if(G){var te;if($.length>0&&(te=$[0]),te instanceof Error)throw te;var E=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw E.context=te,E}var o=L[D];if(o===void 0)return!1;if(typeof o=="function")e(o,this,$);else for(var u=o.length,l=M(o,u),z=0;z<u;++z)e(l[z],this,$);return!0};function p(O,D,$,z){var G,L,te;if(f($),L=O._events,L===void 0?(L=O._events=Object.create(null),O._eventsCount=0):(L.newListener!==void 0&&(O.emit("newListener",D,$.listener?$.listener:$),L=O._events),te=L[D]),te===void 0)te=L[D]=$,++O._eventsCount;else if(typeof te=="function"?te=L[D]=z?[$,te]:[te,$]:z?te.unshift($):te.push($),G=m(O),G>0&&te.length>G&&!te.warned){te.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=O,E.type=D,E.count=te.length,i(E)}return O}n.prototype.addListener=function(D,$){return p(this,D,$,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(D,$){return p(this,D,$,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(O,D,$){var z={fired:!1,wrapFn:void 0,target:O,type:D,listener:$},G=d.bind(z);return G.listener=$,z.wrapFn=G,G}n.prototype.once=function(D,$){return f($),this.on(D,y(this,D,$)),this},n.prototype.prependOnceListener=function(D,$){return f($),this.prependListener(D,y(this,D,$)),this},n.prototype.removeListener=function(D,$){var z,G,L,te,E;if(f($),G=this._events,G===void 0)return this;if(z=G[D],z===void 0)return this;if(z===$||z.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete G[D],G.removeListener&&this.emit("removeListener",D,z.listener||$));else if(typeof z!="function"){for(L=-1,te=z.length-1;te>=0;te--)if(z[te]===$||z[te].listener===$){E=z[te].listener,L=te;break}if(L<0)return this;L===0?z.shift():C(z,L),z.length===1&&(G[D]=z[0]),G.removeListener!==void 0&&this.emit("removeListener",D,E||$)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(D){var $,z,G;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[D]),this;if(arguments.length===0){var L=Object.keys(z),te;for(G=0;G<L.length;++G)te=L[G],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=z[D],typeof $=="function")this.removeListener(D,$);else if($!==void 0)for(G=$.length-1;G>=0;G--)this.removeListener(D,$[G]);return this};function _(O,D,$){var z=O._events;if(z===void 0)return[];var G=z[D];return G===void 0?[]:typeof G=="function"?$?[G.listener||G]:[G]:$?T(G):M(G,G.length)}n.prototype.listeners=function(D){return _(this,D,!0)},n.prototype.rawListeners=function(D){return _(this,D,!1)},n.listenerCount=function(O,D){return typeof O.listenerCount=="function"?O.listenerCount(D):x.call(O,D)},n.prototype.listenerCount=x;function x(O){var D=this._events;if(D!==void 0){var $=D[O];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function M(O,D){for(var $=new Array(D),z=0;z<D;++z)$[z]=O[z];return $}function C(O,D){for(;D+1<O.length;D++)O[D]=O[D+1];O.pop()}function T(O){for(var D=new Array(O.length),$=0;$<D.length;++$)D[$]=O[$].listener||O[$];return D}function S(O,D){return new Promise(function($,z){function G(te){O.removeListener(D,L),z(te)}function L(){typeof O.removeListener=="function"&&O.removeListener("error",G),$([].slice.call(arguments))}N(O,D,L,{once:!0}),D!=="error"&&I(O,G,{once:!0})})}function I(O,D,$){typeof O.on=="function"&&N(O,"error",D,$)}function N(O,D,$,z){if(typeof O.on=="function")z.once?O.once(D,$):O.on(D,$);else if(typeof O.addEventListener=="function")O.addEventListener(D,function G(L){z.once&&O.removeEventListener(D,G),$(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}return _f.exports}var Zi=Fa();const C1=vh(Zi);var bd={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ev=function(t,e){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},ev(t,e)};function wI(t,e){ev(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tv=function(){return tv=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)};function _I(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}function EI(t,e,r,i){var s=arguments.length,n=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,r,i);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(n=(s<3?c(n):s>3?c(e,r,n):c(e,r))||n);return s>3&&n&&Object.defineProperty(e,r,n),n}function AI(t,e){return function(r,i){e(r,i,t)}}function xI(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function MI(t,e,r,i){function s(n){return n instanceof r?n:new r(function(c){c(n)})}return new(r||(r=Promise))(function(n,c){function f(d){try{p(i.next(d))}catch(y){c(y)}}function m(d){try{p(i.throw(d))}catch(y){c(y)}}function p(d){d.done?n(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})}function CI(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(d){return m([p,d])}}function m(p){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(n=p[0]&2?s.return:p[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,p[1])).done)return n;switch(s=0,n&&(p=[p[0]&2,n.value]),p[0]){case 0:case 1:n=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,s=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!n||p[1]>n[0]&&p[1]<n[3])){r.label=p[1];break}if(p[0]===6&&r.label<n[1]){r.label=n[1],n=p;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(p);break}n[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(d){p=[6,d],s=0}finally{i=n=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function SI(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}function II(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function rv(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ax(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),s,n=[],c;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)n.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return n}function TI(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ax(arguments[e]));return t}function RI(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),s=0,e=0;e<r;e++)for(var n=arguments[e],c=0,f=n.length;c<f;c++,s++)i[s]=n[c];return i}function Jc(t){return this instanceof Jc?(this.v=t,this):new Jc(t)}function NI(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),s,n=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){i[_]&&(s[_]=function(x){return new Promise(function(M,C){n.push([_,x,M,C])>1||f(_,x)})})}function f(_,x){try{m(i[_](x))}catch(M){y(n[0][3],M)}}function m(_){_.value instanceof Jc?Promise.resolve(_.value.v).then(p,d):y(n[0][2],_)}function p(_){f("next",_)}function d(_){f("throw",_)}function y(_,x){_(x),n.shift(),n.length&&f(n[0][0],n[0][1])}}function PI(t){var e,r;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,n){e[s]=t[s]?function(c){return(r=!r)?{value:Jc(t[s](c)),done:s==="return"}:n?n(c):c}:n}}function OI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof rv=="function"?rv(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(n){r[n]=t[n]&&function(c){return new Promise(function(f,m){c=t[n](c),s(f,m,c.done,c.value)})}}function s(n,c,f,m){Promise.resolve(m).then(function(p){n({value:p,done:f})},c)}}function kI(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function BI(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function DI(t){return t&&t.__esModule?t:{default:t}}function $I(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function UI(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const FI=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return tv},__asyncDelegator:PI,__asyncGenerator:NI,__asyncValues:OI,__await:Jc,__awaiter:MI,__classPrivateFieldGet:$I,__classPrivateFieldSet:UI,__createBinding:SI,__decorate:EI,__exportStar:II,__extends:wI,__generator:CI,__importDefault:DI,__importStar:BI,__makeTemplateObject:kI,__metadata:xI,__param:AI,__read:Ax,__rest:_I,__spread:TI,__spreadArrays:RI,__values:rv},Symbol.toStringTag,{value:"Module"})),xh=A1(FI);var wd={},nc={},ab;function LI(){if(ab)return nc;ab=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return nc.delay=t,nc}var js={},_d={},zs={},cb;function qI(){return cb||(cb=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.ONE_THOUSAND=zs.ONE_HUNDRED=void 0,zs.ONE_HUNDRED=100,zs.ONE_THOUSAND=1e3),zs}var Ed={},ub;function jI(){return ub||(ub=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Ed)),Ed}var fb;function xx(){return fb||(fb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xh;e.__exportStar(qI(),t),e.__exportStar(jI(),t)}(_d)),_d}var lb;function zI(){if(lb)return js;lb=1,Object.defineProperty(js,"__esModule",{value:!0}),js.fromMiliseconds=js.toMiliseconds=void 0;const t=xx();function e(i){return i*t.ONE_THOUSAND}js.toMiliseconds=e;function r(i){return Math.floor(i/t.ONE_THOUSAND)}return js.fromMiliseconds=r,js}var hb;function HI(){return hb||(hb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xh;e.__exportStar(LI(),t),e.__exportStar(zI(),t)}(wd)),wd}var qo={},db;function WI(){if(db)return qo;db=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const i=this.get(r);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-i.started;this.timestamps.set(r,{started:i.started,elapsed:s})}get(r){const i=this.timestamps.get(r);if(typeof i>"u")throw new Error(`No timestamp found for label: ${r}`);return i}elapsed(r){const i=this.get(r);return i.elapsed||Date.now()-i.started}}return qo.Watch=t,qo.default=t,qo}var Ad={},sc={},pb;function VI(){if(pb)return sc;pb=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.IWatch=void 0;class t{}return sc.IWatch=t,sc}var mb;function KI(){return mb||(mb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),xh.__exportStar(VI(),t)}(Ad)),Ad}var gb;function GI(){return gb||(gb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xh;e.__exportStar(HI(),t),e.__exportStar(WI(),t),e.__exportStar(KI(),t),e.__exportStar(xx(),t)}(bd)),bd}var qe=GI();class Do{}let ZI=class extends Do{constructor(e){super()}};const vb=qe.FIVE_SECONDS,La={pulse:"heartbeat_pulse"};let YI=class Mx extends ZI{constructor(e){super(e),this.events=new Zi.EventEmitter,this.interval=vb,this.interval=(e==null?void 0:e.interval)||vb}static async init(e){const r=new Mx(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),qe.toMiliseconds(this.interval))}pulse(){this.events.emit(La.pulse)}};const JI=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,QI=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,XI=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function e9(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){t9(t);return}return e}function t9(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ef(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!XI.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(JI.test(t)||QI.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,e9)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}function r9(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Lr(t,...e){try{return r9(t(...e))}catch(r){return Promise.reject(r)}}function i9(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function n9(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function cl(t){if(i9(t))return String(t);if(n9(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return cl(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const iv="base64:";function s9(t){return typeof t=="string"?t:iv+c9(t)}function o9(t){return typeof t!="string"||!t.startsWith(iv)?t:a9(t.slice(iv.length))}function a9(t){return globalThis.Buffer?lt.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function c9(t){return globalThis.Buffer?lt.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function wi(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function u9(...t){return wi(t.join(":"))}function Af(t){return t=wi(t),t?t+":":""}function f9(t,e){if(e===void 0)return!0;let r=0,i=t.indexOf(":");for(;i>-1;)r++,i=t.indexOf(":",i+1);return r<=e}function l9(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const h9="memory",d9=()=>{const t=new Map;return{name:h9,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function p9(t={}){const e={mounts:{"":t.driver||d9()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=p=>{for(const d of e.mountpoints)if(p.startsWith(d))return{base:d,relativeKey:p.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:p,driver:e.mounts[""]}},i=(p,d)=>e.mountpoints.filter(y=>y.startsWith(p)||d&&p.startsWith(y)).map(y=>({relativeBase:p.length>y.length?p.slice(y.length):void 0,mountpoint:y,driver:e.mounts[y]})),s=(p,d)=>{if(e.watching){d=wi(d);for(const y of e.watchListeners)y(p,d)}},n=async()=>{if(!e.watching){e.watching=!0;for(const p in e.mounts)e.unwatch[p]=await yb(e.mounts[p],s,p)}},c=async()=>{if(e.watching){for(const p in e.unwatch)await e.unwatch[p]();e.unwatch={},e.watching=!1}},f=(p,d,y)=>{const _=new Map,x=M=>{let C=_.get(M.base);return C||(C={driver:M.driver,base:M.base,items:[]},_.set(M.base,C)),C};for(const M of p){const C=typeof M=="string",T=wi(C?M:M.key),S=C?void 0:M.value,I=C||!M.options?d:{...d,...M.options},N=r(T);x(N).items.push({key:T,value:S,relativeKey:N.relativeKey,options:I})}return Promise.all([..._.values()].map(M=>y(M))).then(M=>M.flat())},m={hasItem(p,d={}){p=wi(p);const{relativeKey:y,driver:_}=r(p);return Lr(_.hasItem,y,d)},getItem(p,d={}){p=wi(p);const{relativeKey:y,driver:_}=r(p);return Lr(_.getItem,y,d).then(x=>Ef(x))},getItems(p,d={}){return f(p,d,y=>y.driver.getItems?Lr(y.driver.getItems,y.items.map(_=>({key:_.relativeKey,options:_.options})),d).then(_=>_.map(x=>({key:u9(y.base,x.key),value:Ef(x.value)}))):Promise.all(y.items.map(_=>Lr(y.driver.getItem,_.relativeKey,_.options).then(x=>({key:_.key,value:Ef(x)})))))},getItemRaw(p,d={}){p=wi(p);const{relativeKey:y,driver:_}=r(p);return _.getItemRaw?Lr(_.getItemRaw,y,d):Lr(_.getItem,y,d).then(x=>o9(x))},async setItem(p,d,y={}){if(d===void 0)return m.removeItem(p);p=wi(p);const{relativeKey:_,driver:x}=r(p);x.setItem&&(await Lr(x.setItem,_,cl(d),y),x.watch||s("update",p))},async setItems(p,d){await f(p,d,async y=>{if(y.driver.setItems)return Lr(y.driver.setItems,y.items.map(_=>({key:_.relativeKey,value:cl(_.value),options:_.options})),d);y.driver.setItem&&await Promise.all(y.items.map(_=>Lr(y.driver.setItem,_.relativeKey,cl(_.value),_.options)))})},async setItemRaw(p,d,y={}){if(d===void 0)return m.removeItem(p,y);p=wi(p);const{relativeKey:_,driver:x}=r(p);if(x.setItemRaw)await Lr(x.setItemRaw,_,d,y);else if(x.setItem)await Lr(x.setItem,_,s9(d),y);else return;x.watch||s("update",p)},async removeItem(p,d={}){typeof d=="boolean"&&(d={removeMeta:d}),p=wi(p);const{relativeKey:y,driver:_}=r(p);_.removeItem&&(await Lr(_.removeItem,y,d),(d.removeMeta||d.removeMata)&&await Lr(_.removeItem,y+"$",d),_.watch||s("remove",p))},async getMeta(p,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),p=wi(p);const{relativeKey:y,driver:_}=r(p),x=Object.create(null);if(_.getMeta&&Object.assign(x,await Lr(_.getMeta,y,d)),!d.nativeOnly){const M=await Lr(_.getItem,y+"$",d).then(C=>Ef(C));M&&typeof M=="object"&&(typeof M.atime=="string"&&(M.atime=new Date(M.atime)),typeof M.mtime=="string"&&(M.mtime=new Date(M.mtime)),Object.assign(x,M))}return x},setMeta(p,d,y={}){return this.setItem(p+"$",d,y)},removeMeta(p,d={}){return this.removeItem(p+"$",d)},async getKeys(p,d={}){var T;p=Af(p);const y=i(p,!0);let _=[];const x=[];let M=!0;for(const S of y){(T=S.driver.flags)!=null&&T.maxDepth||(M=!1);const I=await Lr(S.driver.getKeys,S.relativeBase,d);for(const N of I){const O=S.mountpoint+wi(N);_.some(D=>O.startsWith(D))||x.push(O)}_=[S.mountpoint,..._.filter(N=>!N.startsWith(S.mountpoint))]}const C=d.maxDepth!==void 0&&!M;return x.filter(S=>(!C||f9(S,d.maxDepth))&&l9(S,p))},async clear(p,d={}){p=Af(p),await Promise.all(i(p,!1).map(async y=>{if(y.driver.clear)return Lr(y.driver.clear,y.relativeBase,d);if(y.driver.removeItem){const _=await y.driver.getKeys(y.relativeBase||"",d);return Promise.all(_.map(x=>y.driver.removeItem(x,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(p=>bb(p)))},async watch(p){return await n(),e.watchListeners.push(p),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==p),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(p,d){if(p=Af(p),p&&e.mounts[p])throw new Error(`already mounted at ${p}`);return p&&(e.mountpoints.push(p),e.mountpoints.sort((y,_)=>_.length-y.length)),e.mounts[p]=d,e.watching&&Promise.resolve(yb(d,s,p)).then(y=>{e.unwatch[p]=y}).catch(console.error),m},async unmount(p,d=!0){var y,_;p=Af(p),!(!p||!e.mounts[p])&&(e.watching&&p in e.unwatch&&((_=(y=e.unwatch)[p])==null||_.call(y),delete e.unwatch[p]),d&&await bb(e.mounts[p]),e.mountpoints=e.mountpoints.filter(x=>x!==p),delete e.mounts[p])},getMount(p=""){p=wi(p)+":";const d=r(p);return{driver:d.driver,base:d.base}},getMounts(p="",d={}){return p=wi(p),i(p,d.parents).map(_=>({driver:_.driver,base:_.mountpoint}))},keys:(p,d={})=>m.getKeys(p,d),get:(p,d={})=>m.getItem(p,d),set:(p,d,y={})=>m.setItem(p,d,y),has:(p,d={})=>m.hasItem(p,d),del:(p,d={})=>m.removeItem(p,d),remove:(p,d={})=>m.removeItem(p,d)};return m}function yb(t,e,r){return t.watch?t.watch((i,s)=>e(i,r+s)):()=>{}}async function bb(t){typeof t.dispose=="function"&&await Lr(t.dispose)}function $o(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function Cx(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const i=$o(r);return(s,n)=>i.then(c=>n(c.transaction(e,s).objectStore(e)))}let xd;function Hu(){return xd||(xd=Cx("keyval-store","keyval")),xd}function wb(t,e=Hu()){return e("readonly",r=>$o(r.get(t)))}function m9(t,e,r=Hu()){return r("readwrite",i=>(i.put(e,t),$o(i.transaction)))}function g9(t,e=Hu()){return e("readwrite",r=>(r.delete(t),$o(r.transaction)))}function v9(t=Hu()){return t("readwrite",e=>(e.clear(),$o(e.transaction)))}function y9(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},$o(t.transaction)}function b9(t=Hu()){return t("readonly",e=>{if(e.getAllKeys)return $o(e.getAllKeys());const r=[];return y9(e,i=>r.push(i.key)).then(()=>r)})}const w9=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),_9=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(i,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function vo(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return _9(t)}catch{return t}}function es(t){return typeof t=="string"?t:w9(t)||""}const E9="idb-keyval";var A9=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let i;return t.dbName&&t.storeName&&(i=Cx(t.dbName,t.storeName)),{name:E9,options:t,async hasItem(s){return!(typeof await wb(r(s),i)>"u")},async getItem(s){return await wb(r(s),i)??null},setItem(s,n){return m9(r(s),n,i)},removeItem(s){return g9(r(s),i)},getKeys(){return b9(i)},clear(){return v9(i)}}};const x9="WALLET_CONNECT_V2_INDEXED_DB",M9="keyvaluestorage";let C9=class{constructor(){this.indexedDb=p9({driver:A9({dbName:x9,storeName:M9})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,es(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ot<"u"?ot:typeof self<"u"?self:{},ul={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,i){this[r]=String(i)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Md<"u"&&Md.localStorage?ul.exports=Md.localStorage:typeof window<"u"&&window.localStorage?ul.exports=window.localStorage:ul.exports=new e})();function S9(t){var e;return[t[0],vo((e=t[1])!=null?e:"")]}let I9=class{constructor(){this.localStorage=ul.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(S9)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return vo(r)}async setItem(e,r){this.localStorage.setItem(e,es(r))}async removeItem(e){this.localStorage.removeItem(e)}};const T9="wc_storage_version",_b=1,R9=async(t,e,r)=>{const i=T9,s=await e.getItem(i);if(s&&s>=_b){r(e);return}const n=await t.getKeys();if(!n.length){r(e);return}const c=[];for(;n.length;){const f=n.shift();if(!f)continue;const m=f.toLowerCase();if(m.includes("wc@")||m.includes("walletconnect")||m.includes("wc_")||m.includes("wallet_connect")){const p=await t.getItem(f);await e.setItem(f,p),c.push(f)}}await e.setItem(i,_b),r(e),N9(t,c)},N9=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let P9=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new I9;this.storage=e;try{const r=new C9;R9(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Cd,Eb;function O9(){if(Eb)return Cd;Eb=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Cd=e;function e(r,i,s){var n=s&&s.stringify||t,c=1;if(typeof r=="object"&&r!==null){var f=i.length+c;if(f===1)return r;var m=new Array(f);m[0]=n(r);for(var p=1;p<f;p++)m[p]=n(i[p]);return m.join(" ")}if(typeof r!="string")return r;var d=i.length;if(d===0)return r;for(var y="",_=1-c,x=-1,M=r&&r.length||0,C=0;C<M;){if(r.charCodeAt(C)===37&&C+1<M){switch(x=x>-1?x:0,r.charCodeAt(C+1)){case 100:case 102:if(_>=d||i[_]==null)break;x<C&&(y+=r.slice(x,C)),y+=Number(i[_]),x=C+2,C++;break;case 105:if(_>=d||i[_]==null)break;x<C&&(y+=r.slice(x,C)),y+=Math.floor(Number(i[_])),x=C+2,C++;break;case 79:case 111:case 106:if(_>=d||i[_]===void 0)break;x<C&&(y+=r.slice(x,C));var T=typeof i[_];if(T==="string"){y+="'"+i[_]+"'",x=C+2,C++;break}if(T==="function"){y+=i[_].name||"<anonymous>",x=C+2,C++;break}y+=n(i[_]),x=C+2,C++;break;case 115:if(_>=d)break;x<C&&(y+=r.slice(x,C)),y+=String(i[_]),x=C+2,C++;break;case 37:x<C&&(y+=r.slice(x,C)),y+="%",x=C+2,C++,_--;break}++_}++C}return x===-1?r:(x<M&&(y+=r.slice(x)),y)}return Cd}var Sd,Ab;function k9(){if(Ab)return Sd;Ab=1;const t=O9();Sd=s;const e=D().console||{},r={mapHttpRequest:M,mapHttpResponse:M,wrapRequestSerializer:C,wrapResponseSerializer:C,wrapErrorSerializer:C,req:M,res:M,err:_};function i($,z){return Array.isArray($)?$.filter(function(L){return L!=="!stdSerializers.err"}):$===!0?Object.keys(z):!1}function s($){$=$||{},$.browser=$.browser||{};const z=$.browser.transmit;if(z&&typeof z.send!="function")throw Error("pino: transmit option must have a send function");const G=$.browser.write||e;$.browser.write&&($.browser.asObject=!0);const L=$.serializers||{},te=i($.browser.serialize,L);let E=$.browser.serialize;Array.isArray($.browser.serialize)&&$.browser.serialize.indexOf("!stdSerializers.err")>-1&&(E=!1);const o=["error","fatal","warn","info","debug","trace"];typeof G=="function"&&(G.error=G.fatal=G.warn=G.info=G.debug=G.trace=G),$.enabled===!1&&($.level="silent");const u=$.level||"info",l=Object.create(G);l.log||(l.log=T),Object.defineProperty(l,"levelVal",{get:g}),Object.defineProperty(l,"level",{get:w,set:A});const h={transmit:z,serialize:te,asObject:$.browser.asObject,levels:o,timestamp:x($)};l.levels=s.levels,l.level=u,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=T,l.serializers=L,l._serialize=te,l._stdErrSerialize=E,l.child=v,z&&(l._logEvent=y());function g(){return this.level==="silent"?1/0:this.levels.values[this.level]}function w(){return this._level}function A(a){if(a!=="silent"&&!this.levels.values[a])throw Error("unknown level "+a);this._level=a,n(h,l,"error","log"),n(h,l,"fatal","error"),n(h,l,"warn","error"),n(h,l,"info","log"),n(h,l,"debug","log"),n(h,l,"trace","log")}function v(a,b){if(!a)throw new Error("missing bindings for child Pino");b=b||{},te&&a.serializers&&(b.serializers=a.serializers);const R=b.serializers;if(te&&R){var P=Object.assign({},L,R),F=$.browser.serialize===!0?Object.keys(P):te;delete a.serializers,m([a],F,P,this._stdErrSerialize)}function K(Z){this._childLevel=(Z._childLevel|0)+1,this.error=p(Z,a,"error"),this.fatal=p(Z,a,"fatal"),this.warn=p(Z,a,"warn"),this.info=p(Z,a,"info"),this.debug=p(Z,a,"debug"),this.trace=p(Z,a,"trace"),P&&(this.serializers=P,this._serialize=F),z&&(this._logEvent=y([].concat(Z._logEvent.bindings,a)))}return K.prototype=this,new K(this)}return l}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:I,unixTime:N,isoTime:O});function n($,z,G,L){const te=Object.getPrototypeOf(z);z[G]=z.levelVal>z.levels.values[G]?T:te[G]?te[G]:e[G]||e[L]||T,c($,z,G)}function c($,z,G){!$.transmit&&z[G]===T||(z[G]=function(L){return function(){const E=$.timestamp(),o=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if($.serialize&&!$.asObject&&m(o,this._serialize,this.serializers,this._stdErrSerialize),$.asObject?L.call(u,f(this,G,o,E)):L.apply(u,o),$.transmit){const h=$.transmit.level||z.level,g=s.levels.values[h],w=s.levels.values[G];if(w<g)return;d(this,{ts:E,methodLevel:G,methodValue:w,transmitValue:s.levels.values[$.transmit.level||z.level],send:$.transmit.send,val:z.levelVal},o)}}}(z[G]))}function f($,z,G,L){$._serialize&&m(G,$._serialize,$.serializers,$._stdErrSerialize);const te=G.slice();let E=te[0];const o={};L&&(o.time=L),o.level=s.levels.values[z];let u=($._childLevel|0)+1;if(u<1&&(u=1),E!==null&&typeof E=="object"){for(;u--&&typeof te[0]=="object";)Object.assign(o,te.shift());E=te.length?t(te.shift(),te):void 0}else typeof E=="string"&&(E=t(te.shift(),te));return E!==void 0&&(o.msg=E),o}function m($,z,G,L){for(const te in $)if(L&&$[te]instanceof Error)$[te]=s.stdSerializers.err($[te]);else if(typeof $[te]=="object"&&!Array.isArray($[te]))for(const E in $[te])z&&z.indexOf(E)>-1&&E in G&&($[te][E]=G[E]($[te][E]))}function p($,z,G){return function(){const L=new Array(1+arguments.length);L[0]=z;for(var te=1;te<L.length;te++)L[te]=arguments[te-1];return $[G].apply(this,L)}}function d($,z,G){const L=z.send,te=z.ts,E=z.methodLevel,o=z.methodValue,u=z.val,l=$._logEvent.bindings;m(G,$._serialize||Object.keys($.serializers),$.serializers,$._stdErrSerialize===void 0?!0:$._stdErrSerialize),$._logEvent.ts=te,$._logEvent.messages=G.filter(function(h){return l.indexOf(h)===-1}),$._logEvent.level.label=E,$._logEvent.level.value=o,L(E,$._logEvent,u),$._logEvent=y(l)}function y($){return{ts:0,messages:[],bindings:$||[],level:{label:"",value:0}}}function _($){const z={type:$.constructor.name,msg:$.message,stack:$.stack};for(const G in $)z[G]===void 0&&(z[G]=$[G]);return z}function x($){return typeof $.timestamp=="function"?$.timestamp:$.timestamp===!1?S:I}function M(){return{}}function C($){return $}function T(){}function S(){return!1}function I(){return Date.now()}function N(){return Math.round(Date.now()/1e3)}function O(){return new Date(Date.now()).toISOString()}function D(){function $(z){return typeof z<"u"&&z}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return $(self)||$(window)||$(this)||{}}}return Sd}var ca=k9();const Wu=vh(ca),B9={level:"info"},Vu="custom_context",S1=1e3*1024;let D9=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},xb=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new D9(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Sx=class{constructor(e,r=S1){this.level=e??"error",this.levelValue=ca.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new xb(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===ca.levels.values.error?console.error(e):r===ca.levels.values.warn?console.warn(e):r===ca.levels.values.debug?console.debug(e):r===ca.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(es({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new xb(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(es({extraMetadata:e})),new Blob(r,{type:"application/json"})}},$9=class{constructor(e,r=S1){this.baseChunkLogger=new Sx(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),i=document.createElement("a");i.href=r,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}},U9=class{constructor(e,r=S1){this.baseChunkLogger=new Sx(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var F9=Object.defineProperty,L9=Object.defineProperties,q9=Object.getOwnPropertyDescriptors,Mb=Object.getOwnPropertySymbols,j9=Object.prototype.hasOwnProperty,z9=Object.prototype.propertyIsEnumerable,Cb=(t,e,r)=>e in t?F9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ol=(t,e)=>{for(var r in e||(e={}))j9.call(e,r)&&Cb(t,r,e[r]);if(Mb)for(var r of Mb(e))z9.call(e,r)&&Cb(t,r,e[r]);return t},kl=(t,e)=>L9(t,q9(e));function qa(t){return kl(Ol({},t),{level:(t==null?void 0:t.level)||B9.level})}function H9(t,e=Vu){return t[e]||""}function W9(t,e,r=Vu){return t[r]=e,t}function Ci(t,e=Vu){let r="";return typeof t.bindings>"u"?r=H9(t,e):r=t.bindings().context||"",r}function V9(t,e,r=Vu){const i=Ci(t,r);return i.trim()?`${i}/${e}`:e}function ui(t,e,r=Vu){const i=V9(t,e,r),s=t.child({context:i});return W9(s,i,r)}function K9(t){var e,r;const i=new $9((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Wu(kl(Ol({},t.opts),{level:"trace",browser:kl(Ol({},(r=t.opts)==null?void 0:r.browser),{write:s=>i.write(s)})})),chunkLoggerController:i}}function G9(t){var e;const r=new U9((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Wu(kl(Ol({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function I1(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?K9(t):G9(t)}var Z9=Object.defineProperty,Y9=(t,e,r)=>e in t?Z9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sb=(t,e,r)=>Y9(t,typeof e!="symbol"?e+"":e,r);let J9=class extends Do{constructor(e){super(),this.opts=e,Sb(this,"protocol","wc"),Sb(this,"version",2)}};var Q9=Object.defineProperty,X9=(t,e,r)=>e in t?Q9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eT=(t,e,r)=>X9(t,e+"",r);let tT=class extends Do{constructor(e,r){super(),this.core=e,this.logger=r,eT(this,"records",new Map)}},rT=class{constructor(e,r){this.logger=e,this.core=r}},iT=class extends Do{constructor(e,r){super(),this.relayer=e,this.logger=r}},nT=class extends Do{constructor(e){super()}},sT=class{constructor(e,r,i,s){this.core=e,this.logger=r,this.name=i}},oT=class extends Do{constructor(e,r){super(),this.relayer=e,this.logger=r}},aT=class extends Do{constructor(e,r){super(),this.core=e,this.logger=r}},cT=class{constructor(e,r,i){this.core=e,this.logger=r,this.store=i}},uT=class{constructor(e,r){this.projectId=e,this.logger=r}},fT=class{constructor(e,r,i){this.core=e,this.logger=r,this.telemetryEnabled=i}};var lT=Object.defineProperty,hT=(t,e,r)=>e in t?lT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ib=(t,e,r)=>hT(t,typeof e!="symbol"?e+"":e,r);let dT=class{constructor(e){this.opts=e,Ib(this,"protocol","wc"),Ib(this,"version",2)}},pT=class{constructor(e){this.client=e}};function mT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ix(t,...e){if(!mT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gT(t,e){Ix(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const jo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Id=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function vT(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Tx(t){return typeof t=="string"&&(t=vT(t)),Ix(t),t}let yT=class{clone(){return this._cloneInto()}};function bT(t){const e=i=>t().update(Tx(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Rx(t=32){if(jo&&typeof jo.getRandomValues=="function")return jo.getRandomValues(new Uint8Array(t));if(jo&&typeof jo.randomBytes=="function")return jo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function wT(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),n=BigInt(4294967295),c=Number(r>>s&n),f=Number(r&n),m=i?4:0,p=i?0:4;t.setUint32(e+m,c,i),t.setUint32(e+p,f,i)}let _T=class extends yT{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Id(this.buffer)}update(e){Tb(this);const{view:r,buffer:i,blockLen:s}=this;e=Tx(e);const n=e.length;for(let c=0;c<n;){const f=Math.min(s-this.pos,n-c);if(f===s){const m=Id(e);for(;s<=n-c;c+=s)this.process(m,c);continue}i.set(e.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tb(this),gT(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:n}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(i,0),c=0);for(let y=c;y<s;y++)r[y]=0;wT(i,s-8,BigInt(this.length*8),n),this.process(i,0);const f=Id(e),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=m/4,d=this.get();if(p>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,d[y],n)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:n,destroyed:c,pos:f}=this;return e.length=s,e.pos=f,e.finished=n,e.destroyed=c,s%r&&e.buffer.set(i),e}};const xf=BigInt(2**32-1),nv=BigInt(32);function Nx(t,e=!1){return e?{h:Number(t&xf),l:Number(t>>nv&xf)}:{h:Number(t>>nv&xf)|0,l:Number(t&xf)|0}}function ET(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:c}=Nx(t[s],e);[r[s],i[s]]=[n,c]}return[r,i]}const AT=(t,e)=>BigInt(t>>>0)<<nv|BigInt(e>>>0),xT=(t,e,r)=>t>>>r,MT=(t,e,r)=>t<<32-r|e>>>r,CT=(t,e,r)=>t>>>r|e<<32-r,ST=(t,e,r)=>t<<32-r|e>>>r,IT=(t,e,r)=>t<<64-r|e>>>r-32,TT=(t,e,r)=>t>>>r-32|e<<64-r,RT=(t,e)=>e,NT=(t,e)=>t,PT=(t,e,r)=>t<<r|e>>>32-r,OT=(t,e,r)=>e<<r|t>>>32-r,kT=(t,e,r)=>e<<r-32|t>>>64-r,BT=(t,e,r)=>t<<r-32|e>>>64-r;function DT(t,e,r,i){const s=(e>>>0)+(i>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const $T=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),UT=(t,e,r,i)=>e+r+i+(t/2**32|0)|0,FT=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),LT=(t,e,r,i,s)=>e+r+i+s+(t/2**32|0)|0,qT=(t,e,r,i,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(s>>>0),jT=(t,e,r,i,s,n)=>e+r+i+s+n+(t/2**32|0)|0,Ct={fromBig:Nx,split:ET,toBig:AT,shrSH:xT,shrSL:MT,rotrSH:CT,rotrSL:ST,rotrBH:IT,rotrBL:TT,rotr32H:RT,rotr32L:NT,rotlSH:PT,rotlSL:OT,rotlBH:kT,rotlBL:BT,add:DT,add3L:$T,add3H:UT,add4L:FT,add4H:LT,add5H:jT,add5L:qT},[zT,HT]=Ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),cs=new Uint32Array(80),us=new Uint32Array(80);let WT=class extends _T{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:i,Bl:s,Ch:n,Cl:c,Dh:f,Dl:m,Eh:p,El:d,Fh:y,Fl:_,Gh:x,Gl:M,Hh:C,Hl:T}=this;return[e,r,i,s,n,c,f,m,p,d,y,_,x,M,C,T]}set(e,r,i,s,n,c,f,m,p,d,y,_,x,M,C,T){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=s|0,this.Ch=n|0,this.Cl=c|0,this.Dh=f|0,this.Dl=m|0,this.Eh=p|0,this.El=d|0,this.Fh=y|0,this.Fl=_|0,this.Gh=x|0,this.Gl=M|0,this.Hh=C|0,this.Hl=T|0}process(e,r){for(let N=0;N<16;N++,r+=4)cs[N]=e.getUint32(r),us[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){const O=cs[N-15]|0,D=us[N-15]|0,$=Ct.rotrSH(O,D,1)^Ct.rotrSH(O,D,8)^Ct.shrSH(O,D,7),z=Ct.rotrSL(O,D,1)^Ct.rotrSL(O,D,8)^Ct.shrSL(O,D,7),G=cs[N-2]|0,L=us[N-2]|0,te=Ct.rotrSH(G,L,19)^Ct.rotrBH(G,L,61)^Ct.shrSH(G,L,6),E=Ct.rotrSL(G,L,19)^Ct.rotrBL(G,L,61)^Ct.shrSL(G,L,6),o=Ct.add4L(z,E,us[N-7],us[N-16]),u=Ct.add4H(o,$,te,cs[N-7],cs[N-16]);cs[N]=u|0,us[N]=o|0}let{Ah:i,Al:s,Bh:n,Bl:c,Ch:f,Cl:m,Dh:p,Dl:d,Eh:y,El:_,Fh:x,Fl:M,Gh:C,Gl:T,Hh:S,Hl:I}=this;for(let N=0;N<80;N++){const O=Ct.rotrSH(y,_,14)^Ct.rotrSH(y,_,18)^Ct.rotrBH(y,_,41),D=Ct.rotrSL(y,_,14)^Ct.rotrSL(y,_,18)^Ct.rotrBL(y,_,41),$=y&x^~y&C,z=_&M^~_&T,G=Ct.add5L(I,D,z,HT[N],us[N]),L=Ct.add5H(G,S,O,$,zT[N],cs[N]),te=G|0,E=Ct.rotrSH(i,s,28)^Ct.rotrBH(i,s,34)^Ct.rotrBH(i,s,39),o=Ct.rotrSL(i,s,28)^Ct.rotrBL(i,s,34)^Ct.rotrBL(i,s,39),u=i&n^i&f^n&f,l=s&c^s&m^c&m;S=C|0,I=T|0,C=x|0,T=M|0,x=y|0,M=_|0,{h:y,l:_}=Ct.add(p|0,d|0,L|0,te|0),p=f|0,d=m|0,f=n|0,m=c|0,n=i|0,c=s|0;const h=Ct.add3L(te,o,l);i=Ct.add3H(h,L,E,u),s=h|0}({h:i,l:s}=Ct.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:n,l:c}=Ct.add(this.Bh|0,this.Bl|0,n|0,c|0),{h:f,l:m}=Ct.add(this.Ch|0,this.Cl|0,f|0,m|0),{h:p,l:d}=Ct.add(this.Dh|0,this.Dl|0,p|0,d|0),{h:y,l:_}=Ct.add(this.Eh|0,this.El|0,y|0,_|0),{h:x,l:M}=Ct.add(this.Fh|0,this.Fl|0,x|0,M|0),{h:C,l:T}=Ct.add(this.Gh|0,this.Gl|0,C|0,T|0),{h:S,l:I}=Ct.add(this.Hh|0,this.Hl|0,S|0,I|0),this.set(i,s,n,c,f,m,p,d,y,_,x,M,C,T,S,I)}roundClean(){cs.fill(0),us.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const VT=bT(()=>new WT);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T1=BigInt(0),Px=BigInt(1),KT=BigInt(2);function R1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function N1(t){if(!R1(t))throw new Error("Uint8Array expected")}function Td(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const GT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function P1(t){N1(t);let e="";for(let r=0;r<t.length;r++)e+=GT[t[r]];return e}function Ox(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?T1:BigInt("0x"+t)}const Ln={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rb(t){if(t>=Ln._0&&t<=Ln._9)return t-Ln._0;if(t>=Ln.A&&t<=Ln.F)return t-(Ln.A-10);if(t>=Ln.a&&t<=Ln.f)return t-(Ln.a-10)}function kx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(r);for(let s=0,n=0;s<r;s++,n+=2){const c=Rb(t.charCodeAt(n)),f=Rb(t.charCodeAt(n+1));if(c===void 0||f===void 0){const m=t[n]+t[n+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+n)}i[s]=c*16+f}return i}function ZT(t){return Ox(P1(t))}function fl(t){return N1(t),Ox(P1(Uint8Array.from(t).reverse()))}function Bx(t,e){return kx(t.toString(16).padStart(e*2,"0"))}function sv(t,e){return Bx(t,e).reverse()}function qn(t,e,r){let i;if(typeof e=="string")try{i=kx(e)}catch(n){throw new Error(t+" must be hex string or Uint8Array, cause: "+n)}else if(R1(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return i}function Nb(...t){let e=0;for(let i=0;i<t.length;i++){const s=t[i];N1(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<t.length;i++){const n=t[i];r.set(n,s),s+=n.length}return r}const Rd=t=>typeof t=="bigint"&&T1<=t;function YT(t,e,r){return Rd(t)&&Rd(e)&&Rd(r)&&e<=t&&t<r}function oc(t,e,r,i){if(!YT(e,r,i))throw new Error("expected valid "+t+": "+r+" <= n < "+i+", got "+e)}function JT(t){let e;for(e=0;t>T1;t>>=Px,e+=1);return e}const QT=t=>(KT<<BigInt(t-1))-Px,XT={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||R1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function O1(t,e,r={}){const i=(s,n,c)=>{const f=XT[n];if(typeof f!="function")throw new Error("invalid validator function");const m=t[s];if(!(c&&m===void 0)&&!f(m,t))throw new Error("param "+String(s)+" is invalid. Expected "+n+", got "+m)};for(const[s,n]of Object.entries(e))i(s,n,!1);for(const[s,n]of Object.entries(r))i(s,n,!0);return t}function Pb(t){const e=new WeakMap;return(r,...i)=>{const s=e.get(r);if(s!==void 0)return s;const n=t(r,...i);return e.set(r,n),n}}const Hr=BigInt(0),Sr=BigInt(1),eo=BigInt(2),e7=BigInt(3),ov=BigInt(4),Ob=BigInt(5),kb=BigInt(8);function Br(t,e){const r=t%e;return r>=Hr?r:e+r}function t7(t,e,r){if(e<Hr)throw new Error("invalid exponent, negatives unsupported");if(r<=Hr)throw new Error("invalid modulus");if(r===Sr)return Hr;let i=Sr;for(;e>Hr;)e&Sr&&(i=i*t%r),t=t*t%r,e>>=Sr;return i}function gn(t,e,r){let i=t;for(;e-- >Hr;)i*=i,i%=r;return i}function Bb(t,e){if(t===Hr)throw new Error("invert: expected non-zero number");if(e<=Hr)throw new Error("invert: expected positive modulus, got "+e);let r=Br(t,e),i=e,s=Hr,n=Sr;for(;r!==Hr;){const c=i/r,f=i%r,m=s-n*c;i=r,r=f,s=n,n=m}if(i!==Sr)throw new Error("invert: does not exist");return Br(s,e)}function r7(t){const e=(t-Sr)/eo;let r,i,s;for(r=t-Sr,i=0;r%eo===Hr;r/=eo,i++);for(s=eo;s<t&&t7(s,e,t)!==t-Sr;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const c=(t+Sr)/ov;return function(f,m){const p=f.pow(m,c);if(!f.eql(f.sqr(p),m))throw new Error("Cannot find square root");return p}}const n=(r+Sr)/eo;return function(c,f){if(c.pow(f,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=i,p=c.pow(c.mul(c.ONE,s),r),d=c.pow(f,n),y=c.pow(f,r);for(;!c.eql(y,c.ONE);){if(c.eql(y,c.ZERO))return c.ZERO;let _=1;for(let M=c.sqr(y);_<m&&!c.eql(M,c.ONE);_++)M=c.sqr(M);const x=c.pow(p,Sr<<BigInt(m-_-1));p=c.sqr(x),d=c.mul(d,x),y=c.mul(y,p),m=_}return d}}function i7(t){if(t%ov===e7){const e=(t+Sr)/ov;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%kb===Ob){const e=(t-Ob)/kb;return function(r,i){const s=r.mul(i,eo),n=r.pow(s,e),c=r.mul(i,n),f=r.mul(r.mul(c,eo),n),m=r.mul(c,r.sub(f,r.ONE));if(!r.eql(r.sqr(m),i))throw new Error("Cannot find square root");return m}}return r7(t)}const n7=(t,e)=>(Br(t,e)&Sr)===Sr,s7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function o7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=s7.reduce((i,s)=>(i[s]="function",i),e);return O1(t,r)}function a7(t,e,r){if(r<Hr)throw new Error("invalid exponent, negatives unsupported");if(r===Hr)return t.ONE;if(r===Sr)return e;let i=t.ONE,s=e;for(;r>Hr;)r&Sr&&(i=t.mul(i,s)),s=t.sqr(s),r>>=Sr;return i}function c7(t,e){const r=new Array(e.length),i=e.reduce((n,c,f)=>t.is0(c)?n:(r[f]=n,t.mul(n,c)),t.ONE),s=t.inv(i);return e.reduceRight((n,c,f)=>t.is0(c)?n:(r[f]=t.mul(n,r[f]),t.mul(n,c)),s),r}function Dx(t,e){const r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function $x(t,e,r=!1,i={}){if(t<=Hr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:n}=Dx(t,e);if(n>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const f=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:n,MASK:QT(s),ZERO:Hr,ONE:Sr,create:m=>Br(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return Hr<=m&&m<t},is0:m=>m===Hr,isOdd:m=>(m&Sr)===Sr,neg:m=>Br(-m,t),eql:(m,p)=>m===p,sqr:m=>Br(m*m,t),add:(m,p)=>Br(m+p,t),sub:(m,p)=>Br(m-p,t),mul:(m,p)=>Br(m*p,t),pow:(m,p)=>a7(f,m,p),div:(m,p)=>Br(m*Bb(p,t),t),sqrN:m=>m*m,addN:(m,p)=>m+p,subN:(m,p)=>m-p,mulN:(m,p)=>m*p,inv:m=>Bb(m,t),sqrt:i.sqrt||(m=>(c||(c=i7(t)),c(f,m))),invertBatch:m=>c7(f,m),cmov:(m,p,d)=>d?p:m,toBytes:m=>r?sv(m,n):Bx(m,n),fromBytes:m=>{if(m.length!==n)throw new Error("Field.fromBytes: expected "+n+" bytes, got "+m.length);return r?fl(m):ZT(m)}});return Object.freeze(f)}const Db=BigInt(0),Mf=BigInt(1);function Nd(t,e){const r=e.negate();return t?r:e}function Ux(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Pd(t,e){Ux(t,e);const r=Math.ceil(e/t)+1,i=2**(t-1);return{windows:r,windowSize:i}}function u7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,i)=>{if(!(r instanceof e))throw new Error("invalid point at index "+i)})}function f7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,i)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+i)})}const Od=new WeakMap,Fx=new WeakMap;function kd(t){return Fx.get(t)||1}function l7(t,e){return{constTimeNegate:Nd,hasPrecomputes(r){return kd(r)!==1},unsafeLadder(r,i,s=t.ZERO){let n=r;for(;i>Db;)i&Mf&&(s=s.add(n)),n=n.double(),i>>=Mf;return s},precomputeWindow(r,i){const{windows:s,windowSize:n}=Pd(i,e),c=[];let f=r,m=f;for(let p=0;p<s;p++){m=f,c.push(m);for(let d=1;d<n;d++)m=m.add(f),c.push(m);f=m.double()}return c},wNAF(r,i,s){const{windows:n,windowSize:c}=Pd(r,e);let f=t.ZERO,m=t.BASE;const p=BigInt(2**r-1),d=2**r,y=BigInt(r);for(let _=0;_<n;_++){const x=_*c;let M=Number(s&p);s>>=y,M>c&&(M-=d,s+=Mf);const C=x,T=x+Math.abs(M)-1,S=_%2!==0,I=M<0;M===0?m=m.add(Nd(S,i[C])):f=f.add(Nd(I,i[T]))}return{p:f,f:m}},wNAFUnsafe(r,i,s,n=t.ZERO){const{windows:c,windowSize:f}=Pd(r,e),m=BigInt(2**r-1),p=2**r,d=BigInt(r);for(let y=0;y<c;y++){const _=y*f;if(s===Db)break;let x=Number(s&m);if(s>>=d,x>f&&(x-=p,s+=Mf),x===0)continue;let M=i[_+Math.abs(x)-1];x<0&&(M=M.negate()),n=n.add(M)}return n},getPrecomputes(r,i,s){let n=Od.get(i);return n||(n=this.precomputeWindow(i,r),r!==1&&Od.set(i,s(n))),n},wNAFCached(r,i,s){const n=kd(r);return this.wNAF(n,this.getPrecomputes(n,r,s),i)},wNAFCachedUnsafe(r,i,s,n){const c=kd(r);return c===1?this.unsafeLadder(r,i,n):this.wNAFUnsafe(c,this.getPrecomputes(c,r,s),i,n)},setWindowSize(r,i){Ux(i,e),Fx.set(r,i),Od.delete(r)}}}function h7(t,e,r,i){if(u7(r,t),f7(i,e),r.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,n=JT(BigInt(r.length)),c=n>12?n-3:n>4?n-2:n?2:1,f=(1<<c)-1,m=new Array(f+1).fill(s),p=Math.floor((e.BITS-1)/c)*c;let d=s;for(let y=p;y>=0;y-=c){m.fill(s);for(let x=0;x<i.length;x++){const M=i[x],C=Number(M>>BigInt(y)&BigInt(f));m[C]=m[C].add(r[x])}let _=s;for(let x=m.length-1,M=s;x>0;x--)M=M.add(m[x]),_=_.add(M);if(d=d.add(_),y!==0)for(let x=0;x<c;x++)d=d.double()}return d}function d7(t){return o7(t.Fp),O1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Dx(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const tn=BigInt(0),gi=BigInt(1),Cf=BigInt(2),p7=BigInt(8),m7={zip215:!0};function g7(t){const e=d7(t);return O1(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function v7(t){const e=g7(t),{Fp:r,n:i,prehash:s,hash:n,randomBytes:c,nByteLength:f,h:m}=e,p=Cf<<BigInt(f*8)-gi,d=r.create,y=$x(e.n,e.nBitLength),_=e.uvRatio||((h,g)=>{try{return{isValid:!0,value:r.sqrt(h*r.inv(g))}}catch{return{isValid:!1,value:tn}}}),x=e.adjustScalarBytes||(h=>h),M=e.domain||((h,g,w)=>{if(Td("phflag",w),g.length||w)throw new Error("Contexts/pre-hash are not supported");return h});function C(h,g){oc("coordinate "+h,g,tn,p)}function T(h){if(!(h instanceof N))throw new Error("ExtendedPoint expected")}const S=Pb((h,g)=>{const{ex:w,ey:A,ez:v}=h,a=h.is0();g==null&&(g=a?p7:r.inv(v));const b=d(w*g),R=d(A*g),P=d(v*g);if(a)return{x:tn,y:gi};if(P!==gi)throw new Error("invZ was invalid");return{x:b,y:R}}),I=Pb(h=>{const{a:g,d:w}=e;if(h.is0())throw new Error("bad point: ZERO");const{ex:A,ey:v,ez:a,et:b}=h,R=d(A*A),P=d(v*v),F=d(a*a),K=d(F*F),Z=d(R*g),U=d(F*d(Z+P)),Y=d(K+d(w*d(R*P)));if(U!==Y)throw new Error("bad point: equation left != right (1)");const X=d(A*v),re=d(a*b);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(g,w,A,v){this.ex=g,this.ey=w,this.ez=A,this.et=v,C("x",g),C("y",w),C("z",A),C("t",v),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof N)throw new Error("extended point not allowed");const{x:w,y:A}=g||{};return C("x",w),C("y",A),new N(w,A,gi,d(w*A))}static normalizeZ(g){const w=r.invertBatch(g.map(A=>A.ez));return g.map((A,v)=>A.toAffine(w[v])).map(N.fromAffine)}static msm(g,w){return h7(N,y,g,w)}_setWindowSize(g){$.setWindowSize(this,g)}assertValidity(){I(this)}equals(g){T(g);const{ex:w,ey:A,ez:v}=this,{ex:a,ey:b,ez:R}=g,P=d(w*R),F=d(a*v),K=d(A*R),Z=d(b*v);return P===F&&K===Z}is0(){return this.equals(N.ZERO)}negate(){return new N(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:g}=e,{ex:w,ey:A,ez:v}=this,a=d(w*w),b=d(A*A),R=d(Cf*d(v*v)),P=d(g*a),F=w+A,K=d(d(F*F)-a-b),Z=P+b,U=Z-R,Y=P-b,X=d(K*U),re=d(Z*Y),ee=d(K*Y),H=d(U*Z);return new N(X,re,H,ee)}add(g){T(g);const{a:w,d:A}=e,{ex:v,ey:a,ez:b,et:R}=this,{ex:P,ey:F,ez:K,et:Z}=g;if(w===BigInt(-1)){const ue=d((a-v)*(F+P)),Ge=d((a+v)*(F-P)),de=d(Ge-ue);if(de===tn)return this.double();const ve=d(b*Cf*Z),ze=d(R*Cf*K),ge=ze+ve,xe=Ge+ue,it=ze-ve,Ae=d(ge*de),Ie=d(xe*it),at=d(ge*it),W=d(de*xe);return new N(Ae,Ie,W,at)}const U=d(v*P),Y=d(a*F),X=d(R*A*Z),re=d(b*K),ee=d((v+a)*(P+F)-U-Y),H=re-X,oe=re+X,Ne=d(Y-w*U),he=d(ee*H),fe=d(oe*Ne),$e=d(ee*Ne),ye=d(H*oe);return new N(he,fe,ye,$e)}subtract(g){return this.add(g.negate())}wNAF(g){return $.wNAFCached(this,g,N.normalizeZ)}multiply(g){const w=g;oc("scalar",w,gi,i);const{p:A,f:v}=this.wNAF(w);return N.normalizeZ([A,v])[0]}multiplyUnsafe(g,w=N.ZERO){const A=g;return oc("scalar",A,tn,i),A===tn?D:this.is0()||A===gi?this:$.wNAFCachedUnsafe(this,A,N.normalizeZ,w)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return $.unsafeLadder(this,i).is0()}toAffine(g){return S(this,g)}clearCofactor(){const{h:g}=e;return g===gi?this:this.multiplyUnsafe(g)}static fromHex(g,w=!1){const{d:A,a:v}=e,a=r.BYTES;g=qn("pointHex",g,a),Td("zip215",w);const b=g.slice(),R=g[a-1];b[a-1]=R&-129;const P=fl(b),F=w?p:r.ORDER;oc("pointHex.y",P,tn,F);const K=d(P*P),Z=d(K-gi),U=d(A*K-v);let{isValid:Y,value:X}=_(Z,U);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&gi)===gi,ee=(R&128)!==0;if(!w&&X===tn&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==re&&(X=d(-X)),N.fromAffine({x:X,y:P})}static fromPrivateKey(g){return L(g).point}toRawBytes(){const{x:g,y:w}=this.toAffine(),A=sv(w,r.BYTES);return A[A.length-1]|=g&gi?128:0,A}toHex(){return P1(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,gi,d(e.Gx*e.Gy)),N.ZERO=new N(tn,gi,gi,tn);const{BASE:O,ZERO:D}=N,$=l7(N,f*8);function z(h){return Br(h,i)}function G(h){return z(fl(h))}function L(h){const g=r.BYTES;h=qn("private key",h,g);const w=qn("hashed private key",n(h),2*g),A=x(w.slice(0,g)),v=w.slice(g,2*g),a=G(A),b=O.multiply(a),R=b.toRawBytes();return{head:A,prefix:v,scalar:a,point:b,pointBytes:R}}function te(h){return L(h).pointBytes}function E(h=new Uint8Array,...g){const w=Nb(...g);return G(n(M(w,qn("context",h),!!s)))}function o(h,g,w={}){h=qn("message",h),s&&(h=s(h));const{prefix:A,scalar:v,pointBytes:a}=L(g),b=E(w.context,A,h),R=O.multiply(b).toRawBytes(),P=E(w.context,R,a,h),F=z(b+P*v);oc("signature.s",F,tn,i);const K=Nb(R,sv(F,r.BYTES));return qn("result",K,r.BYTES*2)}const u=m7;function l(h,g,w,A=u){const{context:v,zip215:a}=A,b=r.BYTES;h=qn("signature",h,2*b),g=qn("message",g),w=qn("publicKey",w,b),a!==void 0&&Td("zip215",a),s&&(g=s(g));const R=fl(h.slice(b,2*b));let P,F,K;try{P=N.fromHex(w,a),F=N.fromHex(h.slice(0,b),a),K=O.multiplyUnsafe(R)}catch{return!1}if(!a&&P.isSmallOrder())return!1;const Z=E(v,F.toRawBytes(),P.toRawBytes(),g);return F.add(P.multiplyUnsafe(Z)).subtract(K).clearCofactor().equals(N.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:te,sign:o,verify:l,ExtendedPoint:N,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>c(r.BYTES),precompute(h=8,g=N.BASE){return g._setWindowSize(h),g.multiply(BigInt(3)),g}}}}BigInt(0),BigInt(1);const k1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$b=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const y7=BigInt(1),Ub=BigInt(2);BigInt(3);const b7=BigInt(5),w7=BigInt(8);function _7(t){const e=BigInt(10),r=BigInt(20),i=BigInt(40),s=BigInt(80),n=k1,c=t*t%n*t%n,f=gn(c,Ub,n)*c%n,m=gn(f,y7,n)*t%n,p=gn(m,b7,n)*m%n,d=gn(p,e,n)*p%n,y=gn(d,r,n)*d%n,_=gn(y,i,n)*y%n,x=gn(_,s,n)*_%n,M=gn(x,s,n)*_%n,C=gn(M,e,n)*p%n;return{pow_p_5_8:gn(C,Ub,n)*t%n,b2:c}}function E7(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function A7(t,e){const r=k1,i=Br(e*e*e,r),s=Br(i*i*e,r),n=_7(t*s).pow_p_5_8;let c=Br(t*i*n,r);const f=Br(e*c*c,r),m=c,p=Br(c*$b,r),d=f===t,y=f===Br(-t,r),_=f===Br(-t*$b,r);return d&&(c=m),(y||_)&&(c=p),n7(c,r)&&(c=Br(-c,r)),{isValid:d||y,value:c}}const x7=$x(k1,void 0,!0),M7={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:x7,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w7,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:VT,randomBytes:Rx,adjustScalarBytes:E7,uvRatio:A7},Lx=v7(M7),C7="EdDSA",S7="JWT",Bl=".",Mh="base64url",qx="utf8",jx="utf8",I7=":",T7="did",R7="key",Fb="base58btc",N7="z",P7="K36",O7=32;function B1(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function zx(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?B1(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Hx(t,e){e||(e=t.reduce((s,n)=>s+n.length,0));const r=zx(e);let i=0;for(const s of t)r.set(s,i),i+=s.length;return B1(r)}function k7(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),c=n.charCodeAt(0);if(r[c]!==255)throw new TypeError(n+" is ambiguous");r[c]=s}var f=t.length,m=t.charAt(0),p=Math.log(f)/Math.log(256),d=Math.log(256)/Math.log(f);function y(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var C=0,T=0,S=0,I=M.length;S!==I&&M[S]===0;)S++,C++;for(var N=(I-S)*d+1>>>0,O=new Uint8Array(N);S!==I;){for(var D=M[S],$=0,z=N-1;(D!==0||$<T)&&z!==-1;z--,$++)D+=256*O[z]>>>0,O[z]=D%f>>>0,D=D/f>>>0;if(D!==0)throw new Error("Non-zero carry");T=$,S++}for(var G=N-T;G!==N&&O[G]===0;)G++;for(var L=m.repeat(C);G<N;++G)L+=t.charAt(O[G]);return L}function _(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var C=0;if(M[C]!==" "){for(var T=0,S=0;M[C]===m;)T++,C++;for(var I=(M.length-C)*p+1>>>0,N=new Uint8Array(I);M[C];){var O=r[M.charCodeAt(C)];if(O===255)return;for(var D=0,$=I-1;(O!==0||D<S)&&$!==-1;$--,D++)O+=f*N[$]>>>0,N[$]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=D,C++}if(M[C]!==" "){for(var z=I-S;z!==I&&N[z]===0;)z++;for(var G=new Uint8Array(T+(I-z)),L=T;z!==I;)G[L++]=N[z++];return G}}}function x(M){var C=_(M);if(C)return C;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:_,decode:x}}var B7=k7,D7=B7;const Wx=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$7=t=>new TextEncoder().encode(t),U7=t=>new TextDecoder().decode(t);let F7=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},L7=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Vx(this,e)}},q7=class{constructor(e){this.decoders=e}or(e){return Vx(this,e)}decode(e){const r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Vx=(t,e)=>new q7({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let j7=class{constructor(e,r,i,s){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=s,this.encoder=new F7(e,r,i),this.decoder=new L7(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ch=({name:t,prefix:e,encode:r,decode:i})=>new j7(t,e,r,i),Ku=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:s}=D7(r,e);return Ch({prefix:t,name:e,encode:i,decode:n=>Wx(s(n))})},z7=(t,e,r,i)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let n=t.length;for(;t[n-1]==="=";)--n;const c=new Uint8Array(n*r/8|0);let f=0,m=0,p=0;for(let d=0;d<n;++d){const y=s[t[d]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|y,f+=r,f>=8&&(f-=8,c[p++]=255&m>>f)}if(f>=r||255&m<<8-f)throw new SyntaxError("Unexpected end of data");return c},H7=(t,e,r)=>{const i=e[e.length-1]==="=",s=(1<<r)-1;let n="",c=0,f=0;for(let m=0;m<t.length;++m)for(f=f<<8|t[m],c+=8;c>r;)c-=r,n+=e[s&f>>c];if(c&&(n+=e[s&f<<r-c]),i)for(;n.length*r&7;)n+="=";return n},ti=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Ch({prefix:e,name:t,encode(s){return H7(s,i,r)},decode(s){return z7(s,i,r,t)}}),W7=Ch({prefix:"\0",name:"identity",encode:t=>U7(t),decode:t=>$7(t)});var V7=Object.freeze({__proto__:null,identity:W7});const K7=ti({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var G7=Object.freeze({__proto__:null,base2:K7});const Z7=ti({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Y7=Object.freeze({__proto__:null,base8:Z7});const J7=Ku({prefix:"9",name:"base10",alphabet:"0123456789"});var Q7=Object.freeze({__proto__:null,base10:J7});const X7=ti({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eR=ti({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tR=Object.freeze({__proto__:null,base16:X7,base16upper:eR});const rR=ti({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),iR=ti({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nR=ti({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sR=ti({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oR=ti({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aR=ti({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cR=ti({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uR=ti({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fR=ti({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lR=Object.freeze({__proto__:null,base32:rR,base32upper:iR,base32pad:nR,base32padupper:sR,base32hex:oR,base32hexupper:aR,base32hexpad:cR,base32hexpadupper:uR,base32z:fR});const hR=Ku({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dR=Ku({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var pR=Object.freeze({__proto__:null,base36:hR,base36upper:dR});const mR=Ku({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gR=Ku({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vR=Object.freeze({__proto__:null,base58btc:mR,base58flickr:gR});const yR=ti({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bR=ti({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wR=ti({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_R=ti({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ER=Object.freeze({__proto__:null,base64:yR,base64pad:bR,base64url:wR,base64urlpad:_R});const Kx=Array.from(""),AR=Kx.reduce((t,e,r)=>(t[r]=e,t),[]),xR=Kx.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function MR(t){return t.reduce((e,r)=>(e+=AR[r],e),"")}function CR(t){const e=[];for(const r of t){const i=xR[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}const SR=Ch({prefix:"",name:"base256emoji",encode:MR,decode:CR});var IR=Object.freeze({__proto__:null,base256emoji:SR}),TR=Gx,Lb=128,RR=-128,NR=Math.pow(2,31);function Gx(t,e,r){e=e||[],r=r||0;for(var i=r;t>=NR;)e[r++]=t&255|Lb,t/=128;for(;t&RR;)e[r++]=t&255|Lb,t>>>=7;return e[r]=t|0,Gx.bytes=r-i+1,e}var PR=av,OR=128,qb=127;function av(t,i){var r=0,i=i||0,s=0,n=i,c,f=t.length;do{if(n>=f)throw av.bytes=0,new RangeError("Could not decode varint");c=t[n++],r+=s<28?(c&qb)<<s:(c&qb)*Math.pow(2,s),s+=7}while(c>=OR);return av.bytes=n-i,r}var kR=Math.pow(2,7),BR=Math.pow(2,14),DR=Math.pow(2,21),$R=Math.pow(2,28),UR=Math.pow(2,35),FR=Math.pow(2,42),LR=Math.pow(2,49),qR=Math.pow(2,56),jR=Math.pow(2,63),zR=function(t){return t<kR?1:t<BR?2:t<DR?3:t<$R?4:t<UR?5:t<FR?6:t<LR?7:t<qR?8:t<jR?9:10},HR={encode:TR,decode:PR,encodingLength:zR},Zx=HR;const jb=(t,e,r=0)=>(Zx.encode(t,e,r),e),zb=t=>Zx.encodingLength(t),cv=(t,e)=>{const r=e.byteLength,i=zb(t),s=i+zb(r),n=new Uint8Array(s+r);return jb(t,n,0),jb(r,n,i),n.set(e,s),new WR(t,r,e,n)};let WR=class{constructor(e,r,i,s){this.code=e,this.size=r,this.digest=i,this.bytes=s}};const Yx=({name:t,code:e,encode:r})=>new VR(t,e,r);let VR=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?cv(this.code,r):r.then(i=>cv(this.code,i))}else throw Error("Unknown type, must be binary type")}};const Jx=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),KR=Yx({name:"sha2-256",code:18,encode:Jx("SHA-256")}),GR=Yx({name:"sha2-512",code:19,encode:Jx("SHA-512")});var ZR=Object.freeze({__proto__:null,sha256:KR,sha512:GR});const Qx=0,YR="identity",Xx=Wx,JR=t=>cv(Qx,Xx(t)),QR={code:Qx,name:YR,encode:Xx,digest:JR};var XR=Object.freeze({__proto__:null,identity:QR});new TextEncoder,new TextDecoder;const Hb={...V7,...G7,...Y7,...Q7,...tR,...lR,...pR,...vR,...ER,...IR};({...ZR,...XR});function e4(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const Wb=e4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Bd=e4("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=zx(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),t4={utf8:Wb,"utf-8":Wb,hex:Hb.base16,latin1:Bd,ascii:Bd,binary:Bd,...Hb};function Sh(t,e="utf8"){const r=t4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function ja(t,e="utf8"){const r=t4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?B1(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Vb(t){return vo(Sh(ja(t,Mh),qx))}function Dl(t){return Sh(ja(es(t),qx),Mh)}function r4(t){const e=ja(P7,Fb),r=N7+Sh(Hx([e,t]),Fb);return[T7,R7,r].join(I7)}function eN(t){return Sh(t,Mh)}function tN(t){return ja(t,Mh)}function rN(t){return ja([Dl(t.header),Dl(t.payload)].join(Bl),jx)}function iN(t){return[Dl(t.header),Dl(t.payload),eN(t.signature)].join(Bl)}function uv(t){const e=t.split(Bl),r=Vb(e[0]),i=Vb(e[1]),s=tN(e[2]),n=ja(e.slice(0,2).join(Bl),jx);return{header:r,payload:i,signature:s,data:n}}function Kb(t=Rx(O7)){const e=Lx.getPublicKey(t);return{secretKey:Hx([t,e]),publicKey:e}}async function nN(t,e,r,i,s=qe.fromMiliseconds(Date.now())){const n={alg:C7,typ:S7},c=r4(i.publicKey),f=s+r,m={iss:c,sub:t,aud:e,iat:s,exp:f},p=rN({header:n,payload:m}),d=Lx.sign(p,i.secretKey.slice(0,32));return iN({header:n,payload:m,signature:d})}var Gb=function(t,e,r){if(r||arguments.length===2)for(var i=0,s=e.length,n;i<s;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},sN=function(){function t(e,r,i){this.name=e,this.version=r,this.os=i,this.type="browser"}return t}(),oN=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=We.platform}return t}(),aN=function(){function t(e,r,i,s){this.name=e,this.version=r,this.os=i,this.bot=s,this.type="bot-device"}return t}(),cN=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),uN=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),fN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,lN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Zb=3,hN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fN]],Yb=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function dN(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new uN:typeof navigator<"u"?mN(navigator.userAgent):vN()}function pN(t){return t!==""&&hN.reduce(function(e,r){var i=r[0],s=r[1];if(e)return e;var n=s.exec(t);return!!n&&[i,n]},!1)}function mN(t){var e=pN(t);if(!e)return null;var r=e[0],i=e[1];if(r==="searchbot")return new cN;var s=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);s?s.length<Zb&&(s=Gb(Gb([],s,!0),yN(Zb-s.length),!0)):s=[];var n=s.join("."),c=gN(t),f=lN.exec(t);return f&&f[1]?new aN(r,n,c,f[1]):new sN(r,n,c)}function gN(t){for(var e=0,r=Yb.length;e<r;e++){var i=Yb[e],s=i[0],n=i[1],c=n.exec(t);if(c)return s}return null}function vN(){var t=typeof We<"u"&&We.version;return t?new oN(We.version.slice(1)):null}function yN(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var lr={},Jb;function i4(){if(Jb)return lr;Jb=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.getLocalStorage=lr.getLocalStorageOrThrow=lr.getCrypto=lr.getCryptoOrThrow=lr.getLocation=lr.getLocationOrThrow=lr.getNavigator=lr.getNavigatorOrThrow=lr.getDocument=lr.getDocumentOrThrow=lr.getFromWindowOrThrow=lr.getFromWindow=void 0;function t(_){let x;return typeof window<"u"&&typeof window[_]<"u"&&(x=window[_]),x}lr.getFromWindow=t;function e(_){const x=t(_);if(!x)throw new Error(`${_} is not defined in Window`);return x}lr.getFromWindowOrThrow=e;function r(){return e("document")}lr.getDocumentOrThrow=r;function i(){return t("document")}lr.getDocument=i;function s(){return e("navigator")}lr.getNavigatorOrThrow=s;function n(){return t("navigator")}lr.getNavigator=n;function c(){return e("location")}lr.getLocationOrThrow=c;function f(){return t("location")}lr.getLocation=f;function m(){return e("crypto")}lr.getCryptoOrThrow=m;function p(){return t("crypto")}lr.getCrypto=p;function d(){return e("localStorage")}lr.getLocalStorageOrThrow=d;function y(){return t("localStorage")}return lr.getLocalStorage=y,lr}var yo=i4(),ac={},Qb;function bN(){if(Qb)return ac;Qb=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.getWindowMetadata=void 0;const t=i4();function e(){let r,i;try{r=t.getDocumentOrThrow(),i=t.getLocationOrThrow()}catch{return null}function s(){const x=r.getElementsByTagName("link"),M=[];for(let C=0;C<x.length;C++){const T=x[C],S=T.getAttribute("rel");if(S&&S.toLowerCase().indexOf("icon")>-1){const I=T.getAttribute("href");if(I)if(I.toLowerCase().indexOf("https:")===-1&&I.toLowerCase().indexOf("http:")===-1&&I.indexOf("//")!==0){let N=i.protocol+"//"+i.host;if(I.indexOf("/")===0)N+=I;else{const O=i.pathname.split("/");O.pop();const D=O.join("/");N+=D+"/"+I}M.push(N)}else if(I.indexOf("//")===0){const N=i.protocol+I;M.push(N)}else M.push(I)}}return M}function n(...x){const M=r.getElementsByTagName("meta");for(let C=0;C<M.length;C++){const T=M[C],S=["itemprop","property","name"].map(I=>T.getAttribute(I)).filter(I=>I?x.includes(I):!1);if(S.length&&S){const I=T.getAttribute("content");if(I)return I}}return""}function c(){let x=n("name","og:site_name","og:title","twitter:title");return x||(x=r.title),x}function f(){return n("description","og:description","twitter:description","keywords")}const m=c(),p=f(),d=i.origin,y=s();return{description:p,url:d,icons:y,name:m}}return ac.getWindowMetadata=e,ac}var wN=bN();const _N="1.0.8";let Yi=class fv extends Error{constructor(e,r={}){var c;const i=r.cause instanceof fv?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details,s=r.cause instanceof fv&&r.cause.docsPath||r.docsPath,n=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${_N}`].join(`
`);super(n),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}};function is(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const n4=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s4=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,o4=/^\(.+?\).*?$/,Xb=/^tuple(?<array>(\[(\d*)\])*)$/;function lv(t){let e=t.type;if(Xb.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let s=0;s<r;s++){const n=t.components[s];e+=lv(n),s<r-1&&(e+=", ")}const i=is(Xb,t.type);return e+=`)${(i==null?void 0:i.array)??""}`,lv({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function cc(t){let e="";const r=t.length;for(let i=0;i<r;i++){const s=t[i];e+=lv(s),i!==r-1&&(e+=", ")}return e}function EN(t){var e;return t.type==="function"?`function ${t.name}(${cc(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${cc(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${cc(t.inputs)})`:t.type==="error"?`error ${t.name}(${cc(t.inputs)})`:t.type==="constructor"?`constructor(${cc(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const a4=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function AN(t){return a4.test(t)}function xN(t){return is(a4,t)}const c4=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function MN(t){return c4.test(t)}function CN(t){return is(c4,t)}const u4=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function SN(t){return u4.test(t)}function IN(t){return is(u4,t)}const f4=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function l4(t){return f4.test(t)}function TN(t){return is(f4,t)}const h4=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function RN(t){return h4.test(t)}function NN(t){return is(h4,t)}const d4=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function PN(t){return d4.test(t)}function ON(t){return is(d4,t)}const kN=/^receive\(\) external payable$/;function BN(t){return kN.test(t)}const DN=new Set(["indexed"]),hv=new Set(["calldata","memory","storage"]);class $N extends Yi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UN extends Yi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class FN extends Yi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class LN extends Yi{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class qN extends Yi{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class jN extends Yi{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zN extends Yi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class za extends Yi{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class HN extends Yi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class WN extends Yi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class VN extends Yi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class KN extends Yi{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function GN(t,e,r){let i="";if(r)for(const s of Object.entries(r)){if(!s)continue;let n="";for(const c of s[1])n+=`[${c.type}${c.name?`:${c.name}`:""}]`;i+=`(${s[0]}{${n}})`}return e?`${e}:${t}${i}`:t}const Dd=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ZN(t,e={}){if(SN(t))return YN(t,e);if(MN(t))return JN(t,e);if(AN(t))return QN(t,e);if(RN(t))return XN(t,e);if(PN(t))return eP(t);if(BN(t))return{type:"receive",stateMutability:"payable"};throw new HN({signature:t})}function YN(t,e={}){const r=IN(t);if(!r)throw new za({signature:t,type:"function"});const i=cn(r.parameters),s=[],n=i.length;for(let f=0;f<n;f++)s.push(bo(i[f],{modifiers:hv,structs:e,type:"function"}));const c=[];if(r.returns){const f=cn(r.returns),m=f.length;for(let p=0;p<m;p++)c.push(bo(f[p],{modifiers:hv,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:c}}function JN(t,e={}){const r=CN(t);if(!r)throw new za({signature:t,type:"event"});const i=cn(r.parameters),s=[],n=i.length;for(let c=0;c<n;c++)s.push(bo(i[c],{modifiers:DN,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:s}}function QN(t,e={}){const r=xN(t);if(!r)throw new za({signature:t,type:"error"});const i=cn(r.parameters),s=[],n=i.length;for(let c=0;c<n;c++)s.push(bo(i[c],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:s}}function XN(t,e={}){const r=NN(t);if(!r)throw new za({signature:t,type:"constructor"});const i=cn(r.parameters),s=[],n=i.length;for(let c=0;c<n;c++)s.push(bo(i[c],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}function eP(t){const e=ON(t);if(!e)throw new za({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const tP=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rP=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,iP=/^u?int$/;function bo(t,e){var y,_;const r=GN(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Dd.has(r))return Dd.get(r);const i=o4.test(t),s=is(i?rP:tP,t);if(!s)throw new FN({param:t});if(s.name&&sP(s.name))throw new LN({param:t,name:s.name});const n=s.name?{name:s.name}:{},c=s.modifier==="indexed"?{indexed:!0}:{},f=(e==null?void 0:e.structs)??{};let m,p={};if(i){m="tuple";const x=cn(s.type),M=[],C=x.length;for(let T=0;T<C;T++)M.push(bo(x[T],{structs:f}));p={components:M}}else if(s.type in f)m="tuple",p={components:f[s.type]};else if(iP.test(s.type))m=`${s.type}256`;else if(m=s.type,(e==null?void 0:e.type)!=="struct"&&!p4(m))throw new UN({type:m});if(s.modifier){if(!((_=(y=e==null?void 0:e.modifiers)==null?void 0:y.has)!=null&&_.call(y,s.modifier)))throw new qN({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(hv.has(s.modifier)&&!oP(m,!!s.array))throw new jN({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${m}${s.array??""}`,...n,...c,...p};return Dd.set(r,d),d}function cn(t,e=[],r="",i=0){const s=t.trim().length;for(let n=0;n<s;n++){const c=t[n],f=t.slice(n+1);switch(c){case",":return i===0?cn(f,[...e,r.trim()]):cn(f,e,`${r}${c}`,i);case"(":return cn(f,e,`${r}${c}`,i+1);case")":return cn(f,e,`${r}${c}`,i-1);default:return cn(f,e,`${r}${c}`,i)}}if(r==="")return e;if(i!==0)throw new KN({current:r,depth:i});return e.push(r.trim()),e}function p4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||n4.test(t)||s4.test(t)}const nP=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function sP(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||n4.test(t)||s4.test(t)||nP.test(t)}function oP(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function aP(t){const e={},r=t.length;for(let c=0;c<r;c++){const f=t[c];if(!l4(f))continue;const m=TN(f);if(!m)throw new za({signature:f,type:"struct"});const p=m.properties.split(";"),d=[],y=p.length;for(let _=0;_<y;_++){const M=p[_].trim();if(!M)continue;const C=bo(M,{type:"struct"});d.push(C)}if(!d.length)throw new WN({signature:f});e[m.name]=d}const i={},s=Object.entries(e),n=s.length;for(let c=0;c<n;c++){const[f,m]=s[c];i[f]=m4(m,e)}return i}const cP=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function m4(t,e,r=new Set){const i=[],s=t.length;for(let n=0;n<s;n++){const c=t[n];if(o4.test(c.type))i.push(c);else{const m=is(cP,c.type);if(!(m!=null&&m.type))throw new zN({abiParameter:c});const{array:p,type:d}=m;if(d in e){if(r.has(d))throw new VN({type:d});i.push({...c,type:`tuple${p??""}`,components:m4(e[d]??[],e,new Set([...r,d]))})}else if(p4(d))i.push(c);else throw new $N({type:d})}}return i}function g4(t){const e=aP(t),r=[],i=t.length;for(let s=0;s<i;s++){const n=t[s];l4(n)||r.push(ZN(n,e))}return r}function Qc(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ew(t){return Qc(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const v4="2.23.2";let uc={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${v4}`},Ih=class dv extends Error{constructor(e,r={}){var f;const i=(()=>{var m;return r.cause instanceof dv?r.cause.details:(m=r.cause)!=null&&m.message?r.cause.message:r.details})(),s=r.cause instanceof dv&&r.cause.docsPath||r.docsPath,n=(f=uc.getDocsUrl)==null?void 0:f.call(uc,{...r,docsPath:s}),c=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...n?[`Docs: ${n}`]:[],...i?[`Details: ${i}`]:[],...uc.version?[`Version: ${uc.version}`]:[]].join(`
`);super(c,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=v4}walk(e){return y4(this,e)}};function y4(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?y4(t.cause,e):e?null:t}let b4=class extends Ih{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Ha(t,{dir:e,size:r=32}={}){return typeof t=="string"?uP(t,{dir:e,size:r}):fP(t,{dir:e,size:r})}function uP(t,{dir:e,size:r=32}={}){if(r===null)return t;const i=t.replace("0x","");if(i.length>r*2)throw new b4({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function fP(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new b4({size:t.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const n=e==="right";i[n?s:r-s-1]=t[n?s:t.length-s-1]}return i}let lP=class extends Ih{constructor({max:e,min:r,signed:i,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},hP=class extends Ih{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Wa(t,{size:e}){if(ew(t)>e)throw new hP({givenSize:ew(t),maxSize:e})}function pv(t,e={}){const{signed:r}=e;e.size&&Wa(t,{size:e.size});const i=BigInt(t);if(!r)return i;const s=(t.length-2)/2,n=(1n<<BigInt(s)*8n-1n)-1n;return i<=n?i:i-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function dP(t,e={}){return Number(pv(t,e))}const pP=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mv(t,e={}){return typeof t=="number"||typeof t=="bigint"?_4(t,e):typeof t=="string"?vP(t,e):typeof t=="boolean"?mP(t,e):w4(t,e)}function mP(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Wa(r,{size:e.size}),Ha(r,{size:e.size})):r}function w4(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=pP[t[s]];const i=`0x${r}`;return typeof e.size=="number"?(Wa(i,{size:e.size}),Ha(i,{dir:"right",size:e.size})):i}function _4(t,e={}){const{signed:r,size:i}=e,s=BigInt(t);let n;i?r?n=(1n<<BigInt(i)*8n-1n)-1n:n=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(n=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof n=="bigint"&&r?-n-1n:0;if(n&&s>n||s<c){const m=typeof t=="bigint"?"n":"";throw new lP({max:n?`${n}${m}`:void 0,min:`${c}${m}`,signed:r,size:i,value:`${t}${m}`})}const f=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?Ha(f,{size:i}):f}const gP=new TextEncoder;function vP(t,e={}){const r=gP.encode(t);return w4(r,e)}const yP=new TextEncoder;function bP(t,e={}){return typeof t=="number"||typeof t=="bigint"?_P(t,e):typeof t=="boolean"?wP(t,e):Qc(t)?E4(t,e):A4(t,e)}function wP(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Wa(r,{size:e.size}),Ha(r,{size:e.size})):r}const jn={zero:48,nine:57,A:65,F:70,a:97,f:102};function tw(t){if(t>=jn.zero&&t<=jn.nine)return t-jn.zero;if(t>=jn.A&&t<=jn.F)return t-(jn.A-10);if(t>=jn.a&&t<=jn.f)return t-(jn.a-10)}function E4(t,e={}){let r=t;e.size&&(Wa(r,{size:e.size}),r=Ha(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,n=new Uint8Array(s);for(let c=0,f=0;c<s;c++){const m=tw(i.charCodeAt(f++)),p=tw(i.charCodeAt(f++));if(m===void 0||p===void 0)throw new Ih(`Invalid byte sequence ("${i[f-2]}${i[f-1]}" in "${i}").`);n[c]=m*16+p}return n}function _P(t,e){const r=_4(t,e);return E4(r)}function A4(t,e={}){const r=yP.encode(t);return typeof e.size=="number"?(Wa(r,{size:e.size}),Ha(r,{dir:"right",size:e.size})):r}function $l(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function EP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Gu(t,...e){if(!EP(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Kte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$l(t.outputLen),$l(t.blockLen)}function Ul(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function x4(t,e){Gu(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Sf=BigInt(2**32-1),rw=BigInt(32);function AP(t,e=!1){return e?{h:Number(t&Sf),l:Number(t>>rw&Sf)}:{h:Number(t>>rw&Sf)|0,l:Number(t&Sf)|0}}function xP(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:c}=AP(t[s],e);[r[s],i[s]]=[n,c]}return[r,i]}const MP=(t,e,r)=>t<<r|e>>>32-r,CP=(t,e,r)=>e<<r|t>>>32-r,SP=(t,e,r)=>e<<r-32|t>>>64-r,IP=(t,e,r)=>t<<r-32|e>>>64-r,zo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TP(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $d(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vn(t,e){return t<<32-e|t>>>e}const iw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function RP(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function nw(t){for(let e=0;e<t.length;e++)t[e]=RP(t[e])}const NP=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gte(t){Gu(t);let e="";for(let r=0;r<t.length;r++)e+=NP[t[r]];return e}function PP(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function D1(t){return typeof t=="string"&&(t=PP(t)),Gu(t),t}function Zte(...t){let e=0;for(let i=0;i<t.length;i++){const s=t[i];Gu(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<t.length;i++){const n=t[i];r.set(n,s),s+=n.length}return r}class M4{clone(){return this._cloneInto()}}function C4(t){const e=i=>t().update(D1(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Yte(t=32){if(zo&&typeof zo.getRandomValues=="function")return zo.getRandomValues(new Uint8Array(t));if(zo&&typeof zo.randomBytes=="function")return zo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const S4=[],I4=[],T4=[],OP=BigInt(0),fc=BigInt(1),kP=BigInt(2),BP=BigInt(7),DP=BigInt(256),$P=BigInt(113);for(let t=0,e=fc,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],S4.push(2*(5*i+r)),I4.push((t+1)*(t+2)/2%64);let s=OP;for(let n=0;n<7;n++)e=(e<<fc^(e>>BP)*$P)%DP,e&kP&&(s^=fc<<(fc<<BigInt(n))-fc);T4.push(s)}const[UP,FP]=xP(T4,!0),sw=(t,e,r)=>r>32?SP(t,e,r):MP(t,e,r),ow=(t,e,r)=>r>32?IP(t,e,r):CP(t,e,r);function LP(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let c=0;c<10;c++)r[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const f=(c+8)%10,m=(c+2)%10,p=r[m],d=r[m+1],y=sw(p,d,1)^r[f],_=ow(p,d,1)^r[f+1];for(let x=0;x<50;x+=10)t[c+x]^=y,t[c+x+1]^=_}let s=t[2],n=t[3];for(let c=0;c<24;c++){const f=I4[c],m=sw(s,n,f),p=ow(s,n,f),d=S4[c];s=t[d],n=t[d+1],t[d]=m,t[d+1]=p}for(let c=0;c<50;c+=10){for(let f=0;f<10;f++)r[f]=t[c+f];for(let f=0;f<10;f++)t[c+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=UP[i],t[1]^=FP[i]}r.fill(0)}class $1 extends M4{constructor(e,r,i,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$l(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=TP(this.state)}keccak(){iw||nw(this.state32),LP(this.state32,this.rounds),iw||nw(this.state32),this.posOut=0,this.pos=0}update(e){Ul(this);const{blockLen:r,state:i}=this;e=D1(e);const s=e.length;for(let n=0;n<s;){const c=Math.min(r-this.pos,s-n);for(let f=0;f<c;f++)i[this.pos++]^=e[n++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,(r&128)!==0&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ul(this,!1),Gu(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,n=e.length;s<n;){this.posOut>=i&&this.keccak();const c=Math.min(i-this.posOut,n-s);e.set(r.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $l(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(x4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:n,enableXOF:c}=this;return e||(e=new $1(r,i,s,c,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=i,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const qP=(t,e,r)=>C4(()=>new $1(e,t,r)),R4=qP(1,136,256/8);function N4(t,e){const r=e||"hex",i=R4(Qc(t,{strict:!1})?bP(t):t);return r==="bytes"?i:mv(i)}let jP=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const Ud=new jP(8192);function zP(t,e){if(Ud.has(`${t}.${e}`))return Ud.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),i=N4(A4(r),"bytes"),s=r.split("");for(let c=0;c<40;c+=2)i[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(i[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const n=`0x${s.join("")}`;return Ud.set(`${t}.${e}`,n),n}function HP(t){const e=N4(`0x${t.substring(4)}`).substring(26);return zP(`0x${e}`)}const WP="modulepreload",VP=function(t){return"/"+t},aw={},Ei=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(m=>{if(m=VP(m),m in aw)return;aw[m]=!0;const p=m.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${d}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":WP,p||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((_,x)=>{y.addEventListener("load",_),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&n(f.reason);return e().catch(n)})};async function KP({hash:t,signature:e}){const r=Qc(t)?t:mv(t),{secp256k1:i}=await Ei(async()=>{const{secp256k1:c}=await import("./secp256k1-aZ9g9wnK.js");return{secp256k1:c}},__vite__mapDeps([0,1,2]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:p,s:d,v:y,yParity:_}=e,x=Number(_??y),M=cw(x);return new i.Signature(pv(p),pv(d)).addRecoveryBit(M)}const c=Qc(e)?e:mv(e),f=dP(`0x${c.slice(130)}`),m=cw(f);return i.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(m)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function cw(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function GP({hash:t,signature:e}){return HP(await KP({hash:t,signature:e}))}function ZP(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),n=BigInt(4294967295),c=Number(r>>s&n),f=Number(r&n),m=i?4:0,p=i?0:4;t.setUint32(e+m,c,i),t.setUint32(e+p,f,i)}function YP(t,e,r){return t&e^~t&r}function JP(t,e,r){return t&e^t&r^e&r}class QP extends M4{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$d(this.buffer)}update(e){Ul(this);const{view:r,buffer:i,blockLen:s}=this;e=D1(e);const n=e.length;for(let c=0;c<n;){const f=Math.min(s-this.pos,n-c);if(f===s){const m=$d(e);for(;s<=n-c;c+=s)this.process(m,c);continue}i.set(e.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ul(this),x4(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:n}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(i,0),c=0);for(let y=c;y<s;y++)r[y]=0;ZP(i,s-8,BigInt(this.length*8),n),this.process(i,0);const f=$d(e),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=m/4,d=this.get();if(p>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,d[y],n)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:n,destroyed:c,pos:f}=this;return e.length=s,e.pos=f,e.finished=n,e.destroyed=c,s%r&&e.buffer.set(i),e}}const XP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ls=new Uint32Array(64);class eO extends QP{constructor(){super(64,32,8,!1),this.A=fs[0]|0,this.B=fs[1]|0,this.C=fs[2]|0,this.D=fs[3]|0,this.E=fs[4]|0,this.F=fs[5]|0,this.G=fs[6]|0,this.H=fs[7]|0}get(){const{A:e,B:r,C:i,D:s,E:n,F:c,G:f,H:m}=this;return[e,r,i,s,n,c,f,m]}set(e,r,i,s,n,c,f,m){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=n|0,this.F=c|0,this.G=f|0,this.H=m|0}process(e,r){for(let y=0;y<16;y++,r+=4)ls[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){const _=ls[y-15],x=ls[y-2],M=vn(_,7)^vn(_,18)^_>>>3,C=vn(x,17)^vn(x,19)^x>>>10;ls[y]=C+ls[y-7]+M+ls[y-16]|0}let{A:i,B:s,C:n,D:c,E:f,F:m,G:p,H:d}=this;for(let y=0;y<64;y++){const _=vn(f,6)^vn(f,11)^vn(f,25),x=d+_+YP(f,m,p)+XP[y]+ls[y]|0,C=(vn(i,2)^vn(i,13)^vn(i,22))+JP(i,s,n)|0;d=p,p=m,m=f,f=c+x|0,c=n,n=s,s=i,i=x+C|0}i=i+this.A|0,s=s+this.B|0,n=n+this.C|0,c=c+this.D|0,f=f+this.E|0,m=m+this.F|0,p=p+this.G|0,d=d+this.H|0,this.set(i,s,n,c,f,m,p,d)}roundClean(){ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const tO=C4(()=>new eO);function rO(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let p=0;p<e.length;p++)e[p]=255;for(let p=0;p<t.length;p++){const d=t.charAt(p),y=d.charCodeAt(0);if(e[y]!==255)throw new TypeError(d+" is ambiguous");e[y]=p}const r=t.length,i=t.charAt(0),s=Math.log(r)/Math.log(256),n=Math.log(256)/Math.log(r);function c(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";let d=0,y=0,_=0;const x=p.length;for(;_!==x&&p[_]===0;)_++,d++;const M=(x-_)*n+1>>>0,C=new Uint8Array(M);for(;_!==x;){let I=p[_],N=0;for(let O=M-1;(I!==0||N<y)&&O!==-1;O--,N++)I+=256*C[O]>>>0,C[O]=I%r>>>0,I=I/r>>>0;if(I!==0)throw new Error("Non-zero carry");y=N,_++}let T=M-y;for(;T!==M&&C[T]===0;)T++;let S=i.repeat(d);for(;T<M;++T)S+=t.charAt(C[T]);return S}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;let d=0,y=0,_=0;for(;p[d]===i;)y++,d++;const x=(p.length-d)*s+1>>>0,M=new Uint8Array(x);for(;d<p.length;){const I=p.charCodeAt(d);if(I>255)return;let N=e[I];if(N===255)return;let O=0;for(let D=x-1;(N!==0||O<_)&&D!==-1;D--,O++)N+=r*M[D]>>>0,M[D]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");_=O,d++}let C=x-_;for(;C!==x&&M[C]===0;)C++;const T=new Uint8Array(y+(x-C));let S=y;for(;C!==x;)T[S++]=M[C++];return T}function m(p){const d=f(p);if(d)return d;throw new Error("Non-base"+r+" character")}return{encode:c,decodeUnsafe:f,decode:m}}var iO="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const nO=rO(iO);function P4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Fd(t,e){e||(e=t.reduce((s,n)=>s+n.length,0));const r=P4(e);let i=0;for(const s of t)r.set(s,i),i+=s.length;return r}function sO(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),c=n.charCodeAt(0);if(r[c]!==255)throw new TypeError(n+" is ambiguous");r[c]=s}var f=t.length,m=t.charAt(0),p=Math.log(f)/Math.log(256),d=Math.log(256)/Math.log(f);function y(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var C=0,T=0,S=0,I=M.length;S!==I&&M[S]===0;)S++,C++;for(var N=(I-S)*d+1>>>0,O=new Uint8Array(N);S!==I;){for(var D=M[S],$=0,z=N-1;(D!==0||$<T)&&z!==-1;z--,$++)D+=256*O[z]>>>0,O[z]=D%f>>>0,D=D/f>>>0;if(D!==0)throw new Error("Non-zero carry");T=$,S++}for(var G=N-T;G!==N&&O[G]===0;)G++;for(var L=m.repeat(C);G<N;++G)L+=t.charAt(O[G]);return L}function _(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var C=0;if(M[C]!==" "){for(var T=0,S=0;M[C]===m;)T++,C++;for(var I=(M.length-C)*p+1>>>0,N=new Uint8Array(I);M[C];){var O=r[M.charCodeAt(C)];if(O===255)return;for(var D=0,$=I-1;(O!==0||D<S)&&$!==-1;$--,D++)O+=f*N[$]>>>0,N[$]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=D,C++}if(M[C]!==" "){for(var z=I-S;z!==I&&N[z]===0;)z++;for(var G=new Uint8Array(T+(I-z)),L=T;z!==I;)G[L++]=N[z++];return G}}}function x(M){var C=_(M);if(C)return C;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:_,decode:x}}var oO=sO,aO=oO;const cO=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},uO=t=>new TextEncoder().encode(t),fO=t=>new TextDecoder().decode(t);class lO{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hO{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return O4(this,e)}}class dO{constructor(e){this.decoders=e}or(e){return O4(this,e)}decode(e){const r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const O4=(t,e)=>new dO({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class pO{constructor(e,r,i,s){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=s,this.encoder=new lO(e,r,i),this.decoder=new hO(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Th=({name:t,prefix:e,encode:r,decode:i})=>new pO(t,e,r,i),Zu=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:s}=aO(r,e);return Th({prefix:t,name:e,encode:i,decode:n=>cO(s(n))})},mO=(t,e,r,i)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let n=t.length;for(;t[n-1]==="=";)--n;const c=new Uint8Array(n*r/8|0);let f=0,m=0,p=0;for(let d=0;d<n;++d){const y=s[t[d]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|y,f+=r,f>=8&&(f-=8,c[p++]=255&m>>f)}if(f>=r||255&m<<8-f)throw new SyntaxError("Unexpected end of data");return c},gO=(t,e,r)=>{const i=e[e.length-1]==="=",s=(1<<r)-1;let n="",c=0,f=0;for(let m=0;m<t.length;++m)for(f=f<<8|t[m],c+=8;c>r;)c-=r,n+=e[s&f>>c];if(c&&(n+=e[s&f<<r-c]),i)for(;n.length*r&7;)n+="=";return n},ri=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Th({prefix:e,name:t,encode(s){return gO(s,i,r)},decode(s){return mO(s,i,r,t)}}),vO=Th({prefix:"\0",name:"identity",encode:t=>fO(t),decode:t=>uO(t)}),yO=Object.freeze(Object.defineProperty({__proto__:null,identity:vO},Symbol.toStringTag,{value:"Module"})),bO=ri({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wO=Object.freeze(Object.defineProperty({__proto__:null,base2:bO},Symbol.toStringTag,{value:"Module"})),_O=ri({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),EO=Object.freeze(Object.defineProperty({__proto__:null,base8:_O},Symbol.toStringTag,{value:"Module"})),AO=Zu({prefix:"9",name:"base10",alphabet:"0123456789"}),xO=Object.freeze(Object.defineProperty({__proto__:null,base10:AO},Symbol.toStringTag,{value:"Module"})),MO=ri({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),CO=ri({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),SO=Object.freeze(Object.defineProperty({__proto__:null,base16:MO,base16upper:CO},Symbol.toStringTag,{value:"Module"})),IO=ri({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),TO=ri({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),RO=ri({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),NO=ri({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),PO=ri({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),OO=ri({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kO=ri({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BO=ri({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DO=ri({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$O=Object.freeze(Object.defineProperty({__proto__:null,base32:IO,base32hex:PO,base32hexpad:kO,base32hexpadupper:BO,base32hexupper:OO,base32pad:RO,base32padupper:NO,base32upper:TO,base32z:DO},Symbol.toStringTag,{value:"Module"})),UO=Zu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FO=Zu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),LO=Object.freeze(Object.defineProperty({__proto__:null,base36:UO,base36upper:FO},Symbol.toStringTag,{value:"Module"})),qO=Zu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jO=Zu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),zO=Object.freeze(Object.defineProperty({__proto__:null,base58btc:qO,base58flickr:jO},Symbol.toStringTag,{value:"Module"})),HO=ri({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),WO=ri({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),VO=ri({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),KO=ri({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),GO=Object.freeze(Object.defineProperty({__proto__:null,base64:HO,base64pad:WO,base64url:VO,base64urlpad:KO},Symbol.toStringTag,{value:"Module"})),k4=Array.from(""),ZO=k4.reduce((t,e,r)=>(t[r]=e,t),[]),YO=k4.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function JO(t){return t.reduce((e,r)=>(e+=ZO[r],e),"")}function QO(t){const e=[];for(const r of t){const i=YO[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}const XO=Th({prefix:"",name:"base256emoji",encode:JO,decode:QO}),ek=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:XO},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const uw={...yO,...wO,...EO,...xO,...SO,...$O,...LO,...zO,...GO,...ek};function B4(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const fw=B4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ld=B4("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=P4(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),D4={utf8:fw,"utf-8":fw,hex:uw.base16,latin1:Ld,ascii:Ld,binary:Ld,...uw};function Ki(t,e="utf8"){const r=D4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function hi(t,e="utf8"){const r=D4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var qd={};const tk="6.6.1",rk={version:tk};var jd={},ll={exports:{}},zd={},lw;function Vr(){return lw||(lw=1,function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},r={};r.byteLength=d,r.toByteArray=_,r.fromByteArray=C;for(var i=[],s=[],n=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=c.length;f<m;++f)i[f]=c[f],s[c.charCodeAt(f)]=f;s[45]=62,s[95]=63;function p(I){var N=I.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=I.indexOf("=");O===-1&&(O=N);var D=O===N?0:4-O%4;return[O,D]}function d(I){var N=p(I),O=N[0],D=N[1];return(O+D)*3/4-D}function y(I,N,O){return(N+O)*3/4-O}function _(I){var N,O=p(I),D=O[0],$=O[1],z=new n(y(I,D,$)),G=0,L=$>0?D-4:D,te;for(te=0;te<L;te+=4)N=s[I.charCodeAt(te)]<<18|s[I.charCodeAt(te+1)]<<12|s[I.charCodeAt(te+2)]<<6|s[I.charCodeAt(te+3)],z[G++]=N>>16&255,z[G++]=N>>8&255,z[G++]=N&255;return $===2&&(N=s[I.charCodeAt(te)]<<2|s[I.charCodeAt(te+1)]>>4,z[G++]=N&255),$===1&&(N=s[I.charCodeAt(te)]<<10|s[I.charCodeAt(te+1)]<<4|s[I.charCodeAt(te+2)]>>2,z[G++]=N>>8&255,z[G++]=N&255),z}function x(I){return i[I>>18&63]+i[I>>12&63]+i[I>>6&63]+i[I&63]}function M(I,N,O){for(var D,$=[],z=N;z<O;z+=3)D=(I[z]<<16&16711680)+(I[z+1]<<8&65280)+(I[z+2]&255),$.push(x(D));return $.join("")}function C(I){for(var N,O=I.length,D=O%3,$=[],z=16383,G=0,L=O-D;G<L;G+=z)$.push(M(I,G,G+z>L?L:G+z));return D===1?(N=I[O-1],$.push(i[N>>2]+i[N<<4&63]+"==")):D===2&&(N=(I[O-2]<<8)+I[O-1],$.push(i[N>>10]+i[N>>4&63]+i[N<<2&63]+"=")),$.join("")}var T={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */T.read=function(I,N,O,D,$){var z,G,L=$*8-D-1,te=(1<<L)-1,E=te>>1,o=-7,u=O?$-1:0,l=O?-1:1,h=I[N+u];for(u+=l,z=h&(1<<-o)-1,h>>=-o,o+=L;o>0;z=z*256+I[N+u],u+=l,o-=8);for(G=z&(1<<-o)-1,z>>=-o,o+=D;o>0;G=G*256+I[N+u],u+=l,o-=8);if(z===0)z=1-E;else{if(z===te)return G?NaN:(h?-1:1)*(1/0);G=G+Math.pow(2,D),z=z-E}return(h?-1:1)*G*Math.pow(2,z-D)},T.write=function(I,N,O,D,$,z){var G,L,te,E=z*8-$-1,o=(1<<E)-1,u=o>>1,l=$===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=D?0:z-1,g=D?1:-1,w=N<0||N===0&&1/N<0?1:0;for(N=Math.abs(N),isNaN(N)||N===1/0?(L=isNaN(N)?1:0,G=o):(G=Math.floor(Math.log(N)/Math.LN2),N*(te=Math.pow(2,-G))<1&&(G--,te*=2),G+u>=1?N+=l/te:N+=l*Math.pow(2,1-u),N*te>=2&&(G++,te/=2),G+u>=o?(L=0,G=o):G+u>=1?(L=(N*te-1)*Math.pow(2,$),G=G+u):(L=N*Math.pow(2,u-1)*Math.pow(2,$),G=0));$>=8;I[O+h]=L&255,h+=g,L/=256,$-=8);for(G=G<<$|L,E+=$;E>0;I[O+h]=G&255,h+=g,G/=256,E-=8);I[O+h-g]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(I){const N=r,O=T,D=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=o,I.SlowBuffer=P,I.INSPECT_MAX_BYTES=50;const $=2147483647;I.kMaxLength=$;const{Uint8Array:z,ArrayBuffer:G,SharedArrayBuffer:L}=globalThis;o.TYPED_ARRAY_SUPPORT=te(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function te(){try{const V=new z(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,z.prototype),Object.setPrototypeOf(V,B),V.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function E(V){if(V>$)throw new RangeError('The value "'+V+'" is invalid for option "size"');const B=new z(V);return Object.setPrototypeOf(B,o.prototype),B}function o(V,B,j){if(typeof V=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(V)}return u(V,B,j)}o.poolSize=8192;function u(V,B,j){if(typeof V=="string")return w(V,B);if(G.isView(V))return v(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Pe(V,G)||V&&Pe(V.buffer,G)||typeof L<"u"&&(Pe(V,L)||V&&Pe(V.buffer,L)))return a(V,B,j);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=V.valueOf&&V.valueOf();if(Q!=null&&Q!==V)return o.from(Q,B,j);const se=b(V);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return o.from(V[Symbol.toPrimitive]("string"),B,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}o.from=function(V,B,j){return u(V,B,j)},Object.setPrototypeOf(o.prototype,z.prototype),Object.setPrototypeOf(o,z);function l(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function h(V,B,j){return l(V),V<=0?E(V):B!==void 0?typeof j=="string"?E(V).fill(B,j):E(V).fill(B):E(V)}o.alloc=function(V,B,j){return h(V,B,j)};function g(V){return l(V),E(V<0?0:R(V)|0)}o.allocUnsafe=function(V){return g(V)},o.allocUnsafeSlow=function(V){return g(V)};function w(V,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const j=F(V,B)|0;let Q=E(j);const se=Q.write(V,B);return se!==j&&(Q=Q.slice(0,se)),Q}function A(V){const B=V.length<0?0:R(V.length)|0,j=E(B);for(let Q=0;Q<B;Q+=1)j[Q]=V[Q]&255;return j}function v(V){if(Pe(V,z)){const B=new z(V);return a(B.buffer,B.byteOffset,B.byteLength)}return A(V)}function a(V,B,j){if(B<0||V.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<B+(j||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return B===void 0&&j===void 0?Q=new z(V):j===void 0?Q=new z(V,B):Q=new z(V,B,j),Object.setPrototypeOf(Q,o.prototype),Q}function b(V){if(o.isBuffer(V)){const B=R(V.length)|0,j=E(B);return j.length===0||V.copy(j,0,0,B),j}if(V.length!==void 0)return typeof V.length!="number"||bt(V.length)?E(0):A(V);if(V.type==="Buffer"&&Array.isArray(V.data))return A(V.data)}function R(V){if(V>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return V|0}function P(V){return+V!=V&&(V=0),o.alloc(+V)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,j){if(Pe(B,z)&&(B=o.from(B,B.offset,B.byteLength)),Pe(j,z)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(B)||!o.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===j)return 0;let Q=B.length,se=j.length;for(let me=0,ce=Math.min(Q,se);me<ce;++me)if(B[me]!==j[me]){Q=B[me],se=j[me];break}return Q<se?-1:se<Q?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,j){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let Q;if(j===void 0)for(j=0,Q=0;Q<B.length;++Q)j+=B[Q].length;const se=o.allocUnsafe(j);let me=0;for(Q=0;Q<B.length;++Q){let ce=B[Q];if(Pe(ce,z))me+ce.length>se.length?(o.isBuffer(ce)||(ce=o.from(ce)),ce.copy(se,me)):z.prototype.set.call(se,ce,me);else if(o.isBuffer(ce))ce.copy(se,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=ce.length}return se};function F(V,B){if(o.isBuffer(V))return V.length;if(G.isView(V)||Pe(V,G))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const j=V.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&j===0)return 0;let se=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return Xe(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Ve(V).length;default:if(se)return Q?-1:Xe(V).length;B=(""+B).toLowerCase(),se=!0}}o.byteLength=F;function K(V,B,j){let Q=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,B>>>=0,j<=B))return"";for(V||(V="utf8");;)switch(V){case"hex":return Ge(this,B,j);case"utf8":case"utf-8":return he(this,B,j);case"ascii":return ye(this,B,j);case"latin1":case"binary":return ue(this,B,j);case"base64":return Ne(this,B,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,B,j);default:if(Q)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),Q=!0}}o.prototype._isBuffer=!0;function Z(V,B,j){const Q=V[B];V[B]=V[j],V[j]=Q}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<B;j+=2)Z(this,j,j+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<B;j+=4)Z(this,j,j+3),Z(this,j+1,j+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<B;j+=8)Z(this,j,j+7),Z(this,j+1,j+6),Z(this,j+2,j+5),Z(this,j+3,j+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?he(this,0,B):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const j=I.INSPECT_MAX_BYTES;return B=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(B+=" ... "),"<Buffer "+B+">"},D&&(o.prototype[D]=o.prototype.inspect),o.prototype.compare=function(B,j,Q,se,me){if(Pe(B,z)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(j===void 0&&(j=0),Q===void 0&&(Q=B?B.length:0),se===void 0&&(se=0),me===void 0&&(me=this.length),j<0||Q>B.length||se<0||me>this.length)throw new RangeError("out of range index");if(se>=me&&j>=Q)return 0;if(se>=me)return-1;if(j>=Q)return 1;if(j>>>=0,Q>>>=0,se>>>=0,me>>>=0,this===B)return 0;let ce=me-se,Ee=Q-j;const rt=Math.min(ce,Ee),we=this.slice(se,me),Se=B.slice(j,Q);for(let Qe=0;Qe<rt;++Qe)if(we[Qe]!==Se[Qe]){ce=we[Qe],Ee=Se[Qe];break}return ce<Ee?-1:Ee<ce?1:0};function U(V,B,j,Q,se){if(V.length===0)return-1;if(typeof j=="string"?(Q=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,bt(j)&&(j=se?0:V.length-1),j<0&&(j=V.length+j),j>=V.length){if(se)return-1;j=V.length-1}else if(j<0)if(se)j=0;else return-1;if(typeof B=="string"&&(B=o.from(B,Q)),o.isBuffer(B))return B.length===0?-1:Y(V,B,j,Q,se);if(typeof B=="number")return B=B&255,typeof z.prototype.indexOf=="function"?se?z.prototype.indexOf.call(V,B,j):z.prototype.lastIndexOf.call(V,B,j):Y(V,[B],j,Q,se);throw new TypeError("val must be string, number or Buffer")}function Y(V,B,j,Q,se){let me=1,ce=V.length,Ee=B.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(V.length<2||B.length<2)return-1;me=2,ce/=2,Ee/=2,j/=2}function rt(Se,Qe){return me===1?Se[Qe]:Se.readUInt16BE(Qe*me)}let we;if(se){let Se=-1;for(we=j;we<ce;we++)if(rt(V,we)===rt(B,Se===-1?0:we-Se)){if(Se===-1&&(Se=we),we-Se+1===Ee)return Se*me}else Se!==-1&&(we-=we-Se),Se=-1}else for(j+Ee>ce&&(j=ce-Ee),we=j;we>=0;we--){let Se=!0;for(let Qe=0;Qe<Ee;Qe++)if(rt(V,we+Qe)!==rt(B,Qe)){Se=!1;break}if(Se)return we}return-1}o.prototype.includes=function(B,j,Q){return this.indexOf(B,j,Q)!==-1},o.prototype.indexOf=function(B,j,Q){return U(this,B,j,Q,!0)},o.prototype.lastIndexOf=function(B,j,Q){return U(this,B,j,Q,!1)};function X(V,B,j,Q){j=Number(j)||0;const se=V.length-j;Q?(Q=Number(Q),Q>se&&(Q=se)):Q=se;const me=B.length;Q>me/2&&(Q=me/2);let ce;for(ce=0;ce<Q;++ce){const Ee=parseInt(B.substr(ce*2,2),16);if(bt(Ee))return ce;V[j+ce]=Ee}return ce}function re(V,B,j,Q){return Ce(Xe(B,V.length-j),V,j,Q)}function ee(V,B,j,Q){return Ce(be(B),V,j,Q)}function H(V,B,j,Q){return Ce(Ve(B),V,j,Q)}function oe(V,B,j,Q){return Ce(Me(B,V.length-j),V,j,Q)}o.prototype.write=function(B,j,Q,se){if(j===void 0)se="utf8",Q=this.length,j=0;else if(Q===void 0&&typeof j=="string")se=j,Q=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(Q)?(Q=Q>>>0,se===void 0&&(se="utf8")):(se=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-j;if((Q===void 0||Q>me)&&(Q=me),B.length>0&&(Q<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let ce=!1;for(;;)switch(se){case"hex":return X(this,B,j,Q);case"utf8":case"utf-8":return re(this,B,j,Q);case"ascii":case"latin1":case"binary":return ee(this,B,j,Q);case"base64":return H(this,B,j,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,B,j,Q);default:if(ce)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ce=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ne(V,B,j){return B===0&&j===V.length?N.fromByteArray(V):N.fromByteArray(V.slice(B,j))}function he(V,B,j){j=Math.min(V.length,j);const Q=[];let se=B;for(;se<j;){const me=V[se];let ce=null,Ee=me>239?4:me>223?3:me>191?2:1;if(se+Ee<=j){let rt,we,Se,Qe;switch(Ee){case 1:me<128&&(ce=me);break;case 2:rt=V[se+1],(rt&192)===128&&(Qe=(me&31)<<6|rt&63,Qe>127&&(ce=Qe));break;case 3:rt=V[se+1],we=V[se+2],(rt&192)===128&&(we&192)===128&&(Qe=(me&15)<<12|(rt&63)<<6|we&63,Qe>2047&&(Qe<55296||Qe>57343)&&(ce=Qe));break;case 4:rt=V[se+1],we=V[se+2],Se=V[se+3],(rt&192)===128&&(we&192)===128&&(Se&192)===128&&(Qe=(me&15)<<18|(rt&63)<<12|(we&63)<<6|Se&63,Qe>65535&&Qe<1114112&&(ce=Qe))}}ce===null?(ce=65533,Ee=1):ce>65535&&(ce-=65536,Q.push(ce>>>10&1023|55296),ce=56320|ce&1023),Q.push(ce),se+=Ee}return $e(Q)}const fe=4096;function $e(V){const B=V.length;if(B<=fe)return String.fromCharCode.apply(String,V);let j="",Q=0;for(;Q<B;)j+=String.fromCharCode.apply(String,V.slice(Q,Q+=fe));return j}function ye(V,B,j){let Q="";j=Math.min(V.length,j);for(let se=B;se<j;++se)Q+=String.fromCharCode(V[se]&127);return Q}function ue(V,B,j){let Q="";j=Math.min(V.length,j);for(let se=B;se<j;++se)Q+=String.fromCharCode(V[se]);return Q}function Ge(V,B,j){const Q=V.length;(!B||B<0)&&(B=0),(!j||j<0||j>Q)&&(j=Q);let se="";for(let me=B;me<j;++me)se+=Te[V[me]];return se}function de(V,B,j){const Q=V.slice(B,j);let se="";for(let me=0;me<Q.length-1;me+=2)se+=String.fromCharCode(Q[me]+Q[me+1]*256);return se}o.prototype.slice=function(B,j){const Q=this.length;B=~~B,j=j===void 0?Q:~~j,B<0?(B+=Q,B<0&&(B=0)):B>Q&&(B=Q),j<0?(j+=Q,j<0&&(j=0)):j>Q&&(j=Q),j<B&&(j=B);const se=this.subarray(B,j);return Object.setPrototypeOf(se,o.prototype),se};function ve(V,B,j){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+B>j)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,j,Q){B=B>>>0,j=j>>>0,Q||ve(B,j,this.length);let se=this[B],me=1,ce=0;for(;++ce<j&&(me*=256);)se+=this[B+ce]*me;return se},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,j,Q){B=B>>>0,j=j>>>0,Q||ve(B,j,this.length);let se=this[B+--j],me=1;for(;j>0&&(me*=256);)se+=this[B+--j]*me;return se},o.prototype.readUint8=o.prototype.readUInt8=function(B,j){return B=B>>>0,j||ve(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,j){return B=B>>>0,j||ve(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,j){return B=B>>>0,j||ve(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=Oe(function(B){B=B>>>0,ie(B,"offset");const j=this[B],Q=this[B+7];(j===void 0||Q===void 0)&&pe(B,this.length-8);const se=j+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,me=this[++B]+this[++B]*2**8+this[++B]*2**16+Q*2**24;return BigInt(se)+(BigInt(me)<<BigInt(32))}),o.prototype.readBigUInt64BE=Oe(function(B){B=B>>>0,ie(B,"offset");const j=this[B],Q=this[B+7];(j===void 0||Q===void 0)&&pe(B,this.length-8);const se=j*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],me=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Q;return(BigInt(se)<<BigInt(32))+BigInt(me)}),o.prototype.readIntLE=function(B,j,Q){B=B>>>0,j=j>>>0,Q||ve(B,j,this.length);let se=this[B],me=1,ce=0;for(;++ce<j&&(me*=256);)se+=this[B+ce]*me;return me*=128,se>=me&&(se-=Math.pow(2,8*j)),se},o.prototype.readIntBE=function(B,j,Q){B=B>>>0,j=j>>>0,Q||ve(B,j,this.length);let se=j,me=1,ce=this[B+--se];for(;se>0&&(me*=256);)ce+=this[B+--se]*me;return me*=128,ce>=me&&(ce-=Math.pow(2,8*j)),ce},o.prototype.readInt8=function(B,j){return B=B>>>0,j||ve(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,j){B=B>>>0,j||ve(B,2,this.length);const Q=this[B]|this[B+1]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt16BE=function(B,j){B=B>>>0,j||ve(B,2,this.length);const Q=this[B+1]|this[B]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt32LE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=Oe(function(B){B=B>>>0,ie(B,"offset");const j=this[B],Q=this[B+7];(j===void 0||Q===void 0)&&pe(B,this.length-8);const se=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(Q<<24);return(BigInt(se)<<BigInt(32))+BigInt(j+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=Oe(function(B){B=B>>>0,ie(B,"offset");const j=this[B],Q=this[B+7];(j===void 0||Q===void 0)&&pe(B,this.length-8);const se=(j<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(se)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+Q)}),o.prototype.readFloatLE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),O.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,j){return B=B>>>0,j||ve(B,4,this.length),O.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,j){return B=B>>>0,j||ve(B,8,this.length),O.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,j){return B=B>>>0,j||ve(B,8,this.length),O.read(this,B,!1,52,8)};function ze(V,B,j,Q,se,me){if(!o.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>se||B<me)throw new RangeError('"value" argument is out of bounds');if(j+Q>V.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,j,Q,se){if(B=+B,j=j>>>0,Q=Q>>>0,!se){const Ee=Math.pow(2,8*Q)-1;ze(this,B,j,Q,Ee,0)}let me=1,ce=0;for(this[j]=B&255;++ce<Q&&(me*=256);)this[j+ce]=B/me&255;return j+Q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,j,Q,se){if(B=+B,j=j>>>0,Q=Q>>>0,!se){const Ee=Math.pow(2,8*Q)-1;ze(this,B,j,Q,Ee,0)}let me=Q-1,ce=1;for(this[j+me]=B&255;--me>=0&&(ce*=256);)this[j+me]=B/ce&255;return j+Q},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,1,255,0),this[j]=B&255,j+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,2,65535,0),this[j]=B&255,this[j+1]=B>>>8,j+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,2,65535,0),this[j]=B>>>8,this[j+1]=B&255,j+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,4,4294967295,0),this[j+3]=B>>>24,this[j+2]=B>>>16,this[j+1]=B>>>8,this[j]=B&255,j+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,4,4294967295,0),this[j]=B>>>24,this[j+1]=B>>>16,this[j+2]=B>>>8,this[j+3]=B&255,j+4};function ge(V,B,j,Q,se){J(B,Q,se,V,j,7);let me=Number(B&BigInt(4294967295));V[j++]=me,me=me>>8,V[j++]=me,me=me>>8,V[j++]=me,me=me>>8,V[j++]=me;let ce=Number(B>>BigInt(32)&BigInt(4294967295));return V[j++]=ce,ce=ce>>8,V[j++]=ce,ce=ce>>8,V[j++]=ce,ce=ce>>8,V[j++]=ce,j}function xe(V,B,j,Q,se){J(B,Q,se,V,j,7);let me=Number(B&BigInt(4294967295));V[j+7]=me,me=me>>8,V[j+6]=me,me=me>>8,V[j+5]=me,me=me>>8,V[j+4]=me;let ce=Number(B>>BigInt(32)&BigInt(4294967295));return V[j+3]=ce,ce=ce>>8,V[j+2]=ce,ce=ce>>8,V[j+1]=ce,ce=ce>>8,V[j]=ce,j+8}o.prototype.writeBigUInt64LE=Oe(function(B,j=0){return ge(this,B,j,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Oe(function(B,j=0){return xe(this,B,j,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,j,Q,se){if(B=+B,j=j>>>0,!se){const rt=Math.pow(2,8*Q-1);ze(this,B,j,Q,rt-1,-rt)}let me=0,ce=1,Ee=0;for(this[j]=B&255;++me<Q&&(ce*=256);)B<0&&Ee===0&&this[j+me-1]!==0&&(Ee=1),this[j+me]=(B/ce>>0)-Ee&255;return j+Q},o.prototype.writeIntBE=function(B,j,Q,se){if(B=+B,j=j>>>0,!se){const rt=Math.pow(2,8*Q-1);ze(this,B,j,Q,rt-1,-rt)}let me=Q-1,ce=1,Ee=0;for(this[j+me]=B&255;--me>=0&&(ce*=256);)B<0&&Ee===0&&this[j+me+1]!==0&&(Ee=1),this[j+me]=(B/ce>>0)-Ee&255;return j+Q},o.prototype.writeInt8=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,1,127,-128),B<0&&(B=255+B+1),this[j]=B&255,j+1},o.prototype.writeInt16LE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,2,32767,-32768),this[j]=B&255,this[j+1]=B>>>8,j+2},o.prototype.writeInt16BE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,2,32767,-32768),this[j]=B>>>8,this[j+1]=B&255,j+2},o.prototype.writeInt32LE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,4,2147483647,-2147483648),this[j]=B&255,this[j+1]=B>>>8,this[j+2]=B>>>16,this[j+3]=B>>>24,j+4},o.prototype.writeInt32BE=function(B,j,Q){return B=+B,j=j>>>0,Q||ze(this,B,j,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[j]=B>>>24,this[j+1]=B>>>16,this[j+2]=B>>>8,this[j+3]=B&255,j+4},o.prototype.writeBigInt64LE=Oe(function(B,j=0){return ge(this,B,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Oe(function(B,j=0){return xe(this,B,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(V,B,j,Q,se,me){if(j+Q>V.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Ae(V,B,j,Q,se){return B=+B,j=j>>>0,se||it(V,B,j,4),O.write(V,B,j,Q,23,4),j+4}o.prototype.writeFloatLE=function(B,j,Q){return Ae(this,B,j,!0,Q)},o.prototype.writeFloatBE=function(B,j,Q){return Ae(this,B,j,!1,Q)};function Ie(V,B,j,Q,se){return B=+B,j=j>>>0,se||it(V,B,j,8),O.write(V,B,j,Q,52,8),j+8}o.prototype.writeDoubleLE=function(B,j,Q){return Ie(this,B,j,!0,Q)},o.prototype.writeDoubleBE=function(B,j,Q){return Ie(this,B,j,!1,Q)},o.prototype.copy=function(B,j,Q,se){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!se&&se!==0&&(se=this.length),j>=B.length&&(j=B.length),j||(j=0),se>0&&se<Q&&(se=Q),se===Q||B.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),B.length-j<se-Q&&(se=B.length-j+Q);const me=se-Q;return this===B&&typeof z.prototype.copyWithin=="function"?this.copyWithin(j,Q,se):z.prototype.set.call(B,this.subarray(Q,se),j),me},o.prototype.fill=function(B,j,Q,se){if(typeof B=="string"){if(typeof j=="string"?(se=j,j=0,Q=this.length):typeof Q=="string"&&(se=Q,Q=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!o.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(B.length===1){const ce=B.charCodeAt(0);(se==="utf8"&&ce<128||se==="latin1")&&(B=ce)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(j<0||this.length<j||this.length<Q)throw new RangeError("Out of range index");if(Q<=j)return this;j=j>>>0,Q=Q===void 0?this.length:Q>>>0,B||(B=0);let me;if(typeof B=="number")for(me=j;me<Q;++me)this[me]=B;else{const ce=o.isBuffer(B)?B:o.from(B,se),Ee=ce.length;if(Ee===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(me=0;me<Q-j;++me)this[me+j]=ce[me%Ee]}return this};const at={};function W(V,B,j){at[V]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(V,B){return`The "${V}" argument must be of type number. Received type ${typeof B}`},TypeError),W("ERR_OUT_OF_RANGE",function(V,B,j){let Q=`The value of "${V}" is out of range.`,se=j;return Number.isInteger(j)&&Math.abs(j)>2**32?se=k(String(j)):typeof j=="bigint"&&(se=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(se=k(se)),se+="n"),Q+=` It must be ${B}. Received ${se}`,Q},RangeError);function k(V){let B="",j=V.length;const Q=V[0]==="-"?1:0;for(;j>=Q+4;j-=3)B=`_${V.slice(j-3,j)}${B}`;return`${V.slice(0,j)}${B}`}function q(V,B,j){ie(B,"offset"),(V[B]===void 0||V[B+j]===void 0)&&pe(B,V.length-(j+1))}function J(V,B,j,Q,se,me){if(V>j||V<B){const ce=typeof B=="bigint"?"n":"";let Ee;throw B===0||B===BigInt(0)?Ee=`>= 0${ce} and < 2${ce} ** ${(me+1)*8}${ce}`:Ee=`>= -(2${ce} ** ${(me+1)*8-1}${ce}) and < 2 ** ${(me+1)*8-1}${ce}`,new at.ERR_OUT_OF_RANGE("value",Ee,V)}q(Q,se,me)}function ie(V,B){if(typeof V!="number")throw new at.ERR_INVALID_ARG_TYPE(B,"number",V)}function pe(V,B,j){throw Math.floor(V)!==V?(ie(V,j),new at.ERR_OUT_OF_RANGE("offset","an integer",V)):B<0?new at.ERR_BUFFER_OUT_OF_BOUNDS:new at.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,V)}const ae=/[^+/0-9A-Za-z-_]/g;function _e(V){if(V=V.split("=")[0],V=V.trim().replace(ae,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function Xe(V,B){B=B||1/0;let j;const Q=V.length;let se=null;const me=[];for(let ce=0;ce<Q;++ce){if(j=V.charCodeAt(ce),j>55295&&j<57344){if(!se){if(j>56319){(B-=3)>-1&&me.push(239,191,189);continue}else if(ce+1===Q){(B-=3)>-1&&me.push(239,191,189);continue}se=j;continue}if(j<56320){(B-=3)>-1&&me.push(239,191,189),se=j;continue}j=(se-55296<<10|j-56320)+65536}else se&&(B-=3)>-1&&me.push(239,191,189);if(se=null,j<128){if((B-=1)<0)break;me.push(j)}else if(j<2048){if((B-=2)<0)break;me.push(j>>6|192,j&63|128)}else if(j<65536){if((B-=3)<0)break;me.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((B-=4)<0)break;me.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return me}function be(V){const B=[];for(let j=0;j<V.length;++j)B.push(V.charCodeAt(j)&255);return B}function Me(V,B){let j,Q,se;const me=[];for(let ce=0;ce<V.length&&!((B-=2)<0);++ce)j=V.charCodeAt(ce),Q=j>>8,se=j%256,me.push(se),me.push(Q);return me}function Ve(V){return N.toByteArray(_e(V))}function Ce(V,B,j,Q){let se;for(se=0;se<Q&&!(se+j>=B.length||se>=V.length);++se)B[se+j]=V[se];return se}function Pe(V,B){return V instanceof B||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===B.name}function bt(V){return V!==V}const Te=function(){const V="0123456789abcdef",B=new Array(256);for(let j=0;j<16;++j){const Q=j*16;for(let se=0;se<16;++se)B[Q+se]=V[j]+V[se]}return B}();function Oe(V){return typeof BigInt>"u"?Mt:V}function Mt(){throw new Error("BigInt not supported")}})(e);const S=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=S,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode}(zd)),zd}var ik=ll.exports,hw;function ns(){return hw||(hw=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,ik)}(ll)),ll.exports}var Hd,dw;function Ji(){if(dw)return Hd;dw=1,Hd=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,i,s){if(r!=i)throw new Error(s||"Assertion failed: "+r+" != "+i)},Hd}var Wd={},pw;function $4(){return pw||(pw=1,function(t){var e=t;function r(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var f=[];if(typeof n!="string"){for(var m=0;m<n.length;m++)f[m]=n[m]|0;return f}if(c==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var m=0;m<n.length;m+=2)f.push(parseInt(n[m]+n[m+1],16))}else for(var m=0;m<n.length;m++){var p=n.charCodeAt(m),d=p>>8,y=p&255;d?f.push(d,y):f.push(y)}return f}e.toArray=r;function i(n){return n.length===1?"0"+n:n}e.zero2=i;function s(n){for(var c="",f=0;f<n.length;f++)c+=i(n[f].toString(16));return c}e.toHex=s,e.encode=function(c,f){return f==="hex"?s(c):c}}(Wd)),Wd}var mw;function Qi(){return mw||(mw=1,function(t){var e=t,r=ns(),i=Ji(),s=$4();e.assert=i,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function n(d,y,_){var x=new Array(Math.max(d.bitLength(),_)+1),M;for(M=0;M<x.length;M+=1)x[M]=0;var C=1<<y+1,T=d.clone();for(M=0;M<x.length;M++){var S,I=T.andln(C-1);T.isOdd()?(I>(C>>1)-1?S=(C>>1)-I:S=I,T.isubn(S)):S=0,x[M]=S,T.iushrn(1)}return x}e.getNAF=n;function c(d,y){var _=[[],[]];d=d.clone(),y=y.clone();for(var x=0,M=0,C;d.cmpn(-x)>0||y.cmpn(-M)>0;){var T=d.andln(3)+x&3,S=y.andln(3)+M&3;T===3&&(T=-1),S===3&&(S=-1);var I;(T&1)===0?I=0:(C=d.andln(7)+x&7,(C===3||C===5)&&S===2?I=-T:I=T),_[0].push(I);var N;(S&1)===0?N=0:(C=y.andln(7)+M&7,(C===3||C===5)&&T===2?N=-S:N=S),_[1].push(N),2*x===I+1&&(x=1-x),2*M===N+1&&(M=1-M),d.iushrn(1),y.iushrn(1)}return _}e.getJSF=c;function f(d,y,_){var x="_"+y;d.prototype[y]=function(){return this[x]!==void 0?this[x]:this[x]=_.call(this)}}e.cachedProperty=f;function m(d){return typeof d=="string"?e.toArray(d,"hex"):d}e.parseBytes=m;function p(d){return new r(d,"hex","le")}e.intFromLE=p}(jd)),jd}var If={exports:{}},At={},Tf={exports:{}},Rf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var gw;function xt(){return gw||(gw=1,function(t,e){var r=Vr(),i=r.Buffer;function s(c,f){for(var m in c)f[m]=c[m]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=n);function n(c,f,m){return i(c,f,m)}n.prototype=Object.create(i.prototype),s(i,n),n.from=function(c,f,m){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,f,m)},n.alloc=function(c,f,m){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=i(c);return f!==void 0?typeof m=="string"?p.fill(f,m):p.fill(f):p.fill(0),p},n.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},n.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}}(Rf,Rf.exports)),Rf.exports}var vw;function Va(){if(vw)return Tf.exports;vw=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var i=xt().Buffer,s=mt.crypto||mt.msCrypto;s&&s.getRandomValues?Tf.exports=n:Tf.exports=r;function n(c,f){if(c>e)throw new RangeError("requested too many random bytes");var m=i.allocUnsafe(c);if(c>0)if(c>t)for(var p=0;p<c;p+=t)s.getRandomValues(m.slice(p,p+t));else s.getRandomValues(m);return typeof f=="function"?We.nextTick(function(){f(null,m)}):m}return Tf.exports}var Nf={exports:{}},yw;function pt(){return yw||(yw=1,typeof Object.create=="function"?Nf.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Nf.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}),Nf.exports}var Pf={exports:{}},Vd,bw;function U4(){return bw||(bw=1,Vd=Fa().EventEmitter),Vd}var Kd={},Gd={},Zd,ww;function F4(){return ww||(ww=1,Zd=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,r);if(f.value!==s||f.enumerable!==!0)return!1}return!0}),Zd}var Yd,_w;function Rh(){if(_w)return Yd;_w=1;var t=F4();return Yd=function(){return t()&&!!Symbol.toStringTag},Yd}var Jd,Ew;function L4(){return Ew||(Ew=1,Jd=Object),Jd}var Qd,Aw;function nk(){return Aw||(Aw=1,Qd=Error),Qd}var Xd,xw;function sk(){return xw||(xw=1,Xd=EvalError),Xd}var e0,Mw;function ok(){return Mw||(Mw=1,e0=RangeError),e0}var t0,Cw;function ak(){return Cw||(Cw=1,t0=ReferenceError),t0}var r0,Sw;function q4(){return Sw||(Sw=1,r0=SyntaxError),r0}var i0,Iw;function Yu(){return Iw||(Iw=1,i0=TypeError),i0}var n0,Tw;function ck(){return Tw||(Tw=1,n0=URIError),n0}var s0,Rw;function uk(){return Rw||(Rw=1,s0=Math.abs),s0}var o0,Nw;function fk(){return Nw||(Nw=1,o0=Math.floor),o0}var a0,Pw;function lk(){return Pw||(Pw=1,a0=Math.max),a0}var c0,Ow;function hk(){return Ow||(Ow=1,c0=Math.min),c0}var u0,kw;function dk(){return kw||(kw=1,u0=Math.pow),u0}var f0,Bw;function pk(){return Bw||(Bw=1,f0=Math.round),f0}var l0,Dw;function mk(){return Dw||(Dw=1,l0=Number.isNaN||function(e){return e!==e}),l0}var h0,$w;function gk(){if($w)return h0;$w=1;var t=mk();return h0=function(r){return t(r)||r===0?r:r<0?-1:1},h0}var d0,Uw;function vk(){return Uw||(Uw=1,d0=Object.getOwnPropertyDescriptor),d0}var p0,Fw;function Ka(){if(Fw)return p0;Fw=1;var t=vk();if(t)try{t([],"length")}catch{t=null}return p0=t,p0}var m0,Lw;function Nh(){if(Lw)return m0;Lw=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return m0=t,m0}var g0,qw;function yk(){if(qw)return g0;qw=1;var t=typeof Symbol<"u"&&Symbol,e=F4();return g0=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},g0}var v0,jw;function j4(){return jw||(jw=1,v0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),v0}var y0,zw;function z4(){if(zw)return y0;zw=1;var t=L4();return y0=t.getPrototypeOf||null,y0}var b0,Hw;function bk(){if(Hw)return b0;Hw=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,i="[object Function]",s=function(m,p){for(var d=[],y=0;y<m.length;y+=1)d[y]=m[y];for(var _=0;_<p.length;_+=1)d[_+m.length]=p[_];return d},n=function(m,p){for(var d=[],y=p,_=0;y<m.length;y+=1,_+=1)d[_]=m[y];return d},c=function(f,m){for(var p="",d=0;d<f.length;d+=1)p+=f[d],d+1<f.length&&(p+=m);return p};return b0=function(m){var p=this;if(typeof p!="function"||e.apply(p)!==i)throw new TypeError(t+p);for(var d=n(arguments,1),y,_=function(){if(this instanceof y){var S=p.apply(this,s(d,arguments));return Object(S)===S?S:this}return p.apply(m,s(d,arguments))},x=r(0,p.length-d.length),M=[],C=0;C<x;C++)M[C]="$"+C;if(y=Function("binder","return function ("+c(M,",")+"){ return binder.apply(this,arguments); }")(_),p.prototype){var T=function(){};T.prototype=p.prototype,y.prototype=new T,T.prototype=null}return y},b0}var w0,Ww;function Ju(){if(Ww)return w0;Ww=1;var t=bk();return w0=Function.prototype.bind||t,w0}var _0,Vw;function U1(){return Vw||(Vw=1,_0=Function.prototype.call),_0}var E0,Kw;function F1(){return Kw||(Kw=1,E0=Function.prototype.apply),E0}var A0,Gw;function wk(){return Gw||(Gw=1,A0=typeof Reflect<"u"&&Reflect&&Reflect.apply),A0}var x0,Zw;function H4(){if(Zw)return x0;Zw=1;var t=Ju(),e=F1(),r=U1(),i=wk();return x0=i||t.call(r,e),x0}var M0,Yw;function L1(){if(Yw)return M0;Yw=1;var t=Ju(),e=Yu(),r=U1(),i=H4();return M0=function(n){if(n.length<1||typeof n[0]!="function")throw new e("a function is required");return i(t,r,n)},M0}var C0,Jw;function _k(){if(Jw)return C0;Jw=1;var t=L1(),e=Ka(),r;try{r=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var i=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,n=s.getPrototypeOf;return C0=i&&typeof i.get=="function"?t([i.get]):typeof n=="function"?function(f){return n(f==null?f:s(f))}:!1,C0}var S0,Qw;function q1(){if(Qw)return S0;Qw=1;var t=j4(),e=z4(),r=_k();return S0=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,S0}var I0,Xw;function W4(){if(Xw)return I0;Xw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Ju();return I0=r.call(t,e),I0}var T0,e2;function V4(){if(e2)return T0;e2=1;var t,e=L4(),r=nk(),i=sk(),s=ok(),n=ak(),c=q4(),f=Yu(),m=ck(),p=uk(),d=fk(),y=lk(),_=hk(),x=dk(),M=pk(),C=gk(),T=Function,S=function(X){try{return T('"use strict"; return ('+X+").constructor;")()}catch{}},I=Ka(),N=Nh(),O=function(){throw new f},D=I?function(){try{return arguments.callee,O}catch{try{return I(arguments,"callee").get}catch{return O}}}():O,$=yk()(),z=q1(),G=z4(),L=j4(),te=F1(),E=U1(),o={},u=typeof Uint8Array>"u"||!z?t:z(Uint8Array),l={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":$&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":T,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":n,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$&&z?z(""[Symbol.iterator]()):t,"%Symbol%":$?Symbol:t,"%SyntaxError%":c,"%ThrowTypeError%":D,"%TypedArray%":u,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":E,"%Function.prototype.apply%":te,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":G,"%Math.abs%":p,"%Math.floor%":d,"%Math.max%":y,"%Math.min%":_,"%Math.pow%":x,"%Math.round%":M,"%Math.sign%":C,"%Reflect.getPrototypeOf%":L};if(z)try{null.error}catch(X){var h=z(z(X));l["%Error.prototype%"]=h}var g=function X(re){var ee;if(re==="%AsyncFunction%")ee=S("async function () {}");else if(re==="%GeneratorFunction%")ee=S("function* () {}");else if(re==="%AsyncGeneratorFunction%")ee=S("async function* () {}");else if(re==="%AsyncGenerator%"){var H=X("%AsyncGeneratorFunction%");H&&(ee=H.prototype)}else if(re==="%AsyncIteratorPrototype%"){var oe=X("%AsyncGenerator%");oe&&z&&(ee=z(oe.prototype))}return l[re]=ee,ee},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Ju(),v=W4(),a=A.call(E,Array.prototype.concat),b=A.call(te,Array.prototype.splice),R=A.call(E,String.prototype.replace),P=A.call(E,String.prototype.slice),F=A.call(E,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,U=function(re){var ee=P(re,0,1),H=P(re,-1);if(ee==="%"&&H!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&ee!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var oe=[];return R(re,K,function(Ne,he,fe,$e){oe[oe.length]=fe?R($e,Z,"$1"):he||Ne}),oe},Y=function(re,ee){var H=re,oe;if(v(w,H)&&(oe=w[H],H="%"+oe[0]+"%"),v(l,H)){var Ne=l[H];if(Ne===o&&(Ne=g(H)),typeof Ne>"u"&&!ee)throw new f("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:oe,name:H,value:Ne}}throw new c("intrinsic "+re+" does not exist!")};return T0=function(re,ee){if(typeof re!="string"||re.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new f('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,re)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=U(re),oe=H.length>0?H[0]:"",Ne=Y("%"+oe+"%",ee),he=Ne.name,fe=Ne.value,$e=!1,ye=Ne.alias;ye&&(oe=ye[0],b(H,a([0,1],ye)));for(var ue=1,Ge=!0;ue<H.length;ue+=1){var de=H[ue],ve=P(de,0,1),ze=P(de,-1);if((ve==='"'||ve==="'"||ve==="`"||ze==='"'||ze==="'"||ze==="`")&&ve!==ze)throw new c("property names with quotes must have matching quotes");if((de==="constructor"||!Ge)&&($e=!0),oe+="."+de,he="%"+oe+"%",v(l,he))fe=l[he];else if(fe!=null){if(!(de in fe)){if(!ee)throw new f("base intrinsic for "+re+" exists, but the property is not available.");return}if(I&&ue+1>=H.length){var ge=I(fe,de);Ge=!!ge,Ge&&"get"in ge&&!("originalValue"in ge.get)?fe=ge.get:fe=fe[de]}else Ge=v(fe,de),fe=fe[de];Ge&&!$e&&(l[he]=fe)}}return fe},T0}var R0,t2;function Qu(){if(t2)return R0;t2=1;var t=V4(),e=L1(),r=e([t("%String.prototype.indexOf%")]);return R0=function(s,n){var c=t(s,!!n);return typeof c=="function"&&r(s,".prototype.")>-1?e([c]):c},R0}var N0,r2;function Ek(){if(r2)return N0;r2=1;var t=Rh()(),e=Qu(),r=e("Object.prototype.toString"),i=function(f){return t&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:r(f)==="[object Arguments]"},s=function(f){return i(f)?!0:f!==null&&typeof f=="object"&&"length"in f&&typeof f.length=="number"&&f.length>=0&&r(f)!=="[object Array]"&&"callee"in f&&r(f.callee)==="[object Function]"},n=function(){return i(arguments)}();return i.isLegacyArguments=s,N0=n?i:s,N0}var P0,i2;function Ak(){if(i2)return P0;i2=1;var t=Qu(),e=Rh()(),r=W4(),i=Ka(),s;if(e){var n=t("RegExp.prototype.exec"),c={},f=function(){throw c},m={toString:f,valueOf:f};typeof Symbol.toPrimitive=="symbol"&&(m[Symbol.toPrimitive]=f),s=function(_){if(!_||typeof _!="object")return!1;var x=i(_,"lastIndex"),M=x&&r(x,"value");if(!M)return!1;try{n(_,m)}catch(C){return C===c}}}else{var p=t("Object.prototype.toString"),d="[object RegExp]";s=function(_){return!_||typeof _!="object"&&typeof _!="function"?!1:p(_)===d}}return P0=s,P0}var O0,n2;function xk(){if(n2)return O0;n2=1;var t=Qu(),e=Ak(),r=t("RegExp.prototype.exec"),i=Yu();return O0=function(n){if(!e(n))throw new i("`regex` must be a RegExp");return function(f){return r(n,f)!==null}},O0}var k0,s2;function Mk(){if(s2)return k0;s2=1;var t=Qu(),e=xk(),r=e(/^\s*(?:function)?\*/),i=Rh()(),s=q1(),n=t("Object.prototype.toString"),c=t("Function.prototype.toString"),f=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},m;return k0=function(d){if(typeof d!="function")return!1;if(r(c(d)))return!0;if(!i){var y=n(d);return y==="[object GeneratorFunction]"}if(!s)return!1;if(typeof m>"u"){var _=f();m=_?s(_):!1}return s(d)===m},k0}var B0,o2;function Ck(){if(o2)return B0;o2=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,r)}catch(I){I!==i&&(e=null)}else e=null;var s=/^\s*class\b/,n=function(N){try{var O=t.call(N);return s.test(O)}catch{return!1}},c=function(N){try{return n(N)?!1:(t.call(N),!0)}catch{return!1}},f=Object.prototype.toString,m="[object Object]",p="[object Function]",d="[object GeneratorFunction]",y="[object HTMLAllCollection]",_="[object HTML document.all class]",x="[object HTMLCollection]",M=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),T=function(){return!1};if(typeof document=="object"){var S=document.all;f.call(S)===f.call(document.all)&&(T=function(N){if((C||!N)&&(typeof N>"u"||typeof N=="object"))try{var O=f.call(N);return(O===y||O===_||O===x||O===m)&&N("")==null}catch{}return!1})}return B0=e?function(N){if(T(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{e(N,null,r)}catch(O){if(O!==i)return!1}return!n(N)&&c(N)}:function(N){if(T(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(M)return c(N);if(n(N))return!1;var O=f.call(N);return O!==p&&O!==d&&!/^\[object HTML/.test(O)?!1:c(N)},B0}var D0,a2;function Sk(){if(a2)return D0;a2=1;var t=Ck(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=function(m,p,d){for(var y=0,_=m.length;y<_;y++)r.call(m,y)&&(d==null?p(m[y],y,m):p.call(d,m[y],y,m))},s=function(m,p,d){for(var y=0,_=m.length;y<_;y++)d==null?p(m.charAt(y),y,m):p.call(d,m.charAt(y),y,m)},n=function(m,p,d){for(var y in m)r.call(m,y)&&(d==null?p(m[y],y,m):p.call(d,m[y],y,m))};function c(f){return e.call(f)==="[object Array]"}return D0=function(m,p,d){if(!t(p))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=d),c(m)?i(m,p,y):typeof m=="string"?s(m,p,y):n(m,p,y)},D0}var $0,c2;function Ik(){return c2||(c2=1,$0=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),$0}var U0,u2;function Tk(){if(u2)return U0;u2=1;var t=Ik(),e=typeof globalThis>"u"?mt:globalThis;return U0=function(){for(var i=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(i[i.length]=t[s]);return i},U0}var F0={exports:{}},L0,f2;function Rk(){if(f2)return L0;f2=1;var t=Nh(),e=q4(),r=Yu(),i=Ka();return L0=function(n,c,f){if(!n||typeof n!="object"&&typeof n!="function")throw new r("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var m=arguments.length>3?arguments[3]:null,p=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,y=arguments.length>6?arguments[6]:!1,_=!!i&&i(n,c);if(t)t(n,c,{configurable:d===null&&_?_.configurable:!d,enumerable:m===null&&_?_.enumerable:!m,value:f,writable:p===null&&_?_.writable:!p});else if(y||!m&&!p&&!d)n[c]=f;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},L0}var q0,l2;function Nk(){if(l2)return q0;l2=1;var t=Nh(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},q0=e,q0}var j0,h2;function Pk(){if(h2)return j0;h2=1;var t=V4(),e=Rk(),r=Nk()(),i=Ka(),s=Yu(),n=t("%Math.floor%");return j0=function(f,m){if(typeof f!="function")throw new s("`fn` is not a function");if(typeof m!="number"||m<0||m>4294967295||n(m)!==m)throw new s("`length` must be a positive 32-bit integer");var p=arguments.length>2&&!!arguments[2],d=!0,y=!0;if("length"in f&&i){var _=i(f,"length");_&&!_.configurable&&(d=!1),_&&!_.writable&&(y=!1)}return(d||y||!p)&&(r?e(f,"length",m,!0,!0):e(f,"length",m)),f},j0}var z0,d2;function Ok(){if(d2)return z0;d2=1;var t=Ju(),e=F1(),r=H4();return z0=function(){return r(t,e,arguments)},z0}var p2;function kk(){return p2||(p2=1,function(t){var e=Pk(),r=Nh(),i=L1(),s=Ok();t.exports=function(c){var f=i(arguments),m=c.length-(arguments.length-1);return e(f,1+(m>0?m:0),!0)},r?r(t.exports,"apply",{value:s}):t.exports.apply=s}(F0)),F0.exports}var H0,m2;function K4(){if(m2)return H0;m2=1;var t=Sk(),e=Tk(),r=kk(),i=Qu(),s=Ka(),n=q1(),c=i("Object.prototype.toString"),f=Rh()(),m=typeof globalThis>"u"?mt:globalThis,p=e(),d=i("String.prototype.slice"),y=i("Array.prototype.indexOf",!0)||function(T,S){for(var I=0;I<T.length;I+=1)if(T[I]===S)return I;return-1},_={__proto__:null};f&&s&&n?t(p,function(C){var T=new m[C];if(Symbol.toStringTag in T&&n){var S=n(T),I=s(S,Symbol.toStringTag);if(!I&&S){var N=n(S);I=s(N,Symbol.toStringTag)}_["$"+C]=r(I.get)}}):t(p,function(C){var T=new m[C],S=T.slice||T.set;S&&(_["$"+C]=r(S))});var x=function(T){var S=!1;return t(_,function(I,N){if(!S)try{"$"+I(T)===N&&(S=d(N,1))}catch{}}),S},M=function(T){var S=!1;return t(_,function(I,N){if(!S)try{I(T),S=d(N,1)}catch{}}),S};return H0=function(T){if(!T||typeof T!="object")return!1;if(!f){var S=d(c(T),8,-1);return y(p,S)>-1?S:S!=="Object"?!1:M(T)}return s?x(T):null},H0}var W0,g2;function Bk(){if(g2)return W0;g2=1;var t=K4();return W0=function(r){return!!t(r)},W0}var v2;function Dk(){return v2||(v2=1,function(t){var e=Ek(),r=Mk(),i=K4(),s=Bk();function n(ue){return ue.call.bind(ue)}var c=typeof BigInt<"u",f=typeof Symbol<"u",m=n(Object.prototype.toString),p=n(Number.prototype.valueOf),d=n(String.prototype.valueOf),y=n(Boolean.prototype.valueOf);if(c)var _=n(BigInt.prototype.valueOf);if(f)var x=n(Symbol.prototype.valueOf);function M(ue,Ge){if(typeof ue!="object")return!1;try{return Ge(ue),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function C(ue){return typeof Promise<"u"&&ue instanceof Promise||ue!==null&&typeof ue=="object"&&typeof ue.then=="function"&&typeof ue.catch=="function"}t.isPromise=C;function T(ue){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ue):s(ue)||P(ue)}t.isArrayBufferView=T;function S(ue){return i(ue)==="Uint8Array"}t.isUint8Array=S;function I(ue){return i(ue)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function N(ue){return i(ue)==="Uint16Array"}t.isUint16Array=N;function O(ue){return i(ue)==="Uint32Array"}t.isUint32Array=O;function D(ue){return i(ue)==="Int8Array"}t.isInt8Array=D;function $(ue){return i(ue)==="Int16Array"}t.isInt16Array=$;function z(ue){return i(ue)==="Int32Array"}t.isInt32Array=z;function G(ue){return i(ue)==="Float32Array"}t.isFloat32Array=G;function L(ue){return i(ue)==="Float64Array"}t.isFloat64Array=L;function te(ue){return i(ue)==="BigInt64Array"}t.isBigInt64Array=te;function E(ue){return i(ue)==="BigUint64Array"}t.isBigUint64Array=E;function o(ue){return m(ue)==="[object Map]"}o.working=typeof Map<"u"&&o(new Map);function u(ue){return typeof Map>"u"?!1:o.working?o(ue):ue instanceof Map}t.isMap=u;function l(ue){return m(ue)==="[object Set]"}l.working=typeof Set<"u"&&l(new Set);function h(ue){return typeof Set>"u"?!1:l.working?l(ue):ue instanceof Set}t.isSet=h;function g(ue){return m(ue)==="[object WeakMap]"}g.working=typeof WeakMap<"u"&&g(new WeakMap);function w(ue){return typeof WeakMap>"u"?!1:g.working?g(ue):ue instanceof WeakMap}t.isWeakMap=w;function A(ue){return m(ue)==="[object WeakSet]"}A.working=typeof WeakSet<"u"&&A(new WeakSet);function v(ue){return A(ue)}t.isWeakSet=v;function a(ue){return m(ue)==="[object ArrayBuffer]"}a.working=typeof ArrayBuffer<"u"&&a(new ArrayBuffer);function b(ue){return typeof ArrayBuffer>"u"?!1:a.working?a(ue):ue instanceof ArrayBuffer}t.isArrayBuffer=b;function R(ue){return m(ue)==="[object DataView]"}R.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&R(new DataView(new ArrayBuffer(1),0,1));function P(ue){return typeof DataView>"u"?!1:R.working?R(ue):ue instanceof DataView}t.isDataView=P;var F=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function K(ue){return m(ue)==="[object SharedArrayBuffer]"}function Z(ue){return typeof F>"u"?!1:(typeof K.working>"u"&&(K.working=K(new F)),K.working?K(ue):ue instanceof F)}t.isSharedArrayBuffer=Z;function U(ue){return m(ue)==="[object AsyncFunction]"}t.isAsyncFunction=U;function Y(ue){return m(ue)==="[object Map Iterator]"}t.isMapIterator=Y;function X(ue){return m(ue)==="[object Set Iterator]"}t.isSetIterator=X;function re(ue){return m(ue)==="[object Generator]"}t.isGeneratorObject=re;function ee(ue){return m(ue)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ee;function H(ue){return M(ue,p)}t.isNumberObject=H;function oe(ue){return M(ue,d)}t.isStringObject=oe;function Ne(ue){return M(ue,y)}t.isBooleanObject=Ne;function he(ue){return c&&M(ue,_)}t.isBigIntObject=he;function fe(ue){return f&&M(ue,x)}t.isSymbolObject=fe;function $e(ue){return H(ue)||oe(ue)||Ne(ue)||he(ue)||fe(ue)}t.isBoxedPrimitive=$e;function ye(ue){return typeof Uint8Array<"u"&&(b(ue)||Z(ue))}t.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ue){Object.defineProperty(t,ue,{enumerable:!1,value:function(){throw new Error(ue+" is not supported in userland")}})})}(Gd)),Gd}var V0,y2;function $k(){return y2||(y2=1,V0=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),V0}var b2;function Ph(){return b2||(b2=1,function(t){var e={},r=Object.getOwnPropertyDescriptors||function(F){for(var K=Object.keys(F),Z={},U=0;U<K.length;U++)Z[K[U]]=Object.getOwnPropertyDescriptor(F,K[U]);return Z},i=/%[sdj%]/g;t.format=function(P){if(!$(P)){for(var F=[],K=0;K<arguments.length;K++)F.push(f(arguments[K]));return F.join(" ")}for(var K=1,Z=arguments,U=Z.length,Y=String(P).replace(i,function(re){if(re==="%%")return"%";if(K>=U)return re;switch(re){case"%s":return String(Z[K++]);case"%d":return Number(Z[K++]);case"%j":try{return JSON.stringify(Z[K++])}catch{return"[Circular]"}default:return re}}),X=Z[K];K<U;X=Z[++K])N(X)||!te(X)?Y+=" "+X:Y+=" "+f(X);return Y},t.deprecate=function(P,F){if(typeof We<"u"&&We.noDeprecation===!0)return P;if(typeof We>"u")return function(){return t.deprecate(P,F).apply(this,arguments)};var K=!1;function Z(){if(!K){if(We.throwDeprecation)throw new Error(F);We.traceDeprecation?console.trace(F):console.error(F),K=!0}return P.apply(this,arguments)}return Z};var s={},n=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),n=new RegExp("^"+c+"$","i")}t.debuglog=function(P){if(P=P.toUpperCase(),!s[P])if(n.test(P)){var F=We.pid;s[P]=function(){var K=t.format.apply(t,arguments);console.error("%s %d: %s",P,F,K)}}else s[P]=function(){};return s[P]};function f(P,F){var K={seen:[],stylize:p};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),I(F)?K.showHidden=F:F&&t._extend(K,F),G(K.showHidden)&&(K.showHidden=!1),G(K.depth)&&(K.depth=2),G(K.colors)&&(K.colors=!1),G(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=m),y(K,P,K.depth)}t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function m(P,F){var K=f.styles[F];return K?"\x1B["+f.colors[K][0]+"m"+P+"\x1B["+f.colors[K][1]+"m":P}function p(P,F){return P}function d(P){var F={};return P.forEach(function(K,Z){F[K]=!0}),F}function y(P,F,K){if(P.customInspect&&F&&u(F.inspect)&&F.inspect!==t.inspect&&!(F.constructor&&F.constructor.prototype===F)){var Z=F.inspect(K,P);return $(Z)||(Z=y(P,Z,K)),Z}var U=_(P,F);if(U)return U;var Y=Object.keys(F),X=d(Y);if(P.showHidden&&(Y=Object.getOwnPropertyNames(F)),o(F)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return x(F);if(Y.length===0){if(u(F)){var re=F.name?": "+F.name:"";return P.stylize("[Function"+re+"]","special")}if(L(F))return P.stylize(RegExp.prototype.toString.call(F),"regexp");if(E(F))return P.stylize(Date.prototype.toString.call(F),"date");if(o(F))return x(F)}var ee="",H=!1,oe=["{","}"];if(S(F)&&(H=!0,oe=["[","]"]),u(F)){var Ne=F.name?": "+F.name:"";ee=" [Function"+Ne+"]"}if(L(F)&&(ee=" "+RegExp.prototype.toString.call(F)),E(F)&&(ee=" "+Date.prototype.toUTCString.call(F)),o(F)&&(ee=" "+x(F)),Y.length===0&&(!H||F.length==0))return oe[0]+ee+oe[1];if(K<0)return L(F)?P.stylize(RegExp.prototype.toString.call(F),"regexp"):P.stylize("[Object]","special");P.seen.push(F);var he;return H?he=M(P,F,K,X,Y):he=Y.map(function(fe){return C(P,F,K,X,fe,H)}),P.seen.pop(),T(he,ee,oe)}function _(P,F){if(G(F))return P.stylize("undefined","undefined");if($(F)){var K="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(K,"string")}if(D(F))return P.stylize(""+F,"number");if(I(F))return P.stylize(""+F,"boolean");if(N(F))return P.stylize("null","null")}function x(P){return"["+Error.prototype.toString.call(P)+"]"}function M(P,F,K,Z,U){for(var Y=[],X=0,re=F.length;X<re;++X)v(F,String(X))?Y.push(C(P,F,K,Z,String(X),!0)):Y.push("");return U.forEach(function(ee){ee.match(/^\d+$/)||Y.push(C(P,F,K,Z,ee,!0))}),Y}function C(P,F,K,Z,U,Y){var X,re,ee;if(ee=Object.getOwnPropertyDescriptor(F,U)||{value:F[U]},ee.get?ee.set?re=P.stylize("[Getter/Setter]","special"):re=P.stylize("[Getter]","special"):ee.set&&(re=P.stylize("[Setter]","special")),v(Z,U)||(X="["+U+"]"),re||(P.seen.indexOf(ee.value)<0?(N(K)?re=y(P,ee.value,null):re=y(P,ee.value,K-1),re.indexOf(`
`)>-1&&(Y?re=re.split(`
`).map(function(H){return"  "+H}).join(`
`).slice(2):re=`
`+re.split(`
`).map(function(H){return"   "+H}).join(`
`))):re=P.stylize("[Circular]","special")),G(X)){if(Y&&U.match(/^\d+$/))return re;X=JSON.stringify(""+U),X.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(X=X.slice(1,-1),X=P.stylize(X,"name")):(X=X.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),X=P.stylize(X,"string"))}return X+": "+re}function T(P,F,K){var Z=P.reduce(function(U,Y){return Y.indexOf(`
`)>=0,U+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?K[0]+(F===""?"":F+`
 `)+" "+P.join(`,
  `)+" "+K[1]:K[0]+F+" "+P.join(", ")+" "+K[1]}t.types=Dk();function S(P){return Array.isArray(P)}t.isArray=S;function I(P){return typeof P=="boolean"}t.isBoolean=I;function N(P){return P===null}t.isNull=N;function O(P){return P==null}t.isNullOrUndefined=O;function D(P){return typeof P=="number"}t.isNumber=D;function $(P){return typeof P=="string"}t.isString=$;function z(P){return typeof P=="symbol"}t.isSymbol=z;function G(P){return P===void 0}t.isUndefined=G;function L(P){return te(P)&&h(P)==="[object RegExp]"}t.isRegExp=L,t.types.isRegExp=L;function te(P){return typeof P=="object"&&P!==null}t.isObject=te;function E(P){return te(P)&&h(P)==="[object Date]"}t.isDate=E,t.types.isDate=E;function o(P){return te(P)&&(h(P)==="[object Error]"||P instanceof Error)}t.isError=o,t.types.isNativeError=o;function u(P){return typeof P=="function"}t.isFunction=u;function l(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}t.isPrimitive=l,t.isBuffer=$k();function h(P){return Object.prototype.toString.call(P)}function g(P){return P<10?"0"+P.toString(10):P.toString(10)}var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var P=new Date,F=[g(P.getHours()),g(P.getMinutes()),g(P.getSeconds())].join(":");return[P.getDate(),w[P.getMonth()],F].join(" ")}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=pt(),t._extend=function(P,F){if(!F||!te(F))return P;for(var K=Object.keys(F),Z=K.length;Z--;)P[K[Z]]=F[K[Z]];return P};function v(P,F){return Object.prototype.hasOwnProperty.call(P,F)}var a=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(a&&F[a]){var K=F[a];if(typeof K!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(K,a,{value:K,enumerable:!1,writable:!1,configurable:!0}),K}function K(){for(var Z,U,Y=new Promise(function(ee,H){Z=ee,U=H}),X=[],re=0;re<arguments.length;re++)X.push(arguments[re]);X.push(function(ee,H){ee?U(ee):Z(H)});try{F.apply(this,X)}catch(ee){U(ee)}return Y}return Object.setPrototypeOf(K,Object.getPrototypeOf(F)),a&&Object.defineProperty(K,a,{value:K,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(K,r(F))},t.promisify.custom=a;function b(P,F){if(!P){var K=new Error("Promise was rejected with a falsy value");K.reason=P,P=K}return F(P)}function R(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var K=[],Z=0;Z<arguments.length;Z++)K.push(arguments[Z]);var U=K.pop();if(typeof U!="function")throw new TypeError("The last argument must be of type Function");var Y=this,X=function(){return U.apply(Y,arguments)};P.apply(this,K).then(function(re){We.nextTick(X.bind(null,null,re))},function(re){We.nextTick(b.bind(null,re,X))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(P)),Object.defineProperties(F,r(P)),F}t.callbackify=R}(Kd)),Kd}var K0,w2;function Uk(){if(w2)return K0;w2=1;function t(M,C){var T=Object.keys(M);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(M);C&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(M,I).enumerable})),T.push.apply(T,S)}return T}function e(M){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?t(Object(T),!0).forEach(function(S){r(M,S,T[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(T)):t(Object(T)).forEach(function(S){Object.defineProperty(M,S,Object.getOwnPropertyDescriptor(T,S))})}return M}function r(M,C,T){return C=c(C),C in M?Object.defineProperty(M,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[C]=T,M}function i(M,C){if(!(M instanceof C))throw new TypeError("Cannot call a class as a function")}function s(M,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,c(S.key),S)}}function n(M,C,T){return C&&s(M.prototype,C),Object.defineProperty(M,"prototype",{writable:!1}),M}function c(M){var C=f(M,"string");return typeof C=="symbol"?C:String(C)}function f(M,C){if(typeof M!="object"||M===null)return M;var T=M[Symbol.toPrimitive];if(T!==void 0){var S=T.call(M,C);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}var m=Vr(),p=m.Buffer,d=Ph(),y=d.inspect,_=y&&y.custom||"inspect";function x(M,C,T){p.prototype.copy.call(M,C,T)}return K0=function(){function M(){i(this,M),this.head=null,this.tail=null,this.length=0}return n(M,[{key:"push",value:function(T){var S={data:T,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(T){var S={data:T,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var S=this.head,I=""+S.data;S=S.next;)I+=T+S.data;return I}},{key:"concat",value:function(T){if(this.length===0)return p.alloc(0);for(var S=p.allocUnsafe(T>>>0),I=this.head,N=0;I;)x(I.data,S,N),N+=I.data.length,I=I.next;return S}},{key:"consume",value:function(T,S){var I;return T<this.head.data.length?(I=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?I=this.shift():I=S?this._getString(T):this._getBuffer(T),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var S=this.head,I=1,N=S.data;for(T-=N.length;S=S.next;){var O=S.data,D=T>O.length?O.length:T;if(D===O.length?N+=O:N+=O.slice(0,T),T-=D,T===0){D===O.length?(++I,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=O.slice(D));break}++I}return this.length-=I,N}},{key:"_getBuffer",value:function(T){var S=p.allocUnsafe(T),I=this.head,N=1;for(I.data.copy(S),T-=I.data.length;I=I.next;){var O=I.data,D=T>O.length?O.length:T;if(O.copy(S,S.length-T,0,D),T-=D,T===0){D===O.length?(++N,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=O.slice(D));break}++N}return this.length-=N,S}},{key:_,value:function(T,S){return y(this,e(e({},S),{},{depth:0,customInspect:!1}))}}]),M}(),K0}var G0,_2;function G4(){if(_2)return G0;_2=1;function t(c,f){var m=this,p=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return p||d?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,We.nextTick(s,this,c)):We.nextTick(s,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(y){!f&&y?m._writableState?m._writableState.errorEmitted?We.nextTick(r,m):(m._writableState.errorEmitted=!0,We.nextTick(e,m,y)):We.nextTick(e,m,y):f?(We.nextTick(r,m),f(y)):We.nextTick(r,m)}),this)}function e(c,f){s(c,f),r(c)}function r(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(c,f){c.emit("error",f)}function n(c,f){var m=c._readableState,p=c._writableState;m&&m.autoDestroy||p&&p.autoDestroy?c.destroy(f):c.emit("error",f)}return G0={destroy:t,undestroy:i,errorOrDestroy:n},G0}var Z0={},E2;function Ga(){if(E2)return Z0;E2=1;function t(f,m){f.prototype=Object.create(m.prototype),f.prototype.constructor=f,f.__proto__=m}var e={};function r(f,m,p){p||(p=Error);function d(_,x,M){return typeof m=="string"?m:m(_,x,M)}var y=function(_){t(x,_);function x(M,C,T){return _.call(this,d(M,C,T))||this}return x}(p);y.prototype.name=p.name,y.prototype.code=f,e[f]=y}function i(f,m){if(Array.isArray(f)){var p=f.length;return f=f.map(function(d){return String(d)}),p>2?"one of ".concat(m," ").concat(f.slice(0,p-1).join(", "),", or ")+f[p-1]:p===2?"one of ".concat(m," ").concat(f[0]," or ").concat(f[1]):"of ".concat(m," ").concat(f[0])}else return"of ".concat(m," ").concat(String(f))}function s(f,m,p){return f.substr(0,m.length)===m}function n(f,m,p){return(p===void 0||p>f.length)&&(p=f.length),f.substring(p-m.length,p)===m}function c(f,m,p){return typeof p!="number"&&(p=0),p+m.length>f.length?!1:f.indexOf(m,p)!==-1}return r("ERR_INVALID_OPT_VALUE",function(f,m){return'The value "'+m+'" is invalid for option "'+f+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(f,m,p){var d;typeof m=="string"&&s(m,"not ")?(d="must not be",m=m.replace(/^not /,"")):d="must be";var y;if(n(f," argument"))y="The ".concat(f," ").concat(d," ").concat(i(m,"type"));else{var _=c(f,".")?"property":"argument";y='The "'.concat(f,'" ').concat(_," ").concat(d," ").concat(i(m,"type"))}return y+=". Received type ".concat(typeof p),y},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Z0.codes=e,Z0}var Y0,A2;function Z4(){if(A2)return Y0;A2=1;var t=Ga().codes.ERR_INVALID_OPT_VALUE;function e(i,s,n){return i.highWaterMark!=null?i.highWaterMark:s?i[n]:null}function r(i,s,n,c){var f=e(s,c,n);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var m=c?n:"highWaterMark";throw new t(m,f)}return Math.floor(f)}return i.objectMode?16:16*1024}return Y0={getHighWaterMark:r},Y0}var J0,x2;function Y4(){if(x2)return J0;x2=1,J0=t;function t(r,i){if(e("noDeprecation"))return r;var s=!1;function n(){if(!s){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),s=!0}return r.apply(this,arguments)}return n}function e(r){try{if(!mt.localStorage)return!1}catch{return!1}var i=mt.localStorage[r];return i==null?!1:String(i).toLowerCase()==="true"}return J0}var Q0,M2;function j1(){if(M2)return Q0;M2=1,Q0=G;function t(Z){var U=this;this.next=null,this.entry=null,this.finish=function(){K(U,Z)}}var e;G.WritableState=$;var r={deprecate:Y4()},i=U4(),s=Vr().Buffer,n=(typeof mt<"u"?mt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(Z){return s.from(Z)}function f(Z){return s.isBuffer(Z)||Z instanceof n}var m=G4(),p=Z4(),d=p.getHighWaterMark,y=Ga().codes,_=y.ERR_INVALID_ARG_TYPE,x=y.ERR_METHOD_NOT_IMPLEMENTED,M=y.ERR_MULTIPLE_CALLBACK,C=y.ERR_STREAM_CANNOT_PIPE,T=y.ERR_STREAM_DESTROYED,S=y.ERR_STREAM_NULL_VALUES,I=y.ERR_STREAM_WRITE_AFTER_END,N=y.ERR_UNKNOWN_ENCODING,O=m.errorOrDestroy;pt()(G,i);function D(){}function $(Z,U,Y){e=e||wo(),Z=Z||{},typeof Y!="boolean"&&(Y=U instanceof e),this.objectMode=!!Z.objectMode,Y&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=d(this,Z,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=Z.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){g(U,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}$.prototype.getBuffer=function(){for(var U=this.bufferedRequest,Y=[];U;)Y.push(U),U=U.next;return Y},function(){try{Object.defineProperty($.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(U){return z.call(this,U)?!0:this!==G?!1:U&&U._writableState instanceof $}})):z=function(U){return U instanceof this};function G(Z){e=e||wo();var U=this instanceof e;if(!U&&!z.call(G,this))return new G(Z);this._writableState=new $(Z,this,U),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),i.call(this)}G.prototype.pipe=function(){O(this,new C)};function L(Z,U){var Y=new I;O(Z,Y),We.nextTick(U,Y)}function te(Z,U,Y,X){var re;return Y===null?re=new S:typeof Y!="string"&&!U.objectMode&&(re=new _("chunk",["string","Buffer"],Y)),re?(O(Z,re),We.nextTick(X,re),!1):!0}G.prototype.write=function(Z,U,Y){var X=this._writableState,re=!1,ee=!X.objectMode&&f(Z);return ee&&!s.isBuffer(Z)&&(Z=c(Z)),typeof U=="function"&&(Y=U,U=null),ee?U="buffer":U||(U=X.defaultEncoding),typeof Y!="function"&&(Y=D),X.ending?L(this,Y):(ee||te(this,X,Z,Y))&&(X.pendingcb++,re=o(this,X,ee,Z,U,Y)),re},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&v(this,Z))},G.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new N(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E(Z,U,Y){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof U=="string"&&(U=s.from(U,Y)),U}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(Z,U,Y,X,re,ee){if(!Y){var H=E(U,X,re);X!==H&&(Y=!0,re="buffer",X=H)}var oe=U.objectMode?1:X.length;U.length+=oe;var Ne=U.length<U.highWaterMark;if(Ne||(U.needDrain=!0),U.writing||U.corked){var he=U.lastBufferedRequest;U.lastBufferedRequest={chunk:X,encoding:re,isBuf:Y,callback:ee,next:null},he?he.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else u(Z,U,!1,oe,X,re,ee);return Ne}function u(Z,U,Y,X,re,ee,H){U.writelen=X,U.writecb=H,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new T("write")):Y?Z._writev(re,U.onwrite):Z._write(re,ee,U.onwrite),U.sync=!1}function l(Z,U,Y,X,re){--U.pendingcb,Y?(We.nextTick(re,X),We.nextTick(P,Z,U),Z._writableState.errorEmitted=!0,O(Z,X)):(re(X),Z._writableState.errorEmitted=!0,O(Z,X),P(Z,U))}function h(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function g(Z,U){var Y=Z._writableState,X=Y.sync,re=Y.writecb;if(typeof re!="function")throw new M;if(h(Y),U)l(Z,Y,X,U,re);else{var ee=a(Y)||Z.destroyed;!ee&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&v(Z,Y),X?We.nextTick(w,Z,Y,ee,re):w(Z,Y,ee,re)}}function w(Z,U,Y,X){Y||A(Z,U),U.pendingcb--,X(),P(Z,U)}function A(Z,U){U.length===0&&U.needDrain&&(U.needDrain=!1,Z.emit("drain"))}function v(Z,U){U.bufferProcessing=!0;var Y=U.bufferedRequest;if(Z._writev&&Y&&Y.next){var X=U.bufferedRequestCount,re=new Array(X),ee=U.corkedRequestsFree;ee.entry=Y;for(var H=0,oe=!0;Y;)re[H]=Y,Y.isBuf||(oe=!1),Y=Y.next,H+=1;re.allBuffers=oe,u(Z,U,!0,U.length,re,"",ee.finish),U.pendingcb++,U.lastBufferedRequest=null,ee.next?(U.corkedRequestsFree=ee.next,ee.next=null):U.corkedRequestsFree=new t(U),U.bufferedRequestCount=0}else{for(;Y;){var Ne=Y.chunk,he=Y.encoding,fe=Y.callback,$e=U.objectMode?1:Ne.length;if(u(Z,U,!1,$e,Ne,he,fe),Y=Y.next,U.bufferedRequestCount--,U.writing)break}Y===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=Y,U.bufferProcessing=!1}G.prototype._write=function(Z,U,Y){Y(new x("_write()"))},G.prototype._writev=null,G.prototype.end=function(Z,U,Y){var X=this._writableState;return typeof Z=="function"?(Y=Z,Z=null,U=null):typeof U=="function"&&(Y=U,U=null),Z!=null&&this.write(Z,U),X.corked&&(X.corked=1,this.uncork()),X.ending||F(this,X,Y),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function b(Z,U){Z._final(function(Y){U.pendingcb--,Y&&O(Z,Y),U.prefinished=!0,Z.emit("prefinish"),P(Z,U)})}function R(Z,U){!U.prefinished&&!U.finalCalled&&(typeof Z._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,We.nextTick(b,Z,U)):(U.prefinished=!0,Z.emit("prefinish")))}function P(Z,U){var Y=a(U);if(Y&&(R(Z,U),U.pendingcb===0&&(U.finished=!0,Z.emit("finish"),U.autoDestroy))){var X=Z._readableState;(!X||X.autoDestroy&&X.endEmitted)&&Z.destroy()}return Y}function F(Z,U,Y){U.ending=!0,P(Z,U),Y&&(U.finished?We.nextTick(Y):Z.once("finish",Y)),U.ended=!0,Z.writable=!1}function K(Z,U,Y){var X=Z.entry;for(Z.entry=null;X;){var re=X.callback;U.pendingcb--,re(Y),X=X.next}U.corkedRequestsFree.next=Z}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),G.prototype.destroy=m.destroy,G.prototype._undestroy=m.undestroy,G.prototype._destroy=function(Z,U){U(Z)},Q0}var X0,C2;function wo(){if(C2)return X0;C2=1;var t=Object.keys||function(p){var d=[];for(var y in p)d.push(y);return d};X0=c;var e=z1(),r=j1();pt()(c,e);for(var i=t(r.prototype),s=0;s<i.length;s++){var n=i[s];c.prototype[n]||(c.prototype[n]=r.prototype[n])}function c(p){if(!(this instanceof c))return new c(p);e.call(this,p),r.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||We.nextTick(m,this)}function m(p){p.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),X0}var ep={},S2;function gv(){if(S2)return ep;S2=1;var t=xt().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var I;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(I)return;S=(""+S).toLowerCase(),I=!0}}function i(S){var I=r(S);if(typeof I!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return I||S}ep.StringDecoder=s;function s(S){this.encoding=i(S);var I;switch(this.encoding){case"utf16le":this.text=y,this.end=_,I=4;break;case"utf8":this.fillLast=m,I=4;break;case"base64":this.text=x,this.end=M,I=3;break;default:this.write=C,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}s.prototype.write=function(S){if(S.length===0)return"";var I,N;if(this.lastNeed){if(I=this.fillLast(S),I===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<S.length?I?I+this.text(S,N):this.text(S,N):I||""},s.prototype.end=d,s.prototype.text=p,s.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function n(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function c(S,I,N){var O=I.length-1;if(O<N)return 0;var D=n(I[O]);return D>=0?(D>0&&(S.lastNeed=D-1),D):--O<N||D===-2?0:(D=n(I[O]),D>=0?(D>0&&(S.lastNeed=D-2),D):--O<N||D===-2?0:(D=n(I[O]),D>=0?(D>0&&(D===2?D=0:S.lastNeed=D-3),D):0))}function f(S,I,N){if((I[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return S.lastNeed=2,""}}function m(S){var I=this.lastTotal-this.lastNeed,N=f(this,S);if(N!==void 0)return N;if(this.lastNeed<=S.length)return S.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,I,0,S.length),this.lastNeed-=S.length}function p(S,I){var N=c(this,S,I);if(!this.lastNeed)return S.toString("utf8",I);this.lastTotal=N;var O=S.length-(N-this.lastNeed);return S.copy(this.lastChar,0,O),S.toString("utf8",I,O)}function d(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+"":I}function y(S,I){if((S.length-I)%2===0){var N=S.toString("utf16le",I);if(N){var O=N.charCodeAt(N.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",I,S.length-1)}function _(S){var I=S&&S.length?this.write(S):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,N)}return I}function x(S,I){var N=(S.length-I)%3;return N===0?S.toString("base64",I):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",I,S.length-N))}function M(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function C(S){return S.toString(this.encoding)}function T(S){return S&&S.length?this.write(S):""}return ep}var tp,I2;function Oh(){if(I2)return tp;I2=1;var t=Ga().codes.ERR_STREAM_PREMATURE_CLOSE;function e(n){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];n.apply(this,m)}}}function r(){}function i(n){return n.setHeader&&typeof n.abort=="function"}function s(n,c,f){if(typeof c=="function")return s(n,null,c);c||(c={}),f=e(f||r);var m=c.readable||c.readable!==!1&&n.readable,p=c.writable||c.writable!==!1&&n.writable,d=function(){n.writable||_()},y=n._writableState&&n._writableState.finished,_=function(){p=!1,y=!0,m||f.call(n)},x=n._readableState&&n._readableState.endEmitted,M=function(){m=!1,x=!0,p||f.call(n)},C=function(N){f.call(n,N)},T=function(){var N;if(m&&!x)return(!n._readableState||!n._readableState.ended)&&(N=new t),f.call(n,N);if(p&&!y)return(!n._writableState||!n._writableState.ended)&&(N=new t),f.call(n,N)},S=function(){n.req.on("finish",_)};return i(n)?(n.on("complete",_),n.on("abort",T),n.req?S():n.on("request",S)):p&&!n._writableState&&(n.on("end",d),n.on("close",d)),n.on("end",M),n.on("finish",_),c.error!==!1&&n.on("error",C),n.on("close",T),function(){n.removeListener("complete",_),n.removeListener("abort",T),n.removeListener("request",S),n.req&&n.req.removeListener("finish",_),n.removeListener("end",d),n.removeListener("close",d),n.removeListener("finish",_),n.removeListener("end",M),n.removeListener("error",C),n.removeListener("close",T)}}return tp=s,tp}var rp,T2;function Fk(){if(T2)return rp;T2=1;var t;function e(N,O,D){return O=r(O),O in N?Object.defineProperty(N,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[O]=D,N}function r(N){var O=i(N,"string");return typeof O=="symbol"?O:String(O)}function i(N,O){if(typeof N!="object"||N===null)return N;var D=N[Symbol.toPrimitive];if(D!==void 0){var $=D.call(N,O);if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(N)}var s=Oh(),n=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),m=Symbol("ended"),p=Symbol("lastPromise"),d=Symbol("handlePromise"),y=Symbol("stream");function _(N,O){return{value:N,done:O}}function x(N){var O=N[n];if(O!==null){var D=N[y].read();D!==null&&(N[p]=null,N[n]=null,N[c]=null,O(_(D,!1)))}}function M(N){We.nextTick(x,N)}function C(N,O){return function(D,$){N.then(function(){if(O[m]){D(_(void 0,!0));return}O[d](D,$)},$)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var O=this,D=this[f];if(D!==null)return Promise.reject(D);if(this[m])return Promise.resolve(_(void 0,!0));if(this[y].destroyed)return new Promise(function(L,te){We.nextTick(function(){O[f]?te(O[f]):L(_(void 0,!0))})});var $=this[p],z;if($)z=new Promise(C($,this));else{var G=this[y].read();if(G!==null)return Promise.resolve(_(G,!1));z=new Promise(this[d])}return this[p]=z,z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var O=this;return new Promise(function(D,$){O[y].destroy(null,function(z){if(z){$(z);return}D(_(void 0,!0))})})}),t),T),I=function(O){var D,$=Object.create(S,(D={},e(D,y,{value:O,writable:!0}),e(D,n,{value:null,writable:!0}),e(D,c,{value:null,writable:!0}),e(D,f,{value:null,writable:!0}),e(D,m,{value:O._readableState.endEmitted,writable:!0}),e(D,d,{value:function(G,L){var te=$[y].read();te?($[p]=null,$[n]=null,$[c]=null,G(_(te,!1))):($[n]=G,$[c]=L)},writable:!0}),D));return $[p]=null,s(O,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=$[c];G!==null&&($[p]=null,$[n]=null,$[c]=null,G(z)),$[f]=z;return}var L=$[n];L!==null&&($[p]=null,$[n]=null,$[c]=null,L(_(void 0,!0))),$[m]=!0}),O.on("readable",M.bind(null,$)),$};return rp=I,rp}var ip,R2;function Lk(){return R2||(R2=1,ip=function(){throw new Error("Readable.from is not available in the browser")}),ip}var np,N2;function z1(){if(N2)return np;N2=1,np=L;var t;L.ReadableState=G,Fa().EventEmitter;var e=function(H,oe){return H.listeners(oe).length},r=U4(),i=Vr().Buffer,s=(typeof mt<"u"?mt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(ee){return i.from(ee)}function c(ee){return i.isBuffer(ee)||ee instanceof s}var f=Ph(),m;f&&f.debuglog?m=f.debuglog("stream"):m=function(){};var p=Uk(),d=G4(),y=Z4(),_=y.getHighWaterMark,x=Ga().codes,M=x.ERR_INVALID_ARG_TYPE,C=x.ERR_STREAM_PUSH_AFTER_EOF,T=x.ERR_METHOD_NOT_IMPLEMENTED,S=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,N,O;pt()(L,r);var D=d.errorOrDestroy,$=["error","close","destroy","pause","resume"];function z(ee,H,oe){if(typeof ee.prependListener=="function")return ee.prependListener(H,oe);!ee._events||!ee._events[H]?ee.on(H,oe):Array.isArray(ee._events[H])?ee._events[H].unshift(oe):ee._events[H]=[oe,ee._events[H]]}function G(ee,H,oe){t=t||wo(),ee=ee||{},typeof oe!="boolean"&&(oe=H instanceof t),this.objectMode=!!ee.objectMode,oe&&(this.objectMode=this.objectMode||!!ee.readableObjectMode),this.highWaterMark=_(this,ee,"readableHighWaterMark",oe),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ee.encoding&&(I||(I=gv().StringDecoder),this.decoder=new I(ee.encoding),this.encoding=ee.encoding)}function L(ee){if(t=t||wo(),!(this instanceof L))return new L(ee);var H=this instanceof t;this._readableState=new G(ee,this,H),this.readable=!0,ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),L.prototype.destroy=d.destroy,L.prototype._undestroy=d.undestroy,L.prototype._destroy=function(ee,H){H(ee)},L.prototype.push=function(ee,H){var oe=this._readableState,Ne;return oe.objectMode?Ne=!0:typeof ee=="string"&&(H=H||oe.defaultEncoding,H!==oe.encoding&&(ee=i.from(ee,H),H=""),Ne=!0),te(this,ee,H,!1,Ne)},L.prototype.unshift=function(ee){return te(this,ee,null,!0,!1)};function te(ee,H,oe,Ne,he){m("readableAddChunk",H);var fe=ee._readableState;if(H===null)fe.reading=!1,g(ee,fe);else{var $e;if(he||($e=o(fe,H)),$e)D(ee,$e);else if(fe.objectMode||H&&H.length>0)if(typeof H!="string"&&!fe.objectMode&&Object.getPrototypeOf(H)!==i.prototype&&(H=n(H)),Ne)fe.endEmitted?D(ee,new S):E(ee,fe,H,!0);else if(fe.ended)D(ee,new C);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!oe?(H=fe.decoder.write(H),fe.objectMode||H.length!==0?E(ee,fe,H,!1):v(ee,fe)):E(ee,fe,H,!1)}else Ne||(fe.reading=!1,v(ee,fe))}return!fe.ended&&(fe.length<fe.highWaterMark||fe.length===0)}function E(ee,H,oe,Ne){H.flowing&&H.length===0&&!H.sync?(H.awaitDrain=0,ee.emit("data",oe)):(H.length+=H.objectMode?1:oe.length,Ne?H.buffer.unshift(oe):H.buffer.push(oe),H.needReadable&&w(ee)),v(ee,H)}function o(ee,H){var oe;return!c(H)&&typeof H!="string"&&H!==void 0&&!ee.objectMode&&(oe=new M("chunk",["string","Buffer","Uint8Array"],H)),oe}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(ee){I||(I=gv().StringDecoder);var H=new I(ee);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,Ne="";oe!==null;)Ne+=H.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),Ne!==""&&this._readableState.buffer.push(Ne),this._readableState.length=Ne.length,this};var u=1073741824;function l(ee){return ee>=u?ee=u:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}function h(ee,H){return ee<=0||H.length===0&&H.ended?0:H.objectMode?1:ee!==ee?H.flowing&&H.length?H.buffer.head.data.length:H.length:(ee>H.highWaterMark&&(H.highWaterMark=l(ee)),ee<=H.length?ee:H.ended?H.length:(H.needReadable=!0,0))}L.prototype.read=function(ee){m("read",ee),ee=parseInt(ee,10);var H=this._readableState,oe=ee;if(ee!==0&&(H.emittedReadable=!1),ee===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return m("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?Y(this):w(this),null;if(ee=h(ee,H),ee===0&&H.ended)return H.length===0&&Y(this),null;var Ne=H.needReadable;m("need readable",Ne),(H.length===0||H.length-ee<H.highWaterMark)&&(Ne=!0,m("length less than watermark",Ne)),H.ended||H.reading?(Ne=!1,m("reading or ended",Ne)):Ne&&(m("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(ee=h(oe,H)));var he;return ee>0?he=U(ee,H):he=null,he===null?(H.needReadable=H.length<=H.highWaterMark,ee=0):(H.length-=ee,H.awaitDrain=0),H.length===0&&(H.ended||(H.needReadable=!0),oe!==ee&&H.ended&&Y(this)),he!==null&&this.emit("data",he),he};function g(ee,H){if(m("onEofChunk"),!H.ended){if(H.decoder){var oe=H.decoder.end();oe&&oe.length&&(H.buffer.push(oe),H.length+=H.objectMode?1:oe.length)}H.ended=!0,H.sync?w(ee):(H.needReadable=!1,H.emittedReadable||(H.emittedReadable=!0,A(ee)))}}function w(ee){var H=ee._readableState;m("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(m("emitReadable",H.flowing),H.emittedReadable=!0,We.nextTick(A,ee))}function A(ee){var H=ee._readableState;m("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&(H.length||H.ended)&&(ee.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,Z(ee)}function v(ee,H){H.readingMore||(H.readingMore=!0,We.nextTick(a,ee,H))}function a(ee,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){var oe=H.length;if(m("maybeReadMore read 0"),ee.read(0),oe===H.length)break}H.readingMore=!1}L.prototype._read=function(ee){D(this,new T("_read()"))},L.prototype.pipe=function(ee,H){var oe=this,Ne=this._readableState;switch(Ne.pipesCount){case 0:Ne.pipes=ee;break;case 1:Ne.pipes=[Ne.pipes,ee];break;default:Ne.pipes.push(ee);break}Ne.pipesCount+=1,m("pipe count=%d opts=%j",Ne.pipesCount,H);var he=(!H||H.end!==!1)&&ee!==We.stdout&&ee!==We.stderr,fe=he?ye:it;Ne.endEmitted?We.nextTick(fe):oe.once("end",fe),ee.on("unpipe",$e);function $e(Ae,Ie){m("onunpipe"),Ae===oe&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,de())}function ye(){m("onend"),ee.end()}var ue=b(oe);ee.on("drain",ue);var Ge=!1;function de(){m("cleanup"),ee.removeListener("close",ge),ee.removeListener("finish",xe),ee.removeListener("drain",ue),ee.removeListener("error",ze),ee.removeListener("unpipe",$e),oe.removeListener("end",ye),oe.removeListener("end",it),oe.removeListener("data",ve),Ge=!0,Ne.awaitDrain&&(!ee._writableState||ee._writableState.needDrain)&&ue()}oe.on("data",ve);function ve(Ae){m("ondata");var Ie=ee.write(Ae);m("dest.write",Ie),Ie===!1&&((Ne.pipesCount===1&&Ne.pipes===ee||Ne.pipesCount>1&&re(Ne.pipes,ee)!==-1)&&!Ge&&(m("false write response, pause",Ne.awaitDrain),Ne.awaitDrain++),oe.pause())}function ze(Ae){m("onerror",Ae),it(),ee.removeListener("error",ze),e(ee,"error")===0&&D(ee,Ae)}z(ee,"error",ze);function ge(){ee.removeListener("finish",xe),it()}ee.once("close",ge);function xe(){m("onfinish"),ee.removeListener("close",ge),it()}ee.once("finish",xe);function it(){m("unpipe"),oe.unpipe(ee)}return ee.emit("pipe",oe),Ne.flowing||(m("pipe resume"),oe.resume()),ee};function b(ee){return function(){var oe=ee._readableState;m("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&e(ee,"data")&&(oe.flowing=!0,Z(ee))}}L.prototype.unpipe=function(ee){var H=this._readableState,oe={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return ee&&ee!==H.pipes?this:(ee||(ee=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,ee&&ee.emit("unpipe",this,oe),this);if(!ee){var Ne=H.pipes,he=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var fe=0;fe<he;fe++)Ne[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var $e=re(H.pipes,ee);return $e===-1?this:(H.pipes.splice($e,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),ee.emit("unpipe",this,oe),this)},L.prototype.on=function(ee,H){var oe=r.prototype.on.call(this,ee,H),Ne=this._readableState;return ee==="data"?(Ne.readableListening=this.listenerCount("readable")>0,Ne.flowing!==!1&&this.resume()):ee==="readable"&&!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.flowing=!1,Ne.emittedReadable=!1,m("on readable",Ne.length,Ne.reading),Ne.length?w(this):Ne.reading||We.nextTick(P,this)),oe},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(ee,H){var oe=r.prototype.removeListener.call(this,ee,H);return ee==="readable"&&We.nextTick(R,this),oe},L.prototype.removeAllListeners=function(ee){var H=r.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&We.nextTick(R,this),H};function R(ee){var H=ee._readableState;H.readableListening=ee.listenerCount("readable")>0,H.resumeScheduled&&!H.paused?H.flowing=!0:ee.listenerCount("data")>0&&ee.resume()}function P(ee){m("readable nexttick read 0"),ee.read(0)}L.prototype.resume=function(){var ee=this._readableState;return ee.flowing||(m("resume"),ee.flowing=!ee.readableListening,F(this,ee)),ee.paused=!1,this};function F(ee,H){H.resumeScheduled||(H.resumeScheduled=!0,We.nextTick(K,ee,H))}function K(ee,H){m("resume",H.reading),H.reading||ee.read(0),H.resumeScheduled=!1,ee.emit("resume"),Z(ee),H.flowing&&!H.reading&&ee.read(0)}L.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(ee){var H=ee._readableState;for(m("flow",H.flowing);H.flowing&&ee.read()!==null;);}L.prototype.wrap=function(ee){var H=this,oe=this._readableState,Ne=!1;ee.on("end",function(){if(m("wrapped end"),oe.decoder&&!oe.ended){var $e=oe.decoder.end();$e&&$e.length&&H.push($e)}H.push(null)}),ee.on("data",function($e){if(m("wrapped data"),oe.decoder&&($e=oe.decoder.write($e)),!(oe.objectMode&&$e==null)&&!(!oe.objectMode&&(!$e||!$e.length))){var ye=H.push($e);ye||(Ne=!0,ee.pause())}});for(var he in ee)this[he]===void 0&&typeof ee[he]=="function"&&(this[he]=function(ye){return function(){return ee[ye].apply(ee,arguments)}}(he));for(var fe=0;fe<$.length;fe++)ee.on($[fe],this.emit.bind(this,$[fe]));return this._read=function($e){m("wrapped _read",$e),Ne&&(Ne=!1,ee.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=Fk()),N(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),L._fromList=U,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(ee,H){if(H.length===0)return null;var oe;return H.objectMode?oe=H.buffer.shift():!ee||ee>=H.length?(H.decoder?oe=H.buffer.join(""):H.buffer.length===1?oe=H.buffer.first():oe=H.buffer.concat(H.length),H.buffer.clear()):oe=H.buffer.consume(ee,H.decoder),oe}function Y(ee){var H=ee._readableState;m("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,We.nextTick(X,H,ee))}function X(ee,H){if(m("endReadableNT",ee.endEmitted,ee.length),!ee.endEmitted&&ee.length===0&&(ee.endEmitted=!0,H.readable=!1,H.emit("end"),ee.autoDestroy)){var oe=H._writableState;(!oe||oe.autoDestroy&&oe.finished)&&H.destroy()}}typeof Symbol=="function"&&(L.from=function(ee,H){return O===void 0&&(O=Lk()),O(L,ee,H)});function re(ee,H){for(var oe=0,Ne=ee.length;oe<Ne;oe++)if(ee[oe]===H)return oe;return-1}return np}var sp,P2;function H1(){if(P2)return sp;P2=1,sp=f;var t=Ga().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,i=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,n=wo();pt()(f,n);function c(d,y){var _=this._transformState;_.transforming=!1;var x=_.writecb;if(x===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,y!=null&&this.push(y),x(d);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);n.call(this,d),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",m)}function m(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,_){p(d,y,_)}):p(this,null,null)}f.prototype.push=function(d,y){return this._transformState.needTransform=!1,n.prototype.push.call(this,d,y)},f.prototype._transform=function(d,y,_){_(new e("_transform()"))},f.prototype._write=function(d,y,_){var x=this._transformState;if(x.writecb=_,x.writechunk=d,x.writeencoding=y,!x.transforming){var M=this._readableState;(x.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},f.prototype._read=function(d){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},f.prototype._destroy=function(d,y){n.prototype._destroy.call(this,d,function(_){y(_)})};function p(d,y,_){if(y)return d.emit("error",y);if(_!=null&&d.push(_),d._writableState.length)throw new s;if(d._transformState.transforming)throw new i;return d.push(null)}return sp}var op,O2;function J4(){if(O2)return op;O2=1,op=e;var t=H1();pt()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,i,s){s(null,r)},op}var ap,k2;function Q4(){if(k2)return ap;k2=1;var t;function e(_){var x=!1;return function(){x||(x=!0,_.apply(void 0,arguments))}}var r=Ga().codes,i=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function n(_){if(_)throw _}function c(_){return _.setHeader&&typeof _.abort=="function"}function f(_,x,M,C){C=e(C);var T=!1;_.on("close",function(){T=!0}),t===void 0&&(t=Oh()),t(_,{readable:x,writable:M},function(I){if(I)return C(I);T=!0,C()});var S=!1;return function(I){if(!T&&!S){if(S=!0,c(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();C(I||new s("pipe"))}}}function m(_){_()}function p(_,x){return _.pipe(x)}function d(_){return!_.length||typeof _[_.length-1]!="function"?n:_.pop()}function y(){for(var _=arguments.length,x=new Array(_),M=0;M<_;M++)x[M]=arguments[M];var C=d(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new i("streams");var T,S=x.map(function(I,N){var O=N<x.length-1,D=N>0;return f(I,O,D,function($){T||(T=$),$&&S.forEach(m),!O&&(S.forEach(m),C(T))})});return x.reduce(p)}return ap=y,ap}var B2;function X4(){return B2||(B2=1,function(t,e){e=t.exports=z1(),e.Stream=e,e.Readable=e,e.Writable=j1(),e.Duplex=wo(),e.Transform=H1(),e.PassThrough=J4(),e.finished=Oh(),e.pipeline=Q4()}(Pf,Pf.exports)),Pf.exports}var cp,D2;function qk(){if(D2)return cp;D2=1;var t=xt().Buffer,e=X4().Transform,r=pt();function i(n,c){if(!t.isBuffer(n)&&typeof n!="string")throw new TypeError(c+" must be a string or a buffer")}function s(n){e.call(this),this._block=t.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(s,e),s.prototype._transform=function(n,c,f){var m=null;try{this.update(n,c)}catch(p){m=p}f(m)},s.prototype._flush=function(n){var c=null;try{this.push(this.digest())}catch(f){c=f}n(c)},s.prototype.update=function(n,c){if(i(n,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(n)||(n=t.from(n,c));for(var f=this._block,m=0;this._blockOffset+n.length-m>=this._blockSize;){for(var p=this._blockOffset;p<this._blockSize;)f[p++]=n[m++];this._update(),this._blockOffset=0}for(;m<n.length;)f[this._blockOffset++]=n[m++];for(var d=0,y=n.length*8;y>0;++d)this._length[d]+=y,y=this._length[d]/4294967296|0,y>0&&(this._length[d]-=4294967296*y);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();n!==void 0&&(c=c.toString(n)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return c},s.prototype._digest=function(){throw new Error("_digest is not implemented")},cp=s,cp}var up,$2;function W1(){if($2)return up;$2=1;var t=pt(),e=qk(),r=xt().Buffer,i=new Array(16);function s(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(s,e),s.prototype._update=function(){for(var d=i,y=0;y<16;++y)d[y]=this._block.readInt32LE(y*4);var _=this._a,x=this._b,M=this._c,C=this._d;_=c(_,x,M,C,d[0],3614090360,7),C=c(C,_,x,M,d[1],3905402710,12),M=c(M,C,_,x,d[2],606105819,17),x=c(x,M,C,_,d[3],3250441966,22),_=c(_,x,M,C,d[4],4118548399,7),C=c(C,_,x,M,d[5],1200080426,12),M=c(M,C,_,x,d[6],2821735955,17),x=c(x,M,C,_,d[7],4249261313,22),_=c(_,x,M,C,d[8],1770035416,7),C=c(C,_,x,M,d[9],2336552879,12),M=c(M,C,_,x,d[10],4294925233,17),x=c(x,M,C,_,d[11],2304563134,22),_=c(_,x,M,C,d[12],1804603682,7),C=c(C,_,x,M,d[13],4254626195,12),M=c(M,C,_,x,d[14],2792965006,17),x=c(x,M,C,_,d[15],1236535329,22),_=f(_,x,M,C,d[1],4129170786,5),C=f(C,_,x,M,d[6],3225465664,9),M=f(M,C,_,x,d[11],643717713,14),x=f(x,M,C,_,d[0],3921069994,20),_=f(_,x,M,C,d[5],3593408605,5),C=f(C,_,x,M,d[10],38016083,9),M=f(M,C,_,x,d[15],3634488961,14),x=f(x,M,C,_,d[4],3889429448,20),_=f(_,x,M,C,d[9],568446438,5),C=f(C,_,x,M,d[14],3275163606,9),M=f(M,C,_,x,d[3],4107603335,14),x=f(x,M,C,_,d[8],1163531501,20),_=f(_,x,M,C,d[13],2850285829,5),C=f(C,_,x,M,d[2],4243563512,9),M=f(M,C,_,x,d[7],1735328473,14),x=f(x,M,C,_,d[12],2368359562,20),_=m(_,x,M,C,d[5],4294588738,4),C=m(C,_,x,M,d[8],2272392833,11),M=m(M,C,_,x,d[11],1839030562,16),x=m(x,M,C,_,d[14],4259657740,23),_=m(_,x,M,C,d[1],2763975236,4),C=m(C,_,x,M,d[4],1272893353,11),M=m(M,C,_,x,d[7],4139469664,16),x=m(x,M,C,_,d[10],3200236656,23),_=m(_,x,M,C,d[13],681279174,4),C=m(C,_,x,M,d[0],3936430074,11),M=m(M,C,_,x,d[3],3572445317,16),x=m(x,M,C,_,d[6],76029189,23),_=m(_,x,M,C,d[9],3654602809,4),C=m(C,_,x,M,d[12],3873151461,11),M=m(M,C,_,x,d[15],530742520,16),x=m(x,M,C,_,d[2],3299628645,23),_=p(_,x,M,C,d[0],4096336452,6),C=p(C,_,x,M,d[7],1126891415,10),M=p(M,C,_,x,d[14],2878612391,15),x=p(x,M,C,_,d[5],4237533241,21),_=p(_,x,M,C,d[12],1700485571,6),C=p(C,_,x,M,d[3],2399980690,10),M=p(M,C,_,x,d[10],4293915773,15),x=p(x,M,C,_,d[1],2240044497,21),_=p(_,x,M,C,d[8],1873313359,6),C=p(C,_,x,M,d[15],4264355552,10),M=p(M,C,_,x,d[6],2734768916,15),x=p(x,M,C,_,d[13],1309151649,21),_=p(_,x,M,C,d[4],4149444226,6),C=p(C,_,x,M,d[11],3174756917,10),M=p(M,C,_,x,d[2],718787259,15),x=p(x,M,C,_,d[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+x|0,this._c=this._c+M|0,this._d=this._d+C|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var d=r.allocUnsafe(16);return d.writeInt32LE(this._a,0),d.writeInt32LE(this._b,4),d.writeInt32LE(this._c,8),d.writeInt32LE(this._d,12),d};function n(d,y){return d<<y|d>>>32-y}function c(d,y,_,x,M,C,T){return n(d+(y&_|~y&x)+M+C|0,T)+y|0}function f(d,y,_,x,M,C,T){return n(d+(y&x|_&~x)+M+C|0,T)+y|0}function m(d,y,_,x,M,C,T){return n(d+(y^_^x)+M+C|0,T)+y|0}function p(d,y,_,x,M,C,T){return n(d+(_^(y|~x))+M+C|0,T)+y|0}return up=s,up}var fp,U2;function jk(){if(U2)return fp;U2=1;var t=xt().Buffer,e=X4().Transform,r=pt();function i(n,c){if(!t.isBuffer(n)&&typeof n!="string")throw new TypeError(c+" must be a string or a buffer")}function s(n){e.call(this),this._block=t.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(s,e),s.prototype._transform=function(n,c,f){var m=null;try{this.update(n,c)}catch(p){m=p}f(m)},s.prototype._flush=function(n){var c=null;try{this.push(this.digest())}catch(f){c=f}n(c)},s.prototype.update=function(n,c){if(i(n,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(n)||(n=t.from(n,c));for(var f=this._block,m=0;this._blockOffset+n.length-m>=this._blockSize;){for(var p=this._blockOffset;p<this._blockSize;)f[p++]=n[m++];this._update(),this._blockOffset=0}for(;m<n.length;)f[this._blockOffset++]=n[m++];for(var d=0,y=n.length*8;y>0;++d)this._length[d]+=y,y=this._length[d]/4294967296|0,y>0&&(this._length[d]-=4294967296*y);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();n!==void 0&&(c=c.toString(n)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return c},s.prototype._digest=function(){throw new Error("_digest is not implemented")},fp=s,fp}var lp,F2;function V1(){if(F2)return lp;F2=1;var t=Vr().Buffer,e=pt(),r=jk(),i=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function d(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(d,r),d.prototype._update=function(){for(var S=i,I=0;I<16;++I)S[I]=this._block.readInt32LE(I*4);for(var N=this._a|0,O=this._b|0,D=this._c|0,$=this._d|0,z=this._e|0,G=this._a|0,L=this._b|0,te=this._c|0,E=this._d|0,o=this._e|0,u=0;u<80;u+=1){var l,h;u<16?(l=_(N,O,D,$,z,S[s[u]],m[0],c[u]),h=T(G,L,te,E,o,S[n[u]],p[0],f[u])):u<32?(l=x(N,O,D,$,z,S[s[u]],m[1],c[u]),h=C(G,L,te,E,o,S[n[u]],p[1],f[u])):u<48?(l=M(N,O,D,$,z,S[s[u]],m[2],c[u]),h=M(G,L,te,E,o,S[n[u]],p[2],f[u])):u<64?(l=C(N,O,D,$,z,S[s[u]],m[3],c[u]),h=x(G,L,te,E,o,S[n[u]],p[3],f[u])):(l=T(N,O,D,$,z,S[s[u]],m[4],c[u]),h=_(G,L,te,E,o,S[n[u]],p[4],f[u])),N=z,z=$,$=y(D,10),D=O,O=l,G=o,o=E,E=y(te,10),te=L,L=h}var g=this._b+D+E|0;this._b=this._c+$+o|0,this._c=this._d+z+G|0,this._d=this._e+N+L|0,this._e=this._a+O+te|0,this._a=g},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var S=t.alloc?t.alloc(20):new t(20);return S.writeInt32LE(this._a,0),S.writeInt32LE(this._b,4),S.writeInt32LE(this._c,8),S.writeInt32LE(this._d,12),S.writeInt32LE(this._e,16),S};function y(S,I){return S<<I|S>>>32-I}function _(S,I,N,O,D,$,z,G){return y(S+(I^N^O)+$+z|0,G)+D|0}function x(S,I,N,O,D,$,z,G){return y(S+(I&N|~I&O)+$+z|0,G)+D|0}function M(S,I,N,O,D,$,z,G){return y(S+((I|~N)^O)+$+z|0,G)+D|0}function C(S,I,N,O,D,$,z,G){return y(S+(I&O|N&~O)+$+z|0,G)+D|0}function T(S,I,N,O,D,$,z,G){return y(S+(I^(N|~O))+$+z|0,G)+D|0}return lp=d,lp}var hp={exports:{}},dp,L2;function Za(){if(L2)return dp;L2=1;var t=xt().Buffer;function e(r,i){this._block=t.alloc(r),this._finalSize=i,this._blockSize=r,this._len=0}return e.prototype.update=function(r,i){typeof r=="string"&&(i=i||"utf8",r=t.from(r,i));for(var s=this._block,n=this._blockSize,c=r.length,f=this._len,m=0;m<c;){for(var p=f%n,d=Math.min(c-m,n-p),y=0;y<d;y++)s[p+y]=r[m+y];f+=d,m+=d,f%n===0&&this._update(s)}return this._len+=c,this},e.prototype.digest=function(r){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var n=(s&4294967295)>>>0,c=(s-n)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var f=this._hash();return r?f.toString(r):f},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},dp=e,dp}var pp,q2;function zk(){if(q2)return pp;q2=1;var t=pt(),e=Za(),r=xt().Buffer,i=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function n(){this.init(),this._w=s,e.call(this,64,56)}t(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(p){return p<<5|p>>>27}function f(p){return p<<30|p>>>2}function m(p,d,y,_){return p===0?d&y|~d&_:p===2?d&y|d&_|y&_:d^y^_}return n.prototype._update=function(p){for(var d=this._w,y=this._a|0,_=this._b|0,x=this._c|0,M=this._d|0,C=this._e|0,T=0;T<16;++T)d[T]=p.readInt32BE(T*4);for(;T<80;++T)d[T]=d[T-3]^d[T-8]^d[T-14]^d[T-16];for(var S=0;S<80;++S){var I=~~(S/20),N=c(y)+m(I,_,x,M)+C+d[S]+i[I]|0;C=M,M=x,x=f(_),_=y,y=N}this._a=y+this._a|0,this._b=_+this._b|0,this._c=x+this._c|0,this._d=M+this._d|0,this._e=C+this._e|0},n.prototype._hash=function(){var p=r.allocUnsafe(20);return p.writeInt32BE(this._a|0,0),p.writeInt32BE(this._b|0,4),p.writeInt32BE(this._c|0,8),p.writeInt32BE(this._d|0,12),p.writeInt32BE(this._e|0,16),p},pp=n,pp}var mp,j2;function Hk(){if(j2)return mp;j2=1;var t=pt(),e=Za(),r=xt().Buffer,i=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function n(){this.init(),this._w=s,e.call(this,64,56)}t(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(d){return d<<1|d>>>31}function f(d){return d<<5|d>>>27}function m(d){return d<<30|d>>>2}function p(d,y,_,x){return d===0?y&_|~y&x:d===2?y&_|y&x|_&x:y^_^x}return n.prototype._update=function(d){for(var y=this._w,_=this._a|0,x=this._b|0,M=this._c|0,C=this._d|0,T=this._e|0,S=0;S<16;++S)y[S]=d.readInt32BE(S*4);for(;S<80;++S)y[S]=c(y[S-3]^y[S-8]^y[S-14]^y[S-16]);for(var I=0;I<80;++I){var N=~~(I/20),O=f(_)+p(N,x,M,C)+T+y[I]+i[N]|0;T=C,C=M,M=m(x),x=_,_=O}this._a=_+this._a|0,this._b=x+this._b|0,this._c=M+this._c|0,this._d=C+this._d|0,this._e=T+this._e|0},n.prototype._hash=function(){var d=r.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},mp=n,mp}var gp,z2;function e5(){if(z2)return gp;z2=1;var t=pt(),e=Za(),r=xt().Buffer,i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function n(){this.init(),this._w=s,e.call(this,64,56)}t(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function c(_,x,M){return M^_&(x^M)}function f(_,x,M){return _&x|M&(_|x)}function m(_){return(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10)}function p(_){return(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7)}function d(_){return(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3}function y(_){return(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10}return n.prototype._update=function(_){for(var x=this._w,M=this._a|0,C=this._b|0,T=this._c|0,S=this._d|0,I=this._e|0,N=this._f|0,O=this._g|0,D=this._h|0,$=0;$<16;++$)x[$]=_.readInt32BE($*4);for(;$<64;++$)x[$]=y(x[$-2])+x[$-7]+d(x[$-15])+x[$-16]|0;for(var z=0;z<64;++z){var G=D+p(I)+c(I,N,O)+i[z]+x[z]|0,L=m(M)+f(M,C,T)|0;D=O,O=N,N=I,I=S+G|0,S=T,T=C,C=M,M=G+L|0}this._a=M+this._a|0,this._b=C+this._b|0,this._c=T+this._c|0,this._d=S+this._d|0,this._e=I+this._e|0,this._f=N+this._f|0,this._g=O+this._g|0,this._h=D+this._h|0},n.prototype._hash=function(){var _=r.allocUnsafe(32);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_.writeInt32BE(this._h,28),_},gp=n,gp}var vp,H2;function Wk(){if(H2)return vp;H2=1;var t=pt(),e=e5(),r=Za(),i=xt().Buffer,s=new Array(64);function n(){this.init(),this._w=s,r.call(this,64,56)}return t(n,e),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var c=i.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},vp=n,vp}var yp,W2;function t5(){if(W2)return yp;W2=1;var t=pt(),e=Za(),r=xt().Buffer,i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function n(){this.init(),this._w=s,e.call(this,128,112)}t(n,e),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function c(C,T,S){return S^C&(T^S)}function f(C,T,S){return C&T|S&(C|T)}function m(C,T){return(C>>>28|T<<4)^(T>>>2|C<<30)^(T>>>7|C<<25)}function p(C,T){return(C>>>14|T<<18)^(C>>>18|T<<14)^(T>>>9|C<<23)}function d(C,T){return(C>>>1|T<<31)^(C>>>8|T<<24)^C>>>7}function y(C,T){return(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)}function _(C,T){return(C>>>19|T<<13)^(T>>>29|C<<3)^C>>>6}function x(C,T){return(C>>>19|T<<13)^(T>>>29|C<<3)^(C>>>6|T<<26)}function M(C,T){return C>>>0<T>>>0?1:0}return n.prototype._update=function(C){for(var T=this._w,S=this._ah|0,I=this._bh|0,N=this._ch|0,O=this._dh|0,D=this._eh|0,$=this._fh|0,z=this._gh|0,G=this._hh|0,L=this._al|0,te=this._bl|0,E=this._cl|0,o=this._dl|0,u=this._el|0,l=this._fl|0,h=this._gl|0,g=this._hl|0,w=0;w<32;w+=2)T[w]=C.readInt32BE(w*4),T[w+1]=C.readInt32BE(w*4+4);for(;w<160;w+=2){var A=T[w-30],v=T[w-15*2+1],a=d(A,v),b=y(v,A);A=T[w-2*2],v=T[w-2*2+1];var R=_(A,v),P=x(v,A),F=T[w-7*2],K=T[w-7*2+1],Z=T[w-16*2],U=T[w-16*2+1],Y=b+K|0,X=a+F+M(Y,b)|0;Y=Y+P|0,X=X+R+M(Y,P)|0,Y=Y+U|0,X=X+Z+M(Y,U)|0,T[w]=X,T[w+1]=Y}for(var re=0;re<160;re+=2){X=T[re],Y=T[re+1];var ee=f(S,I,N),H=f(L,te,E),oe=m(S,L),Ne=m(L,S),he=p(D,u),fe=p(u,D),$e=i[re],ye=i[re+1],ue=c(D,$,z),Ge=c(u,l,h),de=g+fe|0,ve=G+he+M(de,g)|0;de=de+Ge|0,ve=ve+ue+M(de,Ge)|0,de=de+ye|0,ve=ve+$e+M(de,ye)|0,de=de+Y|0,ve=ve+X+M(de,Y)|0;var ze=Ne+H|0,ge=oe+ee+M(ze,Ne)|0;G=z,g=h,z=$,h=l,$=D,l=u,u=o+de|0,D=O+ve+M(u,o)|0,O=N,o=E,N=I,E=te,I=S,te=L,L=de+ze|0,S=ve+ge+M(L,de)|0}this._al=this._al+L|0,this._bl=this._bl+te|0,this._cl=this._cl+E|0,this._dl=this._dl+o|0,this._el=this._el+u|0,this._fl=this._fl+l|0,this._gl=this._gl+h|0,this._hl=this._hl+g|0,this._ah=this._ah+S+M(this._al,L)|0,this._bh=this._bh+I+M(this._bl,te)|0,this._ch=this._ch+N+M(this._cl,E)|0,this._dh=this._dh+O+M(this._dl,o)|0,this._eh=this._eh+D+M(this._el,u)|0,this._fh=this._fh+$+M(this._fl,l)|0,this._gh=this._gh+z+M(this._gl,h)|0,this._hh=this._hh+G+M(this._hl,g)|0},n.prototype._hash=function(){var C=r.allocUnsafe(64);function T(S,I,N){C.writeInt32BE(S,N),C.writeInt32BE(I,N+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),C},yp=n,yp}var bp,V2;function Vk(){if(V2)return bp;V2=1;var t=pt(),e=t5(),r=Za(),i=xt().Buffer,s=new Array(160);function n(){this.init(),this._w=s,r.call(this,128,112)}return t(n,e),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var c=i.allocUnsafe(48);function f(m,p,d){c.writeInt32BE(m,d),c.writeInt32BE(p,d+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),c},bp=n,bp}var K2;function K1(){if(K2)return hp.exports;K2=1;var t=hp.exports=function(r){r=r.toLowerCase();var i=t[r];if(!i)throw new Error(r+" is not supported (we accept pull requests)");return new i};return t.sha=zk(),t.sha1=Hk(),t.sha224=Wk(),t.sha256=e5(),t.sha384=Vk(),t.sha512=t5(),hp.exports}var wp,G2;function Kk(){if(G2)return wp;G2=1,wp=r;var t=Fa().EventEmitter,e=pt();e(r,t),r.Readable=z1(),r.Writable=j1(),r.Duplex=wo(),r.Transform=H1(),r.PassThrough=J4(),r.finished=Oh(),r.pipeline=Q4(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(i,s){var n=this;function c(x){i.writable&&i.write(x)===!1&&n.pause&&n.pause()}n.on("data",c);function f(){n.readable&&n.resume&&n.resume()}i.on("drain",f),!i._isStdio&&(!s||s.end!==!1)&&(n.on("end",p),n.on("close",d));var m=!1;function p(){m||(m=!0,i.end())}function d(){m||(m=!0,typeof i.destroy=="function"&&i.destroy())}function y(x){if(_(),t.listenerCount(this,"error")===0)throw x}n.on("error",y),i.on("error",y);function _(){n.removeListener("data",c),i.removeListener("drain",f),n.removeListener("end",p),n.removeListener("close",d),n.removeListener("error",y),i.removeListener("error",y),n.removeListener("end",_),n.removeListener("close",_),i.removeListener("close",_)}return n.on("end",_),n.on("close",_),i.on("close",_),i.emit("pipe",n),i},wp}var _p,Z2;function Fs(){if(Z2)return _p;Z2=1;var t=xt().Buffer,e=Kk().Transform,r=gv().StringDecoder,i=pt();function s(m){e.call(this),this.hashMode=typeof m=="string",this.hashMode?this[m]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i(s,e);var n=typeof Uint8Array<"u",c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function f(m,p){if(m instanceof t)return m;if(typeof m=="string")return t.from(m,p);if(c&&ArrayBuffer.isView(m)){if(m.byteLength===0)return t.alloc(0);var d=t.from(m.buffer,m.byteOffset,m.byteLength);if(d.byteLength===m.byteLength)return d}if(n&&m instanceof Uint8Array||t.isBuffer(m)&&m.constructor&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m))return t.from(m);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return s.prototype.update=function(m,p,d){var y=f(m,p),_=this._update(y);return this.hashMode?this:(d&&(_=this._toString(_,d)),_)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(m,p,d){var y;try{this.hashMode?this._update(m):this.push(this._update(m))}catch(_){y=_}finally{d(y)}},s.prototype._flush=function(m){var p;try{this.push(this.__final())}catch(d){p=d}m(p)},s.prototype._finalOrDigest=function(m){var p=this.__final()||t.alloc(0);return m&&(p=this._toString(p,m,!0)),p},s.prototype._toString=function(m,p,d){if(this._decoder||(this._decoder=new r(p),this._encoding=p),this._encoding!==p)throw new Error("cant switch encodings");var y=this._decoder.write(m);return d&&(y+=this._decoder.end()),y},_p=s,_p}var Ep,Y2;function Xu(){if(Y2)return Ep;Y2=1;var t=pt(),e=W1(),r=V1(),i=K1(),s=Fs();function n(c){s.call(this,"digest"),this._hash=c}return t(n,s),n.prototype._update=function(c){this._hash.update(c)},n.prototype._final=function(){return this._hash.digest()},Ep=function(f){return f=f.toLowerCase(),f==="md5"?new e:f==="rmd160"||f==="ripemd160"?new r:new n(i(f))},Ep}var Ap,J2;function Gk(){if(J2)return Ap;J2=1;var t=pt(),e=xt().Buffer,r=Fs(),i=e.alloc(128),s=64;function n(c,f){r.call(this,"digest"),typeof f=="string"&&(f=e.from(f)),this._alg=c,this._key=f,f.length>s?f=c(f):f.length<s&&(f=e.concat([f,i],s));for(var m=this._ipad=e.allocUnsafe(s),p=this._opad=e.allocUnsafe(s),d=0;d<s;d++)m[d]=f[d]^54,p[d]=f[d]^92;this._hash=[m]}return t(n,r),n.prototype._update=function(c){this._hash.push(c)},n.prototype._final=function(){var c=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,c]))},Ap=n,Ap}var xp,Q2;function r5(){if(Q2)return xp;Q2=1;var t=W1();return xp=function(e){return new t().update(e).digest()},xp}var Mp,X2;function i5(){if(X2)return Mp;X2=1;var t=pt(),e=Gk(),r=Fs(),i=xt().Buffer,s=r5(),n=V1(),c=K1(),f=i.alloc(128);function m(p,d){r.call(this,"digest"),typeof d=="string"&&(d=i.from(d));var y=p==="sha512"||p==="sha384"?128:64;if(this._alg=p,this._key=d,d.length>y){var _=p==="rmd160"?new n:c(p);d=_.update(d).digest()}else d.length<y&&(d=i.concat([d,f],y));for(var x=this._ipad=i.allocUnsafe(y),M=this._opad=i.allocUnsafe(y),C=0;C<y;C++)x[C]=d[C]^54,M[C]=d[C]^92;this._hash=p==="rmd160"?new n:c(p),this._hash.update(x)}return t(m,r),m.prototype._update=function(p){this._hash.update(p)},m.prototype._final=function(){var p=this._hash.digest(),d=this._alg==="rmd160"?new n:c(this._alg);return d.update(this._opad).update(p).digest()},Mp=function(d,y){return d=d.toLowerCase(),d==="rmd160"||d==="ripemd160"?new m("rmd160",y):d==="md5"?new e(s,y):new m(d,y)},Mp}const Zk={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Yk={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Jk={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},Qk={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},Xk={sign:"ecdsa",hash:"sha256",id:""},eB={sign:"ecdsa",hash:"sha224",id:""},tB={sign:"ecdsa",hash:"sha384",id:""},rB={sign:"ecdsa",hash:"sha512",id:""},iB={sign:"dsa",hash:"sha1",id:""},nB={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},sB={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},n5={sha224WithRSAEncryption:Zk,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Yk,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:Jk,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:Qk,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:Xk,sha224:eB,sha384:tB,sha512:rB,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:iB,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:nB,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:sB,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var Cp,e_;function oB(){return e_||(e_=1,Cp=n5),Cp}var Of={},Sp,t_;function s5(){if(t_)return Sp;t_=1;var t=Math.pow(2,30)-1;return Sp=function(e,r){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>t||r!==r)throw new TypeError("Bad key length")},Sp}var Ip,r_;function o5(){if(r_)return Ip;r_=1;var t;if(mt.process&&mt.process.browser)t="utf-8";else if(mt.process&&mt.process.version){var e=parseInt(We.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return Ip=t,Ip}var Tp,i_;function a5(){if(i_)return Tp;i_=1;var t=xt().Buffer;return Tp=function(e,r,i){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,r);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")},Tp}var Rp,n_;function c5(){if(n_)return Rp;n_=1;var t=r5(),e=V1(),r=K1(),i=xt().Buffer,s=s5(),n=o5(),c=a5(),f=i.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(_,x,M){var C=d(_),T=_==="sha512"||_==="sha384"?128:64;x.length>T?x=C(x):x.length<T&&(x=i.concat([x,f],T));for(var S=i.allocUnsafe(T+m[_]),I=i.allocUnsafe(T+m[_]),N=0;N<T;N++)S[N]=x[N]^54,I[N]=x[N]^92;var O=i.allocUnsafe(T+M+4);S.copy(O,0,0,T),this.ipad1=O,this.ipad2=S,this.opad=I,this.alg=_,this.blocksize=T,this.hash=C,this.size=m[_]}p.prototype.run=function(_,x){_.copy(x,this.blocksize);var M=this.hash(x);return M.copy(this.opad,this.blocksize),this.hash(this.opad)};function d(_){function x(C){return r(_).update(C).digest()}function M(C){return new e().update(C).digest()}return _==="rmd160"||_==="ripemd160"?M:_==="md5"?t:x}function y(_,x,M,C,T){s(M,C),_=c(_,n,"Password"),x=c(x,n,"Salt"),T=T||"sha1";var S=new p(T,_,x.length),I=i.allocUnsafe(C),N=i.allocUnsafe(x.length+4);x.copy(N,0,0,x.length);for(var O=0,D=m[T],$=Math.ceil(C/D),z=1;z<=$;z++){N.writeUInt32BE(z,x.length);for(var G=S.run(N,S.ipad1),L=G,te=1;te<M;te++){L=S.run(L,S.ipad2);for(var E=0;E<D;E++)G[E]^=L[E]}G.copy(I,O),O+=D}return I}return Rp=y,Rp}var Np,s_;function aB(){if(s_)return Np;s_=1;var t=xt().Buffer,e=s5(),r=o5(),i=c5(),s=a5(),n,c=mt.crypto&&mt.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function p(M){if(mt.process&&!mt.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(m[M]!==void 0)return m[M];n=n||t.alloc(8);var C=_(n,n,10,128,M).then(function(){return!0}).catch(function(){return!1});return m[M]=C,C}var d;function y(){return d||(mt.process&&mt.process.nextTick?d=mt.process.nextTick:mt.queueMicrotask?d=mt.queueMicrotask:mt.setImmediate?d=mt.setImmediate:d=mt.setTimeout,d)}function _(M,C,T,S,I){return c.importKey("raw",M,{name:"PBKDF2"},!1,["deriveBits"]).then(function(N){return c.deriveBits({name:"PBKDF2",salt:C,iterations:T,hash:{name:I}},N,S<<3)}).then(function(N){return t.from(N)})}function x(M,C){M.then(function(T){y()(function(){C(null,T)})},function(T){y()(function(){C(T)})})}return Np=function(M,C,T,S,I,N){typeof I=="function"&&(N=I,I=void 0),I=I||"sha1";var O=f[I.toLowerCase()];if(!O||typeof mt.Promise!="function"){y()(function(){var D;try{D=i(M,C,T,S,I)}catch($){return N($)}N(null,D)});return}if(e(T,S),M=s(M,r,"Password"),C=s(C,r,"Salt"),typeof N!="function")throw new Error("No callback provided to pbkdf2");x(p(O).then(function(D){return D?_(M,C,T,S,O):i(M,C,T,S,I)}),N)},Np}var o_;function u5(){return o_||(o_=1,Of.pbkdf2=aB(),Of.pbkdf2Sync=c5()),Of}var $i={},Hs={},Ti={},a_;function f5(){if(a_)return Ti;a_=1,Ti.readUInt32BE=function(s,n){var c=s[0+n]<<24|s[1+n]<<16|s[2+n]<<8|s[3+n];return c>>>0},Ti.writeUInt32BE=function(s,n,c){s[0+c]=n>>>24,s[1+c]=n>>>16&255,s[2+c]=n>>>8&255,s[3+c]=n&255},Ti.ip=function(s,n,c,f){for(var m=0,p=0,d=6;d>=0;d-=2){for(var y=0;y<=24;y+=8)m<<=1,m|=n>>>y+d&1;for(var y=0;y<=24;y+=8)m<<=1,m|=s>>>y+d&1}for(var d=6;d>=0;d-=2){for(var y=1;y<=25;y+=8)p<<=1,p|=n>>>y+d&1;for(var y=1;y<=25;y+=8)p<<=1,p|=s>>>y+d&1}c[f+0]=m>>>0,c[f+1]=p>>>0},Ti.rip=function(s,n,c,f){for(var m=0,p=0,d=0;d<4;d++)for(var y=24;y>=0;y-=8)m<<=1,m|=n>>>y+d&1,m<<=1,m|=s>>>y+d&1;for(var d=4;d<8;d++)for(var y=24;y>=0;y-=8)p<<=1,p|=n>>>y+d&1,p<<=1,p|=s>>>y+d&1;c[f+0]=m>>>0,c[f+1]=p>>>0},Ti.pc1=function(s,n,c,f){for(var m=0,p=0,d=7;d>=5;d--){for(var y=0;y<=24;y+=8)m<<=1,m|=n>>y+d&1;for(var y=0;y<=24;y+=8)m<<=1,m|=s>>y+d&1}for(var y=0;y<=24;y+=8)m<<=1,m|=n>>y+d&1;for(var d=1;d<=3;d++){for(var y=0;y<=24;y+=8)p<<=1,p|=n>>y+d&1;for(var y=0;y<=24;y+=8)p<<=1,p|=s>>y+d&1}for(var y=0;y<=24;y+=8)p<<=1,p|=s>>y+d&1;c[f+0]=m>>>0,c[f+1]=p>>>0},Ti.r28shl=function(s,n){return s<<n&268435455|s>>>28-n};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Ti.pc2=function(s,n,c,f){for(var m=0,p=0,d=t.length>>>1,y=0;y<d;y++)m<<=1,m|=s>>>t[y]&1;for(var y=d;y<t.length;y++)p<<=1,p|=n>>>t[y]&1;c[f+0]=m>>>0,c[f+1]=p>>>0},Ti.expand=function(s,n,c){var f=0,m=0;f=(s&1)<<5|s>>>27;for(var p=23;p>=15;p-=4)f<<=6,f|=s>>>p&63;for(var p=11;p>=3;p-=4)m|=s>>>p&63,m<<=6;m|=(s&31)<<1|s>>>31,n[c+0]=f>>>0,n[c+1]=m>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Ti.substitute=function(s,n){for(var c=0,f=0;f<4;f++){var m=s>>>18-f*6&63,p=e[f*64+m];c<<=4,c|=p}for(var f=0;f<4;f++){var m=n>>>18-f*6&63,p=e[4*64+f*64+m];c<<=4,c|=p}return c>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Ti.permute=function(s){for(var n=0,c=0;c<r.length;c++)n<<=1,n|=s>>>r[c]&1;return n>>>0},Ti.padSplit=function(s,n,c){for(var f=s.toString(2);f.length<n;)f="0"+f;for(var m=[],p=0;p<n;p+=c)m.push(f.slice(p,p+c));return m.join(" ")},Ti}var Pp,c_;function G1(){if(c_)return Pp;c_=1;var t=Ji();function e(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return Pp=e,e.prototype._init=function(){},e.prototype.update=function(i){return i.length===0?[]:this.type==="decrypt"?this._updateDecrypt(i):this._updateEncrypt(i)},e.prototype._buffer=function(i,s){for(var n=Math.min(this.buffer.length-this.bufferOff,i.length-s),c=0;c<n;c++)this.buffer[this.bufferOff+c]=i[s+c];return this.bufferOff+=n,n},e.prototype._flushBuffer=function(i,s){return this._update(this.buffer,0,i,s),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(i){var s=0,n=0,c=(this.bufferOff+i.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(i,s),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(f,n)));for(var m=i.length-(i.length-s)%this.blockSize;s<m;s+=this.blockSize)this._update(i,s,f,n),n+=this.blockSize;for(;s<i.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=i[s];return f},e.prototype._updateDecrypt=function(i){for(var s=0,n=0,c=Math.ceil((this.bufferOff+i.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)s+=this._buffer(i,s),n+=this._flushBuffer(f,n);return s+=this._buffer(i,s),f},e.prototype.final=function(i){var s;i&&(s=this.update(i));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),s?s.concat(n):n},e.prototype._pad=function(i,s){if(s===0)return!1;for(;s<i.length;)i[s++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var i=new Array(this.blockSize);return this._update(this.buffer,0,i,0),i},e.prototype._unpad=function(i){return i},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var i=new Array(this.blockSize);return this._flushBuffer(i,0),this._unpad(i)},Pp}var Op,u_;function l5(){if(u_)return Op;u_=1;var t=Ji(),e=pt(),r=f5(),i=G1();function s(){this.tmp=new Array(2),this.keys=null}function n(f){i.call(this,f);var m=new s;this._desState=m,this.deriveKeys(m,f.key)}e(n,i),Op=n,n.create=function(m){return new n(m)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return n.prototype.deriveKeys=function(m,p){m.keys=new Array(16*2),t.equal(p.length,this.blockSize,"Invalid key length");var d=r.readUInt32BE(p,0),y=r.readUInt32BE(p,4);r.pc1(d,y,m.tmp,0),d=m.tmp[0],y=m.tmp[1];for(var _=0;_<m.keys.length;_+=2){var x=c[_>>>1];d=r.r28shl(d,x),y=r.r28shl(y,x),r.pc2(d,y,m.keys,_)}},n.prototype._update=function(m,p,d,y){var _=this._desState,x=r.readUInt32BE(m,p),M=r.readUInt32BE(m,p+4);r.ip(x,M,_.tmp,0),x=_.tmp[0],M=_.tmp[1],this.type==="encrypt"?this._encrypt(_,x,M,_.tmp,0):this._decrypt(_,x,M,_.tmp,0),x=_.tmp[0],M=_.tmp[1],r.writeUInt32BE(d,x,y),r.writeUInt32BE(d,M,y+4)},n.prototype._pad=function(m,p){if(this.padding===!1)return!1;for(var d=m.length-p,y=p;y<m.length;y++)m[y]=d;return!0},n.prototype._unpad=function(m){if(this.padding===!1)return m;for(var p=m[m.length-1],d=m.length-p;d<m.length;d++)t.equal(m[d],p);return m.slice(0,m.length-p)},n.prototype._encrypt=function(m,p,d,y,_){for(var x=p,M=d,C=0;C<m.keys.length;C+=2){var T=m.keys[C],S=m.keys[C+1];r.expand(M,m.tmp,0),T^=m.tmp[0],S^=m.tmp[1];var I=r.substitute(T,S),N=r.permute(I),O=M;M=(x^N)>>>0,x=O}r.rip(M,x,y,_)},n.prototype._decrypt=function(m,p,d,y,_){for(var x=d,M=p,C=m.keys.length-2;C>=0;C-=2){var T=m.keys[C],S=m.keys[C+1];r.expand(x,m.tmp,0),T^=m.tmp[0],S^=m.tmp[1];var I=r.substitute(T,S),N=r.permute(I),O=x;x=(M^N)>>>0,M=O}r.rip(x,M,y,_)},Op}var kp={},f_;function cB(){if(f_)return kp;f_=1;var t=Ji(),e=pt(),r={};function i(n){t.equal(n.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=n[c]}function s(n){function c(d){n.call(this,d),this._cbcInit()}e(c,n);for(var f=Object.keys(r),m=0;m<f.length;m++){var p=f[m];c.prototype[p]=r[p]}return c.create=function(y){return new c(y)},c}return kp.instantiate=s,r._cbcInit=function(){var c=new i(this.options.iv);this._cbcState=c},r._update=function(c,f,m,p){var d=this._cbcState,y=this.constructor.super_.prototype,_=d.iv;if(this.type==="encrypt"){for(var x=0;x<this.blockSize;x++)_[x]^=c[f+x];y._update.call(this,_,0,m,p);for(var x=0;x<this.blockSize;x++)_[x]=m[p+x]}else{y._update.call(this,c,f,m,p);for(var x=0;x<this.blockSize;x++)m[p+x]^=_[x];for(var x=0;x<this.blockSize;x++)_[x]=c[f+x]}},kp}var Bp,l_;function uB(){if(l_)return Bp;l_=1;var t=Ji(),e=pt(),r=G1(),i=l5();function s(c,f){t.equal(f.length,24,"Invalid key length");var m=f.slice(0,8),p=f.slice(8,16),d=f.slice(16,24);c==="encrypt"?this.ciphers=[i.create({type:"encrypt",key:m}),i.create({type:"decrypt",key:p}),i.create({type:"encrypt",key:d})]:this.ciphers=[i.create({type:"decrypt",key:d}),i.create({type:"encrypt",key:p}),i.create({type:"decrypt",key:m})]}function n(c){r.call(this,c);var f=new s(this.type,this.options.key);this._edeState=f}return e(n,r),Bp=n,n.create=function(f){return new n(f)},n.prototype._update=function(f,m,p,d){var y=this._edeState;y.ciphers[0]._update(f,m,p,d),y.ciphers[1]._update(p,d,p,d),y.ciphers[2]._update(p,d,p,d)},n.prototype._pad=i.prototype._pad,n.prototype._unpad=i.prototype._unpad,Bp}var h_;function fB(){return h_||(h_=1,Hs.utils=f5(),Hs.Cipher=G1(),Hs.DES=l5(),Hs.CBC=cB(),Hs.EDE=uB()),Hs}var Dp,d_;function lB(){if(d_)return Dp;d_=1;var t=Fs(),e=fB(),r=pt(),i=xt().Buffer,s={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],Dp=n,r(n,t);function n(c){t.call(this);var f=c.mode.toLowerCase(),m=s[f],p;c.decrypt?p="decrypt":p="encrypt";var d=c.key;i.isBuffer(d)||(d=i.from(d)),(f==="des-ede"||f==="des-ede-cbc")&&(d=i.concat([d,d.slice(0,8)]));var y=c.iv;i.isBuffer(y)||(y=i.from(y)),this._des=m.create({key:d,iv:y,type:p})}return n.prototype._update=function(c){return i.from(this._des.update(c))},n.prototype._final=function(){return i.from(this._des.final())},Dp}var Ui={},kf={},Bf={},p_;function hB(){return p_||(p_=1,Bf.encrypt=function(t,e){return t._cipher.encryptBlock(e)},Bf.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),Bf}var Df={},$p,m_;function ef(){return m_||(m_=1,$p=function(e,r){for(var i=Math.min(e.length,r.length),s=new lt(i),n=0;n<i;++n)s[n]=e[n]^r[n];return s}),$p}var g_;function dB(){if(g_)return Df;g_=1;var t=ef();return Df.encrypt=function(e,r){var i=t(r,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},Df.decrypt=function(e,r){var i=e._prev;e._prev=r;var s=e._cipher.decryptBlock(r);return t(s,i)},Df}var Up={},v_;function pB(){if(v_)return Up;v_=1;var t=xt().Buffer,e=ef();function r(i,s,n){var c=s.length,f=e(s,i._cache);return i._cache=i._cache.slice(c),i._prev=t.concat([i._prev,n?s:f]),f}return Up.encrypt=function(i,s,n){for(var c=t.allocUnsafe(0),f;s.length;)if(i._cache.length===0&&(i._cache=i._cipher.encryptBlock(i._prev),i._prev=t.allocUnsafe(0)),i._cache.length<=s.length)f=i._cache.length,c=t.concat([c,r(i,s.slice(0,f),n)]),s=s.slice(f);else{c=t.concat([c,r(i,s,n)]);break}return c},Up}var Fp={},y_;function mB(){if(y_)return Fp;y_=1;var t=xt().Buffer;function e(r,i,s){var n=r._cipher.encryptBlock(r._prev),c=n[0]^i;return r._prev=t.concat([r._prev.slice(1),t.from([s?i:c])]),c}return Fp.encrypt=function(r,i,s){for(var n=i.length,c=t.allocUnsafe(n),f=-1;++f<n;)c[f]=e(r,i[f],s);return c},Fp}var Lp={},b_;function gB(){if(b_)return Lp;b_=1;var t=xt().Buffer;function e(i,s,n){for(var c,f=-1,m=8,p=0,d,y;++f<m;)c=i._cipher.encryptBlock(i._prev),d=s&1<<7-f?128:0,y=c[0]^d,p+=(y&128)>>f%8,i._prev=r(i._prev,n?d:y);return p}function r(i,s){var n=i.length,c=-1,f=t.allocUnsafe(i.length);for(i=t.concat([i,t.from([s])]);++c<n;)f[c]=i[c]<<1|i[c+1]>>7;return f}return Lp.encrypt=function(i,s,n){for(var c=s.length,f=t.allocUnsafe(c),m=-1;++m<c;)f[m]=e(i,s[m],n);return f},Lp}var qp={},w_;function vB(){if(w_)return qp;w_=1;var t=ef();function e(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return qp.encrypt=function(r,i){for(;r._cache.length<i.length;)r._cache=lt.concat([r._cache,e(r)]);var s=r._cache.slice(0,i.length);return r._cache=r._cache.slice(i.length),t(i,s)},qp}var jp={},zp,__;function h5(){if(__)return zp;__=1;function t(e){for(var r=e.length,i;r--;)if(i=e.readUInt8(r),i===255)e.writeUInt8(0,r);else{i++,e.writeUInt8(i,r);break}}return zp=t,zp}var E_;function A_(){if(E_)return jp;E_=1;var t=ef(),e=xt().Buffer,r=h5();function i(n){var c=n._cipher.encryptBlockRaw(n._prev);return r(n._prev),c}var s=16;return jp.encrypt=function(n,c){var f=Math.ceil(c.length/s),m=n._cache.length;n._cache=e.concat([n._cache,e.allocUnsafe(f*s)]);for(var p=0;p<f;p++){var d=i(n),y=m+p*s;n._cache.writeUInt32BE(d[0],y+0),n._cache.writeUInt32BE(d[1],y+4),n._cache.writeUInt32BE(d[2],y+8),n._cache.writeUInt32BE(d[3],y+12)}var _=n._cache.slice(0,c.length);return n._cache=n._cache.slice(c.length),t(c,_)},jp}const yB={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},bB={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},wB={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},d5={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:yB,aes192:bB,aes256:wB,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Hp,x_;function Z1(){if(x_)return Hp;x_=1;var t={ECB:hB(),CBC:dB(),CFB:pB(),CFB8:mB(),CFB1:gB(),OFB:vB(),CTR:A_(),GCM:A_()},e=d5;for(var r in e)e[r].module=t[e[r].mode];return Hp=e,Hp}var Wp={},M_;function kh(){if(M_)return Wp;M_=1;var t=xt().Buffer;function e(f){t.isBuffer(f)||(f=t.from(f));for(var m=f.length/4|0,p=new Array(m),d=0;d<m;d++)p[d]=f.readUInt32BE(d*4);return p}function r(f){for(var m=0;m<f.length;f++)f[m]=0}function i(f,m,p,d,y){for(var _=p[0],x=p[1],M=p[2],C=p[3],T=f[0]^m[0],S=f[1]^m[1],I=f[2]^m[2],N=f[3]^m[3],O,D,$,z,G=4,L=1;L<y;L++)O=_[T>>>24]^x[S>>>16&255]^M[I>>>8&255]^C[N&255]^m[G++],D=_[S>>>24]^x[I>>>16&255]^M[N>>>8&255]^C[T&255]^m[G++],$=_[I>>>24]^x[N>>>16&255]^M[T>>>8&255]^C[S&255]^m[G++],z=_[N>>>24]^x[T>>>16&255]^M[S>>>8&255]^C[I&255]^m[G++],T=O,S=D,I=$,N=z;return O=(d[T>>>24]<<24|d[S>>>16&255]<<16|d[I>>>8&255]<<8|d[N&255])^m[G++],D=(d[S>>>24]<<24|d[I>>>16&255]<<16|d[N>>>8&255]<<8|d[T&255])^m[G++],$=(d[I>>>24]<<24|d[N>>>16&255]<<16|d[T>>>8&255]<<8|d[S&255])^m[G++],z=(d[N>>>24]<<24|d[T>>>16&255]<<16|d[S>>>8&255]<<8|d[I&255])^m[G++],O=O>>>0,D=D>>>0,$=$>>>0,z=z>>>0,[O,D,$,z]}var s=[0,1,2,4,8,16,32,64,128,27,54],n=function(){for(var f=new Array(256),m=0;m<256;m++)m<128?f[m]=m<<1:f[m]=m<<1^283;for(var p=[],d=[],y=[[],[],[],[]],_=[[],[],[],[]],x=0,M=0,C=0;C<256;++C){var T=M^M<<1^M<<2^M<<3^M<<4;T=T>>>8^T&255^99,p[x]=T,d[T]=x;var S=f[x],I=f[S],N=f[I],O=f[T]*257^T*16843008;y[0][x]=O<<24|O>>>8,y[1][x]=O<<16|O>>>16,y[2][x]=O<<8|O>>>24,y[3][x]=O,O=N*16843009^I*65537^S*257^x*16843008,_[0][T]=O<<24|O>>>8,_[1][T]=O<<16|O>>>16,_[2][T]=O<<8|O>>>24,_[3][T]=O,x===0?x=M=1:(x=S^f[f[f[N^S]]],M^=f[f[M]])}return{SBOX:p,INV_SBOX:d,SUB_MIX:y,INV_SUB_MIX:_}}();function c(f){this._key=e(f),this._reset()}return c.blockSize=4*4,c.keySize=256/8,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var f=this._key,m=f.length,p=m+6,d=(p+1)*4,y=[],_=0;_<m;_++)y[_]=f[_];for(_=m;_<d;_++){var x=y[_-1];_%m===0?(x=x<<8|x>>>24,x=n.SBOX[x>>>24]<<24|n.SBOX[x>>>16&255]<<16|n.SBOX[x>>>8&255]<<8|n.SBOX[x&255],x^=s[_/m|0]<<24):m>6&&_%m===4&&(x=n.SBOX[x>>>24]<<24|n.SBOX[x>>>16&255]<<16|n.SBOX[x>>>8&255]<<8|n.SBOX[x&255]),y[_]=y[_-m]^x}for(var M=[],C=0;C<d;C++){var T=d-C,S=y[T-(C%4?0:4)];C<4||T<=4?M[C]=S:M[C]=n.INV_SUB_MIX[0][n.SBOX[S>>>24]]^n.INV_SUB_MIX[1][n.SBOX[S>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[S>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[S&255]]}this._nRounds=p,this._keySchedule=y,this._invKeySchedule=M},c.prototype.encryptBlockRaw=function(f){return f=e(f),i(f,this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},c.prototype.encryptBlock=function(f){var m=this.encryptBlockRaw(f),p=t.allocUnsafe(16);return p.writeUInt32BE(m[0],0),p.writeUInt32BE(m[1],4),p.writeUInt32BE(m[2],8),p.writeUInt32BE(m[3],12),p},c.prototype.decryptBlock=function(f){f=e(f);var m=f[1];f[1]=f[3],f[3]=m;var p=i(f,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),d=t.allocUnsafe(16);return d.writeUInt32BE(p[0],0),d.writeUInt32BE(p[3],4),d.writeUInt32BE(p[2],8),d.writeUInt32BE(p[1],12),d},c.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},Wp.AES=c,Wp}var Vp,C_;function _B(){if(C_)return Vp;C_=1;var t=xt().Buffer,e=t.alloc(16,0);function r(n){return[n.readUInt32BE(0),n.readUInt32BE(4),n.readUInt32BE(8),n.readUInt32BE(12)]}function i(n){var c=t.allocUnsafe(16);return c.writeUInt32BE(n[0]>>>0,0),c.writeUInt32BE(n[1]>>>0,4),c.writeUInt32BE(n[2]>>>0,8),c.writeUInt32BE(n[3]>>>0,12),c}function s(n){this.h=n,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return s.prototype.ghash=function(n){for(var c=-1;++c<n.length;)this.state[c]^=n[c];this._multiply()},s.prototype._multiply=function(){for(var n=r(this.h),c=[0,0,0,0],f,m,p,d=-1;++d<128;){for(m=(this.state[~~(d/8)]&1<<7-d%8)!==0,m&&(c[0]^=n[0],c[1]^=n[1],c[2]^=n[2],c[3]^=n[3]),p=(n[3]&1)!==0,f=3;f>0;f--)n[f]=n[f]>>>1|(n[f-1]&1)<<31;n[0]=n[0]>>>1,p&&(n[0]=n[0]^225<<24)}this.state=i(c)},s.prototype.update=function(n){this.cache=t.concat([this.cache,n]);for(var c;this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},s.prototype.final=function(n,c){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(i([0,n,0,c])),this.state},Vp=s,Vp}var Kp,S_;function p5(){if(S_)return Kp;S_=1;var t=kh(),e=xt().Buffer,r=Fs(),i=pt(),s=_B(),n=ef(),c=h5();function f(d,y){var _=0;d.length!==y.length&&_++;for(var x=Math.min(d.length,y.length),M=0;M<x;++M)_+=d[M]^y[M];return _}function m(d,y,_){if(y.length===12)return d._finID=e.concat([y,e.from([0,0,0,1])]),e.concat([y,e.from([0,0,0,2])]);var x=new s(_),M=y.length,C=M%16;x.update(y),C&&(C=16-C,x.update(e.alloc(C,0))),x.update(e.alloc(8,0));var T=M*8,S=e.alloc(8);S.writeUIntBE(T,0,8),x.update(S),d._finID=x.state;var I=e.from(d._finID);return c(I),I}function p(d,y,_,x){r.call(this);var M=e.alloc(4,0);this._cipher=new t.AES(y);var C=this._cipher.encryptBlock(M);this._ghash=new s(C),_=m(this,_,C),this._prev=e.from(_),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=x,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}return i(p,r),p.prototype._update=function(d){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=e.alloc(y,0),this._ghash.update(y))}this._called=!0;var _=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(_),this._len+=d.length,_},p.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=n(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&f(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},p.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},p.prototype.setAuthTag=function(y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=y},p.prototype.setAAD=function(y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(y),this._alen+=y.length},Kp=p,Kp}var Gp,I_;function m5(){if(I_)return Gp;I_=1;var t=kh(),e=xt().Buffer,r=Fs(),i=pt();function s(n,c,f,m){r.call(this),this._cipher=new t.AES(c),this._prev=e.from(f),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=m,this._mode=n}return i(s,r),s.prototype._update=function(n){return this._mode.encrypt(this,n,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},Gp=s,Gp}var Zp,T_;function Bh(){if(T_)return Zp;T_=1;var t=xt().Buffer,e=W1();function r(i,s,n,c){if(t.isBuffer(i)||(i=t.from(i,"binary")),s&&(t.isBuffer(s)||(s=t.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=n/8,m=t.alloc(f),p=t.alloc(c||0),d=t.alloc(0);f>0||c>0;){var y=new e;y.update(d),y.update(i),s&&y.update(s),d=y.digest();var _=0;if(f>0){var x=m.length-f;_=Math.min(f,d.length),d.copy(m,x,0,_),f-=_}if(_<d.length&&c>0){var M=p.length-c,C=Math.min(c,d.length-_);d.copy(p,M,_,_+C),c-=C}}return d.fill(0),{key:m,iv:p}}return Zp=r,Zp}var R_;function EB(){if(R_)return kf;R_=1;var t=Z1(),e=p5(),r=xt().Buffer,i=m5(),s=Fs(),n=kh(),c=Bh(),f=pt();function m(x,M,C){s.call(this),this._cache=new d,this._cipher=new n.AES(M),this._prev=r.from(C),this._mode=x,this._autopadding=!0}f(m,s),m.prototype._update=function(x){this._cache.add(x);for(var M,C,T=[];M=this._cache.get();)C=this._mode.encrypt(this,M),T.push(C);return r.concat(T)};var p=r.alloc(16,16);m.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return x=this._mode.encrypt(this,x),this._cipher.scrub(),x;if(!x.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},m.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function d(){this.cache=r.allocUnsafe(0)}d.prototype.add=function(x){this.cache=r.concat([this.cache,x])},d.prototype.get=function(){if(this.cache.length>15){var x=this.cache.slice(0,16);return this.cache=this.cache.slice(16),x}return null},d.prototype.flush=function(){for(var x=16-this.cache.length,M=r.allocUnsafe(x),C=-1;++C<x;)M.writeUInt8(x,C);return r.concat([this.cache,M])};function y(x,M,C){var T=t[x.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof M=="string"&&(M=r.from(M)),M.length!==T.key/8)throw new TypeError("invalid key length "+M.length);if(typeof C=="string"&&(C=r.from(C)),T.mode!=="GCM"&&C.length!==T.iv)throw new TypeError("invalid iv length "+C.length);return T.type==="stream"?new i(T.module,M,C):T.type==="auth"?new e(T.module,M,C):new m(T.module,M,C)}function _(x,M){var C=t[x.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var T=c(M,!1,C.key,C.iv);return y(x,T.key,T.iv)}return kf.createCipheriv=y,kf.createCipher=_,kf}var $f={},N_;function AB(){if(N_)return $f;N_=1;var t=p5(),e=xt().Buffer,r=Z1(),i=m5(),s=Fs(),n=kh(),c=Bh(),f=pt();function m(x,M,C){s.call(this),this._cache=new p,this._last=void 0,this._cipher=new n.AES(M),this._prev=e.from(C),this._mode=x,this._autopadding=!0}f(m,s),m.prototype._update=function(x){this._cache.add(x);for(var M,C,T=[];M=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,M),T.push(C);return e.concat(T)},m.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return d(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},m.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function p(){this.cache=e.allocUnsafe(0)}p.prototype.add=function(x){this.cache=e.concat([this.cache,x])},p.prototype.get=function(x){var M;if(x){if(this.cache.length>16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M}else if(this.cache.length>=16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache};function d(x){var M=x[15];if(M<1||M>16)throw new Error("unable to decrypt data");for(var C=-1;++C<M;)if(x[C+(16-M)]!==M)throw new Error("unable to decrypt data");if(M!==16)return x.slice(0,16-M)}function y(x,M,C){var T=r[x.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof C=="string"&&(C=e.from(C)),T.mode!=="GCM"&&C.length!==T.iv)throw new TypeError("invalid iv length "+C.length);if(typeof M=="string"&&(M=e.from(M)),M.length!==T.key/8)throw new TypeError("invalid key length "+M.length);return T.type==="stream"?new i(T.module,M,C,!0):T.type==="auth"?new t(T.module,M,C,!0):new m(T.module,M,C)}function _(x,M){var C=r[x.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var T=c(M,!1,C.key,C.iv);return y(x,T.key,T.iv)}return $f.createDecipher=_,$f.createDecipheriv=y,$f}var P_;function Y1(){if(P_)return Ui;P_=1;var t=EB(),e=AB(),r=d5;function i(){return Object.keys(r)}return Ui.createCipher=Ui.Cipher=t.createCipher,Ui.createCipheriv=Ui.Cipheriv=t.createCipheriv,Ui.createDecipher=Ui.Decipher=e.createDecipher,Ui.createDecipheriv=Ui.Decipheriv=e.createDecipheriv,Ui.listCiphers=Ui.getCiphers=i,Ui}var Yp={},O_;function xB(){return O_||(O_=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(Yp)),Yp}var k_;function MB(){if(k_)return $i;k_=1;var t=lB(),e=Y1(),r=Z1(),i=xB(),s=Bh();function n(d,y){d=d.toLowerCase();var _,x;if(r[d])_=r[d].key,x=r[d].iv;else if(i[d])_=i[d].key*8,x=i[d].iv;else throw new TypeError("invalid suite type");var M=s(y,!1,_,x);return f(d,M.key,M.iv)}function c(d,y){d=d.toLowerCase();var _,x;if(r[d])_=r[d].key,x=r[d].iv;else if(i[d])_=i[d].key*8,x=i[d].iv;else throw new TypeError("invalid suite type");var M=s(y,!1,_,x);return m(d,M.key,M.iv)}function f(d,y,_){if(d=d.toLowerCase(),r[d])return e.createCipheriv(d,y,_);if(i[d])return new t({key:y,iv:_,mode:d});throw new TypeError("invalid suite type")}function m(d,y,_){if(d=d.toLowerCase(),r[d])return e.createDecipheriv(d,y,_);if(i[d])return new t({key:y,iv:_,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}function p(){return Object.keys(i).concat(e.getCiphers())}return $i.createCipher=$i.Cipher=n,$i.createCipheriv=$i.Cipheriv=f,$i.createDecipher=$i.Decipher=c,$i.createDecipheriv=$i.Decipheriv=m,$i.listCiphers=$i.getCiphers=p,$i}var Ws={},hl={exports:{}},CB=hl.exports,B_;function g5(){return B_||(B_=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,CB)}(hl)),hl.exports}var dl={exports:{}},SB=dl.exports,D_;function IB(){return D_||(D_=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,SB)}(dl)),dl.exports}var Jp,$_;function v5(){if($_)return Jp;$_=1;var t=IB(),e=ty();function r(i){this.rand=i||new e.Rand}return Jp=r,r.create=function(s){return new r(s)},r.prototype._randbelow=function(s){var n=s.bitLength(),c=Math.ceil(n/8);do var f=new t(this.rand.generate(c));while(f.cmp(s)>=0);return f},r.prototype._randrange=function(s,n){var c=n.sub(s);return s.add(this._randbelow(c))},r.prototype.test=function(s,n,c){var f=s.bitLength(),m=t.mont(s),p=new t(1).toRed(m);n||(n=Math.max(1,f/48|0));for(var d=s.subn(1),y=0;!d.testn(y);y++);for(var _=s.shrn(y),x=d.toRed(m),M=!0;n>0;n--){var C=this._randrange(new t(2),d);c&&c(C);var T=C.toRed(m).redPow(_);if(!(T.cmp(p)===0||T.cmp(x)===0)){for(var S=1;S<y;S++){if(T=T.redSqr(),T.cmp(p)===0)return!1;if(T.cmp(x)===0)break}if(S===y)return!1}}return M},r.prototype.getDivisor=function(s,n){var c=s.bitLength(),f=t.mont(s),m=new t(1).toRed(f);n||(n=Math.max(1,c/48|0));for(var p=s.subn(1),d=0;!p.testn(d);d++);for(var y=s.shrn(d),_=p.toRed(f);n>0;n--){var x=this._randrange(new t(2),p),M=s.gcd(x);if(M.cmpn(1)!==0)return M;var C=x.toRed(f).redPow(y);if(!(C.cmp(m)===0||C.cmp(_)===0)){for(var T=1;T<d;T++){if(C=C.redSqr(),C.cmp(m)===0)return C.fromRed().subn(1).gcd(s);if(C.cmp(_)===0)break}if(T===d)return C=C.redSqr(),C.fromRed().subn(1).gcd(s)}}return!1},Jp}var Qp,U_;function y5(){if(U_)return Qp;U_=1;var t=Va();Qp=T,T.simpleSieve=M,T.fermatTest=C;var e=g5(),r=new e(24),i=v5(),s=new i,n=new e(1),c=new e(2),f=new e(5);new e(16),new e(8);var m=new e(10),p=new e(3);new e(7);var d=new e(11),y=new e(4);new e(12);var _=null;function x(){if(_!==null)return _;var S=1048576,I=[];I[0]=2;for(var N=1,O=3;O<S;O+=2){for(var D=Math.ceil(Math.sqrt(O)),$=0;$<N&&I[$]<=D&&O%I[$]!==0;$++);N!==$&&I[$]<=D||(I[N++]=O)}return _=I,I}function M(S){for(var I=x(),N=0;N<I.length;N++)if(S.modn(I[N])===0)return S.cmpn(I[N])===0;return!0}function C(S){var I=e.mont(S);return c.toRed(I).redPow(S.subn(1)).fromRed().cmpn(1)===0}function T(S,I){if(S<16)return I===2||I===5?new e([140,123]):new e([140,39]);I=new e(I);for(var N,O;;){for(N=new e(t(Math.ceil(S/8)));N.bitLength()>S;)N.ishrn(1);if(N.isEven()&&N.iadd(n),N.testn(1)||N.iadd(c),I.cmp(c)){if(!I.cmp(f))for(;N.mod(m).cmp(p);)N.iadd(y)}else for(;N.mod(r).cmp(d);)N.iadd(y);if(O=N.shrn(1),M(O)&&M(N)&&C(O)&&C(N)&&s.test(O)&&s.test(N))return N}}return Qp}const TB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},RB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},NB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},PB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},OB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},kB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},BB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},DB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},$B={modp1:TB,modp2:RB,modp5:NB,modp14:PB,modp15:OB,modp16:kB,modp17:BB,modp18:DB};var Xp,F_;function UB(){if(F_)return Xp;F_=1;var t=g5(),e=v5(),r=new e,i=new t(24),s=new t(11),n=new t(10),c=new t(3),f=new t(7),m=y5(),p=Va();Xp=M;function d(T,S){return S=S||"utf8",lt.isBuffer(T)||(T=new lt(T,S)),this._pub=new t(T),this}function y(T,S){return S=S||"utf8",lt.isBuffer(T)||(T=new lt(T,S)),this._priv=new t(T),this}var _={};function x(T,S){var I=S.toString("hex"),N=[I,T.toString(16)].join("_");if(N in _)return _[N];var O=0;if(T.isEven()||!m.simpleSieve||!m.fermatTest(T)||!r.test(T))return O+=1,I==="02"||I==="05"?O+=8:O+=4,_[N]=O,O;r.test(T.shrn(1))||(O+=2);var D;switch(I){case"02":T.mod(i).cmp(s)&&(O+=8);break;case"05":D=T.mod(n),D.cmp(c)&&D.cmp(f)&&(O+=8);break;default:O+=4}return _[N]=O,O}function M(T,S,I){this.setGenerator(S),this.__prime=new t(T),this._prime=t.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=d,this.setPrivateKey=y):this._primeCode=8}Object.defineProperty(M.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=x(this.__prime,this.__gen)),this._primeCode}}),M.prototype.generateKeys=function(){return this._priv||(this._priv=new t(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},M.prototype.computeSecret=function(T){T=new t(T),T=T.toRed(this._prime);var S=T.redPow(this._priv).fromRed(),I=new lt(S.toArray()),N=this.getPrime();if(I.length<N.length){var O=new lt(N.length-I.length);O.fill(0),I=lt.concat([O,I])}return I},M.prototype.getPublicKey=function(S){return C(this._pub,S)},M.prototype.getPrivateKey=function(S){return C(this._priv,S)},M.prototype.getPrime=function(T){return C(this.__prime,T)},M.prototype.getGenerator=function(T){return C(this._gen,T)},M.prototype.setGenerator=function(T,S){return S=S||"utf8",lt.isBuffer(T)||(T=new lt(T,S)),this.__gen=T,this._gen=new t(T),this};function C(T,S){var I=new lt(T.toArray());return S?I.toString(S):I}return Xp}var L_;function FB(){if(L_)return Ws;L_=1;var t=y5(),e=$B,r=UB();function i(c){var f=new lt(e[c].prime,"hex"),m=new lt(e[c].gen,"hex");return new r(f,m)}var s={binary:!0,hex:!0,base64:!0};function n(c,f,m,p){return lt.isBuffer(f)||s[f]===void 0?n(c,"binary",f,m):(f=f||"binary",p=p||"binary",m=m||new lt([2]),lt.isBuffer(m)||(m=new lt(m,p)),typeof c=="number"?new r(t(c,m),m,!0):(lt.isBuffer(c)||(c=new lt(c,f)),new r(c,m,!0)))}return Ws.DiffieHellmanGroup=Ws.createDiffieHellmanGroup=Ws.getDiffieHellman=i,Ws.createDiffieHellman=Ws.DiffieHellman=n,Ws}var Uf={exports:{}},Ff={exports:{}},q_;function Dh(){if(q_)return Ff.exports;q_=1,typeof We>"u"||!We.version||We.version.indexOf("v0.")===0||We.version.indexOf("v1.")===0&&We.version.indexOf("v1.8.")!==0?Ff.exports={nextTick:t}:Ff.exports=We;function t(e,r,i,s){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,c,f;switch(n){case 0:case 1:return We.nextTick(e);case 2:return We.nextTick(function(){e.call(null,r)});case 3:return We.nextTick(function(){e.call(null,r,i)});case 4:return We.nextTick(function(){e.call(null,r,i,s)});default:for(c=new Array(n-1),f=0;f<c.length;)c[f++]=arguments[f];return We.nextTick(function(){e.apply(null,c)})}}return Ff.exports}var em,j_;function LB(){if(j_)return em;j_=1;var t={}.toString;return em=Array.isArray||function(e){return t.call(e)=="[object Array]"},em}var tm,z_;function b5(){return z_||(z_=1,tm=Fa().EventEmitter),tm}var Lf={exports:{}},H_;function J1(){return H_||(H_=1,function(t,e){var r=Vr(),i=r.Buffer;function s(c,f){for(var m in c)f[m]=c[m]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=n);function n(c,f,m){return i(c,f,m)}s(i,n),n.from=function(c,f,m){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,f,m)},n.alloc=function(c,f,m){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=i(c);return f!==void 0?typeof m=="string"?p.fill(f,m):p.fill(f):p.fill(0),p},n.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},n.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}}(Lf,Lf.exports)),Lf.exports}var Kr={},W_;function tf(){if(W_)return Kr;W_=1;function t(C){return Array.isArray?Array.isArray(C):M(C)==="[object Array]"}Kr.isArray=t;function e(C){return typeof C=="boolean"}Kr.isBoolean=e;function r(C){return C===null}Kr.isNull=r;function i(C){return C==null}Kr.isNullOrUndefined=i;function s(C){return typeof C=="number"}Kr.isNumber=s;function n(C){return typeof C=="string"}Kr.isString=n;function c(C){return typeof C=="symbol"}Kr.isSymbol=c;function f(C){return C===void 0}Kr.isUndefined=f;function m(C){return M(C)==="[object RegExp]"}Kr.isRegExp=m;function p(C){return typeof C=="object"&&C!==null}Kr.isObject=p;function d(C){return M(C)==="[object Date]"}Kr.isDate=d;function y(C){return M(C)==="[object Error]"||C instanceof Error}Kr.isError=y;function _(C){return typeof C=="function"}Kr.isFunction=_;function x(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}Kr.isPrimitive=x,Kr.isBuffer=Vr().Buffer.isBuffer;function M(C){return Object.prototype.toString.call(C)}return Kr}var rm={exports:{}},V_;function qB(){return V_||(V_=1,function(t){function e(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}var r=J1().Buffer,i=Ph();function s(n,c,f){n.copy(c,f)}t.exports=function(){function n(){e(this,n),this.head=null,this.tail=null,this.length=0}return n.prototype.push=function(f){var m={data:f,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},n.prototype.unshift=function(f){var m={data:f,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length},n.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(f){if(this.length===0)return"";for(var m=this.head,p=""+m.data;m=m.next;)p+=f+m.data;return p},n.prototype.concat=function(f){if(this.length===0)return r.alloc(0);for(var m=r.allocUnsafe(f>>>0),p=this.head,d=0;p;)s(p.data,m,d),d+=p.data.length,p=p.next;return m},n}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var n=i.inspect({length:this.length});return this.constructor.name+" "+n})}(rm)),rm.exports}var im,K_;function w5(){if(K_)return im;K_=1;var t=Dh();function e(s,n){var c=this,f=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return f||m?(n?n(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,s)):t.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!n&&p?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,t.nextTick(i,c,p)):t.nextTick(i,c,p):n&&n(p)}),this)}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,n){s.emit("error",n)}return im={destroy:e,undestroy:r},im}var nm,G_;function _5(){if(G_)return nm;G_=1;var t=Dh();nm=C;function e(w){var A=this;this.next=null,this.entry=null,this.finish=function(){g(A,w)}}var r=!We.browser&&["v0.10","v0.9."].indexOf(We.version.slice(0,5))>-1?setImmediate:t.nextTick,i;C.WritableState=x;var s=Object.create(tf());s.inherits=pt();var n={deprecate:Y4()},c=b5(),f=J1().Buffer,m=(typeof mt<"u"?mt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(w){return f.from(w)}function d(w){return f.isBuffer(w)||w instanceof m}var y=w5();s.inherits(C,c);function _(){}function x(w,A){i=i||xa(),w=w||{};var v=A instanceof i;this.objectMode=!!w.objectMode,v&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var a=w.highWaterMark,b=w.writableHighWaterMark,R=this.objectMode?16:16*1024;a||a===0?this.highWaterMark=a:v&&(b||b===0)?this.highWaterMark=b:this.highWaterMark=R,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=w.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){z(A,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}x.prototype.getBuffer=function(){for(var A=this.bufferedRequest,v=[];A;)v.push(A),A=A.next;return v},function(){try{Object.defineProperty(x.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(w){return M.call(this,w)?!0:this!==C?!1:w&&w._writableState instanceof x}})):M=function(w){return w instanceof this};function C(w){if(i=i||xa(),!M.call(C,this)&&!(this instanceof i))return new C(w);this._writableState=new x(w,this),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),c.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function T(w,A){var v=new Error("write after end");w.emit("error",v),t.nextTick(A,v)}function S(w,A,v,a){var b=!0,R=!1;return v===null?R=new TypeError("May not write null values to stream"):typeof v!="string"&&v!==void 0&&!A.objectMode&&(R=new TypeError("Invalid non-string/buffer chunk")),R&&(w.emit("error",R),t.nextTick(a,R),b=!1),b}C.prototype.write=function(w,A,v){var a=this._writableState,b=!1,R=!a.objectMode&&d(w);return R&&!f.isBuffer(w)&&(w=p(w)),typeof A=="function"&&(v=A,A=null),R?A="buffer":A||(A=a.defaultEncoding),typeof v!="function"&&(v=_),a.ended?T(this,v):(R||S(this,a,w,v))&&(a.pendingcb++,b=N(this,a,R,w,A,v)),b},C.prototype.cork=function(){var w=this._writableState;w.corked++},C.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,!w.writing&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&te(this,w))},C.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this};function I(w,A,v){return!w.objectMode&&w.decodeStrings!==!1&&typeof A=="string"&&(A=f.from(A,v)),A}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(w,A,v,a,b,R){if(!v){var P=I(A,a,b);a!==P&&(v=!0,b="buffer",a=P)}var F=A.objectMode?1:a.length;A.length+=F;var K=A.length<A.highWaterMark;if(K||(A.needDrain=!0),A.writing||A.corked){var Z=A.lastBufferedRequest;A.lastBufferedRequest={chunk:a,encoding:b,isBuf:v,callback:R,next:null},Z?Z.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else O(w,A,!1,F,a,b,R);return K}function O(w,A,v,a,b,R,P){A.writelen=a,A.writecb=P,A.writing=!0,A.sync=!0,v?w._writev(b,A.onwrite):w._write(b,R,A.onwrite),A.sync=!1}function D(w,A,v,a,b){--A.pendingcb,v?(t.nextTick(b,a),t.nextTick(l,w,A),w._writableState.errorEmitted=!0,w.emit("error",a)):(b(a),w._writableState.errorEmitted=!0,w.emit("error",a),l(w,A))}function $(w){w.writing=!1,w.writecb=null,w.length-=w.writelen,w.writelen=0}function z(w,A){var v=w._writableState,a=v.sync,b=v.writecb;if($(v),A)D(w,v,a,A,b);else{var R=E(v);!R&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&te(w,v),a?r(G,w,v,R,b):G(w,v,R,b)}}function G(w,A,v,a){v||L(w,A),A.pendingcb--,a(),l(w,A)}function L(w,A){A.length===0&&A.needDrain&&(A.needDrain=!1,w.emit("drain"))}function te(w,A){A.bufferProcessing=!0;var v=A.bufferedRequest;if(w._writev&&v&&v.next){var a=A.bufferedRequestCount,b=new Array(a),R=A.corkedRequestsFree;R.entry=v;for(var P=0,F=!0;v;)b[P]=v,v.isBuf||(F=!1),v=v.next,P+=1;b.allBuffers=F,O(w,A,!0,A.length,b,"",R.finish),A.pendingcb++,A.lastBufferedRequest=null,R.next?(A.corkedRequestsFree=R.next,R.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;v;){var K=v.chunk,Z=v.encoding,U=v.callback,Y=A.objectMode?1:K.length;if(O(w,A,!1,Y,K,Z,U),v=v.next,A.bufferedRequestCount--,A.writing)break}v===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=v,A.bufferProcessing=!1}C.prototype._write=function(w,A,v){v(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(w,A,v){var a=this._writableState;typeof w=="function"?(v=w,w=null,A=null):typeof A=="function"&&(v=A,A=null),w!=null&&this.write(w,A),a.corked&&(a.corked=1,this.uncork()),a.ending||h(this,a,v)};function E(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function o(w,A){w._final(function(v){A.pendingcb--,v&&w.emit("error",v),A.prefinished=!0,w.emit("prefinish"),l(w,A)})}function u(w,A){!A.prefinished&&!A.finalCalled&&(typeof w._final=="function"?(A.pendingcb++,A.finalCalled=!0,t.nextTick(o,w,A)):(A.prefinished=!0,w.emit("prefinish")))}function l(w,A){var v=E(A);return v&&(u(w,A),A.pendingcb===0&&(A.finished=!0,w.emit("finish"))),v}function h(w,A,v){A.ending=!0,l(w,A),v&&(A.finished?t.nextTick(v):w.once("finish",v)),A.ended=!0,w.writable=!1}function g(w,A,v){var a=w.entry;for(w.entry=null;a;){var b=a.callback;A.pendingcb--,b(v),a=a.next}A.corkedRequestsFree.next=w}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),C.prototype.destroy=y.destroy,C.prototype._undestroy=y.undestroy,C.prototype._destroy=function(w,A){this.end(),A(w)},nm}var sm,Z_;function xa(){if(Z_)return sm;Z_=1;var t=Dh(),e=Object.keys||function(y){var _=[];for(var x in y)_.push(x);return _};sm=m;var r=Object.create(tf());r.inherits=pt();var i=E5(),s=_5();r.inherits(m,i);for(var n=e(s.prototype),c=0;c<n.length;c++){var f=n[c];m.prototype[f]||(m.prototype[f]=s.prototype[f])}function m(y){if(!(this instanceof m))return new m(y);i.call(this,y),s.call(this,y),y&&y.readable===!1&&(this.readable=!1),y&&y.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,y&&y.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(){this.allowHalfOpen||this._writableState.ended||t.nextTick(d,this)}function d(y){y.end()}return Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),m.prototype._destroy=function(y,_){this.push(null),this.end(),t.nextTick(_,y)},sm}var om={},qf={exports:{}},Y_;function jB(){return Y_||(Y_=1,function(t,e){var r=Vr(),i=r.Buffer;function s(c,f){for(var m in c)f[m]=c[m]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=n);function n(c,f,m){return i(c,f,m)}s(i,n),n.from=function(c,f,m){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,f,m)},n.alloc=function(c,f,m){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=i(c);return f!==void 0?typeof m=="string"?p.fill(f,m):p.fill(f):p.fill(0),p},n.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},n.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}}(qf,qf.exports)),qf.exports}var J_;function Q_(){if(J_)return om;J_=1;var t=jB().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var I;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(I)return;S=(""+S).toLowerCase(),I=!0}}function i(S){var I=r(S);if(typeof I!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return I||S}om.StringDecoder=s;function s(S){this.encoding=i(S);var I;switch(this.encoding){case"utf16le":this.text=y,this.end=_,I=4;break;case"utf8":this.fillLast=m,I=4;break;case"base64":this.text=x,this.end=M,I=3;break;default:this.write=C,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}s.prototype.write=function(S){if(S.length===0)return"";var I,N;if(this.lastNeed){if(I=this.fillLast(S),I===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<S.length?I?I+this.text(S,N):this.text(S,N):I||""},s.prototype.end=d,s.prototype.text=p,s.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function n(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function c(S,I,N){var O=I.length-1;if(O<N)return 0;var D=n(I[O]);return D>=0?(D>0&&(S.lastNeed=D-1),D):--O<N||D===-2?0:(D=n(I[O]),D>=0?(D>0&&(S.lastNeed=D-2),D):--O<N||D===-2?0:(D=n(I[O]),D>=0?(D>0&&(D===2?D=0:S.lastNeed=D-3),D):0))}function f(S,I,N){if((I[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return S.lastNeed=2,""}}function m(S){var I=this.lastTotal-this.lastNeed,N=f(this,S);if(N!==void 0)return N;if(this.lastNeed<=S.length)return S.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,I,0,S.length),this.lastNeed-=S.length}function p(S,I){var N=c(this,S,I);if(!this.lastNeed)return S.toString("utf8",I);this.lastTotal=N;var O=S.length-(N-this.lastNeed);return S.copy(this.lastChar,0,O),S.toString("utf8",I,O)}function d(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+"":I}function y(S,I){if((S.length-I)%2===0){var N=S.toString("utf16le",I);if(N){var O=N.charCodeAt(N.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",I,S.length-1)}function _(S){var I=S&&S.length?this.write(S):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,N)}return I}function x(S,I){var N=(S.length-I)%3;return N===0?S.toString("base64",I):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",I,S.length-N))}function M(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function C(S){return S.toString(this.encoding)}function T(S){return S&&S.length?this.write(S):""}return om}var am,X_;function E5(){if(X_)return am;X_=1;var t=Dh();am=I;var e=LB(),r;I.ReadableState=S,Fa().EventEmitter;var i=function(U,Y){return U.listeners(Y).length},s=b5(),n=J1().Buffer,c=(typeof mt<"u"?mt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(U){return n.from(U)}function m(U){return n.isBuffer(U)||U instanceof c}var p=Object.create(tf());p.inherits=pt();var d=Ph(),y=void 0;d&&d.debuglog?y=d.debuglog("stream"):y=function(){};var _=qB(),x=w5(),M;p.inherits(I,s);var C=["error","close","destroy","pause","resume"];function T(U,Y,X){if(typeof U.prependListener=="function")return U.prependListener(Y,X);!U._events||!U._events[Y]?U.on(Y,X):e(U._events[Y])?U._events[Y].unshift(X):U._events[Y]=[X,U._events[Y]]}function S(U,Y){r=r||xa(),U=U||{};var X=Y instanceof r;this.objectMode=!!U.objectMode,X&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var re=U.highWaterMark,ee=U.readableHighWaterMark,H=this.objectMode?16:16*1024;re||re===0?this.highWaterMark=re:X&&(ee||ee===0)?this.highWaterMark=ee:this.highWaterMark=H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(M||(M=Q_().StringDecoder),this.decoder=new M(U.encoding),this.encoding=U.encoding)}function I(U){if(r=r||xa(),!(this instanceof I))return new I(U);this._readableState=new S(U,this),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),s.call(this)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),I.prototype.destroy=x.destroy,I.prototype._undestroy=x.undestroy,I.prototype._destroy=function(U,Y){this.push(null),Y(U)},I.prototype.push=function(U,Y){var X=this._readableState,re;return X.objectMode?re=!0:typeof U=="string"&&(Y=Y||X.defaultEncoding,Y!==X.encoding&&(U=n.from(U,Y),Y=""),re=!0),N(this,U,Y,!1,re)},I.prototype.unshift=function(U){return N(this,U,null,!0,!1)};function N(U,Y,X,re,ee){var H=U._readableState;if(Y===null)H.reading=!1,te(U,H);else{var oe;ee||(oe=D(H,Y)),oe?U.emit("error",oe):H.objectMode||Y&&Y.length>0?(typeof Y!="string"&&!H.objectMode&&Object.getPrototypeOf(Y)!==n.prototype&&(Y=f(Y)),re?H.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):O(U,H,Y,!0):H.ended?U.emit("error",new Error("stream.push() after EOF")):(H.reading=!1,H.decoder&&!X?(Y=H.decoder.write(Y),H.objectMode||Y.length!==0?O(U,H,Y,!1):u(U,H)):O(U,H,Y,!1))):re||(H.reading=!1)}return $(H)}function O(U,Y,X,re){Y.flowing&&Y.length===0&&!Y.sync?(U.emit("data",X),U.read(0)):(Y.length+=Y.objectMode?1:X.length,re?Y.buffer.unshift(X):Y.buffer.push(X),Y.needReadable&&E(U)),u(U,Y)}function D(U,Y){var X;return!m(Y)&&typeof Y!="string"&&Y!==void 0&&!U.objectMode&&(X=new TypeError("Invalid non-string/buffer chunk")),X}function $(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(U){return M||(M=Q_().StringDecoder),this._readableState.decoder=new M(U),this._readableState.encoding=U,this};var z=8388608;function G(U){return U>=z?U=z:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function L(U,Y){return U<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:U!==U?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(U>Y.highWaterMark&&(Y.highWaterMark=G(U)),U<=Y.length?U:Y.ended?Y.length:(Y.needReadable=!0,0))}I.prototype.read=function(U){y("read",U),U=parseInt(U,10);var Y=this._readableState,X=U;if(U!==0&&(Y.emittedReadable=!1),U===0&&Y.needReadable&&(Y.length>=Y.highWaterMark||Y.ended))return y("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?F(this):E(this),null;if(U=L(U,Y),U===0&&Y.ended)return Y.length===0&&F(this),null;var re=Y.needReadable;y("need readable",re),(Y.length===0||Y.length-U<Y.highWaterMark)&&(re=!0,y("length less than watermark",re)),Y.ended||Y.reading?(re=!1,y("reading or ended",re)):re&&(y("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(U=L(X,Y)));var ee;return U>0?ee=a(U,Y):ee=null,ee===null?(Y.needReadable=!0,U=0):Y.length-=U,Y.length===0&&(Y.ended||(Y.needReadable=!0),X!==U&&Y.ended&&F(this)),ee!==null&&this.emit("data",ee),ee};function te(U,Y){if(!Y.ended){if(Y.decoder){var X=Y.decoder.end();X&&X.length&&(Y.buffer.push(X),Y.length+=Y.objectMode?1:X.length)}Y.ended=!0,E(U)}}function E(U){var Y=U._readableState;Y.needReadable=!1,Y.emittedReadable||(y("emitReadable",Y.flowing),Y.emittedReadable=!0,Y.sync?t.nextTick(o,U):o(U))}function o(U){y("emit readable"),U.emit("readable"),v(U)}function u(U,Y){Y.readingMore||(Y.readingMore=!0,t.nextTick(l,U,Y))}function l(U,Y){for(var X=Y.length;!Y.reading&&!Y.flowing&&!Y.ended&&Y.length<Y.highWaterMark&&(y("maybeReadMore read 0"),U.read(0),X!==Y.length);)X=Y.length;Y.readingMore=!1}I.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(U,Y){var X=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=U;break;case 1:re.pipes=[re.pipes,U];break;default:re.pipes.push(U);break}re.pipesCount+=1,y("pipe count=%d opts=%j",re.pipesCount,Y);var ee=(!Y||Y.end!==!1)&&U!==We.stdout&&U!==We.stderr,H=ee?Ne:ze;re.endEmitted?t.nextTick(H):X.once("end",H),U.on("unpipe",oe);function oe(ge,xe){y("onunpipe"),ge===X&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,$e())}function Ne(){y("onend"),U.end()}var he=h(X);U.on("drain",he);var fe=!1;function $e(){y("cleanup"),U.removeListener("close",de),U.removeListener("finish",ve),U.removeListener("drain",he),U.removeListener("error",Ge),U.removeListener("unpipe",oe),X.removeListener("end",Ne),X.removeListener("end",ze),X.removeListener("data",ue),fe=!0,re.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&he()}var ye=!1;X.on("data",ue);function ue(ge){y("ondata"),ye=!1;var xe=U.write(ge);xe===!1&&!ye&&((re.pipesCount===1&&re.pipes===U||re.pipesCount>1&&Z(re.pipes,U)!==-1)&&!fe&&(y("false write response, pause",re.awaitDrain),re.awaitDrain++,ye=!0),X.pause())}function Ge(ge){y("onerror",ge),ze(),U.removeListener("error",Ge),i(U,"error")===0&&U.emit("error",ge)}T(U,"error",Ge);function de(){U.removeListener("finish",ve),ze()}U.once("close",de);function ve(){y("onfinish"),U.removeListener("close",de),ze()}U.once("finish",ve);function ze(){y("unpipe"),X.unpipe(U)}return U.emit("pipe",X),re.flowing||(y("pipe resume"),X.resume()),U};function h(U){return function(){var Y=U._readableState;y("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&i(U,"data")&&(Y.flowing=!0,v(U))}}I.prototype.unpipe=function(U){var Y=this._readableState,X={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return U&&U!==Y.pipes?this:(U||(U=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,U&&U.emit("unpipe",this,X),this);if(!U){var re=Y.pipes,ee=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var H=0;H<ee;H++)re[H].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=Z(Y.pipes,U);return oe===-1?this:(Y.pipes.splice(oe,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),U.emit("unpipe",this,X),this)},I.prototype.on=function(U,Y){var X=s.prototype.on.call(this,U,Y);if(U==="data")this._readableState.flowing!==!1&&this.resume();else if(U==="readable"){var re=this._readableState;!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.emittedReadable=!1,re.reading?re.length&&E(this):t.nextTick(g,this))}return X},I.prototype.addListener=I.prototype.on;function g(U){y("readable nexttick read 0"),U.read(0)}I.prototype.resume=function(){var U=this._readableState;return U.flowing||(y("resume"),U.flowing=!0,w(this,U)),this};function w(U,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,t.nextTick(A,U,Y))}function A(U,Y){Y.reading||(y("resume read 0"),U.read(0)),Y.resumeScheduled=!1,Y.awaitDrain=0,U.emit("resume"),v(U),Y.flowing&&!Y.reading&&U.read(0)}I.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function v(U){var Y=U._readableState;for(y("flow",Y.flowing);Y.flowing&&U.read()!==null;);}I.prototype.wrap=function(U){var Y=this,X=this._readableState,re=!1;U.on("end",function(){if(y("wrapped end"),X.decoder&&!X.ended){var oe=X.decoder.end();oe&&oe.length&&Y.push(oe)}Y.push(null)}),U.on("data",function(oe){if(y("wrapped data"),X.decoder&&(oe=X.decoder.write(oe)),!(X.objectMode&&oe==null)&&!(!X.objectMode&&(!oe||!oe.length))){var Ne=Y.push(oe);Ne||(re=!0,U.pause())}});for(var ee in U)this[ee]===void 0&&typeof U[ee]=="function"&&(this[ee]=function(oe){return function(){return U[oe].apply(U,arguments)}}(ee));for(var H=0;H<C.length;H++)U.on(C[H],this.emit.bind(this,C[H]));return this._read=function(oe){y("wrapped _read",oe),re&&(re=!1,U.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=a;function a(U,Y){if(Y.length===0)return null;var X;return Y.objectMode?X=Y.buffer.shift():!U||U>=Y.length?(Y.decoder?X=Y.buffer.join(""):Y.buffer.length===1?X=Y.buffer.head.data:X=Y.buffer.concat(Y.length),Y.buffer.clear()):X=b(U,Y.buffer,Y.decoder),X}function b(U,Y,X){var re;return U<Y.head.data.length?(re=Y.head.data.slice(0,U),Y.head.data=Y.head.data.slice(U)):U===Y.head.data.length?re=Y.shift():re=X?R(U,Y):P(U,Y),re}function R(U,Y){var X=Y.head,re=1,ee=X.data;for(U-=ee.length;X=X.next;){var H=X.data,oe=U>H.length?H.length:U;if(oe===H.length?ee+=H:ee+=H.slice(0,U),U-=oe,U===0){oe===H.length?(++re,X.next?Y.head=X.next:Y.head=Y.tail=null):(Y.head=X,X.data=H.slice(oe));break}++re}return Y.length-=re,ee}function P(U,Y){var X=n.allocUnsafe(U),re=Y.head,ee=1;for(re.data.copy(X),U-=re.data.length;re=re.next;){var H=re.data,oe=U>H.length?H.length:U;if(H.copy(X,X.length-U,0,oe),U-=oe,U===0){oe===H.length?(++ee,re.next?Y.head=re.next:Y.head=Y.tail=null):(Y.head=re,re.data=H.slice(oe));break}++ee}return Y.length-=ee,X}function F(U){var Y=U._readableState;if(Y.length>0)throw new Error('"endReadable()" called on non-empty stream');Y.endEmitted||(Y.ended=!0,t.nextTick(K,Y,U))}function K(U,Y){!U.endEmitted&&U.length===0&&(U.endEmitted=!0,Y.readable=!1,Y.emit("end"))}function Z(U,Y){for(var X=0,re=U.length;X<re;X++)if(U[X]===Y)return X;return-1}return am}var cm,e3;function A5(){if(e3)return cm;e3=1,cm=i;var t=xa(),e=Object.create(tf());e.inherits=pt(),e.inherits(i,t);function r(c,f){var m=this._transformState;m.transforming=!1;var p=m.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,f!=null&&this.push(f),p(c);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function i(c){if(!(this instanceof i))return new i(c);t.call(this,c),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",s)}function s(){var c=this;typeof this._flush=="function"?this._flush(function(f,m){n(c,f,m)}):n(this,null,null)}i.prototype.push=function(c,f){return this._transformState.needTransform=!1,t.prototype.push.call(this,c,f)},i.prototype._transform=function(c,f,m){throw new Error("_transform() is not implemented")},i.prototype._write=function(c,f,m){var p=this._transformState;if(p.writecb=m,p.writechunk=c,p.writeencoding=f,!p.transforming){var d=this._readableState;(p.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},i.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},i.prototype._destroy=function(c,f){var m=this;t.prototype._destroy.call(this,c,function(p){f(p),m.emit("close")})};function n(c,f,m){if(f)return c.emit("error",f);if(m!=null&&c.push(m),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}return cm}var um,t3;function zB(){if(t3)return um;t3=1,um=r;var t=A5(),e=Object.create(tf());e.inherits=pt(),e.inherits(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return r.prototype._transform=function(i,s,n){n(null,i)},um}var r3;function HB(){return r3||(r3=1,function(t,e){e=t.exports=E5(),e.Stream=e,e.Readable=e,e.Writable=_5(),e.Duplex=xa(),e.Transform=A5(),e.PassThrough=zB()}(Uf,Uf.exports)),Uf.exports}var lc={exports:{}},pl={exports:{}},WB=pl.exports,i3;function Q1(){return i3||(i3=1,function(t){(function(e,r){function i(u,l){if(!u)throw new Error(l||"Assertion failed")}function s(u,l){u.super_=l;var h=function(){};h.prototype=l.prototype,u.prototype=new h,u.prototype.constructor=u}function n(u,l,h){if(n.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(u||0,l||10,h||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,h){return l.cmp(h)>0?l:h},n.min=function(l,h){return l.cmp(h)<0?l:h},n.prototype._init=function(l,h,g){if(typeof l=="number")return this._initNumber(l,h,g);if(typeof l=="object")return this._initArray(l,h,g);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var w=0;l[0]==="-"&&(w++,this.negative=1),w<l.length&&(h===16?this._parseHex(l,w,g):(this._parseBase(l,h,w),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(l,h,g){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(i(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(l,h,g){if(i(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var A,v,a=0;if(g==="be")for(w=l.length-1,A=0;w>=0;w-=3)v=l[w]|l[w-1]<<8|l[w-2]<<16,this.words[A]|=v<<a&67108863,this.words[A+1]=v>>>26-a&67108863,a+=24,a>=26&&(a-=26,A++);else if(g==="le")for(w=0,A=0;w<l.length;w+=3)v=l[w]|l[w+1]<<8|l[w+2]<<16,this.words[A]|=v<<a&67108863,this.words[A+1]=v>>>26-a&67108863,a+=24,a>=26&&(a-=26,A++);return this._strip()};function f(u,l){var h=u.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;i(!1,"Invalid character in "+u)}function m(u,l,h){var g=f(u,h);return h-1>=l&&(g|=f(u,h-1)<<4),g}n.prototype._parseHex=function(l,h,g){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var A=0,v=0,a;if(g==="be")for(w=l.length-1;w>=h;w-=2)a=m(l,h,w)<<A,this.words[v]|=a&67108863,A>=18?(A-=18,v+=1,this.words[v]|=a>>>26):A+=8;else{var b=l.length-h;for(w=b%2===0?h+1:h;w<l.length;w+=2)a=m(l,h,w)<<A,this.words[v]|=a&67108863,A>=18?(A-=18,v+=1,this.words[v]|=a>>>26):A+=8}this._strip()};function p(u,l,h,g){for(var w=0,A=0,v=Math.min(u.length,h),a=l;a<v;a++){var b=u.charCodeAt(a)-48;w*=g,b>=49?A=b-49+10:b>=17?A=b-17+10:A=b,i(b>=0&&A<g,"Invalid character"),w+=A}return w}n.prototype._parseBase=function(l,h,g){this.words=[0],this.length=1;for(var w=0,A=1;A<=67108863;A*=h)w++;w--,A=A/h|0;for(var v=l.length-g,a=v%w,b=Math.min(v,v-a)+g,R=0,P=g;P<b;P+=w)R=p(l,P,P+w,h),this.imuln(A),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(a!==0){var F=1;for(R=p(l,P,l.length,h),P=0;P<a;P++)F*=h;this.imuln(F),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(u,l){u.words=l.words,u.length=l.length,u.negative=l.negative,u.red=l.red}if(n.prototype._move=function(l){d(l,this)},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{n.prototype.inspect=y}else n.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,h){l=l||10,h=h|0||1;var g;if(l===16||l==="hex"){g="";for(var w=0,A=0,v=0;v<this.length;v++){var a=this.words[v],b=((a<<w|A)&16777215).toString(16);A=a>>>24-w&16777215,w+=2,w>=26&&(w-=26,v--),A!==0||v!==this.length-1?g=_[6-b.length]+b+g:g=b+g}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(l===(l|0)&&l>=2&&l<=36){var R=x[l],P=M[l];g="";var F=this.clone();for(F.negative=0;!F.isZero();){var K=F.modrn(P).toString(l);F=F.idivn(P),F.isZero()?g=K+g:g=_[R-K.length]+K+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16,2)},c&&(n.prototype.toBuffer=function(l,h){return this.toArrayLike(c,l,h)}),n.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var C=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};n.prototype.toArrayLike=function(l,h,g){this._strip();var w=this.byteLength(),A=g||Math.max(1,w);i(w<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var v=C(l,A),a=h==="le"?"LE":"BE";return this["_toArrayLike"+a](v,w),v},n.prototype._toArrayLikeLE=function(l,h){for(var g=0,w=0,A=0,v=0;A<this.length;A++){var a=this.words[A]<<v|w;l[g++]=a&255,g<l.length&&(l[g++]=a>>8&255),g<l.length&&(l[g++]=a>>16&255),v===6?(g<l.length&&(l[g++]=a>>24&255),w=0,v=0):(w=a>>>24,v+=2)}if(g<l.length)for(l[g++]=w;g<l.length;)l[g++]=0},n.prototype._toArrayLikeBE=function(l,h){for(var g=l.length-1,w=0,A=0,v=0;A<this.length;A++){var a=this.words[A]<<v|w;l[g--]=a&255,g>=0&&(l[g--]=a>>8&255),g>=0&&(l[g--]=a>>16&255),v===6?(g>=0&&(l[g--]=a>>24&255),w=0,v=0):(w=a>>>24,v+=2)}if(g>=0)for(l[g--]=w;g>=0;)l[g--]=0},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var h=l,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,g=0;return(h&8191)===0&&(g+=13,h>>>=13),(h&127)===0&&(g+=7,h>>>=7),(h&15)===0&&(g+=4,h>>>=4),(h&3)===0&&(g+=2,h>>>=2),(h&1)===0&&g++,g},n.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function T(u){for(var l=new Array(u.bitLength()),h=0;h<l.length;h++){var g=h/26|0,w=h%26;l[h]=u.words[g]>>>w&1}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(l+=g,g!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},n.prototype.ior=function(l){return i((this.negative|l.negative)===0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&l.words[g];return this.length=h.length,this._strip()},n.prototype.iand=function(l){return i((this.negative|l.negative)===0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var h,g;this.length>l.length?(h=this,g=l):(h=l,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this._strip()},n.prototype.ixor=function(l){return i((this.negative|l.negative)===0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){i(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,g=l%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=~this.words[w]&67108863;return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this._strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,h){i(typeof l=="number"&&l>=0);var g=l/26|0,w=l%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<w:this.words[g]=this.words[g]&~(1<<w),this._strip()},n.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var g,w;this.length>l.length?(g=this,w=l):(g=l,w=this);for(var A=0,v=0;v<w.length;v++)h=(g.words[v]|0)+(w.words[v]|0)+A,this.words[v]=h&67108863,A=h>>>26;for(;A!==0&&v<g.length;v++)h=(g.words[v]|0)+A,this.words[v]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;v<g.length;v++)this.words[v]=g.words[v];return this},n.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var g=this.cmp(l);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,A;g>0?(w=this,A=l):(w=l,A=this);for(var v=0,a=0;a<A.length;a++)h=(w.words[a]|0)-(A.words[a]|0)+v,v=h>>26,this.words[a]=h&67108863;for(;v!==0&&a<w.length;a++)h=(w.words[a]|0)+v,v=h>>26,this.words[a]=h&67108863;if(v===0&&a<w.length&&w!==this)for(;a<w.length;a++)this.words[a]=w.words[a];return this.length=Math.max(this.length,a),w!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function S(u,l,h){h.negative=l.negative^u.negative;var g=u.length+l.length|0;h.length=g,g=g-1|0;var w=u.words[0]|0,A=l.words[0]|0,v=w*A,a=v&67108863,b=v/67108864|0;h.words[0]=a;for(var R=1;R<g;R++){for(var P=b>>>26,F=b&67108863,K=Math.min(R,l.length-1),Z=Math.max(0,R-u.length+1);Z<=K;Z++){var U=R-Z|0;w=u.words[U]|0,A=l.words[Z]|0,v=w*A+F,P+=v/67108864|0,F=v&67108863}h.words[R]=F|0,b=P|0}return b!==0?h.words[R]=b|0:h.length--,h._strip()}var I=function(l,h,g){var w=l.words,A=h.words,v=g.words,a=0,b,R,P,F=w[0]|0,K=F&8191,Z=F>>>13,U=w[1]|0,Y=U&8191,X=U>>>13,re=w[2]|0,ee=re&8191,H=re>>>13,oe=w[3]|0,Ne=oe&8191,he=oe>>>13,fe=w[4]|0,$e=fe&8191,ye=fe>>>13,ue=w[5]|0,Ge=ue&8191,de=ue>>>13,ve=w[6]|0,ze=ve&8191,ge=ve>>>13,xe=w[7]|0,it=xe&8191,Ae=xe>>>13,Ie=w[8]|0,at=Ie&8191,W=Ie>>>13,k=w[9]|0,q=k&8191,J=k>>>13,ie=A[0]|0,pe=ie&8191,ae=ie>>>13,_e=A[1]|0,Xe=_e&8191,be=_e>>>13,Me=A[2]|0,Ve=Me&8191,Ce=Me>>>13,Pe=A[3]|0,bt=Pe&8191,Te=Pe>>>13,Oe=A[4]|0,Mt=Oe&8191,V=Oe>>>13,B=A[5]|0,j=B&8191,Q=B>>>13,se=A[6]|0,me=se&8191,ce=se>>>13,Ee=A[7]|0,rt=Ee&8191,we=Ee>>>13,Se=A[8]|0,Qe=Se&8191,Re=Se>>>13,ke=A[9]|0,gt=ke&8191,vt=ke>>>13;g.negative=l.negative^h.negative,g.length=19,b=Math.imul(K,pe),R=Math.imul(K,ae),R=R+Math.imul(Z,pe)|0,P=Math.imul(Z,ae);var Gt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,b=Math.imul(Y,pe),R=Math.imul(Y,ae),R=R+Math.imul(X,pe)|0,P=Math.imul(X,ae),b=b+Math.imul(K,Xe)|0,R=R+Math.imul(K,be)|0,R=R+Math.imul(Z,Xe)|0,P=P+Math.imul(Z,be)|0;var Zt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,b=Math.imul(ee,pe),R=Math.imul(ee,ae),R=R+Math.imul(H,pe)|0,P=Math.imul(H,ae),b=b+Math.imul(Y,Xe)|0,R=R+Math.imul(Y,be)|0,R=R+Math.imul(X,Xe)|0,P=P+Math.imul(X,be)|0,b=b+Math.imul(K,Ve)|0,R=R+Math.imul(K,Ce)|0,R=R+Math.imul(Z,Ve)|0,P=P+Math.imul(Z,Ce)|0;var Yt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,b=Math.imul(Ne,pe),R=Math.imul(Ne,ae),R=R+Math.imul(he,pe)|0,P=Math.imul(he,ae),b=b+Math.imul(ee,Xe)|0,R=R+Math.imul(ee,be)|0,R=R+Math.imul(H,Xe)|0,P=P+Math.imul(H,be)|0,b=b+Math.imul(Y,Ve)|0,R=R+Math.imul(Y,Ce)|0,R=R+Math.imul(X,Ve)|0,P=P+Math.imul(X,Ce)|0,b=b+Math.imul(K,bt)|0,R=R+Math.imul(K,Te)|0,R=R+Math.imul(Z,bt)|0,P=P+Math.imul(Z,Te)|0;var Jt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,b=Math.imul($e,pe),R=Math.imul($e,ae),R=R+Math.imul(ye,pe)|0,P=Math.imul(ye,ae),b=b+Math.imul(Ne,Xe)|0,R=R+Math.imul(Ne,be)|0,R=R+Math.imul(he,Xe)|0,P=P+Math.imul(he,be)|0,b=b+Math.imul(ee,Ve)|0,R=R+Math.imul(ee,Ce)|0,R=R+Math.imul(H,Ve)|0,P=P+Math.imul(H,Ce)|0,b=b+Math.imul(Y,bt)|0,R=R+Math.imul(Y,Te)|0,R=R+Math.imul(X,bt)|0,P=P+Math.imul(X,Te)|0,b=b+Math.imul(K,Mt)|0,R=R+Math.imul(K,V)|0,R=R+Math.imul(Z,Mt)|0,P=P+Math.imul(Z,V)|0;var Qt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,b=Math.imul(Ge,pe),R=Math.imul(Ge,ae),R=R+Math.imul(de,pe)|0,P=Math.imul(de,ae),b=b+Math.imul($e,Xe)|0,R=R+Math.imul($e,be)|0,R=R+Math.imul(ye,Xe)|0,P=P+Math.imul(ye,be)|0,b=b+Math.imul(Ne,Ve)|0,R=R+Math.imul(Ne,Ce)|0,R=R+Math.imul(he,Ve)|0,P=P+Math.imul(he,Ce)|0,b=b+Math.imul(ee,bt)|0,R=R+Math.imul(ee,Te)|0,R=R+Math.imul(H,bt)|0,P=P+Math.imul(H,Te)|0,b=b+Math.imul(Y,Mt)|0,R=R+Math.imul(Y,V)|0,R=R+Math.imul(X,Mt)|0,P=P+Math.imul(X,V)|0,b=b+Math.imul(K,j)|0,R=R+Math.imul(K,Q)|0,R=R+Math.imul(Z,j)|0,P=P+Math.imul(Z,Q)|0;var Xt=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,b=Math.imul(ze,pe),R=Math.imul(ze,ae),R=R+Math.imul(ge,pe)|0,P=Math.imul(ge,ae),b=b+Math.imul(Ge,Xe)|0,R=R+Math.imul(Ge,be)|0,R=R+Math.imul(de,Xe)|0,P=P+Math.imul(de,be)|0,b=b+Math.imul($e,Ve)|0,R=R+Math.imul($e,Ce)|0,R=R+Math.imul(ye,Ve)|0,P=P+Math.imul(ye,Ce)|0,b=b+Math.imul(Ne,bt)|0,R=R+Math.imul(Ne,Te)|0,R=R+Math.imul(he,bt)|0,P=P+Math.imul(he,Te)|0,b=b+Math.imul(ee,Mt)|0,R=R+Math.imul(ee,V)|0,R=R+Math.imul(H,Mt)|0,P=P+Math.imul(H,V)|0,b=b+Math.imul(Y,j)|0,R=R+Math.imul(Y,Q)|0,R=R+Math.imul(X,j)|0,P=P+Math.imul(X,Q)|0,b=b+Math.imul(K,me)|0,R=R+Math.imul(K,ce)|0,R=R+Math.imul(Z,me)|0,P=P+Math.imul(Z,ce)|0;var er=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(er>>>26)|0,er&=67108863,b=Math.imul(it,pe),R=Math.imul(it,ae),R=R+Math.imul(Ae,pe)|0,P=Math.imul(Ae,ae),b=b+Math.imul(ze,Xe)|0,R=R+Math.imul(ze,be)|0,R=R+Math.imul(ge,Xe)|0,P=P+Math.imul(ge,be)|0,b=b+Math.imul(Ge,Ve)|0,R=R+Math.imul(Ge,Ce)|0,R=R+Math.imul(de,Ve)|0,P=P+Math.imul(de,Ce)|0,b=b+Math.imul($e,bt)|0,R=R+Math.imul($e,Te)|0,R=R+Math.imul(ye,bt)|0,P=P+Math.imul(ye,Te)|0,b=b+Math.imul(Ne,Mt)|0,R=R+Math.imul(Ne,V)|0,R=R+Math.imul(he,Mt)|0,P=P+Math.imul(he,V)|0,b=b+Math.imul(ee,j)|0,R=R+Math.imul(ee,Q)|0,R=R+Math.imul(H,j)|0,P=P+Math.imul(H,Q)|0,b=b+Math.imul(Y,me)|0,R=R+Math.imul(Y,ce)|0,R=R+Math.imul(X,me)|0,P=P+Math.imul(X,ce)|0,b=b+Math.imul(K,rt)|0,R=R+Math.imul(K,we)|0,R=R+Math.imul(Z,rt)|0,P=P+Math.imul(Z,we)|0;var tr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(tr>>>26)|0,tr&=67108863,b=Math.imul(at,pe),R=Math.imul(at,ae),R=R+Math.imul(W,pe)|0,P=Math.imul(W,ae),b=b+Math.imul(it,Xe)|0,R=R+Math.imul(it,be)|0,R=R+Math.imul(Ae,Xe)|0,P=P+Math.imul(Ae,be)|0,b=b+Math.imul(ze,Ve)|0,R=R+Math.imul(ze,Ce)|0,R=R+Math.imul(ge,Ve)|0,P=P+Math.imul(ge,Ce)|0,b=b+Math.imul(Ge,bt)|0,R=R+Math.imul(Ge,Te)|0,R=R+Math.imul(de,bt)|0,P=P+Math.imul(de,Te)|0,b=b+Math.imul($e,Mt)|0,R=R+Math.imul($e,V)|0,R=R+Math.imul(ye,Mt)|0,P=P+Math.imul(ye,V)|0,b=b+Math.imul(Ne,j)|0,R=R+Math.imul(Ne,Q)|0,R=R+Math.imul(he,j)|0,P=P+Math.imul(he,Q)|0,b=b+Math.imul(ee,me)|0,R=R+Math.imul(ee,ce)|0,R=R+Math.imul(H,me)|0,P=P+Math.imul(H,ce)|0,b=b+Math.imul(Y,rt)|0,R=R+Math.imul(Y,we)|0,R=R+Math.imul(X,rt)|0,P=P+Math.imul(X,we)|0,b=b+Math.imul(K,Qe)|0,R=R+Math.imul(K,Re)|0,R=R+Math.imul(Z,Qe)|0,P=P+Math.imul(Z,Re)|0;var rr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(rr>>>26)|0,rr&=67108863,b=Math.imul(q,pe),R=Math.imul(q,ae),R=R+Math.imul(J,pe)|0,P=Math.imul(J,ae),b=b+Math.imul(at,Xe)|0,R=R+Math.imul(at,be)|0,R=R+Math.imul(W,Xe)|0,P=P+Math.imul(W,be)|0,b=b+Math.imul(it,Ve)|0,R=R+Math.imul(it,Ce)|0,R=R+Math.imul(Ae,Ve)|0,P=P+Math.imul(Ae,Ce)|0,b=b+Math.imul(ze,bt)|0,R=R+Math.imul(ze,Te)|0,R=R+Math.imul(ge,bt)|0,P=P+Math.imul(ge,Te)|0,b=b+Math.imul(Ge,Mt)|0,R=R+Math.imul(Ge,V)|0,R=R+Math.imul(de,Mt)|0,P=P+Math.imul(de,V)|0,b=b+Math.imul($e,j)|0,R=R+Math.imul($e,Q)|0,R=R+Math.imul(ye,j)|0,P=P+Math.imul(ye,Q)|0,b=b+Math.imul(Ne,me)|0,R=R+Math.imul(Ne,ce)|0,R=R+Math.imul(he,me)|0,P=P+Math.imul(he,ce)|0,b=b+Math.imul(ee,rt)|0,R=R+Math.imul(ee,we)|0,R=R+Math.imul(H,rt)|0,P=P+Math.imul(H,we)|0,b=b+Math.imul(Y,Qe)|0,R=R+Math.imul(Y,Re)|0,R=R+Math.imul(X,Qe)|0,P=P+Math.imul(X,Re)|0,b=b+Math.imul(K,gt)|0,R=R+Math.imul(K,vt)|0,R=R+Math.imul(Z,gt)|0,P=P+Math.imul(Z,vt)|0;var ir=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(ir>>>26)|0,ir&=67108863,b=Math.imul(q,Xe),R=Math.imul(q,be),R=R+Math.imul(J,Xe)|0,P=Math.imul(J,be),b=b+Math.imul(at,Ve)|0,R=R+Math.imul(at,Ce)|0,R=R+Math.imul(W,Ve)|0,P=P+Math.imul(W,Ce)|0,b=b+Math.imul(it,bt)|0,R=R+Math.imul(it,Te)|0,R=R+Math.imul(Ae,bt)|0,P=P+Math.imul(Ae,Te)|0,b=b+Math.imul(ze,Mt)|0,R=R+Math.imul(ze,V)|0,R=R+Math.imul(ge,Mt)|0,P=P+Math.imul(ge,V)|0,b=b+Math.imul(Ge,j)|0,R=R+Math.imul(Ge,Q)|0,R=R+Math.imul(de,j)|0,P=P+Math.imul(de,Q)|0,b=b+Math.imul($e,me)|0,R=R+Math.imul($e,ce)|0,R=R+Math.imul(ye,me)|0,P=P+Math.imul(ye,ce)|0,b=b+Math.imul(Ne,rt)|0,R=R+Math.imul(Ne,we)|0,R=R+Math.imul(he,rt)|0,P=P+Math.imul(he,we)|0,b=b+Math.imul(ee,Qe)|0,R=R+Math.imul(ee,Re)|0,R=R+Math.imul(H,Qe)|0,P=P+Math.imul(H,Re)|0,b=b+Math.imul(Y,gt)|0,R=R+Math.imul(Y,vt)|0,R=R+Math.imul(X,gt)|0,P=P+Math.imul(X,vt)|0;var nr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(nr>>>26)|0,nr&=67108863,b=Math.imul(q,Ve),R=Math.imul(q,Ce),R=R+Math.imul(J,Ve)|0,P=Math.imul(J,Ce),b=b+Math.imul(at,bt)|0,R=R+Math.imul(at,Te)|0,R=R+Math.imul(W,bt)|0,P=P+Math.imul(W,Te)|0,b=b+Math.imul(it,Mt)|0,R=R+Math.imul(it,V)|0,R=R+Math.imul(Ae,Mt)|0,P=P+Math.imul(Ae,V)|0,b=b+Math.imul(ze,j)|0,R=R+Math.imul(ze,Q)|0,R=R+Math.imul(ge,j)|0,P=P+Math.imul(ge,Q)|0,b=b+Math.imul(Ge,me)|0,R=R+Math.imul(Ge,ce)|0,R=R+Math.imul(de,me)|0,P=P+Math.imul(de,ce)|0,b=b+Math.imul($e,rt)|0,R=R+Math.imul($e,we)|0,R=R+Math.imul(ye,rt)|0,P=P+Math.imul(ye,we)|0,b=b+Math.imul(Ne,Qe)|0,R=R+Math.imul(Ne,Re)|0,R=R+Math.imul(he,Qe)|0,P=P+Math.imul(he,Re)|0,b=b+Math.imul(ee,gt)|0,R=R+Math.imul(ee,vt)|0,R=R+Math.imul(H,gt)|0,P=P+Math.imul(H,vt)|0;var sr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(sr>>>26)|0,sr&=67108863,b=Math.imul(q,bt),R=Math.imul(q,Te),R=R+Math.imul(J,bt)|0,P=Math.imul(J,Te),b=b+Math.imul(at,Mt)|0,R=R+Math.imul(at,V)|0,R=R+Math.imul(W,Mt)|0,P=P+Math.imul(W,V)|0,b=b+Math.imul(it,j)|0,R=R+Math.imul(it,Q)|0,R=R+Math.imul(Ae,j)|0,P=P+Math.imul(Ae,Q)|0,b=b+Math.imul(ze,me)|0,R=R+Math.imul(ze,ce)|0,R=R+Math.imul(ge,me)|0,P=P+Math.imul(ge,ce)|0,b=b+Math.imul(Ge,rt)|0,R=R+Math.imul(Ge,we)|0,R=R+Math.imul(de,rt)|0,P=P+Math.imul(de,we)|0,b=b+Math.imul($e,Qe)|0,R=R+Math.imul($e,Re)|0,R=R+Math.imul(ye,Qe)|0,P=P+Math.imul(ye,Re)|0,b=b+Math.imul(Ne,gt)|0,R=R+Math.imul(Ne,vt)|0,R=R+Math.imul(he,gt)|0,P=P+Math.imul(he,vt)|0;var or=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(or>>>26)|0,or&=67108863,b=Math.imul(q,Mt),R=Math.imul(q,V),R=R+Math.imul(J,Mt)|0,P=Math.imul(J,V),b=b+Math.imul(at,j)|0,R=R+Math.imul(at,Q)|0,R=R+Math.imul(W,j)|0,P=P+Math.imul(W,Q)|0,b=b+Math.imul(it,me)|0,R=R+Math.imul(it,ce)|0,R=R+Math.imul(Ae,me)|0,P=P+Math.imul(Ae,ce)|0,b=b+Math.imul(ze,rt)|0,R=R+Math.imul(ze,we)|0,R=R+Math.imul(ge,rt)|0,P=P+Math.imul(ge,we)|0,b=b+Math.imul(Ge,Qe)|0,R=R+Math.imul(Ge,Re)|0,R=R+Math.imul(de,Qe)|0,P=P+Math.imul(de,Re)|0,b=b+Math.imul($e,gt)|0,R=R+Math.imul($e,vt)|0,R=R+Math.imul(ye,gt)|0,P=P+Math.imul(ye,vt)|0;var ar=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(q,j),R=Math.imul(q,Q),R=R+Math.imul(J,j)|0,P=Math.imul(J,Q),b=b+Math.imul(at,me)|0,R=R+Math.imul(at,ce)|0,R=R+Math.imul(W,me)|0,P=P+Math.imul(W,ce)|0,b=b+Math.imul(it,rt)|0,R=R+Math.imul(it,we)|0,R=R+Math.imul(Ae,rt)|0,P=P+Math.imul(Ae,we)|0,b=b+Math.imul(ze,Qe)|0,R=R+Math.imul(ze,Re)|0,R=R+Math.imul(ge,Qe)|0,P=P+Math.imul(ge,Re)|0,b=b+Math.imul(Ge,gt)|0,R=R+Math.imul(Ge,vt)|0,R=R+Math.imul(de,gt)|0,P=P+Math.imul(de,vt)|0;var cr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(cr>>>26)|0,cr&=67108863,b=Math.imul(q,me),R=Math.imul(q,ce),R=R+Math.imul(J,me)|0,P=Math.imul(J,ce),b=b+Math.imul(at,rt)|0,R=R+Math.imul(at,we)|0,R=R+Math.imul(W,rt)|0,P=P+Math.imul(W,we)|0,b=b+Math.imul(it,Qe)|0,R=R+Math.imul(it,Re)|0,R=R+Math.imul(Ae,Qe)|0,P=P+Math.imul(Ae,Re)|0,b=b+Math.imul(ze,gt)|0,R=R+Math.imul(ze,vt)|0,R=R+Math.imul(ge,gt)|0,P=P+Math.imul(ge,vt)|0;var ur=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(ur>>>26)|0,ur&=67108863,b=Math.imul(q,rt),R=Math.imul(q,we),R=R+Math.imul(J,rt)|0,P=Math.imul(J,we),b=b+Math.imul(at,Qe)|0,R=R+Math.imul(at,Re)|0,R=R+Math.imul(W,Qe)|0,P=P+Math.imul(W,Re)|0,b=b+Math.imul(it,gt)|0,R=R+Math.imul(it,vt)|0,R=R+Math.imul(Ae,gt)|0,P=P+Math.imul(Ae,vt)|0;var fr=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(fr>>>26)|0,fr&=67108863,b=Math.imul(q,Qe),R=Math.imul(q,Re),R=R+Math.imul(J,Qe)|0,P=Math.imul(J,Re),b=b+Math.imul(at,gt)|0,R=R+Math.imul(at,vt)|0,R=R+Math.imul(W,gt)|0,P=P+Math.imul(W,vt)|0;var hd=(a+b|0)+((R&8191)<<13)|0;a=(P+(R>>>13)|0)+(hd>>>26)|0,hd&=67108863,b=Math.imul(q,gt),R=Math.imul(q,vt),R=R+Math.imul(J,gt)|0,P=Math.imul(J,vt);var dd=(a+b|0)+((R&8191)<<13)|0;return a=(P+(R>>>13)|0)+(dd>>>26)|0,dd&=67108863,v[0]=Gt,v[1]=Zt,v[2]=Yt,v[3]=Jt,v[4]=Qt,v[5]=Xt,v[6]=er,v[7]=tr,v[8]=rr,v[9]=ir,v[10]=nr,v[11]=sr,v[12]=or,v[13]=ar,v[14]=cr,v[15]=ur,v[16]=fr,v[17]=hd,v[18]=dd,a!==0&&(v[19]=a,g.length++),g};Math.imul||(I=S);function N(u,l,h){h.negative=l.negative^u.negative,h.length=u.length+l.length;for(var g=0,w=0,A=0;A<h.length-1;A++){var v=w;w=0;for(var a=g&67108863,b=Math.min(A,l.length-1),R=Math.max(0,A-u.length+1);R<=b;R++){var P=A-R,F=u.words[P]|0,K=l.words[R]|0,Z=F*K,U=Z&67108863;v=v+(Z/67108864|0)|0,U=U+a|0,a=U&67108863,v=v+(U>>>26)|0,w+=v>>>26,v&=67108863}h.words[A]=a,g=v,v=w}return g!==0?h.words[A]=g:h.length--,h._strip()}function O(u,l,h){return N(u,l,h)}n.prototype.mulTo=function(l,h){var g,w=this.length+l.length;return this.length===10&&l.length===10?g=I(this,l,h):w<63?g=S(this,l,h):w<1024?g=N(this,l,h):g=O(this,l,h),g},n.prototype.mul=function(l){var h=new n(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},n.prototype.mulf=function(l){var h=new n(null);return h.words=new Array(this.length+l.length),O(this,l,h)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){var h=l<0;h&&(l=-l),i(typeof l=="number"),i(l<67108864);for(var g=0,w=0;w<this.length;w++){var A=(this.words[w]|0)*l,v=(A&67108863)+(g&67108863);g>>=26,g+=A/67108864|0,g+=v>>>26,this.words[w]=v&67108863}return g!==0&&(this.words[w]=g,this.length++),h?this.ineg():this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var h=T(l);if(h.length===0)return new n(1);for(var g=this,w=0;w<h.length&&h[w]===0;w++,g=g.sqr());if(++w<h.length)for(var A=g.sqr();w<h.length;w++,A=A.sqr())h[w]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(l){i(typeof l=="number"&&l>=0);var h=l%26,g=(l-h)/26,w=67108863>>>26-h<<26-h,A;if(h!==0){var v=0;for(A=0;A<this.length;A++){var a=this.words[A]&w,b=(this.words[A]|0)-a<<h;this.words[A]=b|v,v=a>>>26-h}v&&(this.words[A]=v,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(l){return i(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,h,g){i(typeof l=="number"&&l>=0);var w;h?w=(h-h%26)/26:w=0;var A=l%26,v=Math.min((l-A)/26,this.length),a=67108863^67108863>>>A<<A,b=g;if(w-=v,w=Math.max(0,w),b){for(var R=0;R<v;R++)b.words[R]=this.words[R];b.length=v}if(v!==0)if(this.length>v)for(this.length-=v,R=0;R<this.length;R++)this.words[R]=this.words[R+v];else this.words[0]=0,this.length=1;var P=0;for(R=this.length-1;R>=0&&(P!==0||R>=w);R--){var F=this.words[R]|0;this.words[R]=P<<26-A|F>>>A,P=F&a}return b&&P!==0&&(b.words[b.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(l,h,g){return i(this.negative===0),this.iushrn(l,h,g)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){i(typeof l=="number"&&l>=0);var h=l%26,g=(l-h)/26,w=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&w)},n.prototype.imaskn=function(l){i(typeof l=="number"&&l>=0);var h=l%26,g=(l-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var w=67108863^67108863>>>h<<h;this.words[this.length-1]&=w}return this._strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return i(typeof l=="number"),i(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(l){if(i(typeof l=="number"),i(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,h,g){var w=l.length+g,A;this._expand(w);var v,a=0;for(A=0;A<l.length;A++){v=(this.words[A+g]|0)+a;var b=(l.words[A]|0)*h;v-=b&67108863,a=(v>>26)-(b/67108864|0),this.words[A+g]=v&67108863}for(;A<this.length-g;A++)v=(this.words[A+g]|0)+a,a=v>>26,this.words[A+g]=v&67108863;if(a===0)return this._strip();for(i(a===-1),a=0,A=0;A<this.length;A++)v=-(this.words[A]|0)+a,a=v>>26,this.words[A]=v&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(l,h){var g=this.length-l.length,w=this.clone(),A=l,v=A.words[A.length-1]|0,a=this._countBits(v);g=26-a,g!==0&&(A=A.ushln(g),w.iushln(g),v=A.words[A.length-1]|0);var b=w.length-A.length,R;if(h!=="mod"){R=new n(null),R.length=b+1,R.words=new Array(R.length);for(var P=0;P<R.length;P++)R.words[P]=0}var F=w.clone()._ishlnsubmul(A,1,b);F.negative===0&&(w=F,R&&(R.words[b]=1));for(var K=b-1;K>=0;K--){var Z=(w.words[A.length+K]|0)*67108864+(w.words[A.length+K-1]|0);for(Z=Math.min(Z/v|0,67108863),w._ishlnsubmul(A,Z,K);w.negative!==0;)Z--,w.negative=0,w._ishlnsubmul(A,1,K),w.isZero()||(w.negative^=1);R&&(R.words[K]=Z)}return R&&R._strip(),w._strip(),h!=="div"&&g!==0&&w.iushrn(g),{div:R||null,mod:w}},n.prototype.divmod=function(l,h,g){if(i(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var w,A,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,h),h!=="mod"&&(w=v.div.neg()),h!=="div"&&(A=v.mod.neg(),g&&A.negative!==0&&A.iadd(l)),{div:w,mod:A}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),h),h!=="mod"&&(w=v.div.neg()),{div:w,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),h),h!=="div"&&(A=v.mod.neg(),g&&A.negative!==0&&A.isub(l)),{div:v.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modrn(l.words[0]))}:this._wordDiv(l,h)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(l):h.mod,w=l.ushrn(1),A=l.andln(1),v=g.cmp(w);return v<0||A===1&&v===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(l){var h=l<0;h&&(l=-l),i(l<=67108863);for(var g=(1<<26)%l,w=0,A=this.length-1;A>=0;A--)w=(g*w+(this.words[A]|0))%l;return h?-w:w},n.prototype.modn=function(l){return this.modrn(l)},n.prototype.idivn=function(l){var h=l<0;h&&(l=-l),i(l<=67108863);for(var g=0,w=this.length-1;w>=0;w--){var A=(this.words[w]|0)+g*67108864;this.words[w]=A/l|0,g=A%l}return this._strip(),h?this.ineg():this},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){i(l.negative===0),i(!l.isZero());var h=this,g=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var w=new n(1),A=new n(0),v=new n(0),a=new n(1),b=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++b;for(var R=g.clone(),P=h.clone();!h.isZero();){for(var F=0,K=1;(h.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(h.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(R),A.isub(P)),w.iushrn(1),A.iushrn(1);for(var Z=0,U=1;(g.words[0]&U)===0&&Z<26;++Z,U<<=1);if(Z>0)for(g.iushrn(Z);Z-- >0;)(v.isOdd()||a.isOdd())&&(v.iadd(R),a.isub(P)),v.iushrn(1),a.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(v),A.isub(a)):(g.isub(h),v.isub(w),a.isub(A))}return{a:v,b:a,gcd:g.iushln(b)}},n.prototype._invmp=function(l){i(l.negative===0),i(!l.isZero());var h=this,g=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var w=new n(1),A=new n(0),v=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var a=0,b=1;(h.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(v),w.iushrn(1);for(var R=0,P=1;(g.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(g.iushrn(R);R-- >0;)A.isOdd()&&A.iadd(v),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(A)):(g.isub(h),A.isub(w))}var F;return h.cmpn(1)===0?F=w:F=A,F.cmpn(0)<0&&F.iadd(l),F},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),g=l.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var v=h;h=g,g=v}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(w)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){i(typeof l=="number");var h=l%26,g=(l-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var A=w,v=g;A!==0&&v<this.length;v++){var a=this.words[v]|0;a+=A,A=a>>>26,a&=67108863,this.words[v]=a}return A!==0&&(this.words[v]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var g;if(this.length>1)g=1;else{h&&(l=-l),i(l<=67108863,"Number is too big");var w=this.words[0]|0;g=w===l?0:w<l?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=this.words[g]|0,A=l.words[g]|0;if(w!==A){w<A?h=-1:w>A&&(h=1);break}}return h},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new E(l)},n.prototype.toRed=function(l){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return i(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return i(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var D={k256:null,p224:null,p192:null,p25519:null};function $(u,l){this.name=u,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},$.prototype.ireduce=function(l){var h=l,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return w===0?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},$.prototype.split=function(l,h){l.iushrn(this.n,0,h)},$.prototype.imulK=function(l){return l.imul(this.k)};function z(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,$),z.prototype.split=function(l,h){for(var g=4194303,w=Math.min(l.length,9),A=0;A<w;A++)h.words[A]=l.words[A];if(h.length=w,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(h.words[h.length++]=v&g,A=10;A<l.length;A++){var a=l.words[A]|0;l.words[A-10]=(a&g)<<4|v>>>22,v=a}v>>>=22,l.words[A-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},z.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,g=0;g<l.length;g++){var w=l.words[g]|0;h+=w*977,l.words[g]=h&67108863,h=w*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function G(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(G,$);function L(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(L,$);function te(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(te,$),te.prototype.imulK=function(l){for(var h=0,g=0;g<l.length;g++){var w=(l.words[g]|0)*19+h,A=w&67108863;w>>>=26,l.words[g]=A,h=w}return h!==0&&(l.words[l.length++]=h),l},n._prime=function(l){if(D[l])return D[l];var h;if(l==="k256")h=new z;else if(l==="p224")h=new G;else if(l==="p192")h=new L;else if(l==="p25519")h=new te;else throw new Error("Unknown prime "+l);return D[l]=h,h};function E(u){if(typeof u=="string"){var l=n._prime(u);this.m=l.p,this.prime=l}else i(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}E.prototype._verify1=function(l){i(l.negative===0,"red works only with positives"),i(l.red,"red works only with red numbers")},E.prototype._verify2=function(l,h){i((l.negative|h.negative)===0,"red works only with positives"),i(l.red&&l.red===h.red,"red works only with red numbers")},E.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},E.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},E.prototype.add=function(l,h){this._verify2(l,h);var g=l.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},E.prototype.iadd=function(l,h){this._verify2(l,h);var g=l.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},E.prototype.sub=function(l,h){this._verify2(l,h);var g=l.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},E.prototype.isub=function(l,h){this._verify2(l,h);var g=l.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},E.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},E.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},E.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},E.prototype.isqr=function(l){return this.imul(l,l.clone())},E.prototype.sqr=function(l){return this.mul(l,l)},E.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(l,g)}for(var w=this.m.subn(1),A=0;!w.isZero()&&w.andln(1)===0;)A++,w.iushrn(1);i(!w.isZero());var v=new n(1).toRed(this),a=v.redNeg(),b=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new n(2*R*R).toRed(this);this.pow(R,b).cmp(a)!==0;)R.redIAdd(a);for(var P=this.pow(R,w),F=this.pow(l,w.addn(1).iushrn(1)),K=this.pow(l,w),Z=A;K.cmp(v)!==0;){for(var U=K,Y=0;U.cmp(v)!==0;Y++)U=U.redSqr();i(Y<Z);var X=this.pow(P,new n(1).iushln(Z-Y-1));F=F.redMul(X),P=X.redSqr(),K=K.redMul(P),Z=Y}return F},E.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},E.prototype.pow=function(l,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var g=4,w=new Array(1<<g);w[0]=new n(1).toRed(this),w[1]=l;for(var A=2;A<w.length;A++)w[A]=this.mul(w[A-1],l);var v=w[0],a=0,b=0,R=h.bitLength()%26;for(R===0&&(R=26),A=h.length-1;A>=0;A--){for(var P=h.words[A],F=R-1;F>=0;F--){var K=P>>F&1;if(v!==w[0]&&(v=this.sqr(v)),K===0&&a===0){b=0;continue}a<<=1,a|=K,b++,!(b!==g&&(A!==0||F!==0))&&(v=this.mul(v,w[a]),b=0,a=0)}R=26}return v},E.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},E.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},n.mont=function(l){return new o(l)};function o(u){E.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(o,E),o.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},o.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},o.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var g=l.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(w).iushrn(this.shift),v=A;return A.cmp(this.m)>=0?v=A.isub(this.m):A.cmpn(0)<0&&(v=A.iadd(this.m)),v._forceRed(this)},o.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new n(0)._forceRed(this);var g=l.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(w).iushrn(this.shift),v=A;return A.cmp(this.m)>=0?v=A.isub(this.m):A.cmpn(0)<0&&(v=A.iadd(this.m)),v._forceRed(this)},o.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,WB)}(pl)),pl.exports}var fm,n3;function X1(){if(n3)return fm;n3=1;var t=Q1(),e=Va(),r=xt().Buffer;function i(c){var f=c.modulus.byteLength(),m;do m=new t(e(f));while(m.cmp(c.modulus)>=0||!m.umod(c.prime1)||!m.umod(c.prime2));return m}function s(c){var f=i(c),m=f.toRed(t.mont(c.modulus)).redPow(new t(c.publicExponent)).fromRed();return{blinder:m,unblinder:f.invm(c.modulus)}}function n(c,f){var m=s(f),p=f.modulus.byteLength(),d=new t(c).mul(m.blinder).umod(f.modulus),y=d.toRed(t.mont(f.prime1)),_=d.toRed(t.mont(f.prime2)),x=f.coefficient,M=f.prime1,C=f.prime2,T=y.redPow(f.exponent1).fromRed(),S=_.redPow(f.exponent2).fromRed(),I=T.isub(S).imul(x).umod(M).imul(C);return S.iadd(I).imul(m.unblinder).umod(f.modulus).toArrayLike(r,"be",p)}return n.getr=i,fm=n,fm}var Fi={},lm={},ml={exports:{}},VB=ml.exports,s3;function KB(){return s3||(s3=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,VB)}(ml)),ml.exports}var hm={};const GB={},ZB=Object.freeze(Object.defineProperty({__proto__:null,default:GB},Symbol.toStringTag,{value:"Module"})),YB=A1(ZB);var o3;function JB(){return o3||(o3=1,function(t){var e=rf(),r=pt(),i=t;i.define=function(c,f){return new s(c,f)};function s(n,c){this.name=n,this.body=c,this.decoders={},this.encoders={}}s.prototype._createNamed=function(c){var f;try{f=YB.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{f=function(p){this._initNamed(p)}}return r(f,c),f.prototype._initNamed=function(p){c.call(this,p)},new f(this)},s.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(e.decoders[c])),this.decoders[c]},s.prototype.decode=function(c,f,m){return this._getDecoder(f).decode(c,m)},s.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(e.encoders[c])),this.encoders[c]},s.prototype.encode=function(c,f,m){return this._getEncoder(f).encode(c,m)}}(hm)),hm}var dm={},pm={},a3;function QB(){if(a3)return pm;a3=1;var t=pt();function e(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}pm.Reporter=e,e.prototype.isError=function(s){return s instanceof r},e.prototype.save=function(){var s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},e.prototype.restore=function(s){var n=this._reporterState;n.obj=s.obj,n.path=n.path.slice(0,s.pathLen)},e.prototype.enterKey=function(s){return this._reporterState.path.push(s)},e.prototype.exitKey=function(s){var n=this._reporterState;n.path=n.path.slice(0,s-1)},e.prototype.leaveKey=function(s,n,c){var f=this._reporterState;this.exitKey(s),f.obj!==null&&(f.obj[n]=c)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var s=this._reporterState,n=s.obj;return s.obj={},n},e.prototype.leaveObject=function(s){var n=this._reporterState,c=n.obj;return n.obj=s,c},e.prototype.error=function(s){var n,c=this._reporterState,f=s instanceof r;if(f?n=s:n=new r(c.path.map(function(m){return"["+JSON.stringify(m)+"]"}).join(""),s.message||s,s.stack),!c.options.partial)throw n;return f||c.errors.push(n),n},e.prototype.wrapResult=function(s){var n=this._reporterState;return n.options.partial?{result:this.isError(s)?null:s,errors:n.errors}:s};function r(i,s){this.path=i,this.rethrow(s)}return t(r,Error),r.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this},pm}var jf={},c3;function u3(){if(c3)return jf;c3=1;var t=pt(),e=Bc().Reporter,r=Vr().Buffer;function i(n,c){if(e.call(this,c),!r.isBuffer(n)){this.error("Input not Buffer");return}this.base=n,this.offset=0,this.length=n.length}t(i,e),jf.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},i.prototype.restore=function(c){var f=new i(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,e.prototype.restore.call(this,c.reporter),f},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},i.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");var m=new i(this.base);return m._reporterState=this._reporterState,m.offset=this.offset,m.length=this.offset+c,this.offset+=c,m},i.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)};function s(n,c){if(Array.isArray(n))this.length=0,this.value=n.map(function(f){return f instanceof s||(f=new s(f,c)),this.length+=f.length,f},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return c.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=r.byteLength(n);else if(r.isBuffer(n))this.value=n,this.length=n.length;else return c.error("Unsupported type: "+typeof n)}return jf.EncoderBuffer=s,s.prototype.join=function(c,f){return c||(c=new r(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(m){m.join(c,f),f+=m.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):r.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c},jf}var mm,f3;function XB(){if(f3)return mm;f3=1;var t=Bc().Reporter,e=Bc().EncoderBuffer,r=Bc().DecoderBuffer,i=Ji(),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function f(p,d){var y={};this._baseState=y,y.enc=p,y.parent=d||null,y.children=null,y.tag=null,y.args=null,y.reverseArgs=null,y.choice=null,y.optional=!1,y.any=!1,y.obj=!1,y.use=null,y.useDecoder=null,y.key=null,y.default=null,y.explicit=null,y.implicit=null,y.contains=null,y.parent||(y.children=[],this._wrap())}mm=f;var m=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return f.prototype.clone=function(){var d=this._baseState,y={};m.forEach(function(x){y[x]=d[x]});var _=new this.constructor(y.parent);return _._baseState=y,_},f.prototype._wrap=function(){var d=this._baseState;n.forEach(function(y){this[y]=function(){var x=new this.constructor(this);return d.children.push(x),x[y].apply(x,arguments)}},this)},f.prototype._init=function(d){var y=this._baseState;i(y.parent===null),d.call(this),y.children=y.children.filter(function(_){return _._baseState.parent===this},this),i.equal(y.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){var y=this._baseState,_=d.filter(function(x){return x instanceof this.constructor},this);d=d.filter(function(x){return!(x instanceof this.constructor)},this),_.length!==0&&(i(y.children===null),y.children=_,_.forEach(function(x){x._baseState.parent=this},this)),d.length!==0&&(i(y.args===null),y.args=d,y.reverseArgs=d.map(function(x){if(typeof x!="object"||x.constructor!==Object)return x;var M={};return Object.keys(x).forEach(function(C){C==(C|0)&&(C|=0);var T=x[C];M[T]=C}),M}))},c.forEach(function(p){f.prototype[p]=function(){var y=this._baseState;throw new Error(p+" not implemented for encoding: "+y.enc)}}),s.forEach(function(p){f.prototype[p]=function(){var y=this._baseState,_=Array.prototype.slice.call(arguments);return i(y.tag===null),y.tag=p,this._useArgs(_),this}}),f.prototype.use=function(d){i(d);var y=this._baseState;return i(y.use===null),y.use=d,this},f.prototype.optional=function(){var d=this._baseState;return d.optional=!0,this},f.prototype.def=function(d){var y=this._baseState;return i(y.default===null),y.default=d,y.optional=!0,this},f.prototype.explicit=function(d){var y=this._baseState;return i(y.explicit===null&&y.implicit===null),y.explicit=d,this},f.prototype.implicit=function(d){var y=this._baseState;return i(y.explicit===null&&y.implicit===null),y.implicit=d,this},f.prototype.obj=function(){var d=this._baseState,y=Array.prototype.slice.call(arguments);return d.obj=!0,y.length!==0&&this._useArgs(y),this},f.prototype.key=function(d){var y=this._baseState;return i(y.key===null),y.key=d,this},f.prototype.any=function(){var d=this._baseState;return d.any=!0,this},f.prototype.choice=function(d){var y=this._baseState;return i(y.choice===null),y.choice=d,this._useArgs(Object.keys(d).map(function(_){return d[_]})),this},f.prototype.contains=function(d){var y=this._baseState;return i(y.use===null),y.contains=d,this},f.prototype._decode=function(d,y){var _=this._baseState;if(_.parent===null)return d.wrapResult(_.children[0]._decode(d,y));var x=_.default,M=!0,C=null;if(_.key!==null&&(C=d.enterKey(_.key)),_.optional){var T=null;if(_.explicit!==null?T=_.explicit:_.implicit!==null?T=_.implicit:_.tag!==null&&(T=_.tag),T===null&&!_.any){var S=d.save();try{_.choice===null?this._decodeGeneric(_.tag,d,y):this._decodeChoice(d,y),M=!0}catch{M=!1}d.restore(S)}else if(M=this._peekTag(d,T,_.any),d.isError(M))return M}var I;if(_.obj&&M&&(I=d.enterObject()),M){if(_.explicit!==null){var N=this._decodeTag(d,_.explicit);if(d.isError(N))return N;d=N}var O=d.offset;if(_.use===null&&_.choice===null){if(_.any)var S=d.save();var D=this._decodeTag(d,_.implicit!==null?_.implicit:_.tag,_.any);if(d.isError(D))return D;_.any?x=d.raw(S):d=D}if(y&&y.track&&_.tag!==null&&y.track(d.path(),O,d.length,"tagged"),y&&y.track&&_.tag!==null&&y.track(d.path(),d.offset,d.length,"content"),_.any?x=x:_.choice===null?x=this._decodeGeneric(_.tag,d,y):x=this._decodeChoice(d,y),d.isError(x))return x;if(!_.any&&_.choice===null&&_.children!==null&&_.children.forEach(function(G){G._decode(d,y)}),_.contains&&(_.tag==="octstr"||_.tag==="bitstr")){var $=new r(x);x=this._getUse(_.contains,d._reporterState.obj)._decode($,y)}}return _.obj&&M&&(x=d.leaveObject(I)),_.key!==null&&(x!==null||M===!0)?d.leaveKey(C,_.key,x):C!==null&&d.exitKey(C),x},f.prototype._decodeGeneric=function(d,y,_){var x=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(y,d,x.args[0],_):/str$/.test(d)?this._decodeStr(y,d,_):d==="objid"&&x.args?this._decodeObjid(y,x.args[0],x.args[1],_):d==="objid"?this._decodeObjid(y,null,null,_):d==="gentime"||d==="utctime"?this._decodeTime(y,d,_):d==="null_"?this._decodeNull(y,_):d==="bool"?this._decodeBool(y,_):d==="objDesc"?this._decodeStr(y,d,_):d==="int"||d==="enum"?this._decodeInt(y,x.args&&x.args[0],_):x.use!==null?this._getUse(x.use,y._reporterState.obj)._decode(y,_):y.error("unknown tag: "+d)},f.prototype._getUse=function(d,y){var _=this._baseState;return _.useDecoder=this._use(d,y),i(_.useDecoder._baseState.parent===null),_.useDecoder=_.useDecoder._baseState.children[0],_.implicit!==_.useDecoder._baseState.implicit&&(_.useDecoder=_.useDecoder.clone(),_.useDecoder._baseState.implicit=_.implicit),_.useDecoder},f.prototype._decodeChoice=function(d,y){var _=this._baseState,x=null,M=!1;return Object.keys(_.choice).some(function(C){var T=d.save(),S=_.choice[C];try{var I=S._decode(d,y);if(d.isError(I))return!1;x={type:C,value:I},M=!0}catch{return d.restore(T),!1}return!0},this),M?x:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new e(d,this.reporter)},f.prototype._encode=function(d,y,_){var x=this._baseState;if(!(x.default!==null&&x.default===d)){var M=this._encodeValue(d,y,_);if(M!==void 0&&!this._skipDefault(M,y,_))return M}},f.prototype._encodeValue=function(d,y,_){var x=this._baseState;if(x.parent===null)return x.children[0]._encode(d,y||new t);var S=null;if(this.reporter=y,x.optional&&d===void 0)if(x.default!==null)d=x.default;else return;var M=null,C=!1;if(x.any)S=this._createEncoderBuffer(d);else if(x.choice)S=this._encodeChoice(d,y);else if(x.contains)M=this._getUse(x.contains,_)._encode(d,y),C=!0;else if(x.children)M=x.children.map(function(O){if(O._baseState.tag==="null_")return O._encode(null,y,d);if(O._baseState.key===null)return y.error("Child should have a key");var D=y.enterKey(O._baseState.key);if(typeof d!="object")return y.error("Child expected, but input is not object");var $=O._encode(d[O._baseState.key],y,d);return y.leaveKey(D),$},this).filter(function(O){return O}),M=this._createEncoderBuffer(M);else if(x.tag==="seqof"||x.tag==="setof"){if(!(x.args&&x.args.length===1))return y.error("Too many args for : "+x.tag);if(!Array.isArray(d))return y.error("seqof/setof, but data is not Array");var T=this.clone();T._baseState.implicit=null,M=this._createEncoderBuffer(d.map(function(O){var D=this._baseState;return this._getUse(D.args[0],d)._encode(O,y)},T))}else x.use!==null?S=this._getUse(x.use,_)._encode(d,y):(M=this._encodePrimitive(x.tag,d),C=!0);var S;if(!x.any&&x.choice===null){var I=x.implicit!==null?x.implicit:x.tag,N=x.implicit===null?"universal":"context";I===null?x.use===null&&y.error("Tag could be omitted only for .use()"):x.use===null&&(S=this._encodeComposite(I,C,N,M))}return x.explicit!==null&&(S=this._encodeComposite(x.explicit,!1,"context",S)),S},f.prototype._encodeChoice=function(d,y){var _=this._baseState,x=_.choice[d.type];return x||i(!1,d.type+" not found in "+JSON.stringify(Object.keys(_.choice))),x._encode(d.value,y)},f.prototype._encodePrimitive=function(d,y){var _=this._baseState;if(/str$/.test(d))return this._encodeStr(y,d);if(d==="objid"&&_.args)return this._encodeObjid(y,_.reverseArgs[0],_.args[1]);if(d==="objid")return this._encodeObjid(y,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(y,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(y,_.args&&_.reverseArgs[0]);if(d==="bool")return this._encodeBool(y);if(d==="objDesc")return this._encodeStr(y,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)},mm}var l3;function Bc(){return l3||(l3=1,function(t){var e=t;e.Reporter=QB().Reporter,e.DecoderBuffer=u3().DecoderBuffer,e.EncoderBuffer=u3().EncoderBuffer,e.Node=XB()}(dm)),dm}var gm={},vm={},h3;function eD(){return h3||(h3=1,function(t){var e=x5();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(vm)),vm}var d3;function x5(){return d3||(d3=1,function(t){var e=t;e._reverse=function(i){var s={};return Object.keys(i).forEach(function(n){(n|0)==n&&(n=n|0);var c=i[n];s[c]=n}),s},e.der=eD()}(gm)),gm}var ym={},bm,p3;function M5(){if(p3)return bm;p3=1;var t=pt(),e=rf(),r=e.base,i=e.bignum,s=e.constants.der;function n(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new c,this.tree._init(p.body)}bm=n,n.prototype.decode=function(d,y){return d instanceof r.DecoderBuffer||(d=new r.DecoderBuffer(d,y)),this.tree._decode(d,y)};function c(p){r.Node.call(this,"der",p)}t(c,r.Node),c.prototype._peekTag=function(d,y,_){if(d.isEmpty())return!1;var x=d.save(),M=f(d,'Failed to peek tag: "'+y+'"');return d.isError(M)?M:(d.restore(x),M.tag===y||M.tagStr===y||M.tagStr+"of"===y||_)},c.prototype._decodeTag=function(d,y,_){var x=f(d,'Failed to decode tag of "'+y+'"');if(d.isError(x))return x;var M=m(d,x.primitive,'Failed to get length of "'+y+'"');if(d.isError(M))return M;if(!_&&x.tag!==y&&x.tagStr!==y&&x.tagStr+"of"!==y)return d.error('Failed to match tag: "'+y+'"');if(x.primitive||M!==null)return d.skip(M,'Failed to match body of: "'+y+'"');var C=d.save(),T=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(T)?T:(M=d.offset-C.offset,d.restore(C),d.skip(M,'Failed to match body of: "'+y+'"'))},c.prototype._skipUntilEnd=function(d,y){for(;;){var _=f(d,y);if(d.isError(_))return _;var x=m(d,_.primitive,y);if(d.isError(x))return x;var M;if(_.primitive||x!==null?M=d.skip(x):M=this._skipUntilEnd(d,y),d.isError(M))return M;if(_.tagStr==="end")break}},c.prototype._decodeList=function(d,y,_,x){for(var M=[];!d.isEmpty();){var C=this._peekTag(d,"end");if(d.isError(C))return C;var T=_.decode(d,"der",x);if(d.isError(T)&&C)break;M.push(T)}return M},c.prototype._decodeStr=function(d,y){if(y==="bitstr"){var _=d.readUInt8();return d.isError(_)?_:{unused:_,data:d.raw()}}else if(y==="bmpstr"){var x=d.raw();if(x.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var M="",C=0;C<x.length/2;C++)M+=String.fromCharCode(x.readUInt16BE(C*2));return M}else if(y==="numstr"){var T=d.raw().toString("ascii");return this._isNumstr(T)?T:d.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr")return d.raw();if(y==="objDesc")return d.raw();if(y==="printstr"){var S=d.raw().toString("ascii");return this._isPrintstr(S)?S:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?d.raw().toString():d.error("Decoding of string type: "+y+" unsupported")}},c.prototype._decodeObjid=function(d,y,_){for(var x,M=[],C=0;!d.isEmpty();){var T=d.readUInt8();C<<=7,C|=T&127,(T&128)===0&&(M.push(C),C=0)}T&128&&M.push(C);var S=M[0]/40|0,I=M[0]%40;if(_?x=M:x=[S,I].concat(M.slice(1)),y){var N=y[x.join(" ")];N===void 0&&(N=y[x.join(".")]),N!==void 0&&(x=N)}return x},c.prototype._decodeTime=function(d,y){var _=d.raw().toString();if(y==="gentime")var x=_.slice(0,4)|0,M=_.slice(4,6)|0,C=_.slice(6,8)|0,T=_.slice(8,10)|0,S=_.slice(10,12)|0,I=_.slice(12,14)|0;else if(y==="utctime"){var x=_.slice(0,2)|0,M=_.slice(2,4)|0,C=_.slice(4,6)|0,T=_.slice(6,8)|0,S=_.slice(8,10)|0,I=_.slice(10,12)|0;x<70?x=2e3+x:x=1900+x}else return d.error("Decoding "+y+" time is not supported yet");return Date.UTC(x,M-1,C,T,S,I,0)},c.prototype._decodeNull=function(d){return null},c.prototype._decodeBool=function(d){var y=d.readUInt8();return d.isError(y)?y:y!==0},c.prototype._decodeInt=function(d,y){var _=d.raw(),x=new i(_);return y&&(x=y[x.toString(10)]||x),x},c.prototype._use=function(d,y){return typeof d=="function"&&(d=d(y)),d._getDecoder("der").tree};function f(p,d){var y=p.readUInt8(d);if(p.isError(y))return y;var _=s.tagClass[y>>6],x=(y&32)===0;if((y&31)===31){var M=y;for(y=0;(M&128)===128;){if(M=p.readUInt8(d),p.isError(M))return M;y<<=7,y|=M&127}}else y&=31;var C=s.tag[y];return{cls:_,primitive:x,tag:y,tagStr:C}}function m(p,d,y){var _=p.readUInt8(y);if(p.isError(_))return _;if(!d&&_===128)return null;if((_&128)===0)return _;var x=_&127;if(x>4)return p.error("length octect is too long");_=0;for(var M=0;M<x;M++){_<<=8;var C=p.readUInt8(y);if(p.isError(C))return C;_|=C}return _}return bm}var wm,m3;function tD(){if(m3)return wm;m3=1;var t=pt(),e=Vr().Buffer,r=M5();function i(s){r.call(this,s),this.enc="pem"}return t(i,r),wm=i,i.prototype.decode=function(n,c){for(var f=n.toString().split(/[\r\n]+/g),m=c.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,y=-1,_=0;_<f.length;_++){var x=f[_].match(p);if(x!==null&&x[2]===m)if(d===-1){if(x[1]!=="BEGIN")break;d=_}else{if(x[1]!=="END")break;y=_;break}}if(d===-1||y===-1)throw new Error("PEM section not found for: "+m);var M=f.slice(d+1,y).join("");M.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new e(M,"base64");return r.prototype.decode.call(this,C,c)},wm}var g3;function rD(){return g3||(g3=1,function(t){var e=t;e.der=M5(),e.pem=tD()}(ym)),ym}var _m={},Em,v3;function C5(){if(v3)return Em;v3=1;var t=pt(),e=Vr().Buffer,r=rf(),i=r.base,s=r.constants.der;function n(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new c,this.tree._init(p.body)}Em=n,n.prototype.encode=function(d,y){return this.tree._encode(d,y).join()};function c(p){i.Node.call(this,"der",p)}t(c,i.Node),c.prototype._encodeComposite=function(d,y,_,x){var M=m(d,y,_,this.reporter);if(x.length<128){var S=new e(2);return S[0]=M,S[1]=x.length,this._createEncoderBuffer([S,x])}for(var C=1,T=x.length;T>=256;T>>=8)C++;var S=new e(2+C);S[0]=M,S[1]=128|C;for(var T=1+C,I=x.length;I>0;T--,I>>=8)S[T]=I&255;return this._createEncoderBuffer([S,x])},c.prototype._encodeStr=function(d,y){if(y==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(y==="bmpstr"){for(var _=new e(d.length*2),x=0;x<d.length;x++)_.writeUInt16BE(d.charCodeAt(x),x*2);return this._createEncoderBuffer(_)}else return y==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(d):y==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+y+" unsupported")},c.prototype._encodeObjid=function(d,y,_){if(typeof d=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=y[d].split(/[\s\.]+/g);for(var x=0;x<d.length;x++)d[x]|=0}else if(Array.isArray(d)){d=d.slice();for(var x=0;x<d.length;x++)d[x]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!_){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var M=0,x=0;x<d.length;x++){var C=d[x];for(M++;C>=128;C>>=7)M++}for(var T=new e(M),S=T.length-1,x=d.length-1;x>=0;x--){var C=d[x];for(T[S--]=C&127;(C>>=7)>0;)T[S--]=128|C&127}return this._createEncoderBuffer(T)};function f(p){return p<10?"0"+p:p}c.prototype._encodeTime=function(d,y){var _,x=new Date(d);return y==="gentime"?_=[f(x.getFullYear()),f(x.getUTCMonth()+1),f(x.getUTCDate()),f(x.getUTCHours()),f(x.getUTCMinutes()),f(x.getUTCSeconds()),"Z"].join(""):y==="utctime"?_=[f(x.getFullYear()%100),f(x.getUTCMonth()+1),f(x.getUTCDate()),f(x.getUTCHours()),f(x.getUTCMinutes()),f(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(_,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(d,y){if(typeof d=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=y[d]}if(typeof d!="number"&&!e.isBuffer(d)){var _=d.toArray();!d.sign&&_[0]&128&&_.unshift(0),d=new e(_)}if(e.isBuffer(d)){var x=d.length;d.length===0&&x++;var C=new e(x);return d.copy(C),d.length===0&&(C[0]=0),this._createEncoderBuffer(C)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var x=1,M=d;M>=256;M>>=8)x++;for(var C=new Array(x),M=C.length-1;M>=0;M--)C[M]=d&255,d>>=8;return C[0]&128&&C.unshift(0),this._createEncoderBuffer(new e(C))},c.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},c.prototype._use=function(d,y){return typeof d=="function"&&(d=d(y)),d._getEncoder("der").tree},c.prototype._skipDefault=function(d,y,_){var x=this._baseState,M;if(x.default===null)return!1;var C=d.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,y,_).join()),C.length!==x.defaultBuffer.length)return!1;for(M=0;M<C.length;M++)if(C[M]!==x.defaultBuffer[M])return!1;return!0};function m(p,d,y,_){var x;if(p==="seqof"?p="seq":p==="setof"&&(p="set"),s.tagByName.hasOwnProperty(p))x=s.tagByName[p];else if(typeof p=="number"&&(p|0)===p)x=p;else return _.error("Unknown tag: "+p);return x>=31?_.error("Multi-octet tag encoding unsupported"):(d||(x|=32),x|=s.tagClassByName[y||"universal"]<<6,x)}return Em}var Am,y3;function iD(){if(y3)return Am;y3=1;var t=pt(),e=C5();function r(i){e.call(this,i),this.enc="pem"}return t(r,e),Am=r,r.prototype.encode=function(s,n){for(var c=e.prototype.encode.call(this,s),f=c.toString("base64"),m=["-----BEGIN "+n.label+"-----"],p=0;p<f.length;p+=64)m.push(f.slice(p,p+64));return m.push("-----END "+n.label+"-----"),m.join(`
`)},Am}var b3;function nD(){return b3||(b3=1,function(t){var e=t;e.der=C5(),e.pem=iD()}(_m)),_m}var w3;function rf(){return w3||(w3=1,function(t){var e=t;e.bignum=KB(),e.define=JB().define,e.base=Bc(),e.constants=x5(),e.decoders=rD(),e.encoders=nD()}(lm)),lm}var xm,_3;function sD(){if(_3)return xm;_3=1;var t=rf(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())}),n=t.define("RelativeDistinguishedName",function(){this.setof(r)}),c=t.define("RDNSequence",function(){this.seqof(n)}),f=t.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),m=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),p=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(i),this.key("issuer").use(f),this.key("validity").use(m),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),y=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(i),this.key("signatureValue").bitstr())});return xm=y,xm}var E3;function oD(){if(E3)return Fi;E3=1;var t=rf();Fi.certificate=sD();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Fi.RSAPrivateKey=e;var r=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Fi.RSAPublicKey=r;var i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});Fi.PublicKey=s;var n=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});Fi.PrivateKey=n;var c=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Fi.EncryptedPrivateKey=c;var f=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Fi.DSAPrivateKey=f,Fi.DSAparam=t.define("DSAparam",function(){this.int()});var m=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),p=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())});return Fi.ECPrivateKey=p,Fi.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),Fi}const aD={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Mm,A3;function cD(){if(A3)return Mm;A3=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,i=Bh(),s=Y1(),n=xt().Buffer;return Mm=function(c,f){var m=c.toString(),p=m.match(t),d;if(p){var _="aes"+p[1],x=n.from(p[2],"hex"),M=n.from(p[3].replace(/[\r\n]/g,""),"base64"),C=i(f,x.slice(0,8),parseInt(p[1],10)).key,T=[],S=s.createDecipheriv(_,C,x);T.push(S.update(M)),T.push(S.final()),d=n.concat(T)}else{var y=m.match(r);d=n.from(y[2].replace(/[\r\n]/g,""),"base64")}var I=m.match(e)[1];return{tag:I,data:d}},Mm}var Cm,x3;function $h(){if(x3)return Cm;x3=1;var t=oD(),e=aD,r=cD(),i=Y1(),s=u5(),n=xt().Buffer;function c(m,p){var d=m.algorithm.decrypt.kde.kdeparams.salt,y=parseInt(m.algorithm.decrypt.kde.kdeparams.iters.toString(),10),_=e[m.algorithm.decrypt.cipher.algo.join(".")],x=m.algorithm.decrypt.cipher.iv,M=m.subjectPrivateKey,C=parseInt(_.split("-")[1],10)/8,T=s.pbkdf2Sync(p,d,y,C,"sha1"),S=i.createDecipheriv(_,T,x),I=[];return I.push(S.update(M)),I.push(S.final()),n.concat(I)}function f(m){var p;typeof m=="object"&&!n.isBuffer(m)&&(p=m.passphrase,m=m.key),typeof m=="string"&&(m=n.from(m));var d=r(m,p),y=d.tag,_=d.data,x,M;switch(y){case"CERTIFICATE":M=t.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(M||(M=t.PublicKey.decode(_,"der")),x=M.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(M.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return M.subjectPrivateKey=M.subjectPublicKey,{type:"ec",data:M};case"1.2.840.10040.4.1":return M.algorithm.params.pub_key=t.DSAparam.decode(M.subjectPublicKey.data,"der"),{type:"dsa",data:M.algorithm.params};default:throw new Error("unknown key id "+x)}case"ENCRYPTED PRIVATE KEY":_=t.EncryptedPrivateKey.decode(_,"der"),_=c(_,p);case"PRIVATE KEY":switch(M=t.PrivateKey.decode(_,"der"),x=M.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(M.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:M.algorithm.curve,privateKey:t.ECPrivateKey.decode(M.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return M.algorithm.params.priv_key=t.DSAparam.decode(M.subjectPrivateKey,"der"),{type:"dsa",params:M.algorithm.params};default:throw new Error("unknown key id "+x)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return _=t.ECPrivateKey.decode(_,"der"),{curve:_.parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+y)}}return f.signature=t.signature,Cm=f,Cm}const S5={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var M3;function uD(){if(M3)return lc.exports;M3=1;var t=xt().Buffer,e=i5(),r=X1(),i=Fh().ec,s=Q1(),n=$h(),c=S5,f=1;function m(S,I,N,O,D){var $=n(I);if($.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return p(S,$)}else if($.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return d(S,$,N)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");if(I.padding!==void 0&&I.padding!==f)throw new Error("illegal or unsupported padding mode");S=t.concat([D,S]);for(var z=$.modulus.byteLength(),G=[0,1];S.length+G.length+1<z;)G.push(255);G.push(0);for(var L=-1;++L<S.length;)G.push(S[L]);var te=r(G,$);return te}function p(S,I){var N=c[I.curve.join(".")];if(!N)throw new Error("unknown curve "+I.curve.join("."));var O=new i(N),D=O.keyFromPrivate(I.privateKey),$=D.sign(S);return t.from($.toDER())}function d(S,I,N){for(var O=I.params.priv_key,D=I.params.p,$=I.params.q,z=I.params.g,G=new s(0),L,te=x(S,$).mod($),E=!1,o=_(O,$,S,N);E===!1;)L=C($,o,N),G=T(z,L,D,$),E=L.invm($).imul(te.add(O.mul(G))).mod($),E.cmpn(0)===0&&(E=!1,G=new s(0));return y(G,E)}function y(S,I){S=S.toArray(),I=I.toArray(),S[0]&128&&(S=[0].concat(S)),I[0]&128&&(I=[0].concat(I));var N=S.length+I.length+4,O=[48,N,2,S.length];return O=O.concat(S,[2,I.length],I),t.from(O)}function _(S,I,N,O){if(S=t.from(S.toArray()),S.length<I.byteLength()){var D=t.alloc(I.byteLength()-S.length);S=t.concat([D,S])}var $=N.length,z=M(N,I),G=t.alloc($);G.fill(1);var L=t.alloc($);return L=e(O,L).update(G).update(t.from([0])).update(S).update(z).digest(),G=e(O,L).update(G).digest(),L=e(O,L).update(G).update(t.from([1])).update(S).update(z).digest(),G=e(O,L).update(G).digest(),{k:L,v:G}}function x(S,I){var N=new s(S),O=(S.length<<3)-I.bitLength();return O>0&&N.ishrn(O),N}function M(S,I){S=x(S,I),S=S.mod(I);var N=t.from(S.toArray());if(N.length<I.byteLength()){var O=t.alloc(I.byteLength()-N.length);N=t.concat([O,N])}return N}function C(S,I,N){var O,D;do{for(O=t.alloc(0);O.length*8<S.bitLength();)I.v=e(N,I.k).update(I.v).digest(),O=t.concat([O,I.v]);D=x(O,S),I.k=e(N,I.k).update(I.v).update(t.from([0])).digest(),I.v=e(N,I.k).update(I.v).digest()}while(D.cmp(S)!==-1);return D}function T(S,I,N,O){return S.toRed(s.mont(N)).redPow(I).fromRed().mod(O)}return lc.exports=m,lc.exports.getKey=_,lc.exports.makeKey=C,lc.exports}var Sm,C3;function fD(){if(C3)return Sm;C3=1;var t=xt().Buffer,e=Q1(),r=Fh().ec,i=$h(),s=S5;function n(p,d,y,_,x){var M=i(y);if(M.type==="ec"){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");return c(p,d,M)}else if(M.type==="dsa"){if(_!=="dsa")throw new Error("wrong public key type");return f(p,d,M)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");d=t.concat([x,d]);for(var C=M.modulus.byteLength(),T=[1],S=0;d.length+T.length+2<C;)T.push(255),S+=1;T.push(0);for(var I=-1;++I<d.length;)T.push(d[I]);T=t.from(T);var N=e.mont(M.modulus);p=new e(p).toRed(N),p=p.redPow(new e(M.publicExponent)),p=t.from(p.fromRed().toArray());var O=S<8?1:0;for(C=Math.min(p.length,T.length),p.length!==T.length&&(O=1),I=-1;++I<C;)O|=p[I]^T[I];return O===0}function c(p,d,y){var _=s[y.data.algorithm.curve.join(".")];if(!_)throw new Error("unknown curve "+y.data.algorithm.curve.join("."));var x=new r(_),M=y.data.subjectPrivateKey.data;return x.verify(d,p,M)}function f(p,d,y){var _=y.data.p,x=y.data.q,M=y.data.g,C=y.data.pub_key,T=i.signature.decode(p,"der"),S=T.s,I=T.r;m(S,x),m(I,x);var N=e.mont(_),O=S.invm(x),D=M.toRed(N).redPow(new e(d).mul(O).mod(x)).fromRed().mul(C.toRed(N).redPow(I.mul(O).mod(x)).fromRed()).mod(_).mod(x);return D.cmp(I)===0}function m(p,d){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(d)>=0)throw new Error("invalid sig")}return Sm=n,Sm}var Im,S3;function lD(){if(S3)return Im;S3=1;var t=xt().Buffer,e=Xu(),r=HB(),i=pt(),s=uD(),n=fD(),c=n5;Object.keys(c).forEach(function(y){c[y].id=t.from(c[y].id,"hex"),c[y.toLowerCase()]=c[y]});function f(y){r.Writable.call(this);var _=c[y];if(!_)throw new Error("Unknown message digest");this._hashType=_.hash,this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}i(f,r.Writable),f.prototype._write=function(_,x,M){this._hash.update(_),M()},f.prototype.update=function(_,x){return this._hash.update(typeof _=="string"?t.from(_,x):_),this},f.prototype.sign=function(_,x){this.end();var M=this._hash.digest(),C=s(M,_,this._hashType,this._signType,this._tag);return x?C.toString(x):C};function m(y){r.Writable.call(this);var _=c[y];if(!_)throw new Error("Unknown message digest");this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}i(m,r.Writable),m.prototype._write=function(_,x,M){this._hash.update(_),M()},m.prototype.update=function(_,x){return this._hash.update(typeof _=="string"?t.from(_,x):_),this},m.prototype.verify=function(_,x,M){var C=typeof x=="string"?t.from(x,M):x;this.end();var T=this._hash.digest();return n(C,T,_,this._signType,this._tag)};function p(y){return new f(y)}function d(y){return new m(y)}return Im={Sign:p,Verify:d,createSign:p,createVerify:d},Im}var gl={exports:{}},hD=gl.exports,I3;function dD(){return I3||(I3=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,hD)}(gl)),gl.exports}var Tm,T3;function pD(){if(T3)return Tm;T3=1;var t=Fh(),e=dD();Tm=function(c){return new i(c)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function i(n){this.curveType=r[n],this.curveType||(this.curveType={name:n}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}i.prototype.generateKeys=function(n,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(n,c)},i.prototype.computeSecret=function(n,c,f){c=c||"utf8",lt.isBuffer(n)||(n=new lt(n,c));var m=this.curve.keyFromPublic(n).getPublic(),p=m.mul(this.keys.getPrivate()).getX();return s(p,f,this.curveType.byteLength)},i.prototype.getPublicKey=function(n,c){var f=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),s(f,n)},i.prototype.getPrivateKey=function(n){return s(this.keys.getPrivate(),n)},i.prototype.setPublicKey=function(n,c){return c=c||"utf8",lt.isBuffer(n)||(n=new lt(n,c)),this.keys._importPublic(n),this},i.prototype.setPrivateKey=function(n,c){c=c||"utf8",lt.isBuffer(n)||(n=new lt(n,c));var f=new e(n);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this};function s(n,c,f){Array.isArray(n)||(n=n.toArray());var m=new lt(n);if(f&&m.length<f){var p=new lt(f-m.length);p.fill(0),m=lt.concat([p,m])}return c?m.toString(c):m}return Tm}var Rm={},Nm,R3;function I5(){if(R3)return Nm;R3=1;var t=Xu(),e=xt().Buffer;Nm=function(i,s){for(var n=e.alloc(0),c=0,f;n.length<s;)f=r(c++),n=e.concat([n,t("sha1").update(i).update(f).digest()]);return n.slice(0,s)};function r(i){var s=e.allocUnsafe(4);return s.writeUInt32BE(i,0),s}return Nm}var Pm,N3;function T5(){return N3||(N3=1,Pm=function(e,r){for(var i=e.length,s=-1;++s<i;)e[s]^=r[s];return e}),Pm}var vl={exports:{}},mD=vl.exports,P3;function ey(){return P3||(P3=1,function(t){(function(e,r){function i(E,o){if(!E)throw new Error(o||"Assertion failed")}function s(E,o){E.super_=o;var u=function(){};u.prototype=o.prototype,E.prototype=new u,E.prototype.constructor=E}function n(E,o,u){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(E||0,o||10,u||"be"))}typeof e=="object"?e.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Vr().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,l):(this._parseBase(o,u,h),l==="le"&&this._initArray(this.toArray(),u,l)))},n.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},n.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,A=0;if(l==="be")for(h=o.length-1,g=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(l==="le")for(h=0,g=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=w<<A&67108863,this.words[g+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(E,o){var u=E.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function m(E,o,u){var l=f(E,u);return u-1>=o&&(l|=f(E,u-1)<<4),l}n.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,A;if(l==="be")for(h=o.length-1;h>=u;h-=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8;else{var v=o.length-u;for(h=v%2===0?u+1:u;h<o.length;h+=2)A=m(o,u,h)<<g,this.words[w]|=A&67108863,g>=18?(g-=18,w+=1,this.words[w]|=A>>>26):g+=8}this.strip()};function p(E,o,u,l){for(var h=0,g=Math.min(E.length,u),w=o;w<g;w++){var A=E.charCodeAt(w)-48;h*=l,A>=49?h+=A-49+10:A>=17?h+=A-17+10:h+=A}return h}n.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=o.length-l,A=w%h,v=Math.min(w,w-A)+l,a=0,b=l;b<v;b+=h)a=p(o,b,b+h,u),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(A!==0){var R=1;for(a=p(o,b,o.length,u),b=0;b<A;b++)R*=u;this.imuln(R),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var h=0,g=0,w=0;w<this.length;w++){var A=this.words[w],v=((A<<h|g)&16777215).toString(16);g=A>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?l=d[6-v.length]+v+l:l=v+l}for(g!==0&&(l=g.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var a=y[o],b=_[o];l="";var R=this.clone();for(R.negative=0;!R.isZero();){var P=R.modn(b).toString(o);R=R.idivn(b),R.isZero()?l=P+l:l=d[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return i(typeof c<"u"),this.toArrayLike(c,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,l){var h=this.byteLength(),g=l||Math.max(1,h);i(h<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var w=u==="le",A=new o(g),v,a,b=this.clone();if(w){for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[a]=v;for(;a<g;a++)A[a]=0}else{for(a=0;a<g-h;a++)A[a]=0;for(a=0;!b.isZero();a++)v=b.andln(255),b.iushrn(8),A[g-a-1]=v}return A},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(E){for(var o=new Array(E.bitLength()),u=0;u<o.length;u++){var l=u/26|0,h=u%26;o[u]=(E.words[l]&1<<h)>>>h}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0;h<l.length;h++)this.words[h]=u.words[h]^l.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return l>0&&(this.words[h]=~this.words[h]&67108863>>26-l),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,h=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<h:this.words[l]=this.words[l]&~(1<<h),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,h;this.length>o.length?(l=this,h=o):(l=o,h=this);for(var g=0,w=0;w<h.length;w++)u=(l.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<l.length;w++)u=(l.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;w<l.length;w++)this.words[w]=l.words[w];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;l>0?(h=this,g=o):(h=o,g=this);for(var w=0,A=0;A<g.length;A++)u=(h.words[A]|0)-(g.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;for(;w!==0&&A<h.length;A++)u=(h.words[A]|0)+w,w=u>>26,this.words[A]=u&67108863;if(w===0&&A<h.length&&h!==this)for(;A<h.length;A++)this.words[A]=h.words[A];return this.length=Math.max(this.length,A),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function M(E,o,u){u.negative=o.negative^E.negative;var l=E.length+o.length|0;u.length=l,l=l-1|0;var h=E.words[0]|0,g=o.words[0]|0,w=h*g,A=w&67108863,v=w/67108864|0;u.words[0]=A;for(var a=1;a<l;a++){for(var b=v>>>26,R=v&67108863,P=Math.min(a,o.length-1),F=Math.max(0,a-E.length+1);F<=P;F++){var K=a-F|0;h=E.words[K]|0,g=o.words[F]|0,w=h*g+R,b+=w/67108864|0,R=w&67108863}u.words[a]=R|0,v=b|0}return v!==0?u.words[a]=v|0:u.length--,u.strip()}var C=function(o,u,l){var h=o.words,g=u.words,w=l.words,A=0,v,a,b,R=h[0]|0,P=R&8191,F=R>>>13,K=h[1]|0,Z=K&8191,U=K>>>13,Y=h[2]|0,X=Y&8191,re=Y>>>13,ee=h[3]|0,H=ee&8191,oe=ee>>>13,Ne=h[4]|0,he=Ne&8191,fe=Ne>>>13,$e=h[5]|0,ye=$e&8191,ue=$e>>>13,Ge=h[6]|0,de=Ge&8191,ve=Ge>>>13,ze=h[7]|0,ge=ze&8191,xe=ze>>>13,it=h[8]|0,Ae=it&8191,Ie=it>>>13,at=h[9]|0,W=at&8191,k=at>>>13,q=g[0]|0,J=q&8191,ie=q>>>13,pe=g[1]|0,ae=pe&8191,_e=pe>>>13,Xe=g[2]|0,be=Xe&8191,Me=Xe>>>13,Ve=g[3]|0,Ce=Ve&8191,Pe=Ve>>>13,bt=g[4]|0,Te=bt&8191,Oe=bt>>>13,Mt=g[5]|0,V=Mt&8191,B=Mt>>>13,j=g[6]|0,Q=j&8191,se=j>>>13,me=g[7]|0,ce=me&8191,Ee=me>>>13,rt=g[8]|0,we=rt&8191,Se=rt>>>13,Qe=g[9]|0,Re=Qe&8191,ke=Qe>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(P,J),a=Math.imul(P,ie),a=a+Math.imul(F,J)|0,b=Math.imul(F,ie);var gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Z,J),a=Math.imul(Z,ie),a=a+Math.imul(U,J)|0,b=Math.imul(U,ie),v=v+Math.imul(P,ae)|0,a=a+Math.imul(P,_e)|0,a=a+Math.imul(F,ae)|0,b=b+Math.imul(F,_e)|0;var vt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(X,J),a=Math.imul(X,ie),a=a+Math.imul(re,J)|0,b=Math.imul(re,ie),v=v+Math.imul(Z,ae)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(U,ae)|0,b=b+Math.imul(U,_e)|0,v=v+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(F,be)|0,b=b+Math.imul(F,Me)|0;var Gt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(H,J),a=Math.imul(H,ie),a=a+Math.imul(oe,J)|0,b=Math.imul(oe,ie),v=v+Math.imul(X,ae)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(re,ae)|0,b=b+Math.imul(re,_e)|0,v=v+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(U,be)|0,b=b+Math.imul(U,Me)|0,v=v+Math.imul(P,Ce)|0,a=a+Math.imul(P,Pe)|0,a=a+Math.imul(F,Ce)|0,b=b+Math.imul(F,Pe)|0;var Zt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(he,J),a=Math.imul(he,ie),a=a+Math.imul(fe,J)|0,b=Math.imul(fe,ie),v=v+Math.imul(H,ae)|0,a=a+Math.imul(H,_e)|0,a=a+Math.imul(oe,ae)|0,b=b+Math.imul(oe,_e)|0,v=v+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(re,be)|0,b=b+Math.imul(re,Me)|0,v=v+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Pe)|0,a=a+Math.imul(U,Ce)|0,b=b+Math.imul(U,Pe)|0,v=v+Math.imul(P,Te)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(F,Te)|0,b=b+Math.imul(F,Oe)|0;var Yt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ye,J),a=Math.imul(ye,ie),a=a+Math.imul(ue,J)|0,b=Math.imul(ue,ie),v=v+Math.imul(he,ae)|0,a=a+Math.imul(he,_e)|0,a=a+Math.imul(fe,ae)|0,b=b+Math.imul(fe,_e)|0,v=v+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(oe,be)|0,b=b+Math.imul(oe,Me)|0,v=v+Math.imul(X,Ce)|0,a=a+Math.imul(X,Pe)|0,a=a+Math.imul(re,Ce)|0,b=b+Math.imul(re,Pe)|0,v=v+Math.imul(Z,Te)|0,a=a+Math.imul(Z,Oe)|0,a=a+Math.imul(U,Te)|0,b=b+Math.imul(U,Oe)|0,v=v+Math.imul(P,V)|0,a=a+Math.imul(P,B)|0,a=a+Math.imul(F,V)|0,b=b+Math.imul(F,B)|0;var Jt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(de,J),a=Math.imul(de,ie),a=a+Math.imul(ve,J)|0,b=Math.imul(ve,ie),v=v+Math.imul(ye,ae)|0,a=a+Math.imul(ye,_e)|0,a=a+Math.imul(ue,ae)|0,b=b+Math.imul(ue,_e)|0,v=v+Math.imul(he,be)|0,a=a+Math.imul(he,Me)|0,a=a+Math.imul(fe,be)|0,b=b+Math.imul(fe,Me)|0,v=v+Math.imul(H,Ce)|0,a=a+Math.imul(H,Pe)|0,a=a+Math.imul(oe,Ce)|0,b=b+Math.imul(oe,Pe)|0,v=v+Math.imul(X,Te)|0,a=a+Math.imul(X,Oe)|0,a=a+Math.imul(re,Te)|0,b=b+Math.imul(re,Oe)|0,v=v+Math.imul(Z,V)|0,a=a+Math.imul(Z,B)|0,a=a+Math.imul(U,V)|0,b=b+Math.imul(U,B)|0,v=v+Math.imul(P,Q)|0,a=a+Math.imul(P,se)|0,a=a+Math.imul(F,Q)|0,b=b+Math.imul(F,se)|0;var Qt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ge,J),a=Math.imul(ge,ie),a=a+Math.imul(xe,J)|0,b=Math.imul(xe,ie),v=v+Math.imul(de,ae)|0,a=a+Math.imul(de,_e)|0,a=a+Math.imul(ve,ae)|0,b=b+Math.imul(ve,_e)|0,v=v+Math.imul(ye,be)|0,a=a+Math.imul(ye,Me)|0,a=a+Math.imul(ue,be)|0,b=b+Math.imul(ue,Me)|0,v=v+Math.imul(he,Ce)|0,a=a+Math.imul(he,Pe)|0,a=a+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,Pe)|0,v=v+Math.imul(H,Te)|0,a=a+Math.imul(H,Oe)|0,a=a+Math.imul(oe,Te)|0,b=b+Math.imul(oe,Oe)|0,v=v+Math.imul(X,V)|0,a=a+Math.imul(X,B)|0,a=a+Math.imul(re,V)|0,b=b+Math.imul(re,B)|0,v=v+Math.imul(Z,Q)|0,a=a+Math.imul(Z,se)|0,a=a+Math.imul(U,Q)|0,b=b+Math.imul(U,se)|0,v=v+Math.imul(P,ce)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(F,ce)|0,b=b+Math.imul(F,Ee)|0;var Xt=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(Ae,J),a=Math.imul(Ae,ie),a=a+Math.imul(Ie,J)|0,b=Math.imul(Ie,ie),v=v+Math.imul(ge,ae)|0,a=a+Math.imul(ge,_e)|0,a=a+Math.imul(xe,ae)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(de,be)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(ve,be)|0,b=b+Math.imul(ve,Me)|0,v=v+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Pe)|0,a=a+Math.imul(ue,Ce)|0,b=b+Math.imul(ue,Pe)|0,v=v+Math.imul(he,Te)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(fe,Te)|0,b=b+Math.imul(fe,Oe)|0,v=v+Math.imul(H,V)|0,a=a+Math.imul(H,B)|0,a=a+Math.imul(oe,V)|0,b=b+Math.imul(oe,B)|0,v=v+Math.imul(X,Q)|0,a=a+Math.imul(X,se)|0,a=a+Math.imul(re,Q)|0,b=b+Math.imul(re,se)|0,v=v+Math.imul(Z,ce)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(U,ce)|0,b=b+Math.imul(U,Ee)|0,v=v+Math.imul(P,we)|0,a=a+Math.imul(P,Se)|0,a=a+Math.imul(F,we)|0,b=b+Math.imul(F,Se)|0;var er=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(W,J),a=Math.imul(W,ie),a=a+Math.imul(k,J)|0,b=Math.imul(k,ie),v=v+Math.imul(Ae,ae)|0,a=a+Math.imul(Ae,_e)|0,a=a+Math.imul(Ie,ae)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(ge,be)|0,a=a+Math.imul(ge,Me)|0,a=a+Math.imul(xe,be)|0,b=b+Math.imul(xe,Me)|0,v=v+Math.imul(de,Ce)|0,a=a+Math.imul(de,Pe)|0,a=a+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Pe)|0,v=v+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(ue,Te)|0,b=b+Math.imul(ue,Oe)|0,v=v+Math.imul(he,V)|0,a=a+Math.imul(he,B)|0,a=a+Math.imul(fe,V)|0,b=b+Math.imul(fe,B)|0,v=v+Math.imul(H,Q)|0,a=a+Math.imul(H,se)|0,a=a+Math.imul(oe,Q)|0,b=b+Math.imul(oe,se)|0,v=v+Math.imul(X,ce)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(re,ce)|0,b=b+Math.imul(re,Ee)|0,v=v+Math.imul(Z,we)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(U,we)|0,b=b+Math.imul(U,Se)|0,v=v+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(F,Re)|0,b=b+Math.imul(F,ke)|0;var tr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(W,ae),a=Math.imul(W,_e),a=a+Math.imul(k,ae)|0,b=Math.imul(k,_e),v=v+Math.imul(Ae,be)|0,a=a+Math.imul(Ae,Me)|0,a=a+Math.imul(Ie,be)|0,b=b+Math.imul(Ie,Me)|0,v=v+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Pe)|0,a=a+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Pe)|0,v=v+Math.imul(de,Te)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(ve,Te)|0,b=b+Math.imul(ve,Oe)|0,v=v+Math.imul(ye,V)|0,a=a+Math.imul(ye,B)|0,a=a+Math.imul(ue,V)|0,b=b+Math.imul(ue,B)|0,v=v+Math.imul(he,Q)|0,a=a+Math.imul(he,se)|0,a=a+Math.imul(fe,Q)|0,b=b+Math.imul(fe,se)|0,v=v+Math.imul(H,ce)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Ee)|0,v=v+Math.imul(X,we)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(re,we)|0,b=b+Math.imul(re,Se)|0,v=v+Math.imul(Z,Re)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(U,Re)|0,b=b+Math.imul(U,ke)|0;var rr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(W,be),a=Math.imul(W,Me),a=a+Math.imul(k,be)|0,b=Math.imul(k,Me),v=v+Math.imul(Ae,Ce)|0,a=a+Math.imul(Ae,Pe)|0,a=a+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Pe)|0,v=v+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(xe,Te)|0,b=b+Math.imul(xe,Oe)|0,v=v+Math.imul(de,V)|0,a=a+Math.imul(de,B)|0,a=a+Math.imul(ve,V)|0,b=b+Math.imul(ve,B)|0,v=v+Math.imul(ye,Q)|0,a=a+Math.imul(ye,se)|0,a=a+Math.imul(ue,Q)|0,b=b+Math.imul(ue,se)|0,v=v+Math.imul(he,ce)|0,a=a+Math.imul(he,Ee)|0,a=a+Math.imul(fe,ce)|0,b=b+Math.imul(fe,Ee)|0,v=v+Math.imul(H,we)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(oe,we)|0,b=b+Math.imul(oe,Se)|0,v=v+Math.imul(X,Re)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(re,Re)|0,b=b+Math.imul(re,ke)|0;var ir=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(W,Ce),a=Math.imul(W,Pe),a=a+Math.imul(k,Ce)|0,b=Math.imul(k,Pe),v=v+Math.imul(Ae,Te)|0,a=a+Math.imul(Ae,Oe)|0,a=a+Math.imul(Ie,Te)|0,b=b+Math.imul(Ie,Oe)|0,v=v+Math.imul(ge,V)|0,a=a+Math.imul(ge,B)|0,a=a+Math.imul(xe,V)|0,b=b+Math.imul(xe,B)|0,v=v+Math.imul(de,Q)|0,a=a+Math.imul(de,se)|0,a=a+Math.imul(ve,Q)|0,b=b+Math.imul(ve,se)|0,v=v+Math.imul(ye,ce)|0,a=a+Math.imul(ye,Ee)|0,a=a+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Ee)|0,v=v+Math.imul(he,we)|0,a=a+Math.imul(he,Se)|0,a=a+Math.imul(fe,we)|0,b=b+Math.imul(fe,Se)|0,v=v+Math.imul(H,Re)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(oe,Re)|0,b=b+Math.imul(oe,ke)|0;var nr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(W,Te),a=Math.imul(W,Oe),a=a+Math.imul(k,Te)|0,b=Math.imul(k,Oe),v=v+Math.imul(Ae,V)|0,a=a+Math.imul(Ae,B)|0,a=a+Math.imul(Ie,V)|0,b=b+Math.imul(Ie,B)|0,v=v+Math.imul(ge,Q)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(xe,Q)|0,b=b+Math.imul(xe,se)|0,v=v+Math.imul(de,ce)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(ve,ce)|0,b=b+Math.imul(ve,Ee)|0,v=v+Math.imul(ye,we)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(ue,we)|0,b=b+Math.imul(ue,Se)|0,v=v+Math.imul(he,Re)|0,a=a+Math.imul(he,ke)|0,a=a+Math.imul(fe,Re)|0,b=b+Math.imul(fe,ke)|0;var sr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(W,V),a=Math.imul(W,B),a=a+Math.imul(k,V)|0,b=Math.imul(k,B),v=v+Math.imul(Ae,Q)|0,a=a+Math.imul(Ae,se)|0,a=a+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,se)|0,v=v+Math.imul(ge,ce)|0,a=a+Math.imul(ge,Ee)|0,a=a+Math.imul(xe,ce)|0,b=b+Math.imul(xe,Ee)|0,v=v+Math.imul(de,we)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(ve,we)|0,b=b+Math.imul(ve,Se)|0,v=v+Math.imul(ye,Re)|0,a=a+Math.imul(ye,ke)|0,a=a+Math.imul(ue,Re)|0,b=b+Math.imul(ue,ke)|0;var or=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(or>>>26)|0,or&=67108863,v=Math.imul(W,Q),a=Math.imul(W,se),a=a+Math.imul(k,Q)|0,b=Math.imul(k,se),v=v+Math.imul(Ae,ce)|0,a=a+Math.imul(Ae,Ee)|0,a=a+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,Ee)|0,v=v+Math.imul(ge,we)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(xe,we)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(ve,Re)|0,b=b+Math.imul(ve,ke)|0;var ar=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(W,ce),a=Math.imul(W,Ee),a=a+Math.imul(k,ce)|0,b=Math.imul(k,Ee),v=v+Math.imul(Ae,we)|0,a=a+Math.imul(Ae,Se)|0,a=a+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(ge,Re)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(xe,Re)|0,b=b+Math.imul(xe,ke)|0;var cr=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,we),a=Math.imul(W,Se),a=a+Math.imul(k,we)|0,b=Math.imul(k,Se),v=v+Math.imul(Ae,Re)|0,a=a+Math.imul(Ae,ke)|0,a=a+Math.imul(Ie,Re)|0,b=b+Math.imul(Ie,ke)|0;var ur=(A+v|0)+((a&8191)<<13)|0;A=(b+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(W,Re),a=Math.imul(W,ke),a=a+Math.imul(k,Re)|0,b=Math.imul(k,ke);var fr=(A+v|0)+((a&8191)<<13)|0;return A=(b+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,w[0]=gt,w[1]=vt,w[2]=Gt,w[3]=Zt,w[4]=Yt,w[5]=Jt,w[6]=Qt,w[7]=Xt,w[8]=er,w[9]=tr,w[10]=rr,w[11]=ir,w[12]=nr,w[13]=sr,w[14]=or,w[15]=ar,w[16]=cr,w[17]=ur,w[18]=fr,A!==0&&(w[19]=A,l.length++),l};Math.imul||(C=M);function T(E,o,u){u.negative=o.negative^E.negative,u.length=E.length+o.length;for(var l=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var A=l&67108863,v=Math.min(g,o.length-1),a=Math.max(0,g-E.length+1);a<=v;a++){var b=g-a,R=E.words[b]|0,P=o.words[a]|0,F=R*P,K=F&67108863;w=w+(F/67108864|0)|0,K=K+A|0,A=K&67108863,w=w+(K>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=A,l=w,w=h}return l!==0?u.words[g]=l:u.length--,u.strip()}function S(E,o,u){var l=new I;return l.mulp(E,o,u)}n.prototype.mulTo=function(o,u){var l,h=this.length+o.length;return this.length===10&&o.length===10?l=C(this,o,u):h<63?l=M(this,o,u):h<1024?l=T(this,o,u):l=S(this,o,u),l};function I(E,o){this.x=E,this.y=o}I.prototype.makeRBT=function(o){for(var u=new Array(o),l=n.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,l,o);return u},I.prototype.revBin=function(o,u,l){if(o===0||o===l-1)return o;for(var h=0,g=0;g<u;g++)h|=(o&1)<<u-g-1,o>>=1;return h},I.prototype.permute=function(o,u,l,h,g,w){for(var A=0;A<w;A++)h[A]=u[o[A]],g[A]=l[o[A]]},I.prototype.transform=function(o,u,l,h,g,w){this.permute(w,o,u,l,h,g);for(var A=1;A<g;A<<=1)for(var v=A<<1,a=Math.cos(2*Math.PI/v),b=Math.sin(2*Math.PI/v),R=0;R<g;R+=v)for(var P=a,F=b,K=0;K<A;K++){var Z=l[R+K],U=h[R+K],Y=l[R+K+A],X=h[R+K+A],re=P*Y-F*X;X=P*X+F*Y,Y=re,l[R+K]=Z+Y,h[R+K]=U+X,l[R+K+A]=Z-Y,h[R+K+A]=U-X,K!==v&&(re=a*P-b*F,F=a*F+b*P,P=re)}},I.prototype.guessLen13b=function(o,u){var l=Math.max(u,o)|1,h=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+h},I.prototype.conjugate=function(o,u,l){if(!(l<=1))for(var h=0;h<l/2;h++){var g=o[h];o[h]=o[l-h-1],o[l-h-1]=g,g=u[h],u[h]=-u[l-h-1],u[l-h-1]=-g}},I.prototype.normalize13b=function(o,u){for(var l=0,h=0;h<u/2;h++){var g=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+l;o[h]=g&67108863,g<67108864?l=0:l=g/67108864|0}return o},I.prototype.convert13b=function(o,u,l,h){for(var g=0,w=0;w<u;w++)g=g+(o[w]|0),l[2*w]=g&8191,g=g>>>13,l[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)l[w]=0;i(g===0),i((g&-8192)===0)},I.prototype.stub=function(o){for(var u=new Array(o),l=0;l<o;l++)u[l]=0;return u},I.prototype.mulp=function(o,u,l){var h=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(h),w=this.stub(h),A=new Array(h),v=new Array(h),a=new Array(h),b=new Array(h),R=new Array(h),P=new Array(h),F=l.words;F.length=h,this.convert13b(o.words,o.length,A,h),this.convert13b(u.words,u.length,b,h),this.transform(A,w,v,a,h,g),this.transform(b,w,R,P,h,g);for(var K=0;K<h;K++){var Z=v[K]*R[K]-a[K]*P[K];a[K]=v[K]*P[K]+a[K]*R[K],v[K]=Z}return this.conjugate(v,a,h),this.transform(v,a,F,w,h,g),this.conjugate(F,w,h),this.normalize13b(F,h),l.negative=o.negative^u.negative,l.length=o.length+u.length,l.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),S(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){i(typeof o=="number"),i(o<67108864);for(var u=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,g=(h&67108863)+(u&67108863);u>>=26,u+=h/67108864|0,u+=g>>>26,this.words[l]=g&67108863}return u!==0&&(this.words[l]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var l=this,h=0;h<u.length&&u[h]===0;h++,l=l.sqr());if(++h<u.length)for(var g=l.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(l=l.mul(g));return l},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var A=this.words[g]&h,v=(this.words[g]|0)-A<<u;this.words[g]=v|w,w=A>>>26-u}w&&(this.words[g]=w,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var g=o%26,w=Math.min((o-g)/26,this.length),A=67108863^67108863>>>g<<g,v=l;if(h-=w,h=Math.max(0,h),v){for(var a=0;a<w;a++)v.words[a]=this.words[a];v.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=h);a--){var R=this.words[a]|0;this.words[a]=b<<26-g|R>>>g,b=R&A}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return!1;var g=this.words[l];return!!(g&h)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,l){var h=o.length+l,g;this._expand(h);var w,A=0;for(g=0;g<o.length;g++){w=(this.words[g+l]|0)+A;var v=(o.words[g]|0)*u;w-=v&67108863,A=(w>>26)-(v/67108864|0),this.words[g+l]=w&67108863}for(;g<this.length-l;g++)w=(this.words[g+l]|0)+A,A=w>>26,this.words[g+l]=w&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+A,A=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var l=this.length-o.length,h=this.clone(),g=o,w=g.words[g.length-1]|0,A=this._countBits(w);l=26-A,l!==0&&(g=g.ushln(l),h.iushln(l),w=g.words[g.length-1]|0);var v=h.length-g.length,a;if(u!=="mod"){a=new n(null),a.length=v+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var R=h.clone()._ishlnsubmul(g,1,v);R.negative===0&&(h=R,a&&(a.words[v]=1));for(var P=v-1;P>=0;P--){var F=(h.words[g.length+P]|0)*67108864+(h.words[g.length+P-1]|0);for(F=Math.min(F/w|0,67108863),h._ishlnsubmul(g,F,P);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,P),h.isZero()||(h.negative^=1);a&&(a.words[P]=F)}return a&&a.strip(),h.strip(),u!=="div"&&l!==0&&h.iushrn(l),{div:a||null,mod:h}},n.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(g=w.mod.neg(),l&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),g=o.andln(1),w=l.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){i(o<=67108863);for(var u=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(u*l+(this.words[h]|0))%o;return l},n.prototype.idivn=function(o){i(o<=67108863);for(var u=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+u*67108864;this.words[l]=h/o|0,u=h%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=new n(0),A=new n(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var a=l.clone(),b=u.clone();!u.isZero();){for(var R=0,P=1;(u.words[0]&P)===0&&R<26;++R,P<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(a),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,K=1;(l.words[0]&K)===0&&F<26;++F,K<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(a),A.isub(b)),w.iushrn(1),A.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(w),g.isub(A)):(l.isub(u),w.isub(h),A.isub(g))}return{a:w,b:A,gcd:l.iushln(v)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new n(1),g=new n(0),w=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,v=1;(u.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(u.iushrn(A);A-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,b=1;(l.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(l)>=0?(u.isub(l),h.isub(g)):(l.isub(u),g.isub(h))}var R;return u.cmpn(1)===0?R=h:R=g,R.cmpn(0)<0&&R.iadd(o),R},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var h=0;u.isEven()&&l.isEven();h++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=u.cmp(l);if(g<0){var w=u;u=l,l=w}else if(g===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(h)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,h=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=h,this;for(var g=h,w=l;g!==0&&w<this.length;w++){var A=this.words[w]|0;A+=g,g=A>>>26,A&=67108863,this.words[w]=A}return g!==0&&(this.words[w]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var h=this.words[0]|0;l=h===o?0:h<o?-1:1}return this.negative!==0?-l|0:l},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var h=this.words[l]|0,g=o.words[l]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new L(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function O(E,o){this.name=E,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var h=l<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function D(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,O),D.prototype.split=function(o,u){for(var l=4194303,h=Math.min(o.length,9),g=0;g<h;g++)u.words[g]=o.words[g];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&l,g=10;g<o.length;g++){var A=o.words[g]|0;o.words[g-10]=(A&l)<<4|w>>>22,w=A}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var h=o.words[l]|0;u+=h*977,o.words[l]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,O);function z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,O);function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,O),G.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var h=(o.words[l]|0)*19+u,g=h&67108863;h>>>=26,o.words[l]=g,u=h}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(N[o])return N[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new $;else if(o==="p192")u=new z;else if(o==="p25519")u=new G;else throw new Error("Unknown prime "+o);return N[o]=u,u};function L(E){if(typeof E=="string"){var o=n._prime(E);this.m=o.p,this.prime=o}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},L.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},L.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},L.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},L.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},L.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},L.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},L.prototype.isqr=function(o){return this.imul(o,o.clone())},L.prototype.sqr=function(o){return this.mul(o,o)},L.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new n(1)).iushrn(2);return this.pow(o,l)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);i(!h.isZero());var w=new n(1).toRed(this),A=w.redNeg(),v=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,v).cmp(A)!==0;)a.redIAdd(A);for(var b=this.pow(a,h),R=this.pow(o,h.addn(1).iushrn(1)),P=this.pow(o,h),F=g;P.cmp(w)!==0;){for(var K=P,Z=0;K.cmp(w)!==0;Z++)K=K.redSqr();i(Z<F);var U=this.pow(b,new n(1).iushln(F-Z-1));R=R.redMul(U),b=U.redSqr(),P=P.redMul(b),F=Z}return R},L.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,h=new Array(1<<l);h[0]=new n(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var w=h[0],A=0,v=0,a=u.bitLength()%26;for(a===0&&(a=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],R=a-1;R>=0;R--){var P=b>>R&1;if(w!==h[0]&&(w=this.sqr(w)),P===0&&A===0){v=0;continue}A<<=1,A|=P,v++,!(v!==l&&(g!==0||R!==0))&&(w=this.mul(w,h[A]),v=0,A=0)}a=26}return w},L.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},L.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new te(o)};function te(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(te,L),te.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},te.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},te.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var l=o.mul(u),h=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,mD)}(vl)),vl.exports}var Om,O3;function R5(){if(O3)return Om;O3=1;var t=ey(),e=xt().Buffer;function r(i,s){return e.from(i.toRed(t.mont(s.modulus)).redPow(new t(s.publicExponent)).fromRed().toArray())}return Om=r,Om}var km,k3;function gD(){if(k3)return km;k3=1;var t=$h(),e=Va(),r=Xu(),i=I5(),s=T5(),n=ey(),c=R5(),f=X1(),m=xt().Buffer;km=function(x,M,C){var T;x.padding?T=x.padding:C?T=1:T=4;var S=t(x),I;if(T===4)I=p(S,M);else if(T===1)I=d(S,M,C);else if(T===3){if(I=new n(M),I.cmp(S.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return C?f(I,S):c(I,S)};function p(_,x){var M=_.modulus.byteLength(),C=x.length,T=r("sha1").update(m.alloc(0)).digest(),S=T.length,I=2*S;if(C>M-I-2)throw new Error("message too long");var N=m.alloc(M-C-I-2),O=M-S-1,D=e(S),$=s(m.concat([T,N,m.alloc(1,1),x],O),i(D,O)),z=s(D,i($,S));return new n(m.concat([m.alloc(1),z,$],M))}function d(_,x,M){var C=x.length,T=_.modulus.byteLength();if(C>T-11)throw new Error("message too long");var S;return M?S=m.alloc(T-C-3,255):S=y(T-C-3),new n(m.concat([m.from([0,M?1:2]),S,m.alloc(1),x],T))}function y(_){for(var x=m.allocUnsafe(_),M=0,C=e(_*2),T=0,S;M<_;)T===C.length&&(C=e(_*2),T=0),S=C[T++],S&&(x[M++]=S);return x}return km}var Bm,B3;function vD(){if(B3)return Bm;B3=1;var t=$h(),e=I5(),r=T5(),i=ey(),s=X1(),n=Xu(),c=R5(),f=xt().Buffer;Bm=function(_,x,M){var C;_.padding?C=_.padding:M?C=1:C=4;var T=t(_),S=T.modulus.byteLength();if(x.length>S||new i(x).cmp(T.modulus)>=0)throw new Error("decryption error");var I;M?I=c(new i(x),T):I=s(x,T);var N=f.alloc(S-I.length);if(I=f.concat([N,I],S),C===4)return m(T,I);if(C===1)return p(T,I,M);if(C===3)return I;throw new Error("unknown padding")};function m(y,_){var x=y.modulus.byteLength(),M=n("sha1").update(f.alloc(0)).digest(),C=M.length;if(_[0]!==0)throw new Error("decryption error");var T=_.slice(1,C+1),S=_.slice(C+1),I=r(T,e(S,C)),N=r(S,e(I,x-C-1));if(d(M,N.slice(0,C)))throw new Error("decryption error");for(var O=C;N[O]===0;)O++;if(N[O++]!==1)throw new Error("decryption error");return N.slice(O)}function p(y,_,x){for(var M=_.slice(0,2),C=2,T=0;_[C++]!==0;)if(C>=_.length){T++;break}var S=_.slice(2,C-1);if((M.toString("hex")!=="0002"&&!x||M.toString("hex")!=="0001"&&x)&&T++,S.length<8&&T++,T)throw new Error("decryption error");return _.slice(C)}function d(y,_){y=f.from(y),_=f.from(_);var x=0,M=y.length;y.length!==_.length&&(x++,M=Math.min(y.length,_.length));for(var C=-1;++C<M;)x+=y[C]^_[C];return x}return Bm}var D3;function yD(){return D3||(D3=1,function(t){t.publicEncrypt=gD(),t.privateDecrypt=vD(),t.privateEncrypt=function(r,i){return t.publicEncrypt(r,i,!0)},t.publicDecrypt=function(r,i){return t.privateDecrypt(r,i,!0)}}(Rm)),Rm}var Ho={},$3;function bD(){if($3)return Ho;$3=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=xt(),r=Va(),i=e.Buffer,s=e.kMaxLength,n=mt.crypto||mt.msCrypto,c=Math.pow(2,32)-1;function f(_,x){if(typeof _!="number"||_!==_)throw new TypeError("offset must be a number");if(_>c||_<0)throw new TypeError("offset must be a uint32");if(_>s||_>x)throw new RangeError("offset out of range")}function m(_,x,M){if(typeof _!="number"||_!==_)throw new TypeError("size must be a number");if(_>c||_<0)throw new TypeError("size must be a uint32");if(_+x>M||_>s)throw new RangeError("buffer too small")}n&&n.getRandomValues||!We.browser?(Ho.randomFill=p,Ho.randomFillSync=y):(Ho.randomFill=t,Ho.randomFillSync=t);function p(_,x,M,C){if(!i.isBuffer(_)&&!(_ instanceof mt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")C=x,x=0,M=_.length;else if(typeof M=="function")C=M,M=_.length-x;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return f(x,_.length),m(M,x,_.length),d(_,x,M,C)}function d(_,x,M,C){if(We.browser){var T=_.buffer,S=new Uint8Array(T,x,M);if(n.getRandomValues(S),C){We.nextTick(function(){C(null,_)});return}return _}if(C){r(M,function(N,O){if(N)return C(N);O.copy(_,x),C(null,_)});return}var I=r(M);return I.copy(_,x),_}function y(_,x,M){if(typeof x>"u"&&(x=0),!i.isBuffer(_)&&!(_ instanceof mt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(x,_.length),M===void 0&&(M=_.length-x),m(M,x,_.length),d(_,x,M)}return Ho}var U3;function wD(){if(U3)return At;U3=1,At.randomBytes=At.rng=At.pseudoRandomBytes=At.prng=Va(),At.createHash=At.Hash=Xu(),At.createHmac=At.Hmac=i5();var t=oB(),e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);At.getHashes=function(){return r};var i=u5();At.pbkdf2=i.pbkdf2,At.pbkdf2Sync=i.pbkdf2Sync;var s=MB();At.Cipher=s.Cipher,At.createCipher=s.createCipher,At.Cipheriv=s.Cipheriv,At.createCipheriv=s.createCipheriv,At.Decipher=s.Decipher,At.createDecipher=s.createDecipher,At.Decipheriv=s.Decipheriv,At.createDecipheriv=s.createDecipheriv,At.getCiphers=s.getCiphers,At.listCiphers=s.listCiphers;var n=FB();At.DiffieHellmanGroup=n.DiffieHellmanGroup,At.createDiffieHellmanGroup=n.createDiffieHellmanGroup,At.getDiffieHellman=n.getDiffieHellman,At.createDiffieHellman=n.createDiffieHellman,At.DiffieHellman=n.DiffieHellman;var c=lD();At.createSign=c.createSign,At.Sign=c.Sign,At.createVerify=c.createVerify,At.Verify=c.Verify,At.createECDH=pD();var f=yD();At.publicEncrypt=f.publicEncrypt,At.privateEncrypt=f.privateEncrypt,At.publicDecrypt=f.publicDecrypt,At.privateDecrypt=f.privateDecrypt;var m=bD();return At.randomFill=m.randomFill,At.randomFillSync=m.randomFillSync,At.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},At.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},At}var F3;function ty(){if(F3)return If.exports;F3=1;var t;If.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(i){this.rand=i}if(If.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var n=new Uint8Array(s),c=0;c<n.length;c++)n[c]=this.rand.getByte();return n},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var n=new Uint8Array(s);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var n=new Uint8Array(s);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=wD();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return If.exports}var Dm={},$m,L3;function Uh(){if(L3)return $m;L3=1;var t=ns(),e=Qi(),r=e.getNAF,i=e.getJSF,s=e.assert;function n(f,m){this.type=f,this.p=new t(m.p,16),this.red=m.prime?t.red(m.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=m.n&&new t(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}$m=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(m,p){s(m.precomputed);var d=m._getDoubles(),y=r(p,1,this._bitLength),_=(1<<d.step+1)-(d.step%2===0?2:1);_/=3;var x=[],M,C;for(M=0;M<y.length;M+=d.step){C=0;for(var T=M+d.step-1;T>=M;T--)C=(C<<1)+y[T];x.push(C)}for(var S=this.jpoint(null,null,null),I=this.jpoint(null,null,null),N=_;N>0;N--){for(M=0;M<x.length;M++)C=x[M],C===N?I=I.mixedAdd(d.points[M]):C===-N&&(I=I.mixedAdd(d.points[M].neg()));S=S.add(I)}return S.toP()},n.prototype._wnafMul=function(m,p){var d=4,y=m._getNAFPoints(d);d=y.wnd;for(var _=y.points,x=r(p,d,this._bitLength),M=this.jpoint(null,null,null),C=x.length-1;C>=0;C--){for(var T=0;C>=0&&x[C]===0;C--)T++;if(C>=0&&T++,M=M.dblp(T),C<0)break;var S=x[C];s(S!==0),m.type==="affine"?S>0?M=M.mixedAdd(_[S-1>>1]):M=M.mixedAdd(_[-S-1>>1].neg()):S>0?M=M.add(_[S-1>>1]):M=M.add(_[-S-1>>1].neg())}return m.type==="affine"?M.toP():M},n.prototype._wnafMulAdd=function(m,p,d,y,_){var x=this._wnafT1,M=this._wnafT2,C=this._wnafT3,T=0,S,I,N;for(S=0;S<y;S++){N=p[S];var O=N._getNAFPoints(m);x[S]=O.wnd,M[S]=O.points}for(S=y-1;S>=1;S-=2){var D=S-1,$=S;if(x[D]!==1||x[$]!==1){C[D]=r(d[D],x[D],this._bitLength),C[$]=r(d[$],x[$],this._bitLength),T=Math.max(C[D].length,T),T=Math.max(C[$].length,T);continue}var z=[p[D],null,null,p[$]];p[D].y.cmp(p[$].y)===0?(z[1]=p[D].add(p[$]),z[2]=p[D].toJ().mixedAdd(p[$].neg())):p[D].y.cmp(p[$].y.redNeg())===0?(z[1]=p[D].toJ().mixedAdd(p[$]),z[2]=p[D].add(p[$].neg())):(z[1]=p[D].toJ().mixedAdd(p[$]),z[2]=p[D].toJ().mixedAdd(p[$].neg()));var G=[-3,-1,-5,-7,0,7,5,1,3],L=i(d[D],d[$]);for(T=Math.max(L[0].length,T),C[D]=new Array(T),C[$]=new Array(T),I=0;I<T;I++){var te=L[0][I]|0,E=L[1][I]|0;C[D][I]=G[(te+1)*3+(E+1)],C[$][I]=0,M[D]=z}}var o=this.jpoint(null,null,null),u=this._wnafT4;for(S=T;S>=0;S--){for(var l=0;S>=0;){var h=!0;for(I=0;I<y;I++)u[I]=C[I][S]|0,u[I]!==0&&(h=!1);if(!h)break;l++,S--}if(S>=0&&l++,o=o.dblp(l),S<0)break;for(I=0;I<y;I++){var g=u[I];g!==0&&(g>0?N=M[I][g-1>>1]:g<0&&(N=M[I][-g-1>>1].neg()),N.type==="affine"?o=o.mixedAdd(N):o=o.add(N))}}for(S=0;S<y;S++)M[S]=null;return _?o:o.toP()};function c(f,m){this.curve=f,this.type=m,this.precomputed=null}return n.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(m,p){m=e.toArray(m,p);var d=this.p.byteLength();if((m[0]===4||m[0]===6||m[0]===7)&&m.length-1===2*d){m[0]===6?s(m[m.length-1]%2===0):m[0]===7&&s(m[m.length-1]%2===1);var y=this.point(m.slice(1,1+d),m.slice(1+d,1+2*d));return y}else if((m[0]===2||m[0]===3)&&m.length-1===d)return this.pointFromX(m.slice(1,1+d),m[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(m){return this.encode(m,!0)},c.prototype._encode=function(m){var p=this.curve.p.byteLength(),d=this.getX().toArray("be",p);return m?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",p))},c.prototype.encode=function(m,p){return e.encode(this._encode(p),m)},c.prototype.precompute=function(m){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,m),p.beta=this._getBeta(),this.precomputed=p,this},c.prototype._hasDoubles=function(m){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return p?p.points.length>=Math.ceil((m.bitLength()+1)/p.step):!1},c.prototype._getDoubles=function(m,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],y=this,_=0;_<p;_+=m){for(var x=0;x<m;x++)y=y.dbl();d.push(y)}return{step:m,points:d}},c.prototype._getNAFPoints=function(m){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],d=(1<<m)-1,y=d===1?null:this.dbl(),_=1;_<d;_++)p[_]=p[_-1].add(y);return{wnd:m,points:p}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(m){for(var p=this,d=0;d<m;d++)p=p.dbl();return p},$m}var Um,q3;function _D(){if(q3)return Um;q3=1;var t=Qi(),e=ns(),r=pt(),i=Uh(),s=t.assert;function n(m){i.call(this,"short",m),this.a=new e(m.a,16).toRed(this.red),this.b=new e(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(n,i),Um=n,n.prototype._getEndomorphism=function(p){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,y;if(p.beta)d=new e(p.beta,16).toRed(this.red);else{var _=this._getEndoRoots(this.p);d=_[0].cmp(_[1])<0?_[0]:_[1],d=d.toRed(this.red)}if(p.lambda)y=new e(p.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(d))===0?y=x[0]:(y=x[1],s(this.g.mul(y).x.cmp(this.g.x.redMul(d))===0))}var M;return p.basis?M=p.basis.map(function(C){return{a:new e(C.a,16),b:new e(C.b,16)}}):M=this._getEndoBasis(y),{beta:d,lambda:y,basis:M}}},n.prototype._getEndoRoots=function(p){var d=p===this.p?this.red:e.mont(p),y=new e(2).toRed(d).redInvm(),_=y.redNeg(),x=new e(3).toRed(d).redNeg().redSqrt().redMul(y),M=_.redAdd(x).fromRed(),C=_.redSub(x).fromRed();return[M,C]},n.prototype._getEndoBasis=function(p){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),y=p,_=this.n.clone(),x=new e(1),M=new e(0),C=new e(0),T=new e(1),S,I,N,O,D,$,z,G=0,L,te;y.cmpn(0)!==0;){var E=_.div(y);L=_.sub(E.mul(y)),te=C.sub(E.mul(x));var o=T.sub(E.mul(M));if(!N&&L.cmp(d)<0)S=z.neg(),I=x,N=L.neg(),O=te;else if(N&&++G===2)break;z=L,_=y,y=L,C=x,x=te,T=M,M=o}D=L.neg(),$=te;var u=N.sqr().add(O.sqr()),l=D.sqr().add($.sqr());return l.cmp(u)>=0&&(D=S,$=I),N.negative&&(N=N.neg(),O=O.neg()),D.negative&&(D=D.neg(),$=$.neg()),[{a:N,b:O},{a:D,b:$}]},n.prototype._endoSplit=function(p){var d=this.endo.basis,y=d[0],_=d[1],x=_.b.mul(p).divRound(this.n),M=y.b.neg().mul(p).divRound(this.n),C=x.mul(y.a),T=M.mul(_.a),S=x.mul(y.b),I=M.mul(_.b),N=p.sub(C).sub(T),O=S.add(I).neg();return{k1:N,k2:O}},n.prototype.pointFromX=function(p,d){p=new e(p,16),p.red||(p=p.toRed(this.red));var y=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),_=y.redSqrt();if(_.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var x=_.fromRed().isOdd();return(d&&!x||!d&&x)&&(_=_.redNeg()),this.point(p,_)},n.prototype.validate=function(p){if(p.inf)return!0;var d=p.x,y=p.y,_=this.a.redMul(d),x=d.redSqr().redMul(d).redIAdd(_).redIAdd(this.b);return y.redSqr().redISub(x).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(p,d,y){for(var _=this._endoWnafT1,x=this._endoWnafT2,M=0;M<p.length;M++){var C=this._endoSplit(d[M]),T=p[M],S=T._getBeta();C.k1.negative&&(C.k1.ineg(),T=T.neg(!0)),C.k2.negative&&(C.k2.ineg(),S=S.neg(!0)),_[M*2]=T,_[M*2+1]=S,x[M*2]=C.k1,x[M*2+1]=C.k2}for(var I=this._wnafMulAdd(1,_,x,M*2,y),N=0;N<M*2;N++)_[N]=null,x[N]=null;return I};function c(m,p,d,y){i.BasePoint.call(this,m,"affine"),p===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(p,16),this.y=new e(d,16),y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(c,i.BasePoint),n.prototype.point=function(p,d,y){return new c(this,p,d,y)},n.prototype.pointFromJSON=function(p,d){return c.fromJSON(this,p,d)},c.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var y=this.curve,_=function(x){return y.point(x.x.redMul(y.endo.beta),x.y)};p.beta=d,d.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(_)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(_)}}}return d}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(p,d,y){typeof d=="string"&&(d=JSON.parse(d));var _=p.point(d[0],d[1],y);if(!d[2])return _;function x(C){return p.point(C[0],C[1],y)}var M=d[2];return _.precomputed={beta:null,doubles:M.doubles&&{step:M.doubles.step,points:[_].concat(M.doubles.points.map(x))},naf:M.naf&&{wnd:M.naf.wnd,points:[_].concat(M.naf.points.map(x))}},_},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var d=this.y.redSub(p.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(p.x).redInvm()));var y=d.redSqr().redISub(this.x).redISub(p.x),_=d.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,_)},c.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,y=this.x.redSqr(),_=p.redInvm(),x=y.redAdd(y).redIAdd(y).redIAdd(d).redMul(_),M=x.redSqr().redISub(this.x.redAdd(this.x)),C=x.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,C)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(p){return p=new e(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},c.prototype.mulAdd=function(p,d,y){var _=[this,d],x=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(_,x):this.curve._wnafMulAdd(1,_,x,2)},c.prototype.jmulAdd=function(p,d,y){var _=[this,d],x=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(_,x,!0):this.curve._wnafMulAdd(1,_,x,2,!0)},c.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},c.prototype.neg=function(p){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var y=this.precomputed,_=function(x){return x.neg()};d.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(_)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(_)}}}return d},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var p=this.curve.jpoint(this.x,this.y,this.curve.one);return p};function f(m,p,d,y){i.BasePoint.call(this,m,"jacobian"),p===null&&d===null&&y===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(p,16),this.y=new e(d,16),this.z=new e(y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(f,i.BasePoint),n.prototype.jpoint=function(p,d,y){return new f(this,p,d,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),d=p.redSqr(),y=this.x.redMul(d),_=this.y.redMul(d).redMul(p);return this.curve.point(y,_)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var d=p.z.redSqr(),y=this.z.redSqr(),_=this.x.redMul(d),x=p.x.redMul(y),M=this.y.redMul(d.redMul(p.z)),C=p.y.redMul(y.redMul(this.z)),T=_.redSub(x),S=M.redSub(C);if(T.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=T.redSqr(),N=I.redMul(T),O=_.redMul(I),D=S.redSqr().redIAdd(N).redISub(O).redISub(O),$=S.redMul(O.redISub(D)).redISub(M.redMul(N)),z=this.z.redMul(p.z).redMul(T);return this.curve.jpoint(D,$,z)},f.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var d=this.z.redSqr(),y=this.x,_=p.x.redMul(d),x=this.y,M=p.y.redMul(d).redMul(this.z),C=y.redSub(_),T=x.redSub(M);if(C.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=C.redSqr(),I=S.redMul(C),N=y.redMul(S),O=T.redSqr().redIAdd(I).redISub(N).redISub(N),D=T.redMul(N.redISub(O)).redISub(x.redMul(I)),$=this.z.redMul(C);return this.curve.jpoint(O,D,$)},f.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var y=this;for(d=0;d<p;d++)y=y.dbl();return y}var _=this.curve.a,x=this.curve.tinv,M=this.x,C=this.y,T=this.z,S=T.redSqr().redSqr(),I=C.redAdd(C);for(d=0;d<p;d++){var N=M.redSqr(),O=I.redSqr(),D=O.redSqr(),$=N.redAdd(N).redIAdd(N).redIAdd(_.redMul(S)),z=M.redMul(O),G=$.redSqr().redISub(z.redAdd(z)),L=z.redISub(G),te=$.redMul(L);te=te.redIAdd(te).redISub(D);var E=I.redMul(T);d+1<p&&(S=S.redMul(D)),M=G,T=E,I=te}return this.curve.jpoint(M,I.redMul(x),T)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var p,d,y;if(this.zOne){var _=this.x.redSqr(),x=this.y.redSqr(),M=x.redSqr(),C=this.x.redAdd(x).redSqr().redISub(_).redISub(M);C=C.redIAdd(C);var T=_.redAdd(_).redIAdd(_),S=T.redSqr().redISub(C).redISub(C),I=M.redIAdd(M);I=I.redIAdd(I),I=I.redIAdd(I),p=S,d=T.redMul(C.redISub(S)).redISub(I),y=this.y.redAdd(this.y)}else{var N=this.x.redSqr(),O=this.y.redSqr(),D=O.redSqr(),$=this.x.redAdd(O).redSqr().redISub(N).redISub(D);$=$.redIAdd($);var z=N.redAdd(N).redIAdd(N),G=z.redSqr(),L=D.redIAdd(D);L=L.redIAdd(L),L=L.redIAdd(L),p=G.redISub($).redISub($),d=z.redMul($.redISub(p)).redISub(L),y=this.y.redMul(this.z),y=y.redIAdd(y)}return this.curve.jpoint(p,d,y)},f.prototype._threeDbl=function(){var p,d,y;if(this.zOne){var _=this.x.redSqr(),x=this.y.redSqr(),M=x.redSqr(),C=this.x.redAdd(x).redSqr().redISub(_).redISub(M);C=C.redIAdd(C);var T=_.redAdd(_).redIAdd(_).redIAdd(this.curve.a),S=T.redSqr().redISub(C).redISub(C);p=S;var I=M.redIAdd(M);I=I.redIAdd(I),I=I.redIAdd(I),d=T.redMul(C.redISub(S)).redISub(I),y=this.y.redAdd(this.y)}else{var N=this.z.redSqr(),O=this.y.redSqr(),D=this.x.redMul(O),$=this.x.redSub(N).redMul(this.x.redAdd(N));$=$.redAdd($).redIAdd($);var z=D.redIAdd(D);z=z.redIAdd(z);var G=z.redAdd(z);p=$.redSqr().redISub(G),y=this.y.redAdd(this.z).redSqr().redISub(O).redISub(N);var L=O.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),d=$.redMul(z.redISub(p)).redISub(L)}return this.curve.jpoint(p,d,y)},f.prototype._dbl=function(){var p=this.curve.a,d=this.x,y=this.y,_=this.z,x=_.redSqr().redSqr(),M=d.redSqr(),C=y.redSqr(),T=M.redAdd(M).redIAdd(M).redIAdd(p.redMul(x)),S=d.redAdd(d);S=S.redIAdd(S);var I=S.redMul(C),N=T.redSqr().redISub(I.redAdd(I)),O=I.redISub(N),D=C.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var $=T.redMul(O).redISub(D),z=y.redAdd(y).redMul(_);return this.curve.jpoint(N,$,z)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr(),_=d.redSqr(),x=p.redAdd(p).redIAdd(p),M=x.redSqr(),C=this.x.redAdd(d).redSqr().redISub(p).redISub(_);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(M);var T=C.redSqr(),S=_.redIAdd(_);S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var I=x.redIAdd(C).redSqr().redISub(M).redISub(T).redISub(S),N=d.redMul(I);N=N.redIAdd(N),N=N.redIAdd(N);var O=this.x.redMul(T).redISub(N);O=O.redIAdd(O),O=O.redIAdd(O);var D=this.y.redMul(I.redMul(S.redISub(I)).redISub(C.redMul(T)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var $=this.z.redAdd(C).redSqr().redISub(y).redISub(T);return this.curve.jpoint(O,D,$)},f.prototype.mul=function(p,d){return p=new e(p,d),this.curve._wnafMul(this,p)},f.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var d=this.z.redSqr(),y=p.z.redSqr();if(this.x.redMul(y).redISub(p.x.redMul(d)).cmpn(0)!==0)return!1;var _=d.redMul(this.z),x=y.redMul(p.z);return this.y.redMul(x).redISub(p.y.redMul(_)).cmpn(0)===0},f.prototype.eqXToP=function(p){var d=this.z.redSqr(),y=p.toRed(this.curve.red).redMul(d);if(this.x.cmp(y)===0)return!0;for(var _=p.clone(),x=this.curve.redN.redMul(d);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(x),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Um}var Fm,j3;function ED(){if(j3)return Fm;j3=1;var t=ns(),e=pt(),r=Uh(),i=Qi();function s(c){r.call(this,"mont",c),this.a=new t(c.a,16).toRed(this.red),this.b=new t(c.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(s,r),Fm=s,s.prototype.validate=function(f){var m=f.normalize().x,p=m.redSqr(),d=p.redMul(m).redAdd(p.redMul(this.a)).redAdd(m),y=d.redSqrt();return y.redSqr().cmp(d)===0};function n(c,f,m){r.BasePoint.call(this,c,"projective"),f===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(f,16),this.z=new t(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(n,r.BasePoint),s.prototype.decodePoint=function(f,m){return this.point(i.toArray(f,m),1)},s.prototype.point=function(f,m){return new n(this,f,m)},s.prototype.pointFromJSON=function(f){return n.fromJSON(this,f)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(f,m){return new n(f,m[0],m[1]||f.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var f=this.x.redAdd(this.z),m=f.redSqr(),p=this.x.redSub(this.z),d=p.redSqr(),y=m.redSub(d),_=m.redMul(d),x=y.redMul(d.redAdd(this.curve.a24.redMul(y)));return this.curve.point(_,x)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(f,m){var p=this.x.redAdd(this.z),d=this.x.redSub(this.z),y=f.x.redAdd(f.z),_=f.x.redSub(f.z),x=_.redMul(p),M=y.redMul(d),C=m.z.redMul(x.redAdd(M).redSqr()),T=m.x.redMul(x.redISub(M).redSqr());return this.curve.point(C,T)},n.prototype.mul=function(f){for(var m=f.clone(),p=this,d=this.curve.point(null,null),y=this,_=[];m.cmpn(0)!==0;m.iushrn(1))_.push(m.andln(1));for(var x=_.length-1;x>=0;x--)_[x]===0?(p=p.diffAdd(d,y),d=d.dbl()):(d=p.diffAdd(d,y),p=p.dbl());return d},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Fm}var Lm,z3;function AD(){if(z3)return Lm;z3=1;var t=Qi(),e=ns(),r=pt(),i=Uh(),s=t.assert;function n(f){this.twisted=(f.a|0)!==1,this.mOneA=this.twisted&&(f.a|0)===-1,this.extended=this.mOneA,i.call(this,"edwards",f),this.a=new e(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(f.c|0)===1}r(n,i),Lm=n,n.prototype._mulA=function(m){return this.mOneA?m.redNeg():this.a.redMul(m)},n.prototype._mulC=function(m){return this.oneC?m:this.c.redMul(m)},n.prototype.jpoint=function(m,p,d,y){return this.point(m,p,d,y)},n.prototype.pointFromX=function(m,p){m=new e(m,16),m.red||(m=m.toRed(this.red));var d=m.redSqr(),y=this.c2.redSub(this.a.redMul(d)),_=this.one.redSub(this.c2.redMul(this.d).redMul(d)),x=y.redMul(_.redInvm()),M=x.redSqrt();if(M.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var C=M.fromRed().isOdd();return(p&&!C||!p&&C)&&(M=M.redNeg()),this.point(m,M)},n.prototype.pointFromY=function(m,p){m=new e(m,16),m.red||(m=m.toRed(this.red));var d=m.redSqr(),y=d.redSub(this.c2),_=d.redMul(this.d).redMul(this.c2).redSub(this.a),x=y.redMul(_.redInvm());if(x.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,m)}var M=x.redSqrt();if(M.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return M.fromRed().isOdd()!==p&&(M=M.redNeg()),this.point(M,m)},n.prototype.validate=function(m){if(m.isInfinity())return!0;m.normalize();var p=m.x.redSqr(),d=m.y.redSqr(),y=p.redMul(this.a).redAdd(d),_=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(d)));return y.cmp(_)===0};function c(f,m,p,d,y){i.BasePoint.call(this,f,"projective"),m===null&&p===null&&d===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(m,16),this.y=new e(p,16),this.z=d?new e(d,16):this.curve.one,this.t=y&&new e(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(c,i.BasePoint),n.prototype.pointFromJSON=function(m){return c.fromJSON(this,m)},n.prototype.point=function(m,p,d,y){return new c(this,m,p,d,y)},c.fromJSON=function(m,p){return new c(m,p[0],p[1],p[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var m=this.x.redSqr(),p=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var y=this.curve._mulA(m),_=this.x.redAdd(this.y).redSqr().redISub(m).redISub(p),x=y.redAdd(p),M=x.redSub(d),C=y.redSub(p),T=_.redMul(M),S=x.redMul(C),I=_.redMul(C),N=M.redMul(x);return this.curve.point(T,S,N,I)},c.prototype._projDbl=function(){var m=this.x.redAdd(this.y).redSqr(),p=this.x.redSqr(),d=this.y.redSqr(),y,_,x,M,C,T;if(this.curve.twisted){M=this.curve._mulA(p);var S=M.redAdd(d);this.zOne?(y=m.redSub(p).redSub(d).redMul(S.redSub(this.curve.two)),_=S.redMul(M.redSub(d)),x=S.redSqr().redSub(S).redSub(S)):(C=this.z.redSqr(),T=S.redSub(C).redISub(C),y=m.redSub(p).redISub(d).redMul(T),_=S.redMul(M.redSub(d)),x=S.redMul(T))}else M=p.redAdd(d),C=this.curve._mulC(this.z).redSqr(),T=M.redSub(C).redSub(C),y=this.curve._mulC(m.redISub(M)).redMul(T),_=this.curve._mulC(M).redMul(p.redISub(d)),x=M.redMul(T);return this.curve.point(y,_,x)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(m){var p=this.y.redSub(this.x).redMul(m.y.redSub(m.x)),d=this.y.redAdd(this.x).redMul(m.y.redAdd(m.x)),y=this.t.redMul(this.curve.dd).redMul(m.t),_=this.z.redMul(m.z.redAdd(m.z)),x=d.redSub(p),M=_.redSub(y),C=_.redAdd(y),T=d.redAdd(p),S=x.redMul(M),I=C.redMul(T),N=x.redMul(T),O=M.redMul(C);return this.curve.point(S,I,O,N)},c.prototype._projAdd=function(m){var p=this.z.redMul(m.z),d=p.redSqr(),y=this.x.redMul(m.x),_=this.y.redMul(m.y),x=this.curve.d.redMul(y).redMul(_),M=d.redSub(x),C=d.redAdd(x),T=this.x.redAdd(this.y).redMul(m.x.redAdd(m.y)).redISub(y).redISub(_),S=p.redMul(M).redMul(T),I,N;return this.curve.twisted?(I=p.redMul(C).redMul(_.redSub(this.curve._mulA(y))),N=M.redMul(C)):(I=p.redMul(C).redMul(_.redSub(y)),N=this.curve._mulC(M).redMul(C)),this.curve.point(S,I,N)},c.prototype.add=function(m){return this.isInfinity()?m:m.isInfinity()?this:this.curve.extended?this._extAdd(m):this._projAdd(m)},c.prototype.mul=function(m){return this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve._wnafMul(this,m)},c.prototype.mulAdd=function(m,p,d){return this.curve._wnafMulAdd(1,[this,p],[m,d],2,!1)},c.prototype.jmulAdd=function(m,p,d){return this.curve._wnafMulAdd(1,[this,p],[m,d],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var m=this.z.redInvm();return this.x=this.x.redMul(m),this.y=this.y.redMul(m),this.t&&(this.t=this.t.redMul(m)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(m){return this===m||this.getX().cmp(m.getX())===0&&this.getY().cmp(m.getY())===0},c.prototype.eqXToP=function(m){var p=m.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var d=m.clone(),y=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add,Lm}var H3;function N5(){return H3||(H3=1,function(t){var e=t;e.base=Uh(),e.short=_D(),e.mont=ED(),e.edwards=AD()}(Dm)),Dm}var qm={},jm={},Ht={},W3;function Dn(){if(W3)return Ht;W3=1;var t=Ji(),e=pt();Ht.inherits=e;function r(o,u){return(o.charCodeAt(u)&64512)!==55296||u<0||u+1>=o.length?!1:(o.charCodeAt(u+1)&64512)===56320}function i(o,u){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o=="string")if(u){if(u==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),g=0;g<o.length;g+=2)l.push(parseInt(o[g]+o[g+1],16))}else for(var h=0,g=0;g<o.length;g++){var w=o.charCodeAt(g);w<128?l[h++]=w:w<2048?(l[h++]=w>>6|192,l[h++]=w&63|128):r(o,g)?(w=65536+((w&1023)<<10)+(o.charCodeAt(++g)&1023),l[h++]=w>>18|240,l[h++]=w>>12&63|128,l[h++]=w>>6&63|128,l[h++]=w&63|128):(l[h++]=w>>12|224,l[h++]=w>>6&63|128,l[h++]=w&63|128)}else for(g=0;g<o.length;g++)l[g]=o[g]|0;return l}Ht.toArray=i;function s(o){for(var u="",l=0;l<o.length;l++)u+=f(o[l].toString(16));return u}Ht.toHex=s;function n(o){var u=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return u>>>0}Ht.htonl=n;function c(o,u){for(var l="",h=0;h<o.length;h++){var g=o[h];u==="little"&&(g=n(g)),l+=m(g.toString(16))}return l}Ht.toHex32=c;function f(o){return o.length===1?"0"+o:o}Ht.zero2=f;function m(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}Ht.zero8=m;function p(o,u,l,h){var g=l-u;t(g%4===0);for(var w=new Array(g/4),A=0,v=u;A<w.length;A++,v+=4){var a;h==="big"?a=o[v]<<24|o[v+1]<<16|o[v+2]<<8|o[v+3]:a=o[v+3]<<24|o[v+2]<<16|o[v+1]<<8|o[v],w[A]=a>>>0}return w}Ht.join32=p;function d(o,u){for(var l=new Array(o.length*4),h=0,g=0;h<o.length;h++,g+=4){var w=o[h];u==="big"?(l[g]=w>>>24,l[g+1]=w>>>16&255,l[g+2]=w>>>8&255,l[g+3]=w&255):(l[g+3]=w>>>24,l[g+2]=w>>>16&255,l[g+1]=w>>>8&255,l[g]=w&255)}return l}Ht.split32=d;function y(o,u){return o>>>u|o<<32-u}Ht.rotr32=y;function _(o,u){return o<<u|o>>>32-u}Ht.rotl32=_;function x(o,u){return o+u>>>0}Ht.sum32=x;function M(o,u,l){return o+u+l>>>0}Ht.sum32_3=M;function C(o,u,l,h){return o+u+l+h>>>0}Ht.sum32_4=C;function T(o,u,l,h,g){return o+u+l+h+g>>>0}Ht.sum32_5=T;function S(o,u,l,h){var g=o[u],w=o[u+1],A=h+w>>>0,v=(A<h?1:0)+l+g;o[u]=v>>>0,o[u+1]=A}Ht.sum64=S;function I(o,u,l,h){var g=u+h>>>0,w=(g<u?1:0)+o+l;return w>>>0}Ht.sum64_hi=I;function N(o,u,l,h){var g=u+h;return g>>>0}Ht.sum64_lo=N;function O(o,u,l,h,g,w,A,v){var a=0,b=u;b=b+h>>>0,a+=b<u?1:0,b=b+w>>>0,a+=b<w?1:0,b=b+v>>>0,a+=b<v?1:0;var R=o+l+g+A+a;return R>>>0}Ht.sum64_4_hi=O;function D(o,u,l,h,g,w,A,v){var a=u+h+w+v;return a>>>0}Ht.sum64_4_lo=D;function $(o,u,l,h,g,w,A,v,a,b){var R=0,P=u;P=P+h>>>0,R+=P<u?1:0,P=P+w>>>0,R+=P<w?1:0,P=P+v>>>0,R+=P<v?1:0,P=P+b>>>0,R+=P<b?1:0;var F=o+l+g+A+a+R;return F>>>0}Ht.sum64_5_hi=$;function z(o,u,l,h,g,w,A,v,a,b){var R=u+h+w+v+b;return R>>>0}Ht.sum64_5_lo=z;function G(o,u,l){var h=u<<32-l|o>>>l;return h>>>0}Ht.rotr64_hi=G;function L(o,u,l){var h=o<<32-l|u>>>l;return h>>>0}Ht.rotr64_lo=L;function te(o,u,l){return o>>>l}Ht.shr64_hi=te;function E(o,u,l){var h=o<<32-l|u>>>l;return h>>>0}return Ht.shr64_lo=E,Ht}var zm={},V3;function nf(){if(V3)return zm;V3=1;var t=Dn(),e=Ji();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return zm.BlockHash=r,r.prototype.update=function(s,n){if(s=t.toArray(s,n),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var c=s.length%this._delta8;this.pending=s.slice(s.length-c,s.length),this.pending.length===0&&(this.pending=null),s=t.join32(s,0,s.length-c,this.endian);for(var f=0;f<s.length;f+=this._delta32)this._update(s,f,f+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,n=this._delta8,c=n-(s+this.padLength)%n,f=new Array(c+this.padLength);f[0]=128;for(var m=1;m<c;m++)f[m]=0;if(s<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)f[m++]=0;f[m++]=0,f[m++]=0,f[m++]=0,f[m++]=0,f[m++]=s>>>24&255,f[m++]=s>>>16&255,f[m++]=s>>>8&255,f[m++]=s&255}else for(f[m++]=s&255,f[m++]=s>>>8&255,f[m++]=s>>>16&255,f[m++]=s>>>24&255,f[m++]=0,f[m++]=0,f[m++]=0,f[m++]=0,p=8;p<this.padLength;p++)f[m++]=0;return f},zm}var Vs={},yn={},K3;function P5(){if(K3)return yn;K3=1;var t=Dn(),e=t.rotr32;function r(d,y,_,x){if(d===0)return i(y,_,x);if(d===1||d===3)return n(y,_,x);if(d===2)return s(y,_,x)}yn.ft_1=r;function i(d,y,_){return d&y^~d&_}yn.ch32=i;function s(d,y,_){return d&y^d&_^y&_}yn.maj32=s;function n(d,y,_){return d^y^_}yn.p32=n;function c(d){return e(d,2)^e(d,13)^e(d,22)}yn.s0_256=c;function f(d){return e(d,6)^e(d,11)^e(d,25)}yn.s1_256=f;function m(d){return e(d,7)^e(d,18)^d>>>3}yn.g0_256=m;function p(d){return e(d,17)^e(d,19)^d>>>10}return yn.g1_256=p,yn}var Hm,G3;function xD(){if(G3)return Hm;G3=1;var t=Dn(),e=nf(),r=P5(),i=t.rotl32,s=t.sum32,n=t.sum32_5,c=r.ft_1,f=e.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(p,f),Hm=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(y,_){for(var x=this.W,M=0;M<16;M++)x[M]=y[_+M];for(;M<x.length;M++)x[M]=i(x[M-3]^x[M-8]^x[M-14]^x[M-16],1);var C=this.h[0],T=this.h[1],S=this.h[2],I=this.h[3],N=this.h[4];for(M=0;M<x.length;M++){var O=~~(M/20),D=n(i(C,5),c(O,T,S,I),N,x[M],m[O]);N=I,I=S,S=i(T,30),T=C,C=D}this.h[0]=s(this.h[0],C),this.h[1]=s(this.h[1],T),this.h[2]=s(this.h[2],S),this.h[3]=s(this.h[3],I),this.h[4]=s(this.h[4],N)},p.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Hm}var Wm,Z3;function O5(){if(Z3)return Wm;Z3=1;var t=Dn(),e=nf(),r=P5(),i=Ji(),s=t.sum32,n=t.sum32_4,c=t.sum32_5,f=r.ch32,m=r.maj32,p=r.s0_256,d=r.s1_256,y=r.g0_256,_=r.g1_256,x=e.BlockHash,M=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=M,this.W=new Array(64)}return t.inherits(C,x),Wm=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(S,I){for(var N=this.W,O=0;O<16;O++)N[O]=S[I+O];for(;O<N.length;O++)N[O]=n(_(N[O-2]),N[O-7],y(N[O-15]),N[O-16]);var D=this.h[0],$=this.h[1],z=this.h[2],G=this.h[3],L=this.h[4],te=this.h[5],E=this.h[6],o=this.h[7];for(i(this.k.length===N.length),O=0;O<N.length;O++){var u=c(o,d(L),f(L,te,E),this.k[O],N[O]),l=s(p(D),m(D,$,z));o=E,E=te,te=L,L=s(G,u),G=z,z=$,$=D,D=s(u,l)}this.h[0]=s(this.h[0],D),this.h[1]=s(this.h[1],$),this.h[2]=s(this.h[2],z),this.h[3]=s(this.h[3],G),this.h[4]=s(this.h[4],L),this.h[5]=s(this.h[5],te),this.h[6]=s(this.h[6],E),this.h[7]=s(this.h[7],o)},C.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Wm}var Vm,Y3;function MD(){if(Y3)return Vm;Y3=1;var t=Dn(),e=O5();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Vm=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Vm}var Km,J3;function k5(){if(J3)return Km;J3=1;var t=Dn(),e=nf(),r=Ji(),i=t.rotr64_hi,s=t.rotr64_lo,n=t.shr64_hi,c=t.shr64_lo,f=t.sum64,m=t.sum64_hi,p=t.sum64_lo,d=t.sum64_4_hi,y=t.sum64_4_lo,_=t.sum64_5_hi,x=t.sum64_5_lo,M=e.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;M.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}t.inherits(T,M),Km=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(l,h){for(var g=this.W,w=0;w<32;w++)g[w]=l[h+w];for(;w<g.length;w+=2){var A=E(g[w-4],g[w-3]),v=o(g[w-4],g[w-3]),a=g[w-14],b=g[w-13],R=L(g[w-30],g[w-29]),P=te(g[w-30],g[w-29]),F=g[w-32],K=g[w-31];g[w]=d(A,v,a,b,R,P,F,K),g[w+1]=y(A,v,a,b,R,P,F,K)}},T.prototype._update=function(l,h){this._prepareBlock(l,h);var g=this.W,w=this.h[0],A=this.h[1],v=this.h[2],a=this.h[3],b=this.h[4],R=this.h[5],P=this.h[6],F=this.h[7],K=this.h[8],Z=this.h[9],U=this.h[10],Y=this.h[11],X=this.h[12],re=this.h[13],ee=this.h[14],H=this.h[15];r(this.k.length===g.length);for(var oe=0;oe<g.length;oe+=2){var Ne=ee,he=H,fe=z(K,Z),$e=G(K,Z),ye=S(K,Z,U,Y,X),ue=I(K,Z,U,Y,X,re),Ge=this.k[oe],de=this.k[oe+1],ve=g[oe],ze=g[oe+1],ge=_(Ne,he,fe,$e,ye,ue,Ge,de,ve,ze),xe=x(Ne,he,fe,$e,ye,ue,Ge,de,ve,ze);Ne=D(w,A),he=$(w,A),fe=N(w,A,v,a,b),$e=O(w,A,v,a,b,R);var it=m(Ne,he,fe,$e),Ae=p(Ne,he,fe,$e);ee=X,H=re,X=U,re=Y,U=K,Y=Z,K=m(P,F,ge,xe),Z=p(F,F,ge,xe),P=b,F=R,b=v,R=a,v=w,a=A,w=m(ge,xe,it,Ae),A=p(ge,xe,it,Ae)}f(this.h,0,w,A),f(this.h,2,v,a),f(this.h,4,b,R),f(this.h,6,P,F),f(this.h,8,K,Z),f(this.h,10,U,Y),f(this.h,12,X,re),f(this.h,14,ee,H)},T.prototype._digest=function(l){return l==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function S(u,l,h,g,w){var A=u&h^~u&w;return A<0&&(A+=4294967296),A}function I(u,l,h,g,w,A){var v=l&g^~l&A;return v<0&&(v+=4294967296),v}function N(u,l,h,g,w){var A=u&h^u&w^h&w;return A<0&&(A+=4294967296),A}function O(u,l,h,g,w,A){var v=l&g^l&A^g&A;return v<0&&(v+=4294967296),v}function D(u,l){var h=i(u,l,28),g=i(l,u,2),w=i(l,u,7),A=h^g^w;return A<0&&(A+=4294967296),A}function $(u,l){var h=s(u,l,28),g=s(l,u,2),w=s(l,u,7),A=h^g^w;return A<0&&(A+=4294967296),A}function z(u,l){var h=i(u,l,14),g=i(u,l,18),w=i(l,u,9),A=h^g^w;return A<0&&(A+=4294967296),A}function G(u,l){var h=s(u,l,14),g=s(u,l,18),w=s(l,u,9),A=h^g^w;return A<0&&(A+=4294967296),A}function L(u,l){var h=i(u,l,1),g=i(u,l,8),w=n(u,l,7),A=h^g^w;return A<0&&(A+=4294967296),A}function te(u,l){var h=s(u,l,1),g=s(u,l,8),w=c(u,l,7),A=h^g^w;return A<0&&(A+=4294967296),A}function E(u,l){var h=i(u,l,19),g=i(l,u,29),w=n(u,l,6),A=h^g^w;return A<0&&(A+=4294967296),A}function o(u,l){var h=s(u,l,19),g=s(l,u,29),w=c(u,l,6),A=h^g^w;return A<0&&(A+=4294967296),A}return Km}var Gm,Q3;function CD(){if(Q3)return Gm;Q3=1;var t=Dn(),e=k5();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Gm=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Gm}var X3;function SD(){return X3||(X3=1,Vs.sha1=xD(),Vs.sha224=MD(),Vs.sha256=O5(),Vs.sha384=CD(),Vs.sha512=k5()),Vs}var Zm={},eE;function ID(){if(eE)return Zm;eE=1;var t=Dn(),e=nf(),r=t.rotl32,i=t.sum32,s=t.sum32_3,n=t.sum32_4,c=e.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(f,c),Zm.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(T,S){for(var I=this.h[0],N=this.h[1],O=this.h[2],D=this.h[3],$=this.h[4],z=I,G=N,L=O,te=D,E=$,o=0;o<80;o++){var u=i(r(n(I,m(o,N,O,D),T[y[o]+S],p(o)),x[o]),$);I=$,$=D,D=r(O,10),O=N,N=u,u=i(r(n(z,m(79-o,G,L,te),T[_[o]+S],d(o)),M[o]),E),z=E,E=te,te=r(L,10),L=G,G=u}u=s(this.h[1],O,te),this.h[1]=s(this.h[2],D,E),this.h[2]=s(this.h[3],$,z),this.h[3]=s(this.h[4],I,G),this.h[4]=s(this.h[0],N,L),this.h[0]=u},f.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function m(C,T,S,I){return C<=15?T^S^I:C<=31?T&S|~T&I:C<=47?(T|~S)^I:C<=63?T&I|S&~I:T^(S|~I)}function p(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function d(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],M=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Zm}var Ym,tE;function TD(){if(tE)return Ym;tE=1;var t=Dn(),e=Ji();function r(i,s,n){if(!(this instanceof r))return new r(i,s,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,n))}return Ym=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var n=s.length;n<this.blockSize;n++)s.push(0);for(n=0;n<s.length;n++)s[n]^=54;for(this.inner=new this.Hash().update(s),n=0;n<s.length;n++)s[n]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,n){return this.inner.update(s,n),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},Ym}var rE;function ry(){return rE||(rE=1,function(t){var e=t;e.utils=Dn(),e.common=nf(),e.sha=SD(),e.ripemd=ID(),e.hmac=TD(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(jm)),jm}var Jm,iE;function RD(){return iE||(iE=1,Jm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Jm}var nE;function iy(){return nE||(nE=1,function(t){var e=t,r=ry(),i=N5(),s=Qi(),n=s.assert;function c(p){p.type==="short"?this.curve=new i.short(p):p.type==="edwards"?this.curve=new i.edwards(p):this.curve=new i.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=c;function f(p,d){Object.defineProperty(e,p,{configurable:!0,enumerable:!0,get:function(){var y=new c(d);return Object.defineProperty(e,p,{configurable:!0,enumerable:!0,value:y}),y}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var m;try{m=RD()}catch{m=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",m]})}(qm)),qm}var Qm,sE;function ND(){if(sE)return Qm;sE=1;var t=ry(),e=$4(),r=Ji();function i(s){if(!(this instanceof i))return new i(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=e.toArray(s.entropy,s.entropyEnc||"hex"),c=e.toArray(s.nonce,s.nonceEnc||"hex"),f=e.toArray(s.pers,s.persEnc||"hex");r(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,c,f)}return Qm=i,i.prototype._init=function(n,c,f){var m=n.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(m),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},i.prototype._update=function(n){var c=this._hmac().update(this.V).update([0]);n&&(c=c.update(n)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(n,c,f,m){typeof c!="string"&&(m=f,f=c,c=null),n=e.toArray(n,c),f=e.toArray(f,m),r(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(f||[])),this._reseed=1},i.prototype.generate=function(n,c,f,m){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(m=f,f=c,c=null),f&&(f=e.toArray(f,m||"hex"),this._update(f));for(var p=[];p.length<n;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var d=p.slice(0,n);return this._update(f),this._reseed++,e.encode(d,c)},Qm}var Xm,oE;function PD(){if(oE)return Xm;oE=1;var t=ns(),e=Qi(),r=e.assert;function i(s,n){this.ec=s,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}return Xm=i,i.fromPublic=function(n,c,f){return c instanceof i?c:new i(n,{pub:c,pubEnc:f})},i.fromPrivate=function(n,c,f){return c instanceof i?c:new i(n,{priv:c,privEnc:f})},i.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(n,c){return typeof n=="string"&&(c=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,n):this.pub},i.prototype.getPrivate=function(n){return n==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(n,c){this.priv=new t(n,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(n,c){if(n.x||n.y){this.ec.curve.type==="mont"?r(n.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(n.x&&n.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(n.x,n.y);return}this.pub=this.ec.curve.decodePoint(n,c)},i.prototype.derive=function(n){return n.validate()||r(n.validate(),"public point not validated"),n.mul(this.priv).getX()},i.prototype.sign=function(n,c,f){return this.ec.sign(n,this,c,f)},i.prototype.verify=function(n,c,f){return this.ec.verify(n,c,this,void 0,f)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Xm}var eg,aE;function OD(){if(aE)return eg;aE=1;var t=ns(),e=Qi(),r=e.assert;function i(m,p){if(m instanceof i)return m;this._importDER(m,p)||(r(m.r&&m.s,"Signature without r or s"),this.r=new t(m.r,16),this.s=new t(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}eg=i;function s(){this.place=0}function n(m,p){var d=m[p.place++];if(!(d&128))return d;var y=d&15;if(y===0||y>4||m[p.place]===0)return!1;for(var _=0,x=0,M=p.place;x<y;x++,M++)_<<=8,_|=m[M],_>>>=0;return _<=127?!1:(p.place=M,_)}function c(m){for(var p=0,d=m.length-1;!m[p]&&!(m[p+1]&128)&&p<d;)p++;return p===0?m:m.slice(p)}i.prototype._importDER=function(p,d){p=e.toArray(p,d);var y=new s;if(p[y.place++]!==48)return!1;var _=n(p,y);if(_===!1||_+y.place!==p.length||p[y.place++]!==2)return!1;var x=n(p,y);if(x===!1||(p[y.place]&128)!==0)return!1;var M=p.slice(y.place,x+y.place);if(y.place+=x,p[y.place++]!==2)return!1;var C=n(p,y);if(C===!1||p.length!==C+y.place||(p[y.place]&128)!==0)return!1;var T=p.slice(y.place,C+y.place);if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;if(T[0]===0)if(T[1]&128)T=T.slice(1);else return!1;return this.r=new t(M),this.s=new t(T),this.recoveryParam=null,!0};function f(m,p){if(p<128){m.push(p);return}var d=1+(Math.log(p)/Math.LN2>>>3);for(m.push(d|128);--d;)m.push(p>>>(d<<3)&255);m.push(p)}return i.prototype.toDER=function(p){var d=this.r.toArray(),y=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),y[0]&128&&(y=[0].concat(y)),d=c(d),y=c(y);!y[0]&&!(y[1]&128);)y=y.slice(1);var _=[2];f(_,d.length),_=_.concat(d),_.push(2),f(_,y.length);var x=_.concat(y),M=[48];return f(M,x.length),M=M.concat(x),e.encode(M,p)},eg}var tg,cE;function kD(){if(cE)return tg;cE=1;var t=ns(),e=ND(),r=Qi(),i=iy(),s=ty(),n=r.assert,c=PD(),f=OD();function m(p){if(!(this instanceof m))return new m(p);typeof p=="string"&&(n(Object.prototype.hasOwnProperty.call(i,p),"Unknown curve "+p),p=i[p]),p instanceof i.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}return tg=m,m.prototype.keyPair=function(d){return new c(this,d)},m.prototype.keyFromPrivate=function(d,y){return c.fromPrivate(this,d,y)},m.prototype.keyFromPublic=function(d,y){return c.fromPublic(this,d,y)},m.prototype.genKeyPair=function(d){d||(d={});for(var y=new e({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||s(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),_=this.n.byteLength(),x=this.n.sub(new t(2));;){var M=new t(y.generate(_));if(!(M.cmp(x)>0))return M.iaddn(1),this.keyFromPrivate(M)}},m.prototype._truncateToN=function(d,y,_){var x;if(t.isBN(d)||typeof d=="number")d=new t(d,16),x=d.byteLength();else if(typeof d=="object")x=d.length,d=new t(d,16);else{var M=d.toString();x=M.length+1>>>1,d=new t(M,16)}typeof _!="number"&&(_=x*8);var C=_-this.n.bitLength();return C>0&&(d=d.ushrn(C)),!y&&d.cmp(this.n)>=0?d.sub(this.n):d},m.prototype.sign=function(d,y,_,x){if(typeof _=="object"&&(x=_,_=null),x||(x={}),typeof d!="string"&&typeof d!="number"&&!t.isBN(d)){n(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),n(d.length>>>0===d.length);for(var M=0;M<d.length;M++)n((d[M]&255)===d[M])}y=this.keyFromPrivate(y,_),d=this._truncateToN(d,!1,x.msgBitLength),n(!d.isNeg(),"Can not sign a negative message");var C=this.n.byteLength(),T=y.getPrivate().toArray("be",C),S=d.toArray("be",C);n(new t(S).eq(d),"Can not sign message");for(var I=new e({hash:this.hash,entropy:T,nonce:S,pers:x.pers,persEnc:x.persEnc||"utf8"}),N=this.n.sub(new t(1)),O=0;;O++){var D=x.k?x.k(O):new t(I.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(N)>=0)){var $=this.g.mul(D);if(!$.isInfinity()){var z=$.getX(),G=z.umod(this.n);if(G.cmpn(0)!==0){var L=D.invm(this.n).mul(G.mul(y.getPrivate()).iadd(d));if(L=L.umod(this.n),L.cmpn(0)!==0){var te=($.getY().isOdd()?1:0)|(z.cmp(G)!==0?2:0);return x.canonical&&L.cmp(this.nh)>0&&(L=this.n.sub(L),te^=1),new f({r:G,s:L,recoveryParam:te})}}}}}},m.prototype.verify=function(d,y,_,x,M){M||(M={}),d=this._truncateToN(d,!1,M.msgBitLength),_=this.keyFromPublic(_,x),y=new f(y,"hex");var C=y.r,T=y.s;if(C.cmpn(1)<0||C.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var S=T.invm(this.n),I=S.mul(d).umod(this.n),N=S.mul(C).umod(this.n),O;return this.curve._maxwellTrick?(O=this.g.jmulAdd(I,_.getPublic(),N),O.isInfinity()?!1:O.eqXToP(C)):(O=this.g.mulAdd(I,_.getPublic(),N),O.isInfinity()?!1:O.getX().umod(this.n).cmp(C)===0)},m.prototype.recoverPubKey=function(p,d,y,_){n((3&y)===y,"The recovery param is more than two bits"),d=new f(d,_);var x=this.n,M=new t(p),C=d.r,T=d.s,S=y&1,I=y>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");I?C=this.curve.pointFromX(C.add(this.curve.n),S):C=this.curve.pointFromX(C,S);var N=d.r.invm(x),O=x.sub(M).mul(N).umod(x),D=T.mul(N).umod(x);return this.g.mulAdd(O,C,D)},m.prototype.getKeyRecoveryParam=function(p,d,y,_){if(d=new f(d,_),d.recoveryParam!==null)return d.recoveryParam;for(var x=0;x<4;x++){var M;try{M=this.recoverPubKey(p,d,x)}catch{continue}if(M.eq(y))return x}throw new Error("Unable to find valid recovery factor")},tg}var rg,uE;function BD(){if(uE)return rg;uE=1;var t=Qi(),e=t.assert,r=t.parseBytes,i=t.cachedProperty;function s(n,c){this.eddsa=n,this._secret=r(c.secret),n.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=r(c.pub)}return s.fromPublic=function(c,f){return f instanceof s?f:new s(c,{pub:f})},s.fromSecret=function(c,f){return f instanceof s?f:new s(c,{secret:f})},s.prototype.secret=function(){return this._secret},i(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(s,"privBytes",function(){var c=this.eddsa,f=this.hash(),m=c.encodingLength-1,p=f.slice(0,c.encodingLength);return p[0]&=248,p[m]&=127,p[m]|=64,p}),i(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(c){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},s.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},s.prototype.getSecret=function(c){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),c)},s.prototype.getPublic=function(c){return t.encode(this.pubBytes(),c)},rg=s,rg}var ig,fE;function DD(){if(fE)return ig;fE=1;var t=ns(),e=Qi(),r=e.assert,i=e.cachedProperty,s=e.parseBytes;function n(c,f){this.eddsa=c,typeof f!="object"&&(f=s(f)),Array.isArray(f)&&(r(f.length===c.encodingLength*2,"Signature has invalid size"),f={R:f.slice(0,c.encodingLength),S:f.slice(c.encodingLength)}),r(f.R&&f.S,"Signature without R or S"),c.isPoint(f.R)&&(this._R=f.R),f.S instanceof t&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}return i(n,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(n,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(n,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(n,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},ig=n,ig}var ng,lE;function $D(){if(lE)return ng;lE=1;var t=ry(),e=iy(),r=Qi(),i=r.assert,s=r.parseBytes,n=BD(),c=DD();function f(m){if(i(m==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(m);m=e[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=t.sha512}return ng=f,f.prototype.sign=function(p,d){p=s(p);var y=this.keyFromSecret(d),_=this.hashInt(y.messagePrefix(),p),x=this.g.mul(_),M=this.encodePoint(x),C=this.hashInt(M,y.pubBytes(),p).mul(y.priv()),T=_.add(C).umod(this.curve.n);return this.makeSignature({R:x,S:T,Rencoded:M})},f.prototype.verify=function(p,d,y){if(p=s(p),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var _=this.keyFromPublic(y),x=this.hashInt(d.Rencoded(),_.pubBytes(),p),M=this.g.mul(d.S()),C=d.R().add(_.pub().mul(x));return C.eq(M)},f.prototype.hashInt=function(){for(var p=this.hash(),d=0;d<arguments.length;d++)p.update(arguments[d]);return r.intFromLE(p.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(p){return n.fromPublic(this,p)},f.prototype.keyFromSecret=function(p){return n.fromSecret(this,p)},f.prototype.makeSignature=function(p){return p instanceof c?p:new c(this,p)},f.prototype.encodePoint=function(p){var d=p.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=p.getX().isOdd()?128:0,d},f.prototype.decodePoint=function(p){p=r.parseBytes(p);var d=p.length-1,y=p.slice(0,d).concat(p[d]&-129),_=(p[d]&128)!==0,x=r.intFromLE(y);return this.curve.pointFromY(x,_)},f.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(p){return r.intFromLE(p)},f.prototype.isPoint=function(p){return p instanceof this.pointClass},ng}var hE;function Fh(){return hE||(hE=1,function(t){var e=t;e.version=rk.version,e.utils=Qi(),e.rand=ty(),e.curve=N5(),e.curves=iy(),e.ec=kD(),e.eddsa=$D()}(qd)),qd}var UD=Fh();const FD={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var LD={};const qD=":";function va(t){const[e,r]=t.split(qD);return{namespace:e,reference:r}}function B5(t,e){return t.includes(":")?[t]:e.chains||[]}const jD="ReactNative",Bi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},zD="js";function Fl(){return typeof We<"u"&&typeof We.versions<"u"&&typeof We.versions.node<"u"}function Ls(){return!yo.getDocument()&&!!yo.getNavigator()&&navigator.product===jD}function HD(){return Ls()&&typeof ot<"u"&&typeof(ot==null?void 0:ot.Platform)<"u"&&(ot==null?void 0:ot.Platform.OS)==="android"}function WD(){return Ls()&&typeof ot<"u"&&typeof(ot==null?void 0:ot.Platform)<"u"&&(ot==null?void 0:ot.Platform.OS)==="ios"}function sf(){return!Fl()&&!!yo.getNavigator()&&!!yo.getDocument()}function of(){return Ls()?Bi.reactNative:Fl()?Bi.node:sf()?Bi.browser:Bi.unknown}function dE(){var t;try{return Ls()&&typeof ot<"u"&&typeof(ot==null?void 0:ot.Application)<"u"?(t=ot.Application)==null?void 0:t.applicationId:void 0}catch{return}}function VD(t,e){const r=new URLSearchParams(t);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const s=e[i];s!==void 0&&r.set(i,s)}return r.toString()}function D5(){return wN.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function KD(){if(of()===Bi.reactNative&&typeof ot<"u"&&typeof(ot==null?void 0:ot.Platform)<"u"){const{OS:r,Version:i}=ot.Platform;return[r,i].join("-")}const t=dN();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function GD(){var t;const e=of();return e===Bi.browser?[e,((t=yo.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function $5(t,e,r){const i=KD(),s=GD();return[[t,e].join("-"),[zD,r].join("-"),i,s].join("/")}function ZD({protocol:t,version:e,relayUrl:r,sdkVersion:i,auth:s,projectId:n,useOnCloseEvent:c,bundleId:f,packageName:m}){const p=r.split("?"),d=$5(t,e,i),y={auth:s,ua:d,projectId:n,useOnCloseEvent:c,packageName:m||void 0,bundleId:f||void 0},_=VD(p[1]||"",y);return p[0]+"?"+_}function io(t,e){return t.filter(r=>e.includes(r)).length===t.length}function vv(t){return Object.fromEntries(t.entries())}function yv(t){return new Map(Object.entries(t))}function Js(t=qe.FIVE_MINUTES,e){const r=qe.toMiliseconds(t||qe.FIVE_MINUTES);let i,s,n,c;return{resolve:f=>{n&&i&&(clearTimeout(n),i(f),c=Promise.resolve(f))},reject:f=>{n&&s&&(clearTimeout(n),s(f))},done:()=>new Promise((f,m)=>{if(c)return f(c);n=setTimeout(()=>{const p=new Error(e);c=Promise.reject(p),m(p)},r),i=f,s=m})}}function _s(t,e,r){return new Promise(async(i,s)=>{const n=setTimeout(()=>s(new Error(r)),e);try{const c=await t;i(c)}catch(c){s(c)}clearTimeout(n)})}function U5(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function YD(t){return U5("topic",t)}function JD(t){return U5("id",t)}function F5(t){const[e,r]=t.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")i.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return i}function Or(t,e){return qe.fromMiliseconds(Date.now()+qe.toMiliseconds(t))}function gs(t){return Date.now()>=qe.toMiliseconds(t)}function Ft(t,e){return`${t}${e?`:${e}`:""}`}function yl(t=[],e=[]){return[...new Set([...t,...e])]}async function QD({id:t,topic:e,wcDeepLink:r}){var i;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,n=s==null?void 0:s.href;if(typeof n!="string")return;const c=XD(n,t,e),f=of();if(f===Bi.browser){if(!((i=yo.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}e$(c)}else f===Bi.reactNative&&typeof(ot==null?void 0:ot.Linking)<"u"&&await ot.Linking.openURL(c)}catch(s){console.error(s)}}function XD(t,e,r){const i=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const n=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${n}${n$(i,!0)}`}else s=`${s}/wc?${i}`;return s}function e$(t){let e="_self";i$()?e="_top":(r$()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function t$(t,e){let r="";try{if(sf()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(i){console.error(i)}return r}function pE(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),i=r.indexOf(e);return r[i+2]}function mE(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function ny(){return typeof We<"u"&&LD.IS_VITEST==="true"}function r$(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function i$(){try{return window.self!==window.top}catch{return!1}}function n$(t,e=!1){const r=lt.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function L5(t){return lt.from(t,"base64").toString("utf-8")}function s$(t){return new Promise(e=>setTimeout(e,t))}function Xc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function o$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lh(t,...e){if(!o$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sy(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xc(t.outputLen),Xc(t.blockLen)}function Ma(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q5(t,e){Lh(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const zf=BigInt(2**32-1),gE=BigInt(32);function a$(t,e=!1){return e?{h:Number(t&zf),l:Number(t>>gE&zf)}:{h:Number(t>>gE&zf)|0,l:Number(t&zf)|0}}function c$(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:c}=a$(t[s],e);[r[s],i[s]]=[n,c]}return[r,i]}const u$=(t,e,r)=>t<<r|e>>>32-r,f$=(t,e,r)=>e<<r|t>>>32-r,l$=(t,e,r)=>e<<r-32|t>>>64-r,h$=(t,e,r)=>t<<r-32|e>>>64-r,Wo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function d$(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function sg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bn(t,e){return t<<32-e|t>>>e}const vE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function yE(t){for(let e=0;e<t.length;e++)t[e]=p$(t[e])}function m$(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ca(t){return typeof t=="string"&&(t=m$(t)),Lh(t),t}let oy=class{clone(){return this._cloneInto()}};function j5(t){const e=i=>t().update(Ca(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function af(t=32){if(Wo&&typeof Wo.getRandomValues=="function")return Wo.getRandomValues(new Uint8Array(t));if(Wo&&typeof Wo.randomBytes=="function")return Wo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const z5=[],H5=[],W5=[],g$=BigInt(0),hc=BigInt(1),v$=BigInt(2),y$=BigInt(7),b$=BigInt(256),w$=BigInt(113);for(let t=0,e=hc,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],z5.push(2*(5*i+r)),H5.push((t+1)*(t+2)/2%64);let s=g$;for(let n=0;n<7;n++)e=(e<<hc^(e>>y$)*w$)%b$,e&v$&&(s^=hc<<(hc<<BigInt(n))-hc);W5.push(s)}const[_$,E$]=c$(W5,!0),bE=(t,e,r)=>r>32?l$(t,e,r):u$(t,e,r),wE=(t,e,r)=>r>32?h$(t,e,r):f$(t,e,r);function A$(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let c=0;c<10;c++)r[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const f=(c+8)%10,m=(c+2)%10,p=r[m],d=r[m+1],y=bE(p,d,1)^r[f],_=wE(p,d,1)^r[f+1];for(let x=0;x<50;x+=10)t[c+x]^=y,t[c+x+1]^=_}let s=t[2],n=t[3];for(let c=0;c<24;c++){const f=H5[c],m=bE(s,n,f),p=wE(s,n,f),d=z5[c];s=t[d],n=t[d+1],t[d]=m,t[d+1]=p}for(let c=0;c<50;c+=10){for(let f=0;f<10;f++)r[f]=t[c+f];for(let f=0;f<10;f++)t[c+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=_$[i],t[1]^=E$[i]}r.fill(0)}let x$=class V5 extends oy{constructor(e,r,i,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Xc(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=d$(this.state)}keccak(){vE||yE(this.state32),A$(this.state32,this.rounds),vE||yE(this.state32),this.posOut=0,this.pos=0}update(e){Ma(this);const{blockLen:r,state:i}=this;e=Ca(e);const s=e.length;for(let n=0;n<s;){const c=Math.min(r-this.pos,s-n);for(let f=0;f<c;f++)i[this.pos++]^=e[n++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,(r&128)!==0&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ma(this,!1),Lh(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,n=e.length;s<n;){this.posOut>=i&&this.keccak();const c=Math.min(i-this.posOut,n-s);e.set(r.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:n,enableXOF:c}=this;return e||(e=new V5(r,i,s,c,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=i,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const M$=(t,e,r)=>j5(()=>new x$(e,t,r)),C$=M$(1,136,256/8),S$="https://rpc.walletconnect.org/v1";function K5(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+lt.from(C$(r)).toString("hex")}async function I$(t,e,r,i,s,n){switch(r.t){case"eip191":return await T$(t,e,r.s);case"eip1271":return await R$(t,e,r.s,i,s,n);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function T$(t,e,r){return(await GP({hash:K5(e),signature:r})).toLowerCase()===t.toLowerCase()}async function R$(t,e,r,i,s,n){const c=va(i);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const f="0x1626ba7e",m="0000000000000000000000000000000000000000000000000000000000000040",p="0000000000000000000000000000000000000000000000000000000000000041",d=r.substring(2),y=K5(e).substring(2),_=f+y+m+p+d,x=await fetch(`${n||S$}/?chainId=${i}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:N$(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:_},"latest"]})}),{result:M}=await x.json();return M?M.slice(0,f.length).toLowerCase()===f.toLowerCase():!1}catch(f){return console.error("isValidEip1271Signature: ",f),!1}}function N$(){return Date.now()+Math.floor(Math.random()*1e3)}function P$(t){const e=atob(t),r=new Uint8Array(e.length);for(let c=0;c<e.length;c++)r[c]=e.charCodeAt(c);const i=r[0];if(i===0)throw new Error("No signatures found");const s=1+i*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const n=lt.from(t,"base64").slice(1,65);return nO.encode(n)}var O$=Object.defineProperty,k$=Object.defineProperties,B$=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,D$=Object.prototype.hasOwnProperty,$$=Object.prototype.propertyIsEnumerable,EE=(t,e,r)=>e in t?O$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U$=(t,e)=>{for(var r in e||(e={}))D$.call(e,r)&&EE(t,r,e[r]);if(_E)for(var r of _E(e))$$.call(e,r)&&EE(t,r,e[r]);return t},F$=(t,e)=>k$(t,B$(e));const L$="did:pkh:",ay=t=>t==null?void 0:t.split(":"),q$=t=>{const e=t&&ay(t);if(e)return t.includes(L$)?e[3]:e[1]},bv=t=>{const e=t&&ay(t);if(e)return e[2]+":"+e[3]},Ll=t=>{const e=t&&ay(t);if(e)return e.pop()};async function AE(t){const{cacao:e,projectId:r}=t,{s:i,p:s}=e,n=G5(s,s.iss),c=Ll(s.iss);return await I$(c,n,i,bv(s.iss),r)}const G5=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,i=Ll(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const n=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,f=`Chain ID: ${q$(e)}`,m=`Nonce: ${t.nonce}`,p=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,y=t.nbf?`Not Before: ${t.nbf}`:void 0,_=t.requestId?`Request ID: ${t.requestId}`:void 0,x=t.resources?`Resources:${t.resources.map(C=>`
- ${C}`).join("")}`:void 0,M=bl(t.resources);if(M){const C=eu(M);s=Y$(s,C)}return[r,i,"",s,"",n,c,f,m,p,d,y,_,x].filter(C=>C!=null).join(`
`)};function j$(t){return lt.from(JSON.stringify(t)).toString("base64")}function z$(t){return JSON.parse(lt.from(t,"base64").toString("utf-8"))}function _o(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const i=t.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(s=>{const n=i[s];if(!Array.isArray(n))throw new Error(`Ability limits ${s} must be an array of objects, found: ${n}`);if(!n.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);n.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function H$(t,e,r,i={}){return r==null||r.sort((s,n)=>s.localeCompare(n)),{att:{[t]:W$(e,r,i)}}}function W$(t,e,r={}){e=e==null?void 0:e.sort((s,n)=>s.localeCompare(n));const i=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...i)}function Z5(t){return _o(t),`urn:recap:${j$(t).replace(/=/g,"")}`}function eu(t){const e=z$(t.replace("urn:recap:",""));return _o(e),e}function V$(t,e,r){const i=H$(t,e,r);return Z5(i)}function K$(t){return t&&t.includes("urn:recap:")}function G$(t,e){const r=eu(t),i=eu(e),s=Z$(r,i);return Z5(s)}function Z$(t,e){_o(t),_o(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,n)=>s.localeCompare(n)),i={att:{}};return r.forEach(s=>{var n,c;Object.keys(((n=t.att)==null?void 0:n[s])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[s])||{})).sort((f,m)=>f.localeCompare(m)).forEach(f=>{var m,p;i.att[s]=F$(U$({},i.att[s]),{[f]:((m=t.att[s])==null?void 0:m[f])||((p=e.att[s])==null?void 0:p[f])})})}),i}function Y$(t="",e){_o(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const i=[];let s=0;Object.keys(e.att).forEach(f=>{const m=Object.keys(e.att[f]).map(y=>({ability:y.split("/")[0],action:y.split("/")[1]}));m.sort((y,_)=>y.action.localeCompare(_.action));const p={};m.forEach(y=>{p[y.ability]||(p[y.ability]=[]),p[y.ability].push(y.action)});const d=Object.keys(p).map(y=>(s++,`(${s}) '${y}': '${p[y].join("', '")}' for '${f}'.`));i.push(d.join(", ").replace(".,","."))});const n=i.join(" "),c=`${r}${n}`;return`${t?t+" ":""}${c}`}function xE(t){var e;const r=eu(t);_o(r);const i=(e=r.att)==null?void 0:e.eip155;return i?Object.keys(i).map(s=>s.split("/")[1]):[]}function ME(t){const e=eu(t);_o(e);const r=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(s=>{var n;(n=s==null?void 0:s[0])!=null&&n.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function bl(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return K$(e)?e:void 0}function og(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Y5(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Oi(t,...e){if(!Y5(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function CE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function J$(t,e){Oi(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function SE(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Ms=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Q$=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),X$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!X$)throw new Error("Non little-endian hardware is not supported");function eU(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function wv(t){if(typeof t=="string")t=eU(t);else if(Y5(t))t=_v(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function tU(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function rU(t,e){if(t.length!==e.length)return!1;let r=0;for(let i=0;i<t.length;i++)r|=t[i]^e[i];return r===0}const iU=(t,e)=>{function r(i,...s){if(Oi(i),t.nonceLength!==void 0){const p=s[0];if(!p)throw new Error("nonce / iv required");t.varSizeNonce?Oi(p):Oi(p,t.nonceLength)}const n=t.tagLength;n&&s[1]!==void 0&&Oi(s[1]);const c=e(i,...s),f=(p,d)=>{if(d!==void 0){if(p!==2)throw new Error("cipher output not supported");Oi(d)}};let m=!1;return{encrypt(p,d){if(m)throw new Error("cannot encrypt() twice with same key + nonce");return m=!0,Oi(p),f(c.encrypt.length,d),c.encrypt(p,d)},decrypt(p,d){if(Oi(p),n&&p.length<n)throw new Error("invalid ciphertext length: smaller than tagLength="+n);return f(c.decrypt.length,d),c.decrypt(p,d)}}}return Object.assign(r,t),r};function IE(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!nU(e))throw new Error("invalid output, must be aligned");return e}function TE(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),n=BigInt(4294967295),c=Number(r>>s&n),f=Number(r&n);t.setUint32(e+4,c,i),t.setUint32(e+0,f,i)}function nU(t){return t.byteOffset%4===0}function _v(t){return Uint8Array.from(t)}function Sa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const J5=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),sU=J5("expand 16-byte k"),oU=J5("expand 32-byte k"),aU=Ms(sU),cU=Ms(oU);function kt(t,e){return t<<e|t>>>32-e}function Ev(t){return t.byteOffset%4===0}const Hf=64,uU=16,Q5=2**32-1,RE=new Uint32Array;function fU(t,e,r,i,s,n,c,f){const m=s.length,p=new Uint8Array(Hf),d=Ms(p),y=Ev(s)&&Ev(n),_=y?Ms(s):RE,x=y?Ms(n):RE;for(let M=0;M<m;c++){if(t(e,r,i,d,c,f),c>=Q5)throw new Error("arx: counter overflow");const C=Math.min(Hf,m-M);if(y&&C===Hf){const T=M/4;if(M%4!==0)throw new Error("arx: invalid block position");for(let S=0,I;S<uU;S++)I=T+S,x[I]=_[I]^d[S];M+=Hf;continue}for(let T=0,S;T<C;T++)S=M+T,n[S]=s[S]^p[T];M+=C}}function lU(t,e){const{allowShortKeys:r,extendNonceFn:i,counterLength:s,counterRight:n,rounds:c}=tU({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return og(s),og(c),SE(n),SE(r),(f,m,p,d,y=0)=>{Oi(f),Oi(m),Oi(p);const _=p.length;if(d===void 0&&(d=new Uint8Array(_)),Oi(d),og(y),y<0||y>=Q5)throw new Error("arx: counter overflow");if(d.length<_)throw new Error(`arx: output (${d.length}) is shorter than data (${_})`);const x=[];let M=f.length,C,T;if(M===32)x.push(C=_v(f)),T=cU;else if(M===16&&r)C=new Uint8Array(32),C.set(f),C.set(f,16),T=aU,x.push(C);else throw new Error(`arx: invalid 32-byte key, got length=${M}`);Ev(m)||x.push(m=_v(m));const S=Ms(C);if(i){if(m.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(T,S,Ms(m.subarray(0,16)),S),m=m.subarray(16)}const I=16-s;if(I!==m.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const O=new Uint8Array(12);O.set(m,n?0:12-m.length),m=O,x.push(m)}const N=Ms(m);return fU(t,T,S,N,p,d,y,c),Sa(...x),d}}const Gr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let hU=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=wv(e),Oi(e,32);const r=Gr(e,0),i=Gr(e,2),s=Gr(e,4),n=Gr(e,6),c=Gr(e,8),f=Gr(e,10),m=Gr(e,12),p=Gr(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|s<<6)&7939,this.r[3]=(s>>>7|n<<9)&8191,this.r[4]=(n>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|f<<2)&8191,this.r[7]=(f>>>11|m<<5)&8065,this.r[8]=(m>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Gr(e,16+2*d)}process(e,r,i=!1){const s=i?0:2048,{h:n,r:c}=this,f=c[0],m=c[1],p=c[2],d=c[3],y=c[4],_=c[5],x=c[6],M=c[7],C=c[8],T=c[9],S=Gr(e,r+0),I=Gr(e,r+2),N=Gr(e,r+4),O=Gr(e,r+6),D=Gr(e,r+8),$=Gr(e,r+10),z=Gr(e,r+12),G=Gr(e,r+14);let L=n[0]+(S&8191),te=n[1]+((S>>>13|I<<3)&8191),E=n[2]+((I>>>10|N<<6)&8191),o=n[3]+((N>>>7|O<<9)&8191),u=n[4]+((O>>>4|D<<12)&8191),l=n[5]+(D>>>1&8191),h=n[6]+((D>>>14|$<<2)&8191),g=n[7]+(($>>>11|z<<5)&8191),w=n[8]+((z>>>8|G<<8)&8191),A=n[9]+(G>>>5|s),v=0,a=v+L*f+te*(5*T)+E*(5*C)+o*(5*M)+u*(5*x);v=a>>>13,a&=8191,a+=l*(5*_)+h*(5*y)+g*(5*d)+w*(5*p)+A*(5*m),v+=a>>>13,a&=8191;let b=v+L*m+te*f+E*(5*T)+o*(5*C)+u*(5*M);v=b>>>13,b&=8191,b+=l*(5*x)+h*(5*_)+g*(5*y)+w*(5*d)+A*(5*p),v+=b>>>13,b&=8191;let R=v+L*p+te*m+E*f+o*(5*T)+u*(5*C);v=R>>>13,R&=8191,R+=l*(5*M)+h*(5*x)+g*(5*_)+w*(5*y)+A*(5*d),v+=R>>>13,R&=8191;let P=v+L*d+te*p+E*m+o*f+u*(5*T);v=P>>>13,P&=8191,P+=l*(5*C)+h*(5*M)+g*(5*x)+w*(5*_)+A*(5*y),v+=P>>>13,P&=8191;let F=v+L*y+te*d+E*p+o*m+u*f;v=F>>>13,F&=8191,F+=l*(5*T)+h*(5*C)+g*(5*M)+w*(5*x)+A*(5*_),v+=F>>>13,F&=8191;let K=v+L*_+te*y+E*d+o*p+u*m;v=K>>>13,K&=8191,K+=l*f+h*(5*T)+g*(5*C)+w*(5*M)+A*(5*x),v+=K>>>13,K&=8191;let Z=v+L*x+te*_+E*y+o*d+u*p;v=Z>>>13,Z&=8191,Z+=l*m+h*f+g*(5*T)+w*(5*C)+A*(5*M),v+=Z>>>13,Z&=8191;let U=v+L*M+te*x+E*_+o*y+u*d;v=U>>>13,U&=8191,U+=l*p+h*m+g*f+w*(5*T)+A*(5*C),v+=U>>>13,U&=8191;let Y=v+L*C+te*M+E*x+o*_+u*y;v=Y>>>13,Y&=8191,Y+=l*d+h*p+g*m+w*f+A*(5*T),v+=Y>>>13,Y&=8191;let X=v+L*T+te*C+E*M+o*x+u*_;v=X>>>13,X&=8191,X+=l*y+h*d+g*p+w*m+A*f,v+=X>>>13,X&=8191,v=(v<<2)+v|0,v=v+a|0,a=v&8191,v=v>>>13,b+=v,n[0]=a,n[1]=b,n[2]=R,n[3]=P,n[4]=F,n[5]=K,n[6]=Z,n[7]=U,n[8]=Y,n[9]=X}finalize(){const{h:e,pad:r}=this,i=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=s,s=e[f]>>>13,e[f]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,i[0]=e[0]+5,s=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=e[f]+s,s=i[f]>>>13,i[f]&=8191;i[9]-=8192;let n=(s^1)-1;for(let f=0;f<10;f++)i[f]&=n;n=~n;for(let f=0;f<10;f++)e[f]=e[f]&n|i[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+r[0];e[0]=c&65535;for(let f=1;f<8;f++)c=(e[f]+r[f]|0)+(c>>>16)|0,e[f]=c&65535;Sa(i)}update(e){CE(this);const{buffer:r,blockLen:i}=this;e=wv(e);const s=e.length;for(let n=0;n<s;){const c=Math.min(i-this.pos,s-n);if(c===i){for(;i<=s-n;n+=i)this.process(e,n);continue}r.set(e.subarray(n,n+c),this.pos),this.pos+=c,n+=c,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Sa(this.h,this.r,this.buffer,this.pad)}digestInto(e){CE(this),J$(e,this),this.finished=!0;const{buffer:r,h:i}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let n=0;for(let c=0;c<8;c++)e[n++]=i[c]>>>0,e[n++]=i[c]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}};function dU(t){const e=(i,s)=>t(s).update(wv(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}const pU=dU(t=>new hU(t));function mU(t,e,r,i,s,n=20){let c=t[0],f=t[1],m=t[2],p=t[3],d=e[0],y=e[1],_=e[2],x=e[3],M=e[4],C=e[5],T=e[6],S=e[7],I=s,N=r[0],O=r[1],D=r[2],$=c,z=f,G=m,L=p,te=d,E=y,o=_,u=x,l=M,h=C,g=T,w=S,A=I,v=N,a=O,b=D;for(let P=0;P<n;P+=2)$=$+te|0,A=kt(A^$,16),l=l+A|0,te=kt(te^l,12),$=$+te|0,A=kt(A^$,8),l=l+A|0,te=kt(te^l,7),z=z+E|0,v=kt(v^z,16),h=h+v|0,E=kt(E^h,12),z=z+E|0,v=kt(v^z,8),h=h+v|0,E=kt(E^h,7),G=G+o|0,a=kt(a^G,16),g=g+a|0,o=kt(o^g,12),G=G+o|0,a=kt(a^G,8),g=g+a|0,o=kt(o^g,7),L=L+u|0,b=kt(b^L,16),w=w+b|0,u=kt(u^w,12),L=L+u|0,b=kt(b^L,8),w=w+b|0,u=kt(u^w,7),$=$+E|0,b=kt(b^$,16),g=g+b|0,E=kt(E^g,12),$=$+E|0,b=kt(b^$,8),g=g+b|0,E=kt(E^g,7),z=z+o|0,A=kt(A^z,16),w=w+A|0,o=kt(o^w,12),z=z+o|0,A=kt(A^z,8),w=w+A|0,o=kt(o^w,7),G=G+u|0,v=kt(v^G,16),l=l+v|0,u=kt(u^l,12),G=G+u|0,v=kt(v^G,8),l=l+v|0,u=kt(u^l,7),L=L+te|0,a=kt(a^L,16),h=h+a|0,te=kt(te^h,12),L=L+te|0,a=kt(a^L,8),h=h+a|0,te=kt(te^h,7);let R=0;i[R++]=c+$|0,i[R++]=f+z|0,i[R++]=m+G|0,i[R++]=p+L|0,i[R++]=d+te|0,i[R++]=y+E|0,i[R++]=_+o|0,i[R++]=x+u|0,i[R++]=M+l|0,i[R++]=C+h|0,i[R++]=T+g|0,i[R++]=S+w|0,i[R++]=I+A|0,i[R++]=N+v|0,i[R++]=O+a|0,i[R++]=D+b|0}const gU=lU(mU,{counterRight:!1,counterLength:4,allowShortKeys:!1}),vU=new Uint8Array(16),NE=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(vU.subarray(r))},yU=new Uint8Array(32);function PE(t,e,r,i,s){const n=t(e,r,yU),c=pU.create(n);s&&NE(c,s),NE(c,i);const f=new Uint8Array(16),m=Q$(f);TE(m,0,BigInt(s?s.length:0),!0),TE(m,8,BigInt(i.length),!0),c.update(f);const p=c.digest();return Sa(n,f),p}const bU=t=>(e,r,i)=>({encrypt(s,n){const c=s.length;n=IE(c+16,n,!1),n.set(s);const f=n.subarray(0,-16);t(e,r,f,f,1);const m=PE(t,e,r,f,i);return n.set(m,c),Sa(m),n},decrypt(s,n){n=IE(s.length-16,n,!1);const c=s.subarray(0,-16),f=s.subarray(-16),m=PE(t,e,r,c,i);if(!rU(f,m))throw new Error("invalid tag");return n.set(s.subarray(0,-16)),t(e,r,n,n,1),Sa(m),n}}),X5=iU({blockSize:64,nonceLength:12,tagLength:16},bU(gU));let e8=class extends oy{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sy(e);const i=Ca(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,n=new Uint8Array(s);n.set(i.length>s?e.create().update(i).digest():i);for(let c=0;c<n.length;c++)n[c]^=54;this.iHash.update(n),this.oHash=e.create();for(let c=0;c<n.length;c++)n[c]^=106;this.oHash.update(n),n.fill(0)}update(e){return Ma(this),this.iHash.update(e),this}digestInto(e){Ma(this),Lh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:n,blockLen:c,outputLen:f}=this;return e=e,e.finished=s,e.destroyed=n,e.blockLen=c,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const cy=(t,e,r)=>new e8(t,e).update(r).digest();cy.create=(t,e)=>new e8(t,e);function wU(t,e,r){return sy(t),r===void 0&&(r=new Uint8Array(t.outputLen)),cy(t,Ca(r),Ca(e))}const ag=new Uint8Array([0]),OE=new Uint8Array;function _U(t,e,r,i=32){if(sy(t),Xc(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(i/t.outputLen);r===void 0&&(r=OE);const n=new Uint8Array(s*t.outputLen),c=cy.create(t,e),f=c._cloneInto(),m=new Uint8Array(c.outputLen);for(let p=0;p<s;p++)ag[0]=p+1,f.update(p===0?OE:m).update(r).update(ag).digestInto(m),n.set(m,t.outputLen*p),c._cloneInto(f);return c.destroy(),f.destroy(),m.fill(0),ag.fill(0),n.slice(0,i)}const EU=(t,e,r,i,s)=>_U(t,wU(t,e,r),i,s);function AU(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),n=BigInt(4294967295),c=Number(r>>s&n),f=Number(r&n),m=i?4:0,p=i?0:4;t.setUint32(e+m,c,i),t.setUint32(e+p,f,i)}function xU(t,e,r){return t&e^~t&r}function MU(t,e,r){return t&e^t&r^e&r}class CU extends oy{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=sg(this.buffer)}update(e){Ma(this);const{view:r,buffer:i,blockLen:s}=this;e=Ca(e);const n=e.length;for(let c=0;c<n;){const f=Math.min(s-this.pos,n-c);if(f===s){const m=sg(e);for(;s<=n-c;c+=s)this.process(m,c);continue}i.set(e.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ma(this),q5(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:n}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(i,0),c=0);for(let y=c;y<s;y++)r[y]=0;AU(i,s-8,BigInt(this.length*8),n),this.process(i,0);const f=sg(e),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=m/4,d=this.get();if(p>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,d[y],n)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:n,destroyed:c,pos:f}=this;return e.length=s,e.pos=f,e.finished=n,e.destroyed=c,s%r&&e.buffer.set(i),e}}const SU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ds=new Uint32Array(64);let IU=class extends CU{constructor(){super(64,32,8,!1),this.A=hs[0]|0,this.B=hs[1]|0,this.C=hs[2]|0,this.D=hs[3]|0,this.E=hs[4]|0,this.F=hs[5]|0,this.G=hs[6]|0,this.H=hs[7]|0}get(){const{A:e,B:r,C:i,D:s,E:n,F:c,G:f,H:m}=this;return[e,r,i,s,n,c,f,m]}set(e,r,i,s,n,c,f,m){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=n|0,this.F=c|0,this.G=f|0,this.H=m|0}process(e,r){for(let y=0;y<16;y++,r+=4)ds[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){const _=ds[y-15],x=ds[y-2],M=bn(_,7)^bn(_,18)^_>>>3,C=bn(x,17)^bn(x,19)^x>>>10;ds[y]=C+ds[y-7]+M+ds[y-16]|0}let{A:i,B:s,C:n,D:c,E:f,F:m,G:p,H:d}=this;for(let y=0;y<64;y++){const _=bn(f,6)^bn(f,11)^bn(f,25),x=d+_+xU(f,m,p)+SU[y]+ds[y]|0,M=(bn(i,2)^bn(i,13)^bn(i,22))+MU(i,s,n)|0;d=p,p=m,m=f,f=c+x|0,c=n,n=s,s=i,i=x+M|0}i=i+this.A|0,s=s+this.B|0,n=n+this.C|0,c=c+this.D|0,f=f+this.E|0,m=m+this.F|0,p=p+this.G|0,d=d+this.H|0,this.set(i,s,n,c,f,m,p,d)}roundClean(){ds.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qh=j5(()=>new IU);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t8=BigInt(0);function uy(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function r8(t){if(!uy(t))throw new Error("Uint8Array expected")}const TU=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function RU(t){r8(t);let e="";for(let r=0;r<t.length;r++)e+=TU[t[r]];return e}function NU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?t8:BigInt("0x"+t)}const zn={_0:48,_9:57,A:65,F:70,a:97,f:102};function kE(t){if(t>=zn._0&&t<=zn._9)return t-zn._0;if(t>=zn.A&&t<=zn.F)return t-(zn.A-10);if(t>=zn.a&&t<=zn.f)return t-(zn.a-10)}function i8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(r);for(let s=0,n=0;s<r;s++,n+=2){const c=kE(t.charCodeAt(n)),f=kE(t.charCodeAt(n+1));if(c===void 0||f===void 0){const m=t[n]+t[n+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+n)}i[s]=c*16+f}return i}function BE(t){return r8(t),NU(RU(Uint8Array.from(t).reverse()))}function PU(t,e){return i8(t.toString(16).padStart(e*2,"0"))}function OU(t,e){return PU(t,e).reverse()}function DE(t,e,r){let i;if(typeof e=="string")try{i=i8(e)}catch(n){throw new Error(t+" must be hex string or Uint8Array, cause: "+n)}else if(uy(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return i}const cg=t=>typeof t=="bigint"&&t8<=t;function kU(t,e,r){return cg(t)&&cg(e)&&cg(r)&&e<=t&&t<r}function $E(t,e,r,i){if(!kU(e,r,i))throw new Error("expected valid "+t+": "+r+" <= n < "+i+", got "+e)}const BU={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||uy(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function DU(t,e,r={}){const i=(s,n,c)=>{const f=BU[n];if(typeof f!="function")throw new Error("invalid validator function");const m=t[s];if(!(c&&m===void 0)&&!f(m,t))throw new Error("param "+String(s)+" is invalid. Expected "+n+", got "+m)};for(const[s,n]of Object.entries(e))i(s,n,!1);for(const[s,n]of Object.entries(r))i(s,n,!0);return t}const da=BigInt(0),Wf=BigInt(1);function n8(t,e){const r=t%e;return r>=da?r:e+r}function $U(t,e,r){if(e<da)throw new Error("invalid exponent, negatives unsupported");if(r<=da)throw new Error("invalid modulus");if(r===Wf)return da;let i=Wf;for(;e>da;)e&Wf&&(i=i*t%r),t=t*t%r,e>>=Wf;return i}function on(t,e,r){let i=t;for(;e-- >da;)i*=i,i%=r;return i}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Vo=BigInt(0),ug=BigInt(1);function UU(t){return DU(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function FU(t){const e=UU(t),{P:r}=e,i=I=>n8(I,r),s=e.montgomeryBits,n=Math.ceil(s/8),c=e.nByteLength,f=e.adjustScalarBytes||(I=>I),m=e.powPminus2||(I=>$U(I,r-BigInt(2),r));function p(I,N,O){const D=i(I*(N-O));return N=i(N-D),O=i(O+D),[N,O]}const d=(e.a-BigInt(2))/BigInt(4);function y(I,N){$E("u",I,Vo,r),$E("scalar",N,Vo,r);const O=N,D=I;let $=ug,z=Vo,G=I,L=ug,te=Vo,E;for(let u=BigInt(s-1);u>=Vo;u--){const l=O>>u&ug;te^=l,E=p(te,$,G),$=E[0],G=E[1],E=p(te,z,L),z=E[0],L=E[1],te=l;const h=$+z,g=i(h*h),w=$-z,A=i(w*w),v=g-A,a=G+L,b=G-L,R=i(b*h),P=i(a*w),F=R+P,K=R-P;G=i(F*F),L=i(D*i(K*K)),$=i(g*A),z=i(v*(g+i(d*v)))}E=p(te,$,G),$=E[0],G=E[1],E=p(te,z,L),z=E[0],L=E[1];const o=m(z);return i($*o)}function _(I){return OU(i(I),n)}function x(I){const N=DE("u coordinate",I,n);return c===32&&(N[31]&=127),BE(N)}function M(I){const N=DE("scalar",I),O=N.length;if(O!==n&&O!==c){let D=""+n+" or "+c;throw new Error("invalid scalar, expected "+D+" bytes, got "+O)}return BE(f(N))}function C(I,N){const O=x(N),D=M(I),$=y(O,D);if($===Vo)throw new Error("invalid private or public key received");return _($)}const T=_(e.Gu);function S(I){return C(I,T)}return{scalarMult:C,scalarMultBase:S,getSharedSecret:(I,N)=>C(I,N),getPublicKey:I=>S(I),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:T}}const Av=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const LU=BigInt(1),UE=BigInt(2),qU=BigInt(3),jU=BigInt(5);BigInt(8);function zU(t){const e=BigInt(10),r=BigInt(20),i=BigInt(40),s=BigInt(80),n=Av,c=t*t%n*t%n,f=on(c,UE,n)*c%n,m=on(f,LU,n)*t%n,p=on(m,jU,n)*m%n,d=on(p,e,n)*p%n,y=on(d,r,n)*d%n,_=on(y,i,n)*y%n,x=on(_,s,n)*_%n,M=on(x,s,n)*_%n,C=on(M,e,n)*p%n;return{pow_p_5_8:on(C,UE,n)*t%n,b2:c}}function HU(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const xv=FU({P:Av,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Av,{pow_p_5_8:r,b2:i}=zU(t);return n8(on(r,qU,e)*i,e)},adjustScalarBytes:HU,randomBytes:af}),s8="base10",ai="base16",Es="base64pad",dc="base64url",cf="utf8",o8=0,Zn=1,uf=2,WU=0,FE=1,Dc=12,fy=32;function VU(){const t=xv.utils.randomPrivateKey(),e=xv.getPublicKey(t);return{privateKey:hi(t,ai),publicKey:hi(e,ai)}}function Mv(){const t=af(fy);return hi(t,ai)}function KU(t,e){const r=xv.getSharedSecret(Ki(t,ai),Ki(e,ai)),i=EU(qh,r,void 0,void 0,fy);return hi(i,ai)}function wl(t){const e=qh(Ki(t,ai));return hi(e,ai)}function Cn(t){const e=qh(Ki(t,cf));return hi(e,ai)}function a8(t){return Ki(`${t}`,s8)}function Eo(t){return Number(hi(t,s8))}function GU(t){const e=a8(typeof t.type<"u"?t.type:o8);if(Eo(e)===Zn&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Ki(t.senderPublicKey,ai):void 0,i=typeof t.iv<"u"?Ki(t.iv,ai):af(Dc),s=Ki(t.symKey,ai),n=X5(s,i).encrypt(Ki(t.message,cf));return c8({type:e,sealed:n,iv:i,senderPublicKey:r,encoding:t.encoding})}function ZU(t){const e=Ki(t.symKey,ai),{sealed:r,iv:i}=tu(t),s=X5(e,i).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return hi(s,cf)}function YU(t,e){const r=a8(uf),i=af(Dc),s=Ki(t,cf);return c8({type:r,sealed:s,iv:i,encoding:e})}function JU(t,e){const{sealed:r}=tu({encoded:t,encoding:e});return hi(r,cf)}function c8(t){const{encoding:e=Es}=t;if(Eo(t.type)===uf)return hi(Fd([t.type,t.sealed]),e);if(Eo(t.type)===Zn){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return hi(Fd([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return hi(Fd([t.type,t.iv,t.sealed]),e)}function tu(t){const{encoded:e,encoding:r=Es}=t,i=Ki(e,r),s=i.slice(WU,FE),n=FE;if(Eo(s)===Zn){const p=n+fy,d=p+Dc,y=i.slice(n,p),_=i.slice(p,d),x=i.slice(d);return{type:s,sealed:x,iv:_,senderPublicKey:y}}if(Eo(s)===uf){const p=i.slice(n),d=af(Dc);return{type:s,sealed:p,iv:d}}const c=n+Dc,f=i.slice(n,c),m=i.slice(c);return{type:s,sealed:m,iv:f}}function QU(t,e){const r=tu({encoded:t,encoding:e==null?void 0:e.encoding});return u8({type:Eo(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?hi(r.senderPublicKey,ai):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function u8(t){const e=(t==null?void 0:t.type)||o8;if(e===Zn){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function LE(t){return t.type===Zn&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function qE(t){return t.type===uf}function XU(t){return new UD.ec("p256").keyFromPublic({x:lt.from(t.x,"base64").toString("hex"),y:lt.from(t.y,"base64").toString("hex")},"hex")}function eF(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function tF(t){return lt.from(eF(t),"base64")}function rF(t,e){const[r,i,s]=t.split("."),n=tF(s);if(n.length!==64)throw new Error("Invalid signature length");const c=n.slice(0,32).toString("hex"),f=n.slice(32,64).toString("hex"),m=`${r}.${i}`,p=qh(m),d=XU(e),y=hi(p,ai);if(!d.verify(y,{r:c,s:f}))throw new Error("Invalid signature");return uv(t).payload}const iF="irn";function ql(t){return(t==null?void 0:t.relay)||{protocol:iF}}function Nc(t){const e=FD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function nF(t,e="-"){const r={},i="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(i)){const n=s.replace(i,""),c=t[s];r[n]=c}}),r}function jE(t){if(!t.includes("wc:")){const p=L5(t);p!=null&&p.includes("wc:")&&(t=p)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,i=t.substring(0,e),s=t.substring(e+1,r).split("@"),n=typeof r<"u"?t.substring(r):"",c=new URLSearchParams(n),f={};c.forEach((p,d)=>{f[d]=p});const m=typeof f.methods=="string"?f.methods.split(","):void 0;return{protocol:i,topic:sF(s[0]),version:parseInt(s[1],10),symKey:f.symKey,relay:nF(f),methods:m,expiryTimestamp:f.expiryTimestamp?parseInt(f.expiryTimestamp,10):void 0}}function sF(t){return t.startsWith("//")?t.substring(2):t}function oF(t,e="-"){const r="relay",i={};return Object.keys(t).forEach(s=>{const n=s,c=r+e+n;t[n]&&(i[c]=t[n])}),i}function zE(t){const e=new URLSearchParams,r=oF(t.relay);Object.keys(r).sort().forEach(s=>{e.set(s,r[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const i=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${i}`}function Vf(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Ya(t){const e=[];return t.forEach(r=>{const[i,s]=r.split(":");e.push(`${i}:${s}`)}),e}function aF(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Ya(r.accounts))}),e}function cF(t,e){const r=[];return Object.values(t).forEach(i=>{Ya(i.accounts).includes(e)&&r.push(...i.methods)}),r}function uF(t,e){const r=[];return Object.values(t).forEach(i=>{Ya(i.accounts).includes(e)&&r.push(...i.events)}),r}function ly(t){return t.includes(":")}function Pc(t){return ly(t)?t.split(":")[0]:t}function fF(t){const e={};return t==null||t.forEach(r=>{var i;const[s,n]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(i=e[s].chains)==null||i.push(`${s}:${n}`)}),e}function HE(t,e){e=e.map(i=>i.replace("did:pkh:",""));const r=fF(e);for(const[i,s]of Object.entries(r))s.methods?s.methods=yl(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}const lF={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},hF={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function je(t,e){const{message:r,code:i}=hF[t];return{message:e?`${r} ${e}`:r,code:i}}function Vt(t,e){const{message:r,code:i}=lF[t];return{message:e?`${r} ${e}`:r,code:i}}function Ao(t,e){return!!Array.isArray(t)}function ru(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Qr(t){return typeof t>"u"}function Tr(t,e){return e&&Qr(t)?!0:typeof t=="string"&&!!t.trim().length}function hy(t,e){return e&&Qr(t)?!0:typeof t=="number"&&!isNaN(t)}function dF(t,e){const{requiredNamespaces:r}=e,i=Object.keys(t.namespaces),s=Object.keys(r);let n=!0;return io(s,i)?(i.forEach(c=>{const{accounts:f,methods:m,events:p}=t.namespaces[c],d=Ya(f),y=r[c];(!io(B5(c,y),d)||!io(y.methods,m)||!io(y.events,p))&&(n=!1)}),n):!1}function jl(t){return Tr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function pF(t){if(Tr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&jl(r)}}return!1}function mF(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Tr(t,!1)){if(e(t))return!0;const r=L5(t);return e(r)}}catch{}return!1}function gF(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function vF(t){return t==null?void 0:t.topic}function yF(t,e){let r=null;return Tr(t==null?void 0:t.publicKey,!1)||(r=je("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function WE(t){let e=!0;return Ao(t)?t.length&&(e=t.every(r=>Tr(r,!1))):e=!1,e}function bF(t,e,r){let i=null;return Ao(e)&&e.length?e.forEach(s=>{i||jl(s)||(i=Vt("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):jl(t)||(i=Vt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function wF(t,e,r){let i=null;return Object.entries(t).forEach(([s,n])=>{if(i)return;const c=bF(s,B5(s,n),`${e} ${r}`);c&&(i=c)}),i}function _F(t,e){let r=null;return Ao(t)?t.forEach(i=>{r||pF(i)||(r=Vt("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=Vt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function EF(t,e){let r=null;return Object.values(t).forEach(i=>{if(r)return;const s=_F(i==null?void 0:i.accounts,`${e} namespace`);s&&(r=s)}),r}function AF(t,e){let r=null;return WE(t==null?void 0:t.methods)?WE(t==null?void 0:t.events)||(r=Vt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Vt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function f8(t,e){let r=null;return Object.values(t).forEach(i=>{if(r)return;const s=AF(i,`${e}, namespace`);s&&(r=s)}),r}function xF(t,e,r){let i=null;if(t&&ru(t)){const s=f8(t,e);s&&(i=s);const n=wF(t,e,r);n&&(i=n)}else i=je("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return i}function fg(t,e){let r=null;if(t&&ru(t)){const i=f8(t,e);i&&(r=i);const s=EF(t,e);s&&(r=s)}else r=je("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function l8(t){return Tr(t.protocol,!0)}function MF(t,e){let r=!1;return t?t&&Ao(t)&&t.length&&t.forEach(i=>{r=l8(i)}):r=!0,r}function CF(t){return typeof t=="number"}function _i(t){return typeof t<"u"&&typeof t!==null}function SF(t){return!(!t||typeof t!="object"||!t.code||!hy(t.code,!1)||!t.message||!Tr(t.message,!1))}function IF(t){return!(Qr(t)||!Tr(t.method,!1))}function TF(t){return!(Qr(t)||Qr(t.result)&&Qr(t.error)||!hy(t.id,!1)||!Tr(t.jsonrpc,!1))}function RF(t){return!(Qr(t)||!Tr(t.name,!1))}function VE(t,e){return!(!jl(e)||!aF(t).includes(e))}function NF(t,e,r){return Tr(r,!1)?cF(t,e).includes(r):!1}function PF(t,e,r){return Tr(r,!1)?uF(t,e).includes(r):!1}function KE(t,e,r){let i=null;const s=OF(t),n=kF(e),c=Object.keys(s),f=Object.keys(n),m=GE(Object.keys(t)),p=GE(Object.keys(e)),d=m.filter(y=>!p.includes(y));return d.length&&(i=je("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),io(c,f)||(i=je("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${f.toString()}`)),Object.keys(e).forEach(y=>{if(!y.includes(":")||i)return;const _=Ya(e[y].accounts);_.includes(y)||(i=je("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${y}
        Required: ${y}
        Approved: ${_.toString()}`))}),c.forEach(y=>{i||(io(s[y].methods,n[y].methods)?io(s[y].events,n[y].events)||(i=je("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${y}`)):i=je("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${y}`))}),i}function OF(t){const e={};return Object.keys(t).forEach(r=>{var i;r.includes(":")?e[r]=t[r]:(i=t[r].chains)==null||i.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function GE(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function kF(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const i=Ya(t[r].accounts);i==null||i.forEach(s=>{e[s]={accounts:t[r].accounts.filter(n=>n.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function BF(t,e){return hy(t,!1)&&t<=e.max&&t>=e.min}function ZE(){const t=of();return new Promise(e=>{switch(t){case Bi.browser:e(DF());break;case Bi.reactNative:e($F());break;case Bi.node:e(UF());break;default:e(!0)}})}function DF(){return sf()&&(navigator==null?void 0:navigator.onLine)}async function $F(){if(Ls()&&typeof ot<"u"&&ot!=null&&ot.NetInfo){const t=await(ot==null?void 0:ot.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function UF(){return!0}function FF(t){switch(of()){case Bi.browser:LF(t);break;case Bi.reactNative:qF(t);break}}function LF(t){!Ls()&&sf()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function qF(t){Ls()&&typeof ot<"u"&&ot!=null&&ot.NetInfo&&(ot==null||ot.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const lg={};class pc{static get(e){return lg[e]}static set(e,r){lg[e]=r}static delete(e){delete lg[e]}}const jF="PARSE_ERROR",zF="INVALID_REQUEST",HF="METHOD_NOT_FOUND",WF="INVALID_PARAMS",h8="INTERNAL_ERROR",dy="SERVER_ERROR",VF=[-32700,-32600,-32601,-32602,-32603],$c={[jF]:{code:-32700,message:"Parse error"},[zF]:{code:-32600,message:"Invalid Request"},[HF]:{code:-32601,message:"Method not found"},[WF]:{code:-32602,message:"Invalid params"},[h8]:{code:-32603,message:"Internal error"},[dy]:{code:-32e3,message:"Server error"}},d8=dy;function KF(t){return VF.includes(t)}function YE(t){return Object.keys($c).includes(t)?$c[t]:$c[d8]}function GF(t){const e=Object.values($c).find(r=>r.code===t);return e||$c[d8]}function p8(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var hg={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cv=function(t,e){return Cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},Cv(t,e)};function ZF(t,e){Cv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sv=function(){return Sv=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(this,arguments)};function YF(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}function JF(t,e,r,i){var s=arguments.length,n=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,r,i);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(n=(s<3?c(n):s>3?c(e,r,n):c(e,r))||n);return s>3&&n&&Object.defineProperty(e,r,n),n}function QF(t,e){return function(r,i){e(r,i,t)}}function XF(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function eL(t,e,r,i){function s(n){return n instanceof r?n:new r(function(c){c(n)})}return new(r||(r=Promise))(function(n,c){function f(d){try{p(i.next(d))}catch(y){c(y)}}function m(d){try{p(i.throw(d))}catch(y){c(y)}}function p(d){d.done?n(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})}function tL(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(d){return m([p,d])}}function m(p){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(n=p[0]&2?s.return:p[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,p[1])).done)return n;switch(s=0,n&&(p=[p[0]&2,n.value]),p[0]){case 0:case 1:n=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,s=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!n||p[1]>n[0]&&p[1]<n[3])){r.label=p[1];break}if(p[0]===6&&r.label<n[1]){r.label=n[1],n=p;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(p);break}n[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(d){p=[6,d],s=0}finally{i=n=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function rL(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}function iL(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Iv(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m8(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),s,n=[],c;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)n.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return n}function nL(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m8(arguments[e]));return t}function sL(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),s=0,e=0;e<r;e++)for(var n=arguments[e],c=0,f=n.length;c<f;c++,s++)i[s]=n[c];return i}function iu(t){return this instanceof iu?(this.v=t,this):new iu(t)}function oL(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),s,n=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){i[_]&&(s[_]=function(x){return new Promise(function(M,C){n.push([_,x,M,C])>1||f(_,x)})})}function f(_,x){try{m(i[_](x))}catch(M){y(n[0][3],M)}}function m(_){_.value instanceof iu?Promise.resolve(_.value.v).then(p,d):y(n[0][2],_)}function p(_){f("next",_)}function d(_){f("throw",_)}function y(_,x){_(x),n.shift(),n.length&&f(n[0][0],n[0][1])}}function aL(t){var e,r;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,n){e[s]=t[s]?function(c){return(r=!r)?{value:iu(t[s](c)),done:s==="return"}:n?n(c):c}:n}}function cL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Iv=="function"?Iv(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(n){r[n]=t[n]&&function(c){return new Promise(function(f,m){c=t[n](c),s(f,m,c.done,c.value)})}}function s(n,c,f,m){Promise.resolve(m).then(function(p){n({value:p,done:f})},c)}}function uL(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function fL(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function lL(t){return t&&t.__esModule?t:{default:t}}function hL(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function dL(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const pL=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Sv},__asyncDelegator:aL,__asyncGenerator:oL,__asyncValues:cL,__await:iu,__awaiter:eL,__classPrivateFieldGet:hL,__classPrivateFieldSet:dL,__createBinding:rL,__decorate:JF,__exportStar:iL,__extends:ZF,__generator:tL,__importDefault:lL,__importStar:fL,__makeTemplateObject:uL,__metadata:XF,__param:QF,__read:m8,__rest:YF,__spread:nL,__spreadArrays:sL,__values:Iv},Symbol.toStringTag,{value:"Module"})),mL=A1(pL);var Hn={},JE;function gL(){if(JE)return Hn;JE=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isBrowserCryptoAvailable=Hn.getSubtleCrypto=Hn.getBrowerCrypto=void 0;function t(){return(mt===null||mt===void 0?void 0:mt.crypto)||(mt===null||mt===void 0?void 0:mt.msCrypto)||{}}Hn.getBrowerCrypto=t;function e(){const i=t();return i.subtle||i.webkitSubtle}Hn.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Hn.isBrowserCryptoAvailable=r,Hn}var Wn={},QE;function vL(){if(QE)return Wn;QE=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.isBrowser=Wn.isNode=Wn.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Wn.isReactNative=t;function e(){return typeof We<"u"&&typeof We.versions<"u"&&typeof We.versions.node<"u"}Wn.isNode=e;function r(){return!t()&&!e()}return Wn.isBrowser=r,Wn}var XE;function yL(){return XE||(XE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mL;e.__exportStar(gL(),t),e.__exportStar(vL(),t)}(hg)),hg}var bL=yL();function xn(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function no(t=6){return BigInt(xn(t))}function As(t,e,r){return{id:r||xn(),jsonrpc:"2.0",method:t,params:e}}function jh(t,e){return{id:t,jsonrpc:"2.0",result:e}}function zh(t,e,r){return{id:t,jsonrpc:"2.0",error:wL(e)}}function wL(t,e){return typeof t>"u"?YE(h8):(typeof t=="string"&&(t=Object.assign(Object.assign({},YE(dy)),{message:t})),KF(t.code)&&(t=GF(t.code)),t)}let _L=class{},EL=class extends _L{constructor(){super()}},AL=class extends EL{constructor(e){super()}};const xL="^https?:",ML="^wss?:";function CL(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function g8(t,e){const r=CL(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function eA(t){return g8(t,xL)}function tA(t){return g8(t,ML)}function SL(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function v8(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function py(t){return v8(t)&&"method"in t}function Hh(t){return v8(t)&&(Mn(t)||Vi(t))}function Mn(t){return"result"in t}function Vi(t){return"error"in t}let Xi=class extends AL{constructor(e){super(e),this.events=new Zi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(As(e.method,e.params||[],e.id||no().toString()),r)}async requestStrict(e,r){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${e.id}`,n=>{Vi(n)?s(n.error):i(n.result)});try{await this.connection.send(e,r)}catch(n){s(n)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Hh(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const IL=()=>typeof WebSocket<"u"?WebSocket:typeof ot<"u"&&typeof ot.WebSocket<"u"?ot.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),TL=()=>typeof WebSocket<"u"||typeof ot<"u"&&typeof ot.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",rA=t=>t.split("?")[0],iA=10,RL=IL();let NL=class{constructor(e){if(this.url=e,this.events=new Zi.EventEmitter,this.registering=!1,!tA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(es(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!tA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,s)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),s(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,i)=>{const s=bL.isReactNative()?void 0:{rejectUnauthorized:!SL(e)},n=new RL(e,[],s);TL()?n.onerror=c=>{const f=c;i(this.emitError(f.error))}:n.on("error",c=>{i(this.emitError(c))}),n.onopen=()=>{this.onOpen(n),r(n)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?vo(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const i=this.parseError(r),s=i.message||i.toString(),n=zh(e,s);this.events.emit("payload",n)}parseError(e,r=this.url){return p8(e,rA(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>iA&&this.events.setMaxListeners(iA)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${rA(this.url)}`));return this.events.emit("register_error",r),r}};const y8="wc",b8=2,Tv="core",Rn=`${y8}@2:${Tv}:`,PL={logger:"error"},OL={database:":memory:"},kL="crypto",nA="client_ed25519_seed",BL=qe.ONE_DAY,DL="keychain",$L="0.3",UL="messages",FL="0.3",sA=qe.SIX_HOURS,LL="publisher",w8="irn",qL="error",_8="wss://relay.walletconnect.org",jL="relayer",qr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zL="_subscription",Li={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},HL=.1,Rv="2.19.1",wr={link_mode:"link_mode",relay:"relay"},_l={inbound:"inbound",outbound:"outbound"},WL="0.3",VL="WALLETCONNECT_CLIENT_ID",oA="WALLETCONNECT_LINK_MODE_APPS",Pi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},KL="subscription",GL="0.3",ZL="pairing",YL="0.3",mc={wc_pairingDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:0},res:{ttl:qe.ONE_DAY,prompt:!1,tag:0}}},to={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},rn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},JL="history",QL="0.3",XL="expirer",Hi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},eq="0.3",tq="verify-api",rq="https://verify.walletconnect.com",E8="https://verify.walletconnect.org",Uc=E8,iq=`${Uc}/v3`,nq=[rq,E8],sq="echo",oq="https://echo.walletconnect.com",An={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Kn={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},nn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ks={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Gs={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},gc={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},aq=.1,cq="event-client",uq=86400,fq="https://pulse.walletconnect.org/batch";function lq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),c=n.charCodeAt(0);if(r[c]!==255)throw new TypeError(n+" is ambiguous");r[c]=s}var f=t.length,m=t.charAt(0),p=Math.log(f)/Math.log(256),d=Math.log(256)/Math.log(f);function y(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var C=0,T=0,S=0,I=M.length;S!==I&&M[S]===0;)S++,C++;for(var N=(I-S)*d+1>>>0,O=new Uint8Array(N);S!==I;){for(var D=M[S],$=0,z=N-1;(D!==0||$<T)&&z!==-1;z--,$++)D+=256*O[z]>>>0,O[z]=D%f>>>0,D=D/f>>>0;if(D!==0)throw new Error("Non-zero carry");T=$,S++}for(var G=N-T;G!==N&&O[G]===0;)G++;for(var L=m.repeat(C);G<N;++G)L+=t.charAt(O[G]);return L}function _(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var C=0;if(M[C]!==" "){for(var T=0,S=0;M[C]===m;)T++,C++;for(var I=(M.length-C)*p+1>>>0,N=new Uint8Array(I);M[C];){var O=r[M.charCodeAt(C)];if(O===255)return;for(var D=0,$=I-1;(O!==0||D<S)&&$!==-1;$--,D++)O+=f*N[$]>>>0,N[$]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");S=D,C++}if(M[C]!==" "){for(var z=I-S;z!==I&&N[z]===0;)z++;for(var G=new Uint8Array(T+(I-z)),L=T;z!==I;)G[L++]=N[z++];return G}}}function x(M){var C=_(M);if(C)return C;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:_,decode:x}}var hq=lq,dq=hq;const A8=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},pq=t=>new TextEncoder().encode(t),mq=t=>new TextDecoder().decode(t);class gq{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class vq{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return x8(this,e)}}class yq{constructor(e){this.decoders=e}or(e){return x8(this,e)}decode(e){const r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x8=(t,e)=>new yq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class bq{constructor(e,r,i,s){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=s,this.encoder=new gq(e,r,i),this.decoder=new vq(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Wh=({name:t,prefix:e,encode:r,decode:i})=>new bq(t,e,r,i),ff=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:s}=dq(r,e);return Wh({prefix:t,name:e,encode:i,decode:n=>A8(s(n))})},wq=(t,e,r,i)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let n=t.length;for(;t[n-1]==="=";)--n;const c=new Uint8Array(n*r/8|0);let f=0,m=0,p=0;for(let d=0;d<n;++d){const y=s[t[d]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|y,f+=r,f>=8&&(f-=8,c[p++]=255&m>>f)}if(f>=r||255&m<<8-f)throw new SyntaxError("Unexpected end of data");return c},_q=(t,e,r)=>{const i=e[e.length-1]==="=",s=(1<<r)-1;let n="",c=0,f=0;for(let m=0;m<t.length;++m)for(f=f<<8|t[m],c+=8;c>r;)c-=r,n+=e[s&f>>c];if(c&&(n+=e[s&f<<r-c]),i)for(;n.length*r&7;)n+="=";return n},ii=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Wh({prefix:e,name:t,encode(s){return _q(s,i,r)},decode(s){return wq(s,i,r,t)}}),Eq=Wh({prefix:"\0",name:"identity",encode:t=>mq(t),decode:t=>pq(t)});var Aq=Object.freeze({__proto__:null,identity:Eq});const xq=ii({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Mq=Object.freeze({__proto__:null,base2:xq});const Cq=ii({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Sq=Object.freeze({__proto__:null,base8:Cq});const Iq=ff({prefix:"9",name:"base10",alphabet:"0123456789"});var Tq=Object.freeze({__proto__:null,base10:Iq});const Rq=ii({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nq=ii({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Pq=Object.freeze({__proto__:null,base16:Rq,base16upper:Nq});const Oq=ii({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kq=ii({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bq=ii({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Dq=ii({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$q=ii({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Uq=ii({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fq=ii({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lq=ii({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qq=ii({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var jq=Object.freeze({__proto__:null,base32:Oq,base32upper:kq,base32pad:Bq,base32padupper:Dq,base32hex:$q,base32hexupper:Uq,base32hexpad:Fq,base32hexpadupper:Lq,base32z:qq});const zq=ff({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hq=ff({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Wq=Object.freeze({__proto__:null,base36:zq,base36upper:Hq});const Vq=ff({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kq=ff({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Gq=Object.freeze({__proto__:null,base58btc:Vq,base58flickr:Kq});const Zq=ii({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yq=ii({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jq=ii({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Qq=ii({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Xq=Object.freeze({__proto__:null,base64:Zq,base64pad:Yq,base64url:Jq,base64urlpad:Qq});const M8=Array.from(""),ej=M8.reduce((t,e,r)=>(t[r]=e,t),[]),tj=M8.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function rj(t){return t.reduce((e,r)=>(e+=ej[r],e),"")}function ij(t){const e=[];for(const r of t){const i=tj[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}const nj=Wh({prefix:"",name:"base256emoji",encode:rj,decode:ij});var sj=Object.freeze({__proto__:null,base256emoji:nj}),oj=C8,aA=128,aj=-128,cj=Math.pow(2,31);function C8(t,e,r){e=e||[],r=r||0;for(var i=r;t>=cj;)e[r++]=t&255|aA,t/=128;for(;t&aj;)e[r++]=t&255|aA,t>>>=7;return e[r]=t|0,C8.bytes=r-i+1,e}var uj=Nv,fj=128,cA=127;function Nv(t,i){var r=0,i=i||0,s=0,n=i,c,f=t.length;do{if(n>=f)throw Nv.bytes=0,new RangeError("Could not decode varint");c=t[n++],r+=s<28?(c&cA)<<s:(c&cA)*Math.pow(2,s),s+=7}while(c>=fj);return Nv.bytes=n-i,r}var lj=Math.pow(2,7),hj=Math.pow(2,14),dj=Math.pow(2,21),pj=Math.pow(2,28),mj=Math.pow(2,35),gj=Math.pow(2,42),vj=Math.pow(2,49),yj=Math.pow(2,56),bj=Math.pow(2,63),wj=function(t){return t<lj?1:t<hj?2:t<dj?3:t<pj?4:t<mj?5:t<gj?6:t<vj?7:t<yj?8:t<bj?9:10},_j={encode:oj,decode:uj,encodingLength:wj},S8=_j;const uA=(t,e,r=0)=>(S8.encode(t,e,r),e),fA=t=>S8.encodingLength(t),Pv=(t,e)=>{const r=e.byteLength,i=fA(t),s=i+fA(r),n=new Uint8Array(s+r);return uA(t,n,0),uA(r,n,i),n.set(e,s),new Ej(t,r,e,n)};class Ej{constructor(e,r,i,s){this.code=e,this.size=r,this.digest=i,this.bytes=s}}const I8=({name:t,code:e,encode:r})=>new Aj(t,e,r);class Aj{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Pv(this.code,r):r.then(i=>Pv(this.code,i))}else throw Error("Unknown type, must be binary type")}}const T8=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xj=I8({name:"sha2-256",code:18,encode:T8("SHA-256")}),Mj=I8({name:"sha2-512",code:19,encode:T8("SHA-512")});var Cj=Object.freeze({__proto__:null,sha256:xj,sha512:Mj});const R8=0,Sj="identity",N8=A8,Ij=t=>Pv(R8,N8(t)),Tj={code:R8,name:Sj,encode:N8,digest:Ij};var Rj=Object.freeze({__proto__:null,identity:Tj});new TextEncoder,new TextDecoder;const lA={...Aq,...Mq,...Sq,...Tq,...Pq,...jq,...Wq,...Gq,...Xq,...sj};({...Cj,...Rj});function Nj(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function P8(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const hA=P8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),dg=P8("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Nj(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Pj={utf8:hA,"utf-8":hA,hex:lA.base16,latin1:dg,ascii:dg,binary:dg,...lA};function Oj(t,e="utf8"){const r=Pj[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var kj=Object.defineProperty,Bj=(t,e,r)=>e in t?kj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wn=(t,e,r)=>Bj(t,typeof e!="symbol"?e+"":e,r);class Dj{constructor(e,r){this.core=e,this.logger=r,wn(this,"keychain",new Map),wn(this,"name",DL),wn(this,"version",$L),wn(this,"initialized",!1),wn(this,"storagePrefix",Rn),wn(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),wn(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),wn(this,"set",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),wn(this,"get",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>"u"){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(n)}return s}),wn(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=ui(r,this.name)}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,vv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $j=Object.defineProperty,Uj=(t,e,r)=>e in t?$j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zr=(t,e,r)=>Uj(t,typeof e!="symbol"?e+"":e,r);class Fj{constructor(e,r,i){this.core=e,this.logger=r,Zr(this,"name",kL),Zr(this,"keychain"),Zr(this,"randomSessionIdentifier",Mv()),Zr(this,"initialized",!1),Zr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Zr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Zr(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=Kb(s);return r4(n.publicKey)}),Zr(this,"generateKeyPair",()=>{this.isInitialized();const s=VU();return this.setPrivateKey(s.publicKey,s.privateKey)}),Zr(this,"signJWT",async s=>{this.isInitialized();const n=await this.getClientSeed(),c=Kb(n),f=this.randomSessionIdentifier;return await nN(f,s,BL,c)}),Zr(this,"generateSharedKey",(s,n,c)=>{this.isInitialized();const f=this.getPrivateKey(s),m=KU(f,n);return this.setSymKey(m,c)}),Zr(this,"setSymKey",async(s,n)=>{this.isInitialized();const c=n||wl(s);return await this.keychain.set(c,s),c}),Zr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Zr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Zr(this,"encode",async(s,n,c)=>{this.isInitialized();const f=u8(c),m=es(n);if(qE(f))return YU(m,c==null?void 0:c.encoding);if(LE(f)){const _=f.senderPublicKey,x=f.receiverPublicKey;s=await this.generateSharedKey(_,x)}const p=this.getSymKey(s),{type:d,senderPublicKey:y}=f;return GU({type:d,symKey:p,message:m,senderPublicKey:y,encoding:c==null?void 0:c.encoding})}),Zr(this,"decode",async(s,n,c)=>{this.isInitialized();const f=QU(n,c);if(qE(f)){const m=JU(n,c==null?void 0:c.encoding);return vo(m)}if(LE(f)){const m=f.receiverPublicKey,p=f.senderPublicKey;s=await this.generateSharedKey(m,p)}try{const m=this.getSymKey(s),p=ZU({symKey:m,encoded:n,encoding:c==null?void 0:c.encoding});return vo(p)}catch(m){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(m)}}),Zr(this,"getPayloadType",(s,n=Es)=>{const c=tu({encoded:s,encoding:n});return Eo(c.type)}),Zr(this,"getPayloadSenderPublicKey",(s,n=Es)=>{const c=tu({encoded:s,encoding:n});return c.senderPublicKey?hi(c.senderPublicKey,ai):void 0}),this.core=e,this.logger=ui(r,this.name),this.keychain=i||new Dj(this.core,this.logger)}get context(){return Ci(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(nA)}catch{e=Mv(),await this.keychain.set(nA,e)}return Oj(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Lj=Object.defineProperty,qj=Object.defineProperties,jj=Object.getOwnPropertyDescriptors,dA=Object.getOwnPropertySymbols,zj=Object.prototype.hasOwnProperty,Hj=Object.prototype.propertyIsEnumerable,Ov=(t,e,r)=>e in t?Lj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wj=(t,e)=>{for(var r in e||(e={}))zj.call(e,r)&&Ov(t,r,e[r]);if(dA)for(var r of dA(e))Hj.call(e,r)&&Ov(t,r,e[r]);return t},Vj=(t,e)=>qj(t,jj(e)),Ri=(t,e,r)=>Ov(t,typeof e!="symbol"?e+"":e,r);class Kj extends rT{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ri(this,"messages",new Map),Ri(this,"messagesWithoutClientAck",new Map),Ri(this,"name",UL),Ri(this,"version",FL),Ri(this,"initialized",!1),Ri(this,"storagePrefix",Rn),Ri(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),Ri(this,"set",async(i,s,n)=>{this.isInitialized();const c=Cn(s);let f=this.messages.get(i);if(typeof f>"u"&&(f={}),typeof f[c]<"u")return c;if(f[c]=s,this.messages.set(i,f),n===_l.inbound){const m=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Vj(Wj({},m),{[c]:s}))}return await this.persist(),c}),Ri(this,"get",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>"u"&&(s={}),s}),Ri(this,"getWithoutAck",i=>{this.isInitialized();const s={};for(const n of i){const c=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(c)}return s}),Ri(this,"has",(i,s)=>{this.isInitialized();const n=this.get(i),c=Cn(s);return typeof n[c]<"u"}),Ri(this,"ack",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>"u")return;const c=Cn(s);delete n[c],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),Ri(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=ui(e,this.name),this.core=r}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,vv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,vv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?yv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Gj=Object.defineProperty,Zj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,pA=Object.getOwnPropertySymbols,Jj=Object.prototype.hasOwnProperty,Qj=Object.prototype.propertyIsEnumerable,kv=(t,e,r)=>e in t?Gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kf=(t,e)=>{for(var r in e||(e={}))Jj.call(e,r)&&kv(t,r,e[r]);if(pA)for(var r of pA(e))Qj.call(e,r)&&kv(t,r,e[r]);return t},pg=(t,e)=>Zj(t,Yj(e)),sn=(t,e,r)=>kv(t,typeof e!="symbol"?e+"":e,r);class Xj extends iT{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,sn(this,"events",new Zi.EventEmitter),sn(this,"name",LL),sn(this,"queue",new Map),sn(this,"publishTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),sn(this,"initialPublishTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),sn(this,"needsTransportRestart",!1),sn(this,"publish",async(i,s,n)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}});const f=(n==null?void 0:n.ttl)||sA,m=ql(n),p=(n==null?void 0:n.prompt)||!1,d=(n==null?void 0:n.tag)||0,y=(n==null?void 0:n.id)||no().toString(),_={topic:i,message:s,opts:{ttl:f,relay:m,prompt:p,tag:d,id:y,attestation:n==null?void 0:n.attestation,tvf:n==null?void 0:n.tvf}},x=`Failed to publish payload, please try again. id:${y} tag:${d}`;try{const M=new Promise(async C=>{const T=({id:I})=>{_.opts.id===I&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(qr.publish,T),C(_))};this.relayer.events.on(qr.publish,T);const S=_s(new Promise((I,N)=>{this.rpcPublish({topic:i,message:s,ttl:f,prompt:p,tag:d,id:y,attestation:n==null?void 0:n.attestation,tvf:n==null?void 0:n.tvf}).then(I).catch(O=>{this.logger.warn(O,O==null?void 0:O.message),N(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${y} tag:${d}`);try{await S,this.events.removeListener(qr.publish,T)}catch(I){this.queue.set(y,pg(Kf({},_),{attempt:1})),this.logger.warn(I,I==null?void 0:I.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,topic:i,message:s,opts:n}}),await _s(M,this.publishTimeout,x)}catch(M){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(M),(c=n==null?void 0:n.internal)!=null&&c.throwOnFailedPublish)throw M}finally{this.queue.delete(y)}}),sn(this,"on",(i,s)=>{this.events.on(i,s)}),sn(this,"once",(i,s)=>{this.events.once(i,s)}),sn(this,"off",(i,s)=>{this.events.off(i,s)}),sn(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=ui(r,this.name),this.registerEventListeners()}get context(){return Ci(this.logger)}async rpcPublish(e){var r,i,s,n;const{topic:c,message:f,ttl:m=sA,prompt:p,tag:d,id:y,attestation:_,tvf:x}=e,M={method:Nc(ql().protocol).publish,params:Kf({topic:c,message:f,ttl:m,prompt:p,tag:d,attestation:_},x),id:y};Qr((r=M.params)==null?void 0:r.prompt)&&((i=M.params)==null||delete i.prompt),Qr((s=M.params)==null?void 0:s.tag)&&((n=M.params)==null||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:M});const C=await this.relayer.request(M);return this.relayer.events.emit(qr.publish,e),this.logger.debug("Successfully Published Payload"),C}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const i=e.attempt+1;this.queue.set(r,pg(Kf({},e),{attempt:i}));const{topic:s,message:n,opts:c,attestation:f}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(pg(Kf({},e),{topic:s,message:n,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:f,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(La.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(qr.connection_stalled);return}this.checkQueue()}),this.relayer.on(qr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var ez=Object.defineProperty,tz=(t,e,r)=>e in t?ez(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ko=(t,e,r)=>tz(t,typeof e!="symbol"?e+"":e,r);class rz{constructor(){Ko(this,"map",new Map),Ko(this,"set",(e,r)=>{const i=this.get(e);this.exists(e,r)||this.map.set(e,[...i,r])}),Ko(this,"get",e=>this.map.get(e)||[]),Ko(this,"exists",(e,r)=>this.get(e).includes(r)),Ko(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,r))return;const s=i.filter(n=>n!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Ko(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var iz=Object.defineProperty,nz=Object.defineProperties,sz=Object.getOwnPropertyDescriptors,mA=Object.getOwnPropertySymbols,oz=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,Bv=(t,e,r)=>e in t?iz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vc=(t,e)=>{for(var r in e||(e={}))oz.call(e,r)&&Bv(t,r,e[r]);if(mA)for(var r of mA(e))az.call(e,r)&&Bv(t,r,e[r]);return t},mg=(t,e)=>nz(t,sz(e)),hr=(t,e,r)=>Bv(t,typeof e!="symbol"?e+"":e,r);class cz extends oT{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,hr(this,"subscriptions",new Map),hr(this,"topicMap",new rz),hr(this,"events",new Zi.EventEmitter),hr(this,"name",KL),hr(this,"version",GL),hr(this,"pending",new Map),hr(this,"cached",[]),hr(this,"initialized",!1),hr(this,"storagePrefix",Rn),hr(this,"subscribeTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),hr(this,"initialSubscribeTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),hr(this,"clientId"),hr(this,"batchSubscribeTopicsLimit",500),hr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),hr(this,"subscribe",async(i,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}});try{const n=ql(s),c={topic:i,relay:n,transportType:s==null?void 0:s.transportType};this.pending.set(i,c);const f=await this.rpcSubscribe(i,n,s);return typeof f=="string"&&(this.onSubscribe(f,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}})),f}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}}),hr(this,"unsubscribe",async(i,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),hr(this,"isSubscribed",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),hr(this,"isKnownTopic",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),hr(this,"on",(i,s)=>{this.events.on(i,s)}),hr(this,"once",(i,s)=>{this.events.once(i,s)}),hr(this,"off",(i,s)=>{this.events.off(i,s)}),hr(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),hr(this,"start",async()=>{await this.onConnect()}),hr(this,"stop",async()=>{await this.onDisconnect()}),hr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),hr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),hr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(La.pulse,async()=>{await this.checkPending()}),this.events.on(Pi.created,async i=>{const s=Pi.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist()}),this.events.on(Pi.deleted,async i=>{const s=Pi.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=ui(r,this.name),this.clientId=""}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let i=!1;try{i=this.getSubscription(e).topic===r}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:i}});try{const s=ql(i);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const n=Vt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:i}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,i){var s;(!i||(i==null?void 0:i.transportType)===wr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const n={method:Nc(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const c=(s=i==null?void 0:i.internal)==null?void 0:s.throwOnFailedPublish;try{const f=await this.getSubscriptionId(e);if((i==null?void 0:i.transportType)===wr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(d=>this.logger.warn(d))},qe.toMiliseconds(qe.ONE_SECOND)),f;const m=new Promise(async d=>{const y=_=>{_.topic===e&&(this.events.removeListener(Pi.created,y),d(_.id))};this.events.on(Pi.created,y);try{const _=await _s(new Promise((x,M)=>{this.relayer.request(n).catch(C=>{this.logger.warn(C,C==null?void 0:C.message),M(C)}).then(x)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Pi.created,y),d(_)}catch{}}),p=await _s(m,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!p&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return p?f:null}catch(f){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(qr.connection_stalled),c)throw f}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,i={method:Nc(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await _s(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(qr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,i={method:Nc(r.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let s;try{s=await await _s(new Promise((n,c)=>{this.relayer.request(i).catch(f=>{this.logger.warn(f),c(f)}).then(n)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(qr.connection_stalled)}return s}rpcUnsubscribe(e,r,i){const s={method:Nc(i.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,mg(vc({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,vc({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,vc({},r)),this.topicMap.set(r.topic,e),this.events.emit(Pi.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Pi.deleted,mg(vc({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Pi.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<r;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Pi.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>mg(vc({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await s$(qe.toMiliseconds(qe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Cn(e+await this.getClientId())}}var uz=Object.defineProperty,gA=Object.getOwnPropertySymbols,fz=Object.prototype.hasOwnProperty,lz=Object.prototype.propertyIsEnumerable,Dv=(t,e,r)=>e in t?uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vA=(t,e)=>{for(var r in e||(e={}))fz.call(e,r)&&Dv(t,r,e[r]);if(gA)for(var r of gA(e))lz.call(e,r)&&Dv(t,r,e[r]);return t},Bt=(t,e,r)=>Dv(t,typeof e!="symbol"?e+"":e,r);class hz extends nT{constructor(e){super(e),Bt(this,"protocol","wc"),Bt(this,"version",2),Bt(this,"core"),Bt(this,"logger"),Bt(this,"events",new Zi.EventEmitter),Bt(this,"provider"),Bt(this,"messages"),Bt(this,"subscriber"),Bt(this,"publisher"),Bt(this,"name",jL),Bt(this,"transportExplicitlyClosed",!1),Bt(this,"initialized",!1),Bt(this,"connectionAttemptInProgress",!1),Bt(this,"relayUrl"),Bt(this,"projectId"),Bt(this,"packageName"),Bt(this,"bundleId"),Bt(this,"hasExperiencedNetworkDisruption",!1),Bt(this,"pingTimeout"),Bt(this,"heartBeatTimeout",qe.toMiliseconds(qe.THIRTY_SECONDS+qe.FIVE_SECONDS)),Bt(this,"reconnectTimeout"),Bt(this,"connectPromise"),Bt(this,"reconnectInProgress",!1),Bt(this,"requestsInFlight",[]),Bt(this,"connectTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),Bt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const n=r.id||no().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const c=`${n}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const f=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(m=>m!==c),f}catch(c){throw this.logger.debug(`Failed to Publish Request: ${n}`),c}}),Bt(this,"resetPingTimeout",()=>{Fl()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(n=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(c){this.logger.warn(c,c==null?void 0:c.message)}},this.heartBeatTimeout))}),Bt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Bt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(qr.connect)}),Bt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Bt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(qr.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Bt(this,"registerProviderListeners",()=>{this.provider.on(Li.payload,this.onPayloadHandler),this.provider.on(Li.connect,this.onConnectHandler),this.provider.on(Li.disconnect,this.onDisconnectHandler),this.provider.on(Li.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ui(e.logger,this.name):Wu(qa({level:e.logger||qL})),this.messages=new Kj(this.logger,e.core),this.subscriber=new cz(this,this.logger),this.publisher=new Xj(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||_8,this.projectId=e.projectId,HD()?this.packageName=dE():WD()&&(this.bundleId=dE()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Ci(this.logger)}get connected(){var e,r,i;return((i=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,r,i;return((i=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,i){this.isInitialized(),await this.publisher.publish(e,r,i),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:wr.relay},_l.outbound)}async subscribe(e,r){var i,s,n;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let f=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",m;const p=d=>{d.topic===e&&(this.subscriber.off(Pi.created,p),m())};return await Promise.all([new Promise(d=>{m=d,this.subscriber.on(Pi.created,p)}),new Promise(async(d,y)=>{f=await this.subscriber.subscribe(e,vA({internal:{throwOnFailedPublish:c}},r)).catch(_=>{c&&y(_)})||f,d()})]),f}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await _s(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,i)=>{await this.connect(e).then(r).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ZE())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const i of r)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:i}=e;if(!r.sessionExists){const s=Or(qe.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(qr.message,e),await this.recordMessageEvent(e,_l.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Li.disconnect,n),await _s(new Promise((c,f)=>{this.provider.connect().then(c).catch(f)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(Li.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,f)=>{const m=()=>{f(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Li.disconnect,m),await this.subscriber.start().then(c).catch(f).finally(()=>{this.provider.off(Li.disconnect,m)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(i=>setTimeout(i,qe.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,i,s,n;if(Fl())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xi(new NL(ZD({sdkVersion:Rv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:i,message:s}=e;await this.messages.set(i,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),py(e)){if(!e.method.endsWith(zL))return;const r=e.params,{topic:i,message:s,publishedAt:n,attestation:c}=r.data,f={topic:i,message:s,publishedAt:n,transportType:wr.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(vA({type:"event",event:r.id},f)),this.events.emit(r.id,f),await this.acknowledgePayload(e),await this.onMessageEvent(f)}else Hh(e)&&this.events.emit(qr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,_l.inbound),this.events.emit(qr.message,e))}async acknowledgePayload(e){const r=jh(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Li.payload,this.onPayloadHandler),this.provider.off(Li.connect,this.onConnectHandler),this.provider.off(Li.disconnect,this.onDisconnectHandler),this.provider.off(Li.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ZE();FF(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(i=>this.logger.error(i,i==null?void 0:i.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(qr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},qe.toMiliseconds(HL)))))}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function dz(){}function yA(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function bA(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wA(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const pz="[object RegExp]",mz="[object String]",gz="[object Number]",vz="[object Boolean]",_A="[object Arguments]",yz="[object Symbol]",bz="[object Date]",wz="[object Map]",_z="[object Set]",Ez="[object Array]",Az="[object Function]",xz="[object ArrayBuffer]",gg="[object Object]",Mz="[object Error]",Cz="[object DataView]",Sz="[object Uint8Array]",Iz="[object Uint8ClampedArray]",Tz="[object Uint16Array]",Rz="[object Uint32Array]",Nz="[object BigUint64Array]",Pz="[object Int8Array]",Oz="[object Int16Array]",kz="[object Int32Array]",Bz="[object BigInt64Array]",Dz="[object Float32Array]",$z="[object Float64Array]";function Uz(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Fz(t,e,r){return Oc(t,e,void 0,void 0,void 0,void 0,r)}function Oc(t,e,r,i,s,n,c){const f=c(t,e,r,i,s,n);if(f!==void 0)return f;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Fc(t,e,n,c)}return Fc(t,e,n,c)}function Fc(t,e,r,i){if(Object.is(t,e))return!0;let s=wA(t),n=wA(e);if(s===_A&&(s=gg),n===_A&&(n=gg),s!==n)return!1;switch(s){case mz:return t.toString()===e.toString();case gz:{const m=t.valueOf(),p=e.valueOf();return Uz(m,p)}case vz:case bz:case yz:return Object.is(t.valueOf(),e.valueOf());case pz:return t.source===e.source&&t.flags===e.flags;case Az:return t===e}r=r??new Map;const c=r.get(t),f=r.get(e);if(c!=null&&f!=null)return c===e;r.set(t,e),r.set(e,t);try{switch(s){case wz:{if(t.size!==e.size)return!1;for(const[m,p]of t.entries())if(!e.has(m)||!Oc(p,e.get(m),m,t,e,r,i))return!1;return!0}case _z:{if(t.size!==e.size)return!1;const m=Array.from(t.values()),p=Array.from(e.values());for(let d=0;d<m.length;d++){const y=m[d],_=p.findIndex(x=>Oc(y,x,void 0,t,e,r,i));if(_===-1)return!1;p.splice(_,1)}return!0}case Ez:case Sz:case Iz:case Tz:case Rz:case Nz:case Pz:case Oz:case kz:case Bz:case Dz:case $z:{if(typeof lt<"u"&&lt.isBuffer(t)!==lt.isBuffer(e)||t.length!==e.length)return!1;for(let m=0;m<t.length;m++)if(!Oc(t[m],e[m],m,t,e,r,i))return!1;return!0}case xz:return t.byteLength!==e.byteLength?!1:Fc(new Uint8Array(t),new Uint8Array(e),r,i);case Cz:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Fc(new Uint8Array(t),new Uint8Array(e),r,i);case Mz:return t.name===e.name&&t.message===e.message;case gg:{if(!(Fc(t.constructor,e.constructor,r,i)||yA(t)&&yA(e)))return!1;const m=[...Object.keys(t),...bA(t)],p=[...Object.keys(e),...bA(e)];if(m.length!==p.length)return!1;for(let d=0;d<m.length;d++){const y=m[d],_=t[y];if(!Object.hasOwn(e,y))return!1;const x=e[y];if(!Oc(_,x,y,t,e,r,i))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Lz(t,e){return Fz(t,e,dz)}var qz=Object.defineProperty,EA=Object.getOwnPropertySymbols,jz=Object.prototype.hasOwnProperty,zz=Object.prototype.propertyIsEnumerable,$v=(t,e,r)=>e in t?qz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AA=(t,e)=>{for(var r in e||(e={}))jz.call(e,r)&&$v(t,r,e[r]);if(EA)for(var r of EA(e))zz.call(e,r)&&$v(t,r,e[r]);return t},vi=(t,e,r)=>$v(t,typeof e!="symbol"?e+"":e,r);class Uo extends sT{constructor(e,r,i,s=Rn,n=void 0){super(e,r,i,s),this.core=e,this.logger=r,this.name=i,vi(this,"map",new Map),vi(this,"version",WL),vi(this,"cached",[]),vi(this,"initialized",!1),vi(this,"getKey"),vi(this,"storagePrefix",Rn),vi(this,"recentlyDeleted",[]),vi(this,"recentlyDeletedLimit",200),vi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Qr(c)?this.map.set(this.getKey(c),c):gF(c)?this.map.set(c.id,c):vF(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),vi(this,"set",async(c,f)=>{this.isInitialized(),this.map.has(c)?await this.update(c,f):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:f}),this.map.set(c,f),await this.persist())}),vi(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),vi(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(f=>Object.keys(c).every(m=>Lz(f[m],c[m]))):this.values)),vi(this,"update",async(c,f)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:f});const m=AA(AA({},this.getData(c)),f);this.map.set(c,m),await this.persist()}),vi(this,"delete",async(c,f)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:f}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=ui(r,this.name),this.storagePrefix=s,this.getKey=n}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=je("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Hz=Object.defineProperty,Wz=(t,e,r)=>e in t?Hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nt=(t,e,r)=>Wz(t,typeof e!="symbol"?e+"":e,r);class Vz{constructor(e,r){this.core=e,this.logger=r,Nt(this,"name",ZL),Nt(this,"version",YL),Nt(this,"events",new C1),Nt(this,"pairings"),Nt(this,"initialized",!1),Nt(this,"storagePrefix",Rn),Nt(this,"ignoredPayloadTypes",[Zn]),Nt(this,"registeredMethods",[]),Nt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Nt(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),Nt(this,"create",async i=>{this.isInitialized();const s=Mv(),n=await this.core.crypto.setSymKey(s),c=Or(qe.FIVE_MINUTES),f={protocol:w8},m={topic:n,expiry:c,relay:f,active:!1,methods:i==null?void 0:i.methods},p=zE({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:f,expiryTimestamp:c,methods:i==null?void 0:i.methods});return this.events.emit(to.create,m),this.core.expirer.set(n,c),await this.pairings.set(n,m),await this.core.relayer.subscribe(n,{transportType:i==null?void 0:i.transportType}),{topic:n,uri:p}}),Nt(this,"pair",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i==null?void 0:i.uri,trace:[An.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:c,relay:f,expiryTimestamp:m,methods:p}=jE(i.uri);s.props.properties.topic=n,s.addTrace(An.pairing_uri_validation_success),s.addTrace(An.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(n)){if(d=this.pairings.get(n),s.addTrace(An.existing_pairing),d.active)throw s.setError(Kn.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(An.pairing_not_expired)}const y=m||Or(qe.FIVE_MINUTES),_={topic:n,relay:f,expiry:y,active:!1,methods:p};this.core.expirer.set(n,y),await this.pairings.set(n,_),s.addTrace(An.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(to.create,_),s.addTrace(An.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(c,n),s.addTrace(An.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Kn.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:f})}catch(x){throw s.setError(Kn.subscribe_pairing_topic_failure),x}return s.addTrace(An.subscribe_pairing_topic_success),_}),Nt(this,"activate",async({topic:i})=>{this.isInitialized();const s=Or(qe.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),Nt(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:f,reject:m}=Js();this.events.once(Ft("pairing_ping",n),({error:p})=>{p?m(p):f()}),await c()}}),Nt(this,"updateExpiry",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),Nt(this,"updateMetadata",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),Nt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Nt(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Vt("USER_DISCONNECTED")),await this.deletePairing(s))}),Nt(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:s,relay:n,expiry:c,methods:f}=i,m=this.core.crypto.keychain.get(s);return zE({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:m,relay:n,expiryTimestamp:c,methods:f})}),Nt(this,"sendRequest",async(i,s,n)=>{const c=As(s,n),f=await this.core.crypto.encode(i,c),m=mc[s].req;return this.core.history.set(i,c),this.core.relayer.publish(i,f,m),c.id}),Nt(this,"sendResult",async(i,s,n)=>{const c=jh(i,n),f=await this.core.crypto.encode(s,c),m=(await this.core.history.get(s,i)).request.method,p=mc[m].res;await this.core.relayer.publish(s,f,p),await this.core.history.resolve(c)}),Nt(this,"sendError",async(i,s,n)=>{const c=zh(i,n),f=await this.core.crypto.encode(s,c),m=(await this.core.history.get(s,i)).request.method,p=mc[m]?mc[m].res:mc.unregistered_method.res;await this.core.relayer.publish(s,f,p),await this.core.history.resolve(c)}),Nt(this,"deletePairing",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Vt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),Nt(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(s=>gs(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),Nt(this,"onRelayEventRequest",async i=>{const{topic:s,payload:n}=i;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),Nt(this,"onRelayEventResponse",async i=>{const{topic:s,payload:n}=i,c=(await this.core.history.get(s,n.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(c)}}),Nt(this,"onPairingPingRequest",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(to.ping,{id:n,topic:i})}catch(c){await this.sendError(n,i,c),this.logger.error(c)}}),Nt(this,"onPairingPingResponse",(i,s)=>{const{id:n}=s;setTimeout(()=>{Mn(s)?this.events.emit(Ft("pairing_ping",n),{}):Vi(s)&&this.events.emit(Ft("pairing_ping",n),{error:s.error})},500)}),Nt(this,"onPairingDeleteRequest",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(to.delete,{id:n,topic:i})}catch(c){await this.sendError(n,i,c),this.logger.error(c)}}),Nt(this,"onUnknownRpcMethodRequest",async(i,s)=>{const{id:n,method:c}=s;try{if(this.registeredMethods.includes(c))return;const f=Vt("WC_METHOD_UNSUPPORTED",c);await this.sendError(n,i,f),this.logger.error(f)}catch(f){await this.sendError(n,i,f),this.logger.error(f)}}),Nt(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(Vt("WC_METHOD_UNSUPPORTED",i))}),Nt(this,"isValidPair",(i,s)=>{var n;if(!_i(i)){const{message:f}=je("MISSING_OR_INVALID",`pair() params: ${i}`);throw s.setError(Kn.malformed_pairing_uri),new Error(f)}if(!mF(i.uri)){const{message:f}=je("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw s.setError(Kn.malformed_pairing_uri),new Error(f)}const c=jE(i==null?void 0:i.uri);if(!((n=c==null?void 0:c.relay)!=null&&n.protocol)){const{message:f}=je("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Kn.malformed_pairing_uri),new Error(f)}if(!(c!=null&&c.symKey)){const{message:f}=je("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Kn.malformed_pairing_uri),new Error(f)}if(c!=null&&c.expiryTimestamp&&qe.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(Kn.pairing_expired);const{message:f}=je("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(f)}}),Nt(this,"isValidPing",async i=>{if(!_i(i)){const{message:n}=je("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),Nt(this,"isValidDisconnect",async i=>{if(!_i(i)){const{message:n}=je("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),Nt(this,"isValidPairingTopic",async i=>{if(!Tr(i,!1)){const{message:s}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if(gs(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=je("EXPIRED",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=ui(r,this.name),this.pairings=new Uo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ci(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(qr.message,async e=>{const{topic:r,message:i,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==wr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(r,i);py(n)?(this.core.history.set(r,n),await this.onRelayEventRequest({topic:r,payload:n})):Hh(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:r,payload:n}),this.core.history.delete(r,n.id)),await this.core.relayer.messages.ack(r,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(Hi.expired,async e=>{const{topic:r}=F5(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(to.expire,{topic:r}))})}}var Kz=Object.defineProperty,Gz=(t,e,r)=>e in t?Kz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yr=(t,e,r)=>Gz(t,typeof e!="symbol"?e+"":e,r);class Zz extends tT{constructor(e,r){super(e,r),this.core=e,this.logger=r,Yr(this,"records",new Map),Yr(this,"events",new Zi.EventEmitter),Yr(this,"name",JL),Yr(this,"version",QL),Yr(this,"cached",[]),Yr(this,"initialized",!1),Yr(this,"storagePrefix",Rn),Yr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Yr(this,"set",(i,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const c={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:Or(qe.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(rn.created,c)}),Yr(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>"u"&&(s.response=Vi(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(rn.updated,s))}),Yr(this,"get",async(i,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:s}),await this.getRecord(s))),Yr(this,"delete",(i,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(rn.deleted,n)}}),this.persist()}),Yr(this,"exists",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),Yr(this,"on",(i,s)=>{this.events.on(i,s)}),Yr(this,"once",(i,s)=>{this.events.once(i,s)}),Yr(this,"off",(i,s)=>{this.events.off(i,s)}),Yr(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.logger=ui(r,this.name)}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:As(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(rn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(rn.created,e=>{const r=rn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(rn.updated,e=>{const r=rn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(rn.deleted,e=>{const r=rn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(La.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{qe.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(rn.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Yz=Object.defineProperty,Jz=(t,e,r)=>e in t?Yz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,si=(t,e,r)=>Jz(t,typeof e!="symbol"?e+"":e,r);class Qz extends aT{constructor(e,r){super(e,r),this.core=e,this.logger=r,si(this,"expirations",new Map),si(this,"events",new Zi.EventEmitter),si(this,"name",XL),si(this,"version",eq),si(this,"cached",[]),si(this,"initialized",!1),si(this,"storagePrefix",Rn),si(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),si(this,"has",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<"u"}catch{return!1}}),si(this,"set",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),c={target:n,expiry:s};this.expirations.set(n,c),this.checkExpiry(n,c),this.events.emit(Hi.created,{target:n,expiration:c})}),si(this,"get",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),si(this,"del",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Hi.deleted,{target:s,expiration:n})}}),si(this,"on",(i,s)=>{this.events.on(i,s)}),si(this,"once",(i,s)=>{this.events.once(i,s)}),si(this,"off",(i,s)=>{this.events.off(i,s)}),si(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.logger=ui(r,this.name)}get context(){return Ci(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return YD(e);if(typeof e=="number")return JD(e);const{message:r}=je("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Hi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(e,r){const{expiry:i}=r;qe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Hi.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(La.pulse,()=>this.checkExpirations()),this.events.on(Hi.created,e=>{const r=Hi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Hi.expired,e=>{const r=Hi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Hi.deleted,e=>{const r=Hi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xz=Object.defineProperty,eH=(t,e,r)=>e in t?Xz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ir=(t,e,r)=>eH(t,typeof e!="symbol"?e+"":e,r);class tH extends cT{constructor(e,r,i){super(e,r,i),this.core=e,this.logger=r,this.store=i,Ir(this,"name",tq),Ir(this,"abortController"),Ir(this,"isDevEnv"),Ir(this,"verifyUrlV3",iq),Ir(this,"storagePrefix",Rn),Ir(this,"version",b8),Ir(this,"publicKey"),Ir(this,"fetchPromise"),Ir(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&qe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ir(this,"register",async s=>{if(!sf()||this.isDevEnv)return;const n=window.location.origin,{id:c,decryptedId:f}=s,m=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${c}&decryptedId=${f}`;try{const p=yo.getDocument(),d=this.startAbortTimer(qe.ONE_SECOND*5),y=await new Promise((_,x)=>{const M=()=>{window.removeEventListener("message",T),p.body.removeChild(C),x("attestation aborted")};this.abortController.signal.addEventListener("abort",M);const C=p.createElement("iframe");C.src=m,C.style.display="none",C.addEventListener("error",M,{signal:this.abortController.signal});const T=S=>{if(S.data&&typeof S.data=="string")try{const I=JSON.parse(S.data);if(I.type==="verify_attestation"){if(uv(I.attestation).payload.id!==c)return;clearInterval(d),p.body.removeChild(C),this.abortController.signal.removeEventListener("abort",M),window.removeEventListener("message",T),_(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};p.body.appendChild(C),window.addEventListener("message",T,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",y),y}catch(p){this.logger.warn(p)}return""}),Ir(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:n,hash:c,encryptedId:f}=s;if(n===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(n){if(uv(n).payload.id!==f)return;const p=await this.isValidJwtAttestation(n);if(p){if(!p.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return p}}if(!c)return;const m=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,m)}),Ir(this,"fetchAttestation",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const c=this.startAbortTimer(qe.ONE_SECOND*5),f=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),f.status===200?await f.json():void 0}),Ir(this,"getVerifyUrl",s=>{let n=s||Uc;return nq.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${Uc}`),n=Uc),n}),Ir(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(qe.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),Ir(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Ir(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ir(this,"isValidJwtAttestation",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(f){this.logger.error(f),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(f){this.logger.error(f),this.logger.warn("error validating attestation")}}),Ir(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ir(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),n(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Ir(this,"validateAttestation",(s,n)=>{const c=rF(s,n.publicKey),f={hasExpired:qe.toMiliseconds(c.exp)<Date.now(),payload:c};if(f.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:f.payload.origin,isScam:f.payload.isScam,isVerified:f.payload.isVerified}}),this.logger=ui(r,this.name),this.abortController=new AbortController,this.isDevEnv=ny(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ci(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),qe.toMiliseconds(e))}}var rH=Object.defineProperty,iH=(t,e,r)=>e in t?rH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xA=(t,e,r)=>iH(t,typeof e!="symbol"?e+"":e,r);class nH extends uT{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,xA(this,"context",sq),xA(this,"registerDeviceToken",async i=>{const{clientId:s,token:n,notificationType:c,enableEncrypted:f=!1}=i,m=`${oq}/${this.projectId}/clients`;await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:n,always_raw:f})})}),this.logger=ui(r,this.context)}}var sH=Object.defineProperty,MA=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,Uv=(t,e,r)=>e in t?sH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yc=(t,e)=>{for(var r in e||(e={}))oH.call(e,r)&&Uv(t,r,e[r]);if(MA)for(var r of MA(e))aH.call(e,r)&&Uv(t,r,e[r]);return t},Ur=(t,e,r)=>Uv(t,typeof e!="symbol"?e+"":e,r);class cH extends fT{constructor(e,r,i=!0){super(e,r,i),this.core=e,this.logger=r,Ur(this,"context",cq),Ur(this,"storagePrefix",Rn),Ur(this,"storageVersion",aq),Ur(this,"events",new Map),Ur(this,"shouldPersist",!1),Ur(this,"init",async()=>{if(!ny())try{const s={eventId:mE(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:$5(this.core.relayer.protocol,this.core.relayer.version,Rv)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Ur(this,"createEvent",s=>{const{event:n="ERROR",type:c="",properties:{topic:f,trace:m}}=s,p=mE(),d=this.core.projectId||"",y=Date.now(),_=yc({eventId:p,timestamp:y,props:{event:n,type:c,properties:{topic:f,trace:m}},bundleId:d,domain:this.getAppDomain()},this.setMethods(p));return this.telemetryEnabled&&(this.events.set(p,_),this.shouldPersist=!0),_}),Ur(this,"getEvent",s=>{const{eventId:n,topic:c}=s;if(n)return this.events.get(n);const f=Array.from(this.events.values()).find(m=>m.props.properties.topic===c);if(f)return yc(yc({},f),this.setMethods(f.eventId))}),Ur(this,"deleteEvent",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),Ur(this,"setEventListeners",()=>{this.core.heartbeat.on(La.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{qe.fromMiliseconds(Date.now())-qe.fromMiliseconds(s.timestamp)>uq&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Ur(this,"setMethods",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),Ur(this,"addTrace",(s,n)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(n),this.events.set(s,c),this.shouldPersist=!0)}),Ur(this,"setError",(s,n)=>{const c=this.events.get(s);c&&(c.props.type=n,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),Ur(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ur(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,yc(yc({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),Ur(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),Ur(this,"sendEvent",async s=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${fq}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Rv}${n}`,{method:"POST",body:JSON.stringify(s)})}),Ur(this,"getAppDomain",()=>D5().url),this.logger=ui(r,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var uH=Object.defineProperty,CA=Object.getOwnPropertySymbols,fH=Object.prototype.hasOwnProperty,lH=Object.prototype.propertyIsEnumerable,Fv=(t,e,r)=>e in t?uH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SA=(t,e)=>{for(var r in e||(e={}))fH.call(e,r)&&Fv(t,r,e[r]);if(CA)for(var r of CA(e))lH.call(e,r)&&Fv(t,r,e[r]);return t},vr=(t,e,r)=>Fv(t,typeof e!="symbol"?e+"":e,r);let hH=class O8 extends J9{constructor(e){var r;super(e),vr(this,"protocol",y8),vr(this,"version",b8),vr(this,"name",Tv),vr(this,"relayUrl"),vr(this,"projectId"),vr(this,"customStoragePrefix"),vr(this,"events",new Zi.EventEmitter),vr(this,"logger"),vr(this,"heartbeat"),vr(this,"relayer"),vr(this,"crypto"),vr(this,"storage"),vr(this,"history"),vr(this,"expirer"),vr(this,"pairing"),vr(this,"verify"),vr(this,"echoClient"),vr(this,"linkModeSupportedApps"),vr(this,"eventClient"),vr(this,"initialized",!1),vr(this,"logChunkController"),vr(this,"on",(c,f)=>this.events.on(c,f)),vr(this,"once",(c,f)=>this.events.once(c,f)),vr(this,"off",(c,f)=>this.events.off(c,f)),vr(this,"removeListener",(c,f)=>this.events.removeListener(c,f)),vr(this,"dispatchEnvelope",({topic:c,message:f,sessionExists:m})=>{if(!c||!f)return;const p={topic:c,message:f,publishedAt:Date.now(),transportType:wr.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:m})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||_8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=qa({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:PL.logger,name:Tv}),{logger:s,chunkLoggerController:n}=I1({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=n,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,f;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ui(s,this.name),this.heartbeat=new YI,this.crypto=new Fj(this,this.logger,e==null?void 0:e.keychain),this.history=new Zz(this,this.logger),this.expirer=new Qz(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new P9(SA(SA({},OL),e==null?void 0:e.storageOptions)),this.relayer=new hz({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Vz(this,this.logger),this.verify=new tH(this,this.logger,this.storage),this.echoClient=new nH(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new cH(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new O8(e);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(VL,i),r}get context(){return Ci(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(oA,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(oA)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const dH=hH,k8="wc",B8=2,D8="client",my=`${k8}@${B8}:${D8}:`,vg={name:D8,logger:"error"},IA="WALLETCONNECT_DEEPLINK_CHOICE",pH="proposal",TA="Proposal expired",mH="session",Go=qe.SEVEN_DAYS,gH="engine",Fr={wc_sessionPropose:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:qe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:qe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1119}}},yg={min:qe.FIVE_MINUTES,max:qe.SEVEN_DAYS},_n={idle:"IDLE",active:"ACTIVE"},RA={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},vH="request",yH=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],bH="wc",wH="auth",_H="authKeys",EH="pairingTopics",AH="requests",Vh=`${bH}@${1.5}:${wH}:`,El=`${Vh}:PUB_KEY`;var xH=Object.defineProperty,MH=Object.defineProperties,CH=Object.getOwnPropertyDescriptors,NA=Object.getOwnPropertySymbols,SH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable,Lv=(t,e,r)=>e in t?xH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dr=(t,e)=>{for(var r in e||(e={}))SH.call(e,r)&&Lv(t,r,e[r]);if(NA)for(var r of NA(e))IH.call(e,r)&&Lv(t,r,e[r]);return t},fi=(t,e)=>MH(t,CH(e)),De=(t,e,r)=>Lv(t,typeof e!="symbol"?e+"":e,r);class TH extends pT{constructor(e){super(e),De(this,"name",gH),De(this,"events",new C1),De(this,"initialized",!1),De(this,"requestQueue",{state:_n.idle,queue:[]}),De(this,"sessionRequestQueue",{state:_n.idle,queue:[]}),De(this,"requestQueueDelay",qe.ONE_SECOND),De(this,"expectedPairingMethodMap",new Map),De(this,"recentlyDeletedMap",new Map),De(this,"recentlyDeletedLimit",200),De(this,"relayMessageCache",[]),De(this,"pendingSessions",new Map),De(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Fr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay)))}),De(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=fi(dr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:s,requiredNamespaces:n,optionalNamespaces:c,sessionProperties:f,scopedProperties:m,relays:p}=i;let d=s,y,_=!1;try{if(d){const $=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),_=$.active}}catch($){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),$}if(!d||!_){const{topic:$,uri:z}=await this.client.core.pairing.create();d=$,y=z}if(!d){const{message:$}=je("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error($)}const x=await this.client.core.crypto.generateKeyPair(),M=Fr.wc_sessionPropose.req.ttl||qe.FIVE_MINUTES,C=Or(M),T=fi(dr(dr({requiredNamespaces:n,optionalNamespaces:c,relays:p??[{protocol:w8}],proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:C,pairingTopic:d},f&&{sessionProperties:f}),m&&{scopedProperties:m}),{id:xn()}),S=Ft("session_connect",T.id),{reject:I,resolve:N,done:O}=Js(M,TA),D=({id:$})=>{$===T.id&&(this.client.events.off("proposal_expire",D),this.pendingSessions.delete(T.id),this.events.emit(S,{error:{message:TA,code:0}}))};return this.client.events.on("proposal_expire",D),this.events.once(S,({error:$,session:z})=>{this.client.events.off("proposal_expire",D),$?I($):z&&N(z)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:T,throwOnFailedPublish:!0,clientRpcId:T.id}),await this.setProposal(T.id,T),{uri:y,approval:O}}),De(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}}),De(this,"approve",async r=>{var i,s,n;const c=this.client.core.eventClient.createEvent({properties:{topic:(i=r==null?void 0:r.id)==null?void 0:i.toString(),trace:[nn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw c.setError(Ks.no_internet_connection),L}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),c.setError(Ks.proposal_not_found),L}try{await this.isValidApprove(r)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Ks.session_approve_namespace_validation_failure),L}const{id:f,relayProtocol:m,namespaces:p,sessionProperties:d,scopedProperties:y,sessionConfig:_}=r,x=this.client.proposal.get(f);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:M,proposer:C,requiredNamespaces:T,optionalNamespaces:S}=x;let I=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:M});I||(I=(n=this.client.core.eventClient)==null?void 0:n.createEvent({type:nn.session_approve_started,properties:{topic:M,trace:[nn.session_approve_started,nn.session_namespaces_validation_success]}}));const N=await this.client.core.crypto.generateKeyPair(),O=C.publicKey,D=await this.client.core.crypto.generateSharedKey(N,O),$=dr(dr(dr({relay:{protocol:m??"irn"},namespaces:p,controller:{publicKey:N,metadata:this.client.metadata},expiry:Or(Go)},d&&{sessionProperties:d}),y&&{scopedProperties:y}),_&&{sessionConfig:_}),z=wr.relay;I.addTrace(nn.subscribing_session_topic);try{await this.client.core.relayer.subscribe(D,{transportType:z})}catch(L){throw I.setError(Ks.subscribe_session_topic_failure),L}I.addTrace(nn.subscribe_session_topic_success);const G=fi(dr({},$),{topic:D,requiredNamespaces:T,optionalNamespaces:S,pairingTopic:M,acknowledged:!1,self:$.controller,peer:{publicKey:C.publicKey,metadata:C.metadata},controller:N,transportType:wr.relay});await this.client.session.set(D,G),I.addTrace(nn.store_session);try{I.addTrace(nn.publishing_session_settle),await this.sendRequest({topic:D,method:"wc_sessionSettle",params:$,throwOnFailedPublish:!0}).catch(L=>{throw I==null||I.setError(Ks.session_settle_publish_failure),L}),I.addTrace(nn.session_settle_publish_success),I.addTrace(nn.publishing_session_approve),await this.sendResult({id:f,topic:M,result:{relay:{protocol:m??"irn"},responderPublicKey:N},throwOnFailedPublish:!0}).catch(L=>{throw I==null||I.setError(Ks.session_approve_publish_failure),L}),I.addTrace(nn.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(D,Vt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(D),L}return this.client.core.eventClient.deleteEvent({eventId:I.eventId}),await this.client.core.pairing.updateMetadata({topic:M,metadata:C.metadata}),await this.client.proposal.delete(f,Vt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:M}),await this.setExpiry(D,Or(Go)),{topic:D,acknowledged:()=>Promise.resolve(this.client.session.get(D))}}),De(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:i,reason:s}=r;let n;try{n=this.client.proposal.get(i).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),c}n&&(await this.sendError({id:i,topic:n,error:s,rpcOpts:Fr.wc_sessionPropose.reject}),await this.client.proposal.delete(i,Vt("USER_DISCONNECTED")))}),De(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(y){throw this.client.logger.error("update() -> isValidUpdate() failed"),y}const{topic:i,namespaces:s}=r,{done:n,resolve:c,reject:f}=Js(),m=xn(),p=no().toString(),d=this.client.session.get(i).namespaces;return this.events.once(Ft("session_update",m),({error:y})=>{y?f(y):c()}),await this.client.session.update(i,{namespaces:s}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:m,relayRpcId:p}).catch(y=>{this.client.logger.error(y),this.client.session.update(i,{namespaces:d}),f(y)}),{acknowledged:n}}),De(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(m){throw this.client.logger.error("extend() -> isValidExtend() failed"),m}const{topic:i}=r,s=xn(),{done:n,resolve:c,reject:f}=Js();return this.events.once(Ft("session_extend",s),({error:m})=>{m?f(m):c()}),await this.setExpiry(i,Or(Go)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(m=>{f(m)}),{acknowledged:n}}),De(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:i,request:s,topic:n,expiry:c=Fr.wc_sessionRequest.req.ttl}=r,f=this.client.session.get(n);(f==null?void 0:f.transportType)===wr.relay&&await this.confirmOnlineStateOrThrow();const m=xn(),p=no().toString(),{done:d,resolve:y,reject:_}=Js(c,"Request expired. Please try again.");this.events.once(Ft("session_request",m),({error:S,result:I})=>{S?_(S):y(I)});const x="wc_sessionRequest",M=this.getAppLinkIfEnabled(f.peer.metadata,f.transportType);if(M)return await this.sendRequest({clientRpcId:m,relayRpcId:p,topic:n,method:x,params:{request:fi(dr({},s),{expiryTimestamp:Or(c)}),chainId:i},expiry:c,throwOnFailedPublish:!0,appLink:M}).catch(S=>_(S)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:i,id:m}),await d();const C={request:fi(dr({},s),{expiryTimestamp:Or(c)}),chainId:i},T=this.shouldSetTVF(x,C);return await Promise.all([new Promise(async S=>{await this.sendRequest(dr({clientRpcId:m,relayRpcId:p,topic:n,method:x,params:C,expiry:c,throwOnFailedPublish:!0},T&&{tvf:this.getTVFParams(m,C)})).catch(I=>_(I)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:i,id:m}),S()}),new Promise(async S=>{var I;if(!((I=f.sessionConfig)!=null&&I.disableDeepLink)){const N=await t$(this.client.core.storage,IA);await QD({id:m,topic:n,wcDeepLink:N})}S()}),d()]).then(S=>S[2])}),De(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:s}=r,{id:n}=s,c=this.client.session.get(i);c.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const f=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);Mn(s)?await this.sendResult({id:n,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:f}):Vi(s)&&await this.sendError({id:n,topic:i,error:s.error,appLink:f}),this.cleanupAfterResponse(r)}),De(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:i}=r;if(this.client.session.keys.includes(i)){const s=xn(),n=no().toString(),{done:c,resolve:f,reject:m}=Js();this.events.once(Ft("session_ping",s),({error:p})=>{p?m(p):f()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:n}),c()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),De(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:i,event:s,chainId:n}=r,c=no().toString(),f=xn();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:s,chainId:n},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:f})}),De(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Vt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:s}=je("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(s)}}),De(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(i=>dF(i,r)))),De(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),De(this,"authenticate",async(r,i)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const n=i&&this.client.core.linkModeSupportedApps.includes(i)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=n?wr.link_mode:wr.relay;c===wr.relay&&await this.confirmOnlineStateOrThrow();const{chains:f,statement:m="",uri:p,domain:d,nonce:y,type:_,exp:x,nbf:M,methods:C=[],expiry:T}=r,S=[...r.resources||[]],{topic:I,uri:N}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:I,uri:N}});const O=await this.client.core.crypto.generateKeyPair(),D=wl(O);if(await Promise.all([this.client.auth.authKeys.set(El,{responseTopic:D,publicKey:O}),this.client.auth.pairingTopics.set(D,{topic:D,pairingTopic:I})]),await this.client.core.relayer.subscribe(D,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${I}`),C.length>0){const{namespace:v}=va(f[0]);let a=V$(v,"request",C);bl(S)&&(a=G$(a,S.pop())),S.push(a)}const $=T&&T>Fr.wc_sessionAuthenticate.req.ttl?T:Fr.wc_sessionAuthenticate.req.ttl,z={authPayload:{type:_??"caip122",chains:f,statement:m,aud:p,domain:d,version:"1",nonce:y,iat:new Date().toISOString(),exp:x,nbf:M,resources:S},requester:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:Or($)},G={eip155:{chains:f,methods:[...new Set(["personal_sign",...C])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:G,relays:[{protocol:"irn"}],pairingTopic:I,proposer:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:Or(Fr.wc_sessionPropose.req.ttl),id:xn()},{done:te,resolve:E,reject:o}=Js($,"Request expired"),u=xn(),l=Ft("session_connect",L.id),h=Ft("session_request",u),g=async({error:v,session:a})=>{this.events.off(h,w),v?o(v):a&&E({session:a})},w=async v=>{var a,b,R;if(await this.deletePendingAuthRequest(u,{message:"fulfilled",code:0}),v.error){const X=Vt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return v.error.code===X.code?void 0:(this.events.off(l,g),o(v.error.message))}await this.deleteProposal(L.id),this.events.off(l,g);const{cacaos:P,responder:F}=v.result,K=[],Z=[];for(const X of P){await AE({cacao:X,projectId:this.client.core.projectId})||(this.client.logger.error(X,"Signature verification failed"),o(Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:re}=X,ee=bl(re.resources),H=[bv(re.iss)],oe=Ll(re.iss);if(ee){const Ne=xE(ee),he=ME(ee);K.push(...Ne),H.push(...he)}for(const Ne of H)Z.push(`${Ne}:${oe}`)}const U=await this.client.core.crypto.generateSharedKey(O,F.publicKey);let Y;K.length>0&&(Y={topic:U,acknowledged:!0,self:{publicKey:O,metadata:this.client.metadata},peer:F,controller:F.publicKey,expiry:Or(Go),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:I,namespaces:HE([...new Set(K)],[...new Set(Z)]),transportType:c},await this.client.core.relayer.subscribe(U,{transportType:c}),await this.client.session.set(U,Y),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:F.metadata}),Y=this.client.session.get(U)),(a=this.client.metadata.redirect)!=null&&a.linkMode&&(b=F.metadata.redirect)!=null&&b.linkMode&&(R=F.metadata.redirect)!=null&&R.universal&&i&&(this.client.core.addLinkModeSupportedApp(F.metadata.redirect.universal),this.client.session.update(U,{transportType:wr.link_mode})),E({auths:P,session:Y})};this.events.once(l,g),this.events.once(h,w);let A;try{if(n){const v=As("wc_sessionAuthenticate",z,u);this.client.core.history.set(I,v);const a=await this.client.core.crypto.encode("",v,{type:uf,encoding:dc});A=Vf(i,I,a)}else await Promise.all([this.sendRequest({topic:I,method:"wc_sessionAuthenticate",params:z,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:u}),this.sendRequest({topic:I,method:"wc_sessionPropose",params:L,expiry:Fr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(v){throw this.events.off(l,g),this.events.off(h,w),v}return await this.setProposal(L.id,L),await this.setAuthRequest(u,{request:fi(dr({},z),{verifyContext:{}}),pairingTopic:I,transportType:c}),{uri:A??N,response:te}}),De(this,"approveSessionAuthenticate",async r=>{const{id:i,auths:s}=r,n=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Gs.authenticated_session_approve_started]}});try{this.isInitialized()}catch(T){throw n.setError(gc.no_internet_connection),T}const c=this.getPendingAuthRequest(i);if(!c)throw n.setError(gc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const f=c.transportType||wr.relay;f===wr.relay&&await this.confirmOnlineStateOrThrow();const m=c.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),d=wl(m),y={type:Zn,receiverPublicKey:m,senderPublicKey:p},_=[],x=[];for(const T of s){if(!await AE({cacao:T,projectId:this.client.core.projectId})){n.setError(gc.invalid_cacao);const D=Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:d,error:D,encodeOpts:y}),new Error(D.message)}n.addTrace(Gs.cacaos_verified);const{p:S}=T,I=bl(S.resources),N=[bv(S.iss)],O=Ll(S.iss);if(I){const D=xE(I),$=ME(I);_.push(...D),N.push(...$)}for(const D of N)x.push(`${D}:${O}`)}const M=await this.client.core.crypto.generateSharedKey(p,m);n.addTrace(Gs.create_authenticated_session_topic);let C;if((_==null?void 0:_.length)>0){C={topic:M,acknowledged:!0,self:{publicKey:p,metadata:this.client.metadata},peer:{publicKey:m,metadata:c.requester.metadata},controller:m,expiry:Or(Go),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:HE([...new Set(_)],[...new Set(x)]),transportType:f},n.addTrace(Gs.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(M,{transportType:f})}catch(T){throw n.setError(gc.subscribe_authenticated_session_topic_failure),T}n.addTrace(Gs.subscribe_authenticated_session_topic_success),await this.client.session.set(M,C),n.addTrace(Gs.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}n.addTrace(Gs.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:i,result:{cacaos:s,responder:{publicKey:p,metadata:this.client.metadata}},encodeOpts:y,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,f)})}catch(T){throw n.setError(gc.authenticated_session_approve_publish_failure),T}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:C}}),De(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:i,reason:s}=r,n=this.getPendingAuthRequest(i);if(!n)throw new Error(`Could not find pending auth request with id ${i}`);n.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const c=n.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),m=wl(c),p={type:Zn,receiverPublicKey:c,senderPublicKey:f};await this.sendError({id:i,topic:m,error:s,encodeOpts:p,rpcOpts:Fr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Vt("USER_DISCONNECTED"))}),De(this,"formatAuthMessage",r=>{this.isInitialized();const{request:i,iss:s}=r;return G5(i,s)}),De(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),De(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(n=>{var c,f;return((c=n.peerMetadata)==null?void 0:c.url)&&((f=n.peerMetadata)==null?void 0:f.url)===r.peer.metadata.url&&n.topic&&n.topic!==i.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(n=>this.client.core.pairing.disconnect({topic:n.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),De(this,"deleteSession",async r=>{var i;const{topic:s,expirerHasDeleted:n=!1,emitEvent:c=!0,id:f=0}=r,{self:m}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Vt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(m.publicKey)&&await this.client.core.crypto.deleteKeyPair(m.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),n||this.client.core.expirer.del(s),this.client.core.storage.removeItem(IA).catch(p=>this.client.logger.warn(p)),this.getPendingSessionRequests().forEach(p=>{p.topic===s&&this.deletePendingSessionRequest(p.id,Vt("USER_DISCONNECTED"))}),s===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=_n.idle),c&&this.client.events.emit("session_delete",{id:f,topic:s})}),De(this,"deleteProposal",async(r,i)=>{if(i)try{const s=this.client.proposal.get(r),n=this.client.core.eventClient.getEvent({topic:s.pairingTopic});n==null||n.setError(Ks.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Vt("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),De(this,"deletePendingSessionRequest",async(r,i,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(n=>n.id!==r),s&&(this.sessionRequestQueue.state=_n.idle,this.client.events.emit("session_request_expire",{id:r}))}),De(this,"deletePendingAuthRequest",async(r,i,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,i),s?Promise.resolve():this.client.core.expirer.del(r)])}),De(this,"setExpiry",async(r,i)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,i),await this.client.session.update(r,{expiry:i}))}),De(this,"setProposal",async(r,i)=>{this.client.core.expirer.set(r,Or(Fr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,i)}),De(this,"setAuthRequest",async(r,i)=>{const{request:s,pairingTopic:n,transportType:c=wr.relay}=i;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:n,verifyContext:s.verifyContext,transportType:c})}),De(this,"setPendingSessionRequest",async r=>{const{id:i,topic:s,params:n,verifyContext:c}=r,f=n.request.expiryTimestamp||Or(Fr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,f),await this.client.pendingRequest.set(i,{id:i,topic:s,params:n,verifyContext:c})}),De(this,"sendRequest",async r=>{const{topic:i,method:s,params:n,expiry:c,relayRpcId:f,clientRpcId:m,throwOnFailedPublish:p,appLink:d,tvf:y}=r,_=As(s,n,m);let x;const M=!!d;try{const S=M?dc:Es;x=await this.client.core.crypto.encode(i,_,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),S}let C;if(yH.includes(s)){const S=Cn(JSON.stringify(_)),I=Cn(x);C=await this.client.core.verify.register({id:I,decryptedId:S})}const T=Fr[s].req;if(T.attestation=C,c&&(T.ttl=c),f&&(T.id=f),this.client.core.history.set(i,_),M){const S=Vf(d,i,x);await ot.Linking.openURL(S,this.client.name)}else{const S=Fr[s].req;c&&(S.ttl=c),f&&(S.id=f),S.tvf=fi(dr({},y),{correlationId:_.id}),p?(S.internal=fi(dr({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,x,S)):this.client.core.relayer.publish(i,x,S).catch(I=>this.client.logger.error(I))}return _.id}),De(this,"sendResult",async r=>{const{id:i,topic:s,result:n,throwOnFailedPublish:c,encodeOpts:f,appLink:m}=r,p=jh(i,n);let d;const y=m&&typeof(ot==null?void 0:ot.Linking)<"u";try{const M=y?dc:Es;d=await this.client.core.crypto.encode(s,p,fi(dr({},f||{}),{encoding:M}))}catch(M){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),M}let _,x;try{_=await this.client.core.history.get(s,i);const M=_.request;try{this.shouldSetTVF(M.method,M.params)&&(x=this.getTVFParams(i,M.params,n))}catch(C){this.client.logger.warn("sendResult() -> getTVFParams() failed",C)}}catch(M){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${i}) failed`),M}if(y){const M=Vf(m,s,d);await ot.Linking.openURL(M,this.client.name)}else{const M=_.request.method,C=Fr[M].res;C.tvf=fi(dr({},x),{correlationId:i}),c?(C.internal=fi(dr({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,d,C)):this.client.core.relayer.publish(s,d,C).catch(T=>this.client.logger.error(T))}await this.client.core.history.resolve(p)}),De(this,"sendError",async r=>{const{id:i,topic:s,error:n,encodeOpts:c,rpcOpts:f,appLink:m}=r,p=zh(i,n);let d;const y=m&&typeof(ot==null?void 0:ot.Linking)<"u";try{const x=y?dc:Es;d=await this.client.core.crypto.encode(s,p,fi(dr({},c||{}),{encoding:x}))}catch(x){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),x}let _;try{_=await this.client.core.history.get(s,i)}catch(x){throw this.client.logger.error(`sendError() -> history.get(${s}, ${i}) failed`),x}if(y){const x=Vf(m,s,d);await ot.Linking.openURL(x,this.client.name)}else{const x=_.request.method,M=f||Fr[x].res;this.client.core.relayer.publish(s,d,M)}await this.client.core.history.resolve(p)}),De(this,"cleanup",async()=>{const r=[],i=[];this.client.session.getAll().forEach(s=>{let n=!1;gs(s.expiry)&&(n=!0),this.client.core.crypto.keychain.has(s.topic)||(n=!0),n&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{gs(s.expiryTimestamp)&&i.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...i.map(s=>this.deleteProposal(s))])}),De(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),De(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),De(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===_n.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=_n.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=_n.idle}),De(this,"processRequest",async r=>{const{topic:i,payload:s,attestation:n,transportType:c,encryptedId:f}=r,m=s.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:m}))switch(m){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:s,attestation:n,encryptedId:f});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,s);case"wc_sessionPing":return await this.onSessionPingRequest(i,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:s,attestation:n,encryptedId:f,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(i,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:s,attestation:n,encryptedId:f,transportType:c});default:return this.client.logger.info(`Unsupported request method ${m}`)}}),De(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s,transportType:n}=r,c=(await this.client.core.history.get(i,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(i,s,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,s);case"wc_sessionExtend":return this.onSessionExtendResponse(i,s);case"wc_sessionPing":return this.onSessionPingResponse(i,s);case"wc_sessionRequest":return this.onSessionRequestResponse(i,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),De(this,"onRelayEventUnknownPayload",r=>{const{topic:i}=r,{message:s}=je("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),De(this,"shouldIgnorePairingRequest",r=>{const{topic:i,requestMethod:s}=r,n=this.expectedPairingMethodMap.get(i);return!n||n.includes(s)?!1:!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),De(this,"onSessionProposeRequest",async r=>{const{topic:i,payload:s,attestation:n,encryptedId:c}=r,{params:f,id:m}=s;try{const p=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),p==null||p.setError(Kn.proposal_listener_not_found)),this.isValidConnect(dr({},s.params));const d=f.expiryTimestamp||Or(Fr.wc_sessionPropose.req.ttl),y=dr({id:m,pairingTopic:i,expiryTimestamp:d},f);await this.setProposal(m,y);const _=await this.getVerifyContext({attestationId:n,hash:Cn(JSON.stringify(s)),encryptedId:c,metadata:y.proposer.metadata});p==null||p.addTrace(An.emit_session_proposal),this.client.events.emit("session_proposal",{id:m,params:y,verifyContext:_})}catch(p){await this.sendError({id:m,topic:i,error:p,rpcOpts:Fr.wc_sessionPropose.autoReject}),this.client.logger.error(p)}}),De(this,"onSessionProposeResponse",async(r,i,s)=>{const{id:n}=i;if(Mn(i)){const{result:c}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const f=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:f});const m=f.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:m});const p=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:p});const d=await this.client.core.crypto.generateSharedKey(m,p);this.pendingSessions.set(n,{sessionTopic:d,pairingTopic:r,proposalId:n,publicKey:m});const y=await this.client.core.relayer.subscribe(d,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:y}),await this.client.core.pairing.activate({topic:r})}else if(Vi(i)){await this.client.proposal.delete(n,Vt("USER_DISCONNECTED"));const c=Ft("session_connect",n);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:i.error})}}),De(this,"onSessionSettleRequest",async(r,i)=>{const{id:s,params:n}=i;try{this.isValidSessionSettleRequest(n);const{relay:c,controller:f,expiry:m,namespaces:p,sessionProperties:d,scopedProperties:y,sessionConfig:_}=i.params,x=[...this.pendingSessions.values()].find(T=>T.sessionTopic===r);if(!x)return this.client.logger.error(`Pending session not found for topic ${r}`);const M=this.client.proposal.get(x.proposalId),C=fi(dr(dr(dr({topic:r,relay:c,expiry:m,namespaces:p,acknowledged:!0,pairingTopic:x.pairingTopic,requiredNamespaces:M.requiredNamespaces,optionalNamespaces:M.optionalNamespaces,controller:f.publicKey,self:{publicKey:x.publicKey,metadata:this.client.metadata},peer:{publicKey:f.publicKey,metadata:f.metadata}},d&&{sessionProperties:d}),y&&{scopedProperties:y}),_&&{sessionConfig:_}),{transportType:wr.relay});await this.client.session.set(C.topic,C),await this.setExpiry(C.topic,C.expiry),await this.client.core.pairing.updateMetadata({topic:x.pairingTopic,metadata:C.peer.metadata}),this.client.events.emit("session_connect",{session:C}),this.events.emit(Ft("session_connect",x.proposalId),{session:C}),this.pendingSessions.delete(x.proposalId),this.deleteProposal(x.proposalId,!1),this.cleanupDuplicatePairings(C),await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:r,error:c}),this.client.logger.error(c)}}),De(this,"onSessionSettleResponse",async(r,i)=>{const{id:s}=i;Mn(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ft("session_approve",s),{})):Vi(i)&&(await this.client.session.delete(r,Vt("USER_DISCONNECTED")),this.events.emit(Ft("session_approve",s),{error:i.error}))}),De(this,"onSessionUpdateRequest",async(r,i)=>{const{params:s,id:n}=i;try{const c=`${r}_session_update`,f=pc.get(c);if(f&&this.isRequestOutOfSync(f,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:r,error:Vt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(dr({topic:r},s));try{pc.set(c,n),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0})}catch(m){throw pc.delete(c),m}this.client.events.emit("session_update",{id:n,topic:r,params:s})}catch(c){await this.sendError({id:n,topic:r,error:c}),this.client.logger.error(c)}}),De(this,"isRequestOutOfSync",(r,i)=>i.toString().slice(0,-3)<r.toString().slice(0,-3)),De(this,"onSessionUpdateResponse",(r,i)=>{const{id:s}=i,n=Ft("session_update",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);Mn(i)?this.events.emit(Ft("session_update",s),{}):Vi(i)&&this.events.emit(Ft("session_update",s),{error:i.error})}),De(this,"onSessionExtendRequest",async(r,i)=>{const{id:s}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Or(Go)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(n){await this.sendError({id:s,topic:r,error:n}),this.client.logger.error(n)}}),De(this,"onSessionExtendResponse",(r,i)=>{const{id:s}=i,n=Ft("session_extend",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);Mn(i)?this.events.emit(Ft("session_extend",s),{}):Vi(i)&&this.events.emit(Ft("session_extend",s),{error:i.error})}),De(this,"onSessionPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(n){await this.sendError({id:s,topic:r,error:n}),this.client.logger.error(n)}}),De(this,"onSessionPingResponse",(r,i)=>{const{id:s}=i,n=Ft("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners 2176`);Mn(i)?this.events.emit(Ft("session_ping",s),{}):Vi(i)&&this.events.emit(Ft("session_ping",s),{error:i.error})},500)}),De(this,"onSessionDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),Promise.all([new Promise(n=>{this.client.core.relayer.once(qr.publish,async()=>{n(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Vt("USER_DISCONNECTED")})]).catch(n=>this.client.logger.error(n))}catch(n){this.client.logger.error(n)}}),De(this,"onSessionRequest",async r=>{var i,s,n;const{topic:c,payload:f,attestation:m,encryptedId:p,transportType:d}=r,{id:y,params:_}=f;try{await this.isValidRequest(dr({topic:c},_));const x=this.client.session.get(c),M=await this.getVerifyContext({attestationId:m,hash:Cn(JSON.stringify(As("wc_sessionRequest",_,y))),encryptedId:p,metadata:x.peer.metadata,transportType:d}),C={id:y,topic:c,params:_,verifyContext:M};await this.setPendingSessionRequest(C),d===wr.link_mode&&(i=x.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((s=x.peer.metadata.redirect)==null?void 0:s.universal),(n=this.client.signConfig)!=null&&n.disableRequestQueue?this.emitSessionRequest(C):(this.addSessionRequestToSessionRequestQueue(C),this.processSessionRequestQueue())}catch(x){await this.sendError({id:y,topic:c,error:x}),this.client.logger.error(x)}}),De(this,"onSessionRequestResponse",(r,i)=>{const{id:s}=i,n=Ft("session_request",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);Mn(i)?this.events.emit(Ft("session_request",s),{result:i.result}):Vi(i)&&this.events.emit(Ft("session_request",s),{error:i.error})}),De(this,"onSessionEventRequest",async(r,i)=>{const{id:s,params:n}=i;try{const c=`${r}_session_event_${n.event.name}`,f=pc.get(c);if(f&&this.isRequestOutOfSync(f,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(dr({topic:r},n)),this.client.events.emit("session_event",{id:s,topic:r,params:n}),pc.set(c,s)}catch(c){await this.sendError({id:s,topic:r,error:c}),this.client.logger.error(c)}}),De(this,"onSessionAuthenticateResponse",(r,i)=>{const{id:s}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),Mn(i)?this.events.emit(Ft("session_request",s),{result:i.result}):Vi(i)&&this.events.emit(Ft("session_request",s),{error:i.error})}),De(this,"onSessionAuthenticateRequest",async r=>{var i;const{topic:s,payload:n,attestation:c,encryptedId:f,transportType:m}=r;try{const{requester:p,authPayload:d,expiryTimestamp:y}=n.params,_=await this.getVerifyContext({attestationId:c,hash:Cn(JSON.stringify(n)),encryptedId:f,metadata:p.metadata,transportType:m}),x={requester:p,pairingTopic:s,id:n.id,authPayload:d,verifyContext:_,expiryTimestamp:y};await this.setAuthRequest(n.id,{request:x,pairingTopic:s,transportType:m}),m===wr.link_mode&&(i=p.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(p.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:n.params,id:n.id,verifyContext:_})}catch(p){this.client.logger.error(p);const d=n.params.requester.publicKey,y=await this.client.core.crypto.generateKeyPair(),_=this.getAppLinkIfEnabled(n.params.requester.metadata,m),x={type:Zn,receiverPublicKey:d,senderPublicKey:y};await this.sendError({id:n.id,topic:s,error:p,encodeOpts:x,rpcOpts:Fr.wc_sessionAuthenticate.autoReject,appLink:_})}}),De(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),De(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=_n.idle,this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay))}),De(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:i})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(n=>n.topic===r&&n.request.method==="wc_sessionRequest").forEach(n=>{const c=n.request.id,f=Ft("session_request",c);if(this.events.listenerCount(f)===0)throw new Error(`emitting ${f} without any listeners`);this.events.emit(Ft("session_request",n.request.id),{error:i})})}),De(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===_n.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=_n.active,this.emitSessionRequest(r)}catch(i){this.client.logger.error(i)}}),De(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),De(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);i&&this.onSessionProposeRequest({topic:r.topic,payload:As("wc_sessionPropose",fi(dr({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id)})}),De(this,"isValidConnect",async r=>{if(!_i(r)){const{message:p}=je("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(p)}const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:n,sessionProperties:c,scopedProperties:f,relays:m}=r;if(Qr(i)||await this.isValidPairingTopic(i),!MF(m)){const{message:p}=je("MISSING_OR_INVALID",`connect() relays: ${m}`);throw new Error(p)}if(!Qr(s)&&ru(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Qr(n)&&ru(n)!==0&&this.validateNamespaces(n,"optionalNamespaces"),Qr(c)||this.validateSessionProps(c,"sessionProperties"),!Qr(f)){this.validateSessionProps(f,"scopedProperties");const p=Object.keys(s||{}).concat(Object.keys(n||{}));if(!Object.keys(f).every(d=>p.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(f)}, required/optional namespaces: ${JSON.stringify(p)}`)}}),De(this,"validateNamespaces",(r,i)=>{const s=xF(r,"connect()",i);if(s)throw new Error(s.message)}),De(this,"isValidApprove",async r=>{if(!_i(r))throw new Error(je("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:s,relayProtocol:n,sessionProperties:c,scopedProperties:f}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const m=this.client.proposal.get(i),p=fg(s,"approve()");if(p)throw new Error(p.message);const d=KE(m.requiredNamespaces,s,"approve()");if(d)throw new Error(d.message);if(!Tr(n,!0)){const{message:y}=je("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(y)}if(Qr(c)||this.validateSessionProps(c,"sessionProperties"),!Qr(f)){this.validateSessionProps(f,"scopedProperties");const y=new Set(Object.keys(s));if(!Object.keys(f).every(_=>y.has(_)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(f)}, approved namespaces: ${Array.from(y).join(", ")}`)}}),De(this,"isValidReject",async r=>{if(!_i(r)){const{message:n}=je("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(n)}const{id:i,reason:s}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!SF(s)){const{message:n}=je("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(n)}}),De(this,"isValidSessionSettleRequest",r=>{if(!_i(r)){const{message:p}=je("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(p)}const{relay:i,controller:s,namespaces:n,expiry:c}=r;if(!l8(i)){const{message:p}=je("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const f=yF(s,"onSessionSettleRequest()");if(f)throw new Error(f.message);const m=fg(n,"onSessionSettleRequest()");if(m)throw new Error(m.message);if(gs(c)){const{message:p}=je("EXPIRED","onSessionSettleRequest()");throw new Error(p)}}),De(this,"isValidUpdate",async r=>{if(!_i(r)){const{message:m}=je("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(m)}const{topic:i,namespaces:s}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const n=this.client.session.get(i),c=fg(s,"update()");if(c)throw new Error(c.message);const f=KE(n.requiredNamespaces,s,"update()");if(f)throw new Error(f.message)}),De(this,"isValidExtend",async r=>{if(!_i(r)){const{message:s}=je("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),De(this,"isValidRequest",async r=>{if(!_i(r)){const{message:m}=je("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(m)}const{topic:i,request:s,chainId:n,expiry:c}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:f}=this.client.session.get(i);if(!VE(f,n)){const{message:m}=je("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(m)}if(!IF(s)){const{message:m}=je("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(m)}if(!NF(f,n,s.method)){const{message:m}=je("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(m)}if(c&&!BF(c,yg)){const{message:m}=je("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${yg.min} and ${yg.max}`);throw new Error(m)}}),De(this,"isValidRespond",async r=>{var i;if(!_i(r)){const{message:c}=je("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(c)}const{topic:s,response:n}=r;try{await this.isValidSessionTopic(s)}catch(c){throw(i=r==null?void 0:r.response)!=null&&i.id&&this.cleanupAfterResponse(r),c}if(!TF(n)){const{message:c}=je("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(c)}}),De(this,"isValidPing",async r=>{if(!_i(r)){const{message:s}=je("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)}),De(this,"isValidEmit",async r=>{if(!_i(r)){const{message:f}=je("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(f)}const{topic:i,event:s,chainId:n}=r;await this.isValidSessionTopic(i);const{namespaces:c}=this.client.session.get(i);if(!VE(c,n)){const{message:f}=je("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(f)}if(!RF(s)){const{message:f}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(f)}if(!PF(c,n,s.name)){const{message:f}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(f)}}),De(this,"isValidDisconnect",async r=>{if(!_i(r)){const{message:s}=je("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)}),De(this,"isValidAuthenticate",r=>{const{chains:i,uri:s,domain:n,nonce:c}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Tr(s,!1))throw new Error("uri is required parameter");if(!Tr(n,!1))throw new Error("domain is required parameter");if(!Tr(c,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(m=>va(m).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:f}=va(i[0]);if(f!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),De(this,"getVerifyContext",async r=>{const{attestationId:i,hash:s,encryptedId:n,metadata:c,transportType:f}=r,m={verified:{verifyUrl:c.verifyUrl||Uc,validation:"UNKNOWN",origin:c.url||""}};try{if(f===wr.link_mode){const d=this.getAppLinkIfEnabled(c,f);return m.verified.validation=d&&new URL(d).origin===new URL(c.url).origin?"VALID":"INVALID",m}const p=await this.client.core.verify.resolve({attestationId:i,hash:s,encryptedId:n,verifyUrl:c.verifyUrl});p&&(m.verified.origin=p.origin,m.verified.isScam=p.isScam,m.verified.validation=p.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(p){this.client.logger.warn(p)}return this.client.logger.debug(`Verify context: ${JSON.stringify(m)}`),m}),De(this,"validateSessionProps",(r,i)=>{Object.values(r).forEach((s,n)=>{if(s==null){const{message:c}=je("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[n]}`);throw new Error(c)}})}),De(this,"getPendingAuthRequest",r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0}),De(this,"addToRecentlyDeleted",(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const n=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=n)break;this.recentlyDeletedMap.delete(c)}}}),De(this,"checkRecentlyDeleted",r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:s}=je("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(s)}}),De(this,"isLinkModeEnabled",(r,i)=>{var s,n,c,f,m,p,d,y,_;return!r||i!==wr.link_mode?!1:((n=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:n.linkMode)===!0&&((f=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:f.universal)!==void 0&&((p=(m=this.client.metadata)==null?void 0:m.redirect)==null?void 0:p.universal)!==""&&((d=r==null?void 0:r.redirect)==null?void 0:d.universal)!==void 0&&((y=r==null?void 0:r.redirect)==null?void 0:y.universal)!==""&&((_=r==null?void 0:r.redirect)==null?void 0:_.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(ot==null?void 0:ot.Linking)<"u"}),De(this,"getAppLinkIfEnabled",(r,i)=>{var s;return this.isLinkModeEnabled(r,i)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),De(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const i=pE(r,"topic")||"",s=decodeURIComponent(pE(r,"wc_ev")||""),n=this.client.session.keys.includes(i);n&&this.client.session.update(i,{transportType:wr.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:s,sessionExists:n})}),De(this,"registerLinkModeListeners",async()=>{var r;if(ny()||Ls()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const i=ot==null?void 0:ot.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await i.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),De(this,"shouldSetTVF",(r,i)=>{if(!i||r!=="wc_sessionRequest")return!1;const{request:s}=i;return Object.keys(RA).includes(s.method)}),De(this,"getTVFParams",(r,i,s)=>{var n,c;try{const f=i.request.method,m=this.extractTxHashesFromResult(f,s);return fi(dr({correlationId:r,rpcMethods:[f],chainId:i.chainId},this.isValidContractData(i.request.params)&&{contractAddresses:[(c=(n=i.request.params)==null?void 0:n[0])==null?void 0:c.to]}),{txHashes:m})}catch(f){this.client.logger.warn("Error getting TVF params",f)}return{}}),De(this,"isValidContractData",r=>{var i;if(!r)return!1;try{const s=(r==null?void 0:r.data)||((i=r==null?void 0:r[0])==null?void 0:i.data);if(!s.startsWith("0x"))return!1;const n=s.slice(2);return/^[0-9a-fA-F]*$/.test(n)?n.length%2===0:!1}catch{}return!1}),De(this,"extractTxHashesFromResult",(r,i)=>{try{const s=RA[r];if(typeof i=="string")return[i];const n=i[s.key];if(Ao(n))return r==="solana_signAllTransactions"?n.map(c=>P$(c)):n;if(typeof n=="string")return[n]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,s]of Object.entries(r))for(const n of s)try{await this.onProviderMessageEvent({topic:i,message:n,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${n}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(qr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:i,attestation:s,transportType:n}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(El)?this.client.auth.authKeys.get(El):{publicKey:void 0};try{const f=await this.client.core.crypto.decode(r,i,{receiverPublicKey:c,encoding:n===wr.link_mode?dc:Es});py(f)?(this.client.core.history.set(r,f),await this.onRelayEventRequest({topic:r,payload:f,attestation:s,transportType:n,encryptedId:Cn(i)})):Hh(f)?(await this.client.core.history.resolve(f),await this.onRelayEventResponse({topic:r,payload:f,transportType:n}),this.client.core.history.delete(r,f.id)):await this.onRelayEventUnknownPayload({topic:r,payload:f,transportType:n}),await this.client.core.relayer.messages.ack(r,i)}catch(f){this.client.logger.error(f)}}registerExpirerEvents(){this.client.core.expirer.on(Hi.expired,async e=>{const{topic:r,id:i}=F5(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,je("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,je("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(to.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(to.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Tr(e,!1)){const{message:r}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(gs(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=je("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Tr(e,!1)){const{message:r}=je("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(gs(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=je("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=je("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Tr(e,!1)){const{message:r}=je("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=je("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!CF(e)){const{message:r}=je("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(gs(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=je("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class RH extends Uo{constructor(e,r){super(e,r,pH,my),this.core=e,this.logger=r}}let NH=class extends Uo{constructor(e,r){super(e,r,mH,my),this.core=e,this.logger=r}};class PH extends Uo{constructor(e,r){super(e,r,vH,my,i=>i.id),this.core=e,this.logger=r}}class OH extends Uo{constructor(e,r){super(e,r,_H,Vh,()=>El),this.core=e,this.logger=r}}class kH extends Uo{constructor(e,r){super(e,r,EH,Vh),this.core=e,this.logger=r}}class BH extends Uo{constructor(e,r){super(e,r,AH,Vh,i=>i.id),this.core=e,this.logger=r}}var DH=Object.defineProperty,$H=(t,e,r)=>e in t?DH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bg=(t,e,r)=>$H(t,typeof e!="symbol"?e+"":e,r);class UH{constructor(e,r){this.core=e,this.logger=r,bg(this,"authKeys"),bg(this,"pairingTopics"),bg(this,"requests"),this.authKeys=new OH(this.core,this.logger),this.pairingTopics=new kH(this.core,this.logger),this.requests=new BH(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var FH=Object.defineProperty,LH=(t,e,r)=>e in t?FH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pt=(t,e,r)=>LH(t,typeof e!="symbol"?e+"":e,r);let qH=class $8 extends dT{constructor(e){super(e),Pt(this,"protocol",k8),Pt(this,"version",B8),Pt(this,"name",vg.name),Pt(this,"metadata"),Pt(this,"core"),Pt(this,"logger"),Pt(this,"events",new Zi.EventEmitter),Pt(this,"engine"),Pt(this,"session"),Pt(this,"proposal"),Pt(this,"pendingRequest"),Pt(this,"auth"),Pt(this,"signConfig"),Pt(this,"on",(i,s)=>this.events.on(i,s)),Pt(this,"once",(i,s)=>this.events.once(i,s)),Pt(this,"off",(i,s)=>this.events.off(i,s)),Pt(this,"removeListener",(i,s)=>this.events.removeListener(i,s)),Pt(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Pt(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"update",async i=>{try{return await this.engine.update(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"request",async i=>{try{return await this.engine.request(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"find",i=>{try{return this.engine.find(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Pt(this,"authenticate",async(i,s)=>{try{return await this.engine.authenticate(i,s)}catch(n){throw this.logger.error(n.message),n}}),Pt(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(s){throw this.logger.error(s.message),s}}),Pt(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||vg.name,this.metadata=(e==null?void 0:e.metadata)||D5(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Wu(qa({level:(e==null?void 0:e.logger)||vg.logger}));this.core=(e==null?void 0:e.core)||new dH(e),this.logger=ui(r,this.name),this.session=new NH(this.core,this.logger),this.proposal=new RH(this.core,this.logger),this.pendingRequest=new PH(this.core,this.logger),this.engine=new TH(this),this.auth=new UH(this.core,this.logger)}static async init(e){const r=new $8(e);return await r.initialize(),r}get context(){return Ci(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},qe.toMiliseconds(qe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Gf={exports:{}},PA;function jH(){return PA||(PA=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mt<"u"&&mt,i=function(){function n(){this.fetch=!1,this.DOMException=r.DOMException}return n.prototype=r,new n}();(function(n){(function(c){var f=typeof n<"u"&&n||typeof self<"u"&&self||typeof mt<"u"&&mt||{},m={searchParams:"URLSearchParams"in f,iterable:"Symbol"in f&&"iterator"in Symbol,blob:"FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in f,arrayBuffer:"ArrayBuffer"in f};function p(h){return h&&DataView.prototype.isPrototypeOf(h)}if(m.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(h){return h&&d.indexOf(Object.prototype.toString.call(h))>-1};function _(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError('Invalid character in header field name: "'+h+'"');return h.toLowerCase()}function x(h){return typeof h!="string"&&(h=String(h)),h}function M(h){var g={next:function(){var w=h.shift();return{done:w===void 0,value:w}}};return m.iterable&&(g[Symbol.iterator]=function(){return g}),g}function C(h){this.map={},h instanceof C?h.forEach(function(g,w){this.append(w,g)},this):Array.isArray(h)?h.forEach(function(g){if(g.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+g.length);this.append(g[0],g[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(g){this.append(g,h[g])},this)}C.prototype.append=function(h,g){h=_(h),g=x(g);var w=this.map[h];this.map[h]=w?w+", "+g:g},C.prototype.delete=function(h){delete this.map[_(h)]},C.prototype.get=function(h){return h=_(h),this.has(h)?this.map[h]:null},C.prototype.has=function(h){return this.map.hasOwnProperty(_(h))},C.prototype.set=function(h,g){this.map[_(h)]=x(g)},C.prototype.forEach=function(h,g){for(var w in this.map)this.map.hasOwnProperty(w)&&h.call(g,this.map[w],w,this)},C.prototype.keys=function(){var h=[];return this.forEach(function(g,w){h.push(w)}),M(h)},C.prototype.values=function(){var h=[];return this.forEach(function(g){h.push(g)}),M(h)},C.prototype.entries=function(){var h=[];return this.forEach(function(g,w){h.push([w,g])}),M(h)},m.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function T(h){if(!h._noBody){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}}function S(h){return new Promise(function(g,w){h.onload=function(){g(h.result)},h.onerror=function(){w(h.error)}})}function I(h){var g=new FileReader,w=S(g);return g.readAsArrayBuffer(h),w}function N(h){var g=new FileReader,w=S(g),A=/charset=([A-Za-z0-9_-]+)/.exec(h.type),v=A?A[1]:"utf-8";return g.readAsText(h,v),w}function O(h){for(var g=new Uint8Array(h),w=new Array(g.length),A=0;A<g.length;A++)w[A]=String.fromCharCode(g[A]);return w.join("")}function D(h){if(h.slice)return h.slice(0);var g=new Uint8Array(h.byteLength);return g.set(new Uint8Array(h)),g.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:m.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:m.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():m.arrayBuffer&&m.blob&&p(h)?(this._bodyArrayBuffer=D(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||y(h))?this._bodyArrayBuffer=D(h):this._bodyText=h=Object.prototype.toString.call(h):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var h=T(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=T(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(m.blob)return this.blob().then(I);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var h=T(this);if(h)return h;if(this._bodyBlob)return N(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(te)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function G(h){var g=h.toUpperCase();return z.indexOf(g)>-1?g:h}function L(h,g){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g=g||{};var w=g.body;if(h instanceof L){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,g.headers||(this.headers=new C(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!w&&h._bodyInit!=null&&(w=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new C(g.headers)),this.method=G(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal||function(){if("AbortController"in f){var a=new AbortController;return a.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(w),(this.method==="GET"||this.method==="HEAD")&&(g.cache==="no-store"||g.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var v=/\?/;this.url+=(v.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function te(h){var g=new FormData;return h.trim().split("&").forEach(function(w){if(w){var A=w.split("="),v=A.shift().replace(/\+/g," "),a=A.join("=").replace(/\+/g," ");g.append(decodeURIComponent(v),decodeURIComponent(a))}}),g}function E(h){var g=new C,w=h.replace(/\r?\n[\t ]+/g," ");return w.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var v=A.split(":"),a=v.shift().trim();if(a){var b=v.join(":").trim();try{g.append(a,b)}catch(R){console.warn("Response "+R.message)}}}),g}$.call(L.prototype);function o(h,g){if(!(this instanceof o))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=g.statusText===void 0?"":""+g.statusText,this.headers=new C(g.headers),this.url=g.url||"",this._initBody(h)}$.call(o.prototype),o.prototype.clone=function(){return new o(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},o.error=function(){var h=new o(null,{status:200,statusText:""});return h.ok=!1,h.status=0,h.type="error",h};var u=[301,302,303,307,308];o.redirect=function(h,g){if(u.indexOf(g)===-1)throw new RangeError("Invalid status code");return new o(null,{status:g,headers:{location:h}})},c.DOMException=f.DOMException;try{new c.DOMException}catch{c.DOMException=function(g,w){this.message=g,this.name=w;var A=Error(g);this.stack=A.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function l(h,g){return new Promise(function(w,A){var v=new L(h,g);if(v.signal&&v.signal.aborted)return A(new c.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function b(){a.abort()}a.onload=function(){var F={statusText:a.statusText,headers:E(a.getAllResponseHeaders()||"")};v.url.indexOf("file://")===0&&(a.status<200||a.status>599)?F.status=200:F.status=a.status,F.url="responseURL"in a?a.responseURL:F.headers.get("X-Request-URL");var K="response"in a?a.response:a.responseText;setTimeout(function(){w(new o(K,F))},0)},a.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request timed out"))},0)},a.onabort=function(){setTimeout(function(){A(new c.DOMException("Aborted","AbortError"))},0)};function R(F){try{return F===""&&f.location.href?f.location.href:F}catch{return F}}if(a.open(v.method,R(v.url),!0),v.credentials==="include"?a.withCredentials=!0:v.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(m.blob?a.responseType="blob":m.arrayBuffer&&(a.responseType="arraybuffer")),g&&typeof g.headers=="object"&&!(g.headers instanceof C||f.Headers&&g.headers instanceof f.Headers)){var P=[];Object.getOwnPropertyNames(g.headers).forEach(function(F){P.push(_(F)),a.setRequestHeader(F,x(g.headers[F]))}),v.headers.forEach(function(F,K){P.indexOf(K)===-1&&a.setRequestHeader(K,F)})}else v.headers.forEach(function(F,K){a.setRequestHeader(K,F)});v.signal&&(v.signal.addEventListener("abort",b),a.onreadystatechange=function(){a.readyState===4&&v.signal.removeEventListener("abort",b)}),a.send(typeof v._bodyInit>"u"?null:v._bodyInit)})}return l.polyfill=!0,f.fetch||(f.fetch=l,f.Headers=C,f.Request=L,f.Response=o),c.Headers=C,c.Request=L,c.Response=o,c.fetch=l,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Gf,Gf.exports)),Gf.exports}var zH=jH();const OA=vh(zH);var HH=Object.defineProperty,WH=Object.defineProperties,VH=Object.getOwnPropertyDescriptors,kA=Object.getOwnPropertySymbols,KH=Object.prototype.hasOwnProperty,GH=Object.prototype.propertyIsEnumerable,BA=(t,e,r)=>e in t?HH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DA=(t,e)=>{for(var r in e||(e={}))KH.call(e,r)&&BA(t,r,e[r]);if(kA)for(var r of kA(e))GH.call(e,r)&&BA(t,r,e[r]);return t},$A=(t,e)=>WH(t,VH(e));const ZH={Accept:"application/json","Content-Type":"application/json"},YH="POST",UA={headers:ZH,method:YH},FA=10;let pn=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Zi.EventEmitter,this.isAvailable=!1,this.registering=!1,!eA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=es(e),i=await(await OA(this.url,$A(DA({},UA),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!eA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,s)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),s(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=es({id:1,jsonrpc:"2.0",method:"test",params:[]});await OA(e,$A(DA({},UA),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?vo(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const i=this.parseError(r),s=i.message||i.toString(),n=zh(e,s);this.events.emit("payload",n)}parseError(e,r=this.url){return p8(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>FA&&this.events.setMaxListeners(FA)}};const LA="error",JH="wss://relay.walletconnect.org",QH="wc",XH="universal_provider",Zf=`${QH}@2:${XH}:`,U8="https://rpc.walletconnect.org/v1/",ua="generic",eW=`${U8}bundler`,en={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function tW(){}function gy(t){return t==null||typeof t!="object"&&typeof t!="function"}function vy(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rW(t){if(gy(t))return t;if(Array.isArray(t)||vy(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const i=new r(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const i=new r(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const i=Object.create(e);return Object.assign(i,t)}return t}function qA(t){return typeof t=="object"&&t!==null}function F8(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function L8(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const iW="[object RegExp]",q8="[object String]",j8="[object Number]",z8="[object Boolean]",H8="[object Arguments]",nW="[object Symbol]",sW="[object Date]",oW="[object Map]",aW="[object Set]",cW="[object Array]",uW="[object ArrayBuffer]",fW="[object Object]",lW="[object DataView]",hW="[object Uint8Array]",dW="[object Uint8ClampedArray]",pW="[object Uint16Array]",mW="[object Uint32Array]",gW="[object Int8Array]",vW="[object Int16Array]",yW="[object Int32Array]",bW="[object Float32Array]",wW="[object Float64Array]";function _W(t,e){return pa(t,void 0,t,new Map,e)}function pa(t,e,r,i=new Map,s=void 0){const n=s==null?void 0:s(t,e,r,i);if(n!=null)return n;if(gy(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const c=new Array(t.length);i.set(t,c);for(let f=0;f<t.length;f++)c[f]=pa(t[f],f,r,i,s);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;i.set(t,c);for(const[f,m]of t)c.set(f,pa(m,f,r,i,s));return c}if(t instanceof Set){const c=new Set;i.set(t,c);for(const f of t)c.add(pa(f,void 0,r,i,s));return c}if(typeof lt<"u"&&lt.isBuffer(t))return t.subarray();if(vy(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,c);for(let f=0;f<t.length;f++)c[f]=pa(t[f],f,r,i,s);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,c),ro(c,t,r,i,s),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return i.set(t,c),ro(c,t,r,i,s),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return i.set(t,c),ro(c,t,r,i,s),c}if(t instanceof Error){const c=new t.constructor;return i.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,ro(c,t,r,i,s),c}if(typeof t=="object"&&EW(t)){const c=Object.create(Object.getPrototypeOf(t));return i.set(t,c),ro(c,t,r,i,s),c}return t}function ro(t,e,r=t,i,s){const n=[...Object.keys(e),...F8(e)];for(let c=0;c<n.length;c++){const f=n[c],m=Object.getOwnPropertyDescriptor(t,f);(m==null||m.writable)&&(t[f]=pa(e[f],f,r,i,s))}}function EW(t){switch(L8(t)){case H8:case cW:case uW:case lW:case z8:case sW:case bW:case wW:case gW:case vW:case yW:case oW:case j8:case fW:case iW:case aW:case q8:case nW:case hW:case dW:case pW:case mW:return!0;default:return!1}}function AW(t,e){return _W(t,(r,i,s,n)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case j8:case q8:case z8:{const c=new t.constructor(t==null?void 0:t.valueOf());return ro(c,t),c}case H8:{const c={};return ro(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function jA(t){return AW(t)}function zA(t){return t!==null&&typeof t=="object"&&L8(t)==="[object Arguments]"}function xW(t){return vy(t)}function MW(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${i}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function CW(t,...e){const r=e.slice(0,-1),i=e[e.length-1];let s=t;for(let n=0;n<r.length;n++){const c=r[n];s=qv(s,c,i,new Map)}return s}function qv(t,e,r,i){if(gy(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(i.has(e))return rW(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let n=0;n<e.length;n++)e[n]=e[n]??void 0}const s=[...Object.keys(e),...F8(e)];for(let n=0;n<s.length;n++){const c=s[n];let f=e[c],m=t[c];if(zA(f)&&(f={...f}),zA(m)&&(m={...m}),typeof lt<"u"&&lt.isBuffer(f)&&(f=jA(f)),Array.isArray(f))if(typeof m=="object"&&m!=null){const d=[],y=Reflect.ownKeys(m);for(let _=0;_<y.length;_++){const x=y[_];d[x]=m[x]}m=d}else m=[];const p=r(m,f,c,t,e,i);p!=null?t[c]=p:Array.isArray(f)||qA(m)&&qA(f)?t[c]=qv(m,f,r,i):m==null&&MW(f)?t[c]=qv({},f,r,i):m==null&&xW(f)?t[c]=jA(f):(m===void 0||f!==void 0)&&(t[c]=f)}return t}function SW(t,...e){return CW(t,...e,tW)}var IW=Object.defineProperty,TW=Object.defineProperties,RW=Object.getOwnPropertyDescriptors,HA=Object.getOwnPropertySymbols,NW=Object.prototype.hasOwnProperty,PW=Object.prototype.propertyIsEnumerable,WA=(t,e,r)=>e in t?IW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yf=(t,e)=>{for(var r in e||(e={}))NW.call(e,r)&&WA(t,r,e[r]);if(HA)for(var r of HA(e))PW.call(e,r)&&WA(t,r,e[r]);return t},OW=(t,e)=>TW(t,RW(e));function Di(t,e,r){var i;const s=va(t);return((i=e.rpcMap)==null?void 0:i[s.reference])||`${U8}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function Fo(t){return t.includes(":")?t.split(":")[1]:t}function W8(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function kW(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const i=[];return r.forEach(s=>{const n=e.namespaces[s].accounts;i.push(...n)}),i}function wg(t={},e={}){const r=VA(t),i=VA(e);return SW(r,i)}function VA(t){var e,r,i,s;const n={};if(!ru(t))return n;for(const[c,f]of Object.entries(t)){const m=ly(c)?[c]:f.chains,p=f.methods||[],d=f.events||[],y=f.rpcMap||{},_=Pc(c);n[_]=OW(Yf(Yf({},n[_]),f),{chains:yl(m,(e=n[_])==null?void 0:e.chains),methods:yl(p,(r=n[_])==null?void 0:r.methods),events:yl(d,(i=n[_])==null?void 0:i.events),rpcMap:Yf(Yf({},y),(s=n[_])==null?void 0:s.rpcMap)})}return n}function BW(t){return t.includes(":")?t.split(":")[2]:t}function KA(t){const e={};for(const[r,i]of Object.entries(t)){const s=i.methods||[],n=i.events||[],c=i.accounts||[],f=ly(r)?[r]:i.chains?i.chains:W8(i.accounts);e[r]={chains:f,methods:s,events:n,accounts:c}}return e}function _g(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const V8={},$t=t=>V8[t],Eg=(t,e)=>{V8[t]=e};var DW=Object.defineProperty,$W=(t,e,r)=>e in t?DW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zo=(t,e,r)=>$W(t,typeof e!="symbol"?e+"":e,r);class UW{constructor(e){Zo(this,"name","polkadot"),Zo(this,"client"),Zo(this,"httpProviders"),Zo(this,"events"),Zo(this,"namespace"),Zo(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=Fo(r);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var FW=Object.defineProperty,LW=Object.defineProperties,qW=Object.getOwnPropertyDescriptors,GA=Object.getOwnPropertySymbols,jW=Object.prototype.hasOwnProperty,zW=Object.prototype.propertyIsEnumerable,jv=(t,e,r)=>e in t?FW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ZA=(t,e)=>{for(var r in e||(e={}))jW.call(e,r)&&jv(t,r,e[r]);if(GA)for(var r of GA(e))zW.call(e,r)&&jv(t,r,e[r]);return t},YA=(t,e)=>LW(t,qW(e)),Yo=(t,e,r)=>jv(t,typeof e!="symbol"?e+"":e,r);class HW{constructor(e){Yo(this,"name","eip155"),Yo(this,"client"),Yo(this,"chainId"),Yo(this,"namespace"),Yo(this,"httpProviders"),Yo(this,"events"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const i=r||Di(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=parseInt(Fo(r));e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,i;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const n=parseInt(s,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${n}`);else throw new Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,i,s;const n=(i=(r=e.request)==null?void 0:r.params)==null?void 0:i[0];if(!n)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),f=((s=c==null?void 0:c.sessionProperties)==null?void 0:s.capabilities)||{};if(f!=null&&f[n])return f==null?void 0:f[n];const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:YA(ZA({},c.sessionProperties||{}),{capabilities:YA(ZA({},f||{}),{[n]:m})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return m}async getCallStatus(e){var r,i;const s=this.client.session.get(e.topic),n=(r=s.sessionProperties)==null?void 0:r.bundler_name;if(n){const f=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(f,e)}catch(m){console.warn("Failed to fetch call status from bundler",m,f)}}const c=(i=s.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(f){console.warn("Failed to fetch call status from custom bundler",f,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var i;const s=new URL(e),n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(As("eth_getUserOperationReceipt",[(i=r.request.params)==null?void 0:i[0]]))});if(!n.ok)throw new Error(`Failed to fetch user operation receipt - ${n.status}`);return await n.json()}getBundlerUrl(e,r){return`${eW}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var WW=Object.defineProperty,VW=(t,e,r)=>e in t?WW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jo=(t,e,r)=>VW(t,typeof e!="symbol"?e+"":e,r);class KW{constructor(e){Jo(this,"name","solana"),Jo(this,"client"),Jo(this,"httpProviders"),Jo(this,"events"),Jo(this,"namespace"),Jo(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=Fo(r);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var GW=Object.defineProperty,ZW=(t,e,r)=>e in t?GW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qo=(t,e,r)=>ZW(t,typeof e!="symbol"?e+"":e,r);class YW{constructor(e){Qo(this,"name","cosmos"),Qo(this,"client"),Qo(this,"httpProviders"),Qo(this,"events"),Qo(this,"namespace"),Qo(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=Fo(r);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var JW=Object.defineProperty,QW=(t,e,r)=>e in t?JW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xo=(t,e,r)=>QW(t,typeof e!="symbol"?e+"":e,r);class XW{constructor(e){Xo(this,"name","algorand"),Xo(this,"client"),Xo(this,"httpProviders"),Xo(this,"events"),Xo(this,"namespace"),Xo(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const i=r||Di(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Xi(new pn(i,$t("disableProviderPing")))}}var eV=Object.defineProperty,tV=(t,e,r)=>e in t?eV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ea=(t,e,r)=>tV(t,typeof e!="symbol"?e+"":e,r);class rV{constructor(e){ea(this,"name","cip34"),ea(this,"client"),ea(this,"httpProviders"),ea(this,"events"),ea(this,"namespace"),ea(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),s=Fo(r);e[s]=this.createHttpProvider(s,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var iV=Object.defineProperty,nV=(t,e,r)=>e in t?iV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ta=(t,e,r)=>nV(t,typeof e!="symbol"?e+"":e,r);class sV{constructor(e){ta(this,"name","elrond"),ta(this,"client"),ta(this,"httpProviders"),ta(this,"events"),ta(this,"namespace"),ta(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=Fo(r);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var oV=Object.defineProperty,aV=(t,e,r)=>e in t?oV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ra=(t,e,r)=>aV(t,typeof e!="symbol"?e+"":e,r);class cV{constructor(e){ra(this,"name","multiversx"),ra(this,"client"),ra(this,"httpProviders"),ra(this,"events"),ra(this,"namespace"),ra(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;const s=Fo(r);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var uV=Object.defineProperty,fV=(t,e,r)=>e in t?uV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ia=(t,e,r)=>fV(t,typeof e!="symbol"?e+"":e,r);class lV{constructor(e){ia(this,"name","near"),ia(this,"client"),ia(this,"httpProviders"),ia(this,"events"),ia(this,"namespace"),ia(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const i=r||Di(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var i;e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace);return typeof i>"u"?void 0:new Xi(new pn(i,$t("disableProviderPing")))}}var hV=Object.defineProperty,dV=(t,e,r)=>e in t?hV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,na=(t,e,r)=>dV(t,typeof e!="symbol"?e+"":e,r);class pV{constructor(e){na(this,"name","tezos"),na(this,"client"),na(this,"httpProviders"),na(this,"events"),na(this,"namespace"),na(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const i=r||Di(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace);return typeof i>"u"?void 0:new Xi(new pn(i))}}var mV=Object.defineProperty,gV=(t,e,r)=>e in t?mV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sa=(t,e,r)=>gV(t,typeof e!="symbol"?e+"":e,r);class vV{constructor(e){sa(this,"name",ua),sa(this,"client"),sa(this,"httpProviders"),sa(this,"events"),sa(this,"namespace"),sa(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(en.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const i={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{const n=va(s);i[`${n.namespace}:${n.reference}`]=this.createHttpProvider(s)}),i}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const i=this.createHttpProvider(e,r);i&&(this.httpProviders[e]=i)}createHttpProvider(e,r){const i=r||Di(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xi(new pn(i,$t("disableProviderPing")))}}var yV=Object.defineProperty,bV=Object.defineProperties,wV=Object.getOwnPropertyDescriptors,JA=Object.getOwnPropertySymbols,_V=Object.prototype.hasOwnProperty,EV=Object.prototype.propertyIsEnumerable,zv=(t,e,r)=>e in t?yV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jf=(t,e)=>{for(var r in e||(e={}))_V.call(e,r)&&zv(t,r,e[r]);if(JA)for(var r of JA(e))EV.call(e,r)&&zv(t,r,e[r]);return t},Ag=(t,e)=>bV(t,wV(e)),qi=(t,e,r)=>zv(t,typeof e!="symbol"?e+"":e,r);let AV=class K8{constructor(e){qi(this,"client"),qi(this,"namespaces"),qi(this,"optionalNamespaces"),qi(this,"sessionProperties"),qi(this,"scopedProperties"),qi(this,"events",new C1),qi(this,"rpcProviders",{}),qi(this,"session"),qi(this,"providerOpts"),qi(this,"logger"),qi(this,"uri"),qi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Wu(qa({level:(e==null?void 0:e.logger)||LA})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new K8(e);return await r.initialize(),r}async request(e,r,i){const[s,n]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Jf({},e),chainId:`${s}:${n}`,topic:this.session.topic,expiry:i})}sendAsync(e,r,i,s){const n=new Date().getTime();this.request(e,i,s).then(c=>r(null,jh(n,c))).catch(c=>r(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Vt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:s}=await this.client.authenticate(e,r);i&&(this.uri=i,this.events.emit("display_uri",i));const n=await s();if(this.session=n.session,this.session){const c=KA(this.session.namespaces);this.namespaces=wg(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();this.session=s;const n=KA(s.namespaces);return this.namespaces=wg(this.namespaces,n),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[i,s]=this.validateChain(e),n=this.getProvider(i);n.name===ua?n.setDefaultChain(`${i}:${s}`,r):n.setDefaultChain(s,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Ao(r)){for(const i of r)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await qH.init({core:this.providerOpts.core,logger:this.providerOpts.logger||LA,relayUrl:this.providerOpts.relayUrl||JH,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Pc(r)))];Eg("client",this.client),Eg("events",this.events),Eg("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const i=kW(r,this.session),s=W8(i),n=wg(this.namespaces,this.optionalNamespaces),c=Ag(Jf({},n[r]),{accounts:i,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new HW({namespace:c});break;case"algorand":this.rpcProviders[r]=new XW({namespace:c});break;case"solana":this.rpcProviders[r]=new KW({namespace:c});break;case"cosmos":this.rpcProviders[r]=new YW({namespace:c});break;case"polkadot":this.rpcProviders[r]=new UW({namespace:c});break;case"cip34":this.rpcProviders[r]=new rV({namespace:c});break;case"elrond":this.rpcProviders[r]=new sV({namespace:c});break;case"multiversx":this.rpcProviders[r]=new cV({namespace:c});break;case"near":this.rpcProviders[r]=new lV({namespace:c});break;case"tezos":this.rpcProviders[r]=new pV({namespace:c});break;default:this.rpcProviders[ua]?this.rpcProviders[ua].updateNamespace(c):this.rpcProviders[ua]=new vV({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:i}=e;i===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:i,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;const{event:n}=i;if(n.name==="accountsChanged"){const c=n.data;c&&Ao(c)&&this.events.emit("accountsChanged",c.map(BW))}else if(n.name==="chainChanged"){const c=i.chainId,f=i.event.data,m=Pc(c),p=_g(c)!==_g(f)?`${m}:${_g(f)}`:c;this.onChainChanged(p)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var i,s;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:n}=r,c=(s=this.client)==null?void 0:s.session.get(e);this.session=Ag(Jf({},c),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ag(Jf({},Vt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(en.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ua]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:n}=e;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=s,this.scopedProperties=n}validateChain(e){const[r,i]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(c=>Pc(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const s=Pc(Object.keys(this.namespaces)[0]),n=this.rpcProviders[s].getDefaultChain();return[s,n]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(r||this.getProvider(i).setDefaultChain(s),this.namespaces[i]?this.namespaces[i].defaultChain=s:this.namespaces[`${i}:${s}`]?this.namespaces[`${i}:${s}`].defaultChain=s:this.namespaces[`${i}:${s}`]={defaultChain:s},this.events.emit("chainChanged",s),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var i;const s=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${Zf}/${e}${s}`,r)}async getFromStore(e){var r;const i=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Zf}/${e}${i}`)}async deleteFromStore(e){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Zf}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const i of r)i.startsWith(Zf)&&await this.client.core.storage.removeItem(i)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};var Ia={};const xV="https://secure.walletconnect.org/sdk",MV=(typeof We<"u"&&typeof Ia<"u"?Ia.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||xV,CV=(typeof We<"u"&&typeof Ia<"u"?Ia.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",SV=(typeof We<"u"&&typeof Ia<"u"?Ia.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",tt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Rr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Qs=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Pr=Ar({...Qs}),Xr={state:Pr,subscribeKey(t,e){return Mi(Pr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=dt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Pr.message=Qs.message,Pr.variant=Qs.variant,Pr.svg=Qs.svg,Pr.open=Qs.open,Pr.autoClose=Qs.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:i=Qs.autoClose}){Pr.open?(Pr.open=!1,setTimeout(()=>{Pr.message=t,Pr.variant=r,Pr.svg=e,Pr.open=!0,Pr.autoClose=i},150)):(Pr.message=t,Pr.variant=r,Pr.svg=e,Pr.open=!0,Pr.autoClose=i)}},Lc={getSIWX(){return Fe.state.siwx},async initializeIfEnabled(){var n;const t=Fe.state.siwx,e=le.getActiveCaipAddress();if(!(t&&e))return;const[r,i,s]=e.split(":");if(le.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${i}`,s)).length)return;await Nr.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),mr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((n=pr._getClient())==null?void 0:n.disconnect().catch(console.error)),jt.reset("Connect"),Xr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Fe.state.siwx,e=dt.getPlainAddress(le.getActiveCaipAddress()),r=le.getActiveCaipNetwork(),i=pr._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!i)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),n=s.toString();wt.getConnectorId(r.chainNamespace)===Ue.CONNECTOR_ID.AUTH&&jt.pushTransactionStack({view:null,goBack:!1,replace:!0});const f=await i.signMessage(n);await t.addSession({data:s,message:n,signature:f}),Nr.close(),mr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const n=this.getSIWXEventProperties();(!Nr.state.open||jt.state.view==="ApproveTransaction")&&await Nr.open({view:"SIWXSignMessage"}),n.isSmartAccount?Xr.showError("This application might not support Smart Accounts"):Xr.showError("Signature declined"),mr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:n}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await pr.disconnect():Nr.close(),jt.reset("Connect"),mr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Fe.state.siwx,e=dt.getPlainAddress(le.getActiveCaipAddress()),r=le.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=jt.state.view==="ApproveTransaction",i=jt.state.view==="SIWXSignMessage";if(r||i)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var f,m,p;const i=Lc.getSIWX(),s=new Set(e.map(d=>d.split(":")[0]));if(!i||s.size!==1||!s.has("eip155"))return!1;const n=await i.createMessage({chainId:((f=le.getActiveCaipNetwork())==null?void 0:f.caipNetworkId)||"",accountAddress:""}),c=await t.authenticate({nonce:n.nonce,domain:n.domain,uri:n.uri,exp:n.expirationTime,iat:n.issuedAt,nbf:n.notBefore,requestId:n.requestId,version:n.version,resources:n.resources,statement:n.statement,chainId:n.chainId,methods:r,chains:[n.chainId,...e.filter(d=>d!==n.chainId)]});if(Xr.showLoading("Authenticating...",{autoClose:!1}),nt.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:(m=c.session.peer.metadata.icons)==null?void 0:m[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(p=c==null?void 0:c.auths)!=null&&p.length){const d=c.auths.map(y=>{const _=t.client.formatAuthMessage({request:y.p,iss:y.p.iss});return{data:{...y.p,accountAddress:y.p.iss.split(":").slice(-1).join(""),chainId:y.p.iss.split(":").slice(2,4).join(":"),uri:y.p.aud,version:y.p.version||n.version,expirationTime:y.p.exp,issuedAt:y.p.iat,notBefore:y.p.nbf},message:_,signature:y.s.s,cacao:y}});try{await i.setSessions(d),mr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Lc.getSIWXEventProperties()})}catch(y){throw console.error("SIWX:universalProviderAuth - failed to set sessions",y),mr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Lc.getSIWXEventProperties()}),await t.disconnect().catch(console.error),y}finally{Xr.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=le.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},yr=Ar({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),IV={state:yr,subscribe(t){return pi(yr,()=>t(yr))},setLastNetworkInView(t){yr.lastNetworkInView=t},async fetchTransactions(t,e){var r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");yr.loading=!0;try{const i=await ft.fetchTransactions({account:t,cursor:yr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),s=this.filterSpamTransactions(i.data),n=this.filterByConnectedChain(s),c=[...yr.transactions,...n];yr.loading=!1,e==="coinbase"?yr.coinbaseTransactions=this.groupTransactionsByYearAndMonth(yr.coinbaseTransactions,i.data):(yr.transactions=c,yr.transactionsByYear=this.groupTransactionsByYearAndMonth(yr.transactionsByYear,n)),yr.empty=c.length===0,yr.next=i.next?i.next:void 0}catch{mr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Fe.state.projectId,cursor:yr.next,isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Xr.showError("Failed to fetch transactions"),yr.loading=!1,yr.empty=!0,yr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(i=>{const s=new Date(i.metadata.minedAt).getFullYear(),n=new Date(i.metadata.minedAt).getMonth(),c=r[s]??{},m=(c[n]??[]).filter(p=>p.id!==i.id);r[s]={...c,[n]:[...m,i].sort((p,d)=>new Date(d.metadata.minedAt).getTime()-new Date(p.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(i=>{var s;return((s=i.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var i;const e=(i=le.state.activeCaipNetwork)==null?void 0:i.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){yr.next=void 0},resetTransactions(){yr.transactions=[],yr.transactionsByYear={},yr.lastNetworkInView=void 0,yr.loading=!1,yr.empty=!1,yr.next=void 0}},br=Ar({wcError:!1,buffering:!1,status:"disconnected"});let oa;const pr={state:br,subscribeKey(t,e){return Mi(br,t,e)},_getClient(){return br._client},setClient(t){br._client=go(t)},async connectWalletConnect(){var t,e,r,i;if(dt.isTelegram()||dt.isSafari()&&dt.isIos()){if(oa){await oa,oa=void 0;return}if(!dt.isPairingExpired(br==null?void 0:br.wcPairingExpiry)){const s=br.wcUri;br.wcUri=s;return}oa=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await oa,oa=void 0,br.wcPairingExpiry=void 0,this.state.status="connected"}else await((i=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:i.call(r))},async connectExternal(t,e,r=!0){var i,s;await((s=(i=this._getClient())==null?void 0:i.connectExternal)==null?void 0:s.call(i,t)),r&&le.setActiveNamespace(e)},async reconnectExternal(t){var r,i;await((i=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:i.call(r,t));const e=t.chain||le.state.activeChain;e&&wt.setConnectorId(t.id,e)},async setPreferredAccountType(t){var r;Nr.setLoading(!0,le.state.activeChain);const e=wt.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),Nr.setLoading(!1,le.state.activeChain),mr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){br.wcUri=void 0,br.wcPairingExpiry=void 0,br.wcLinking=void 0,br.recentWallet=void 0,br.status="disconnected",IV.resetTransactions(),et.deleteWalletConnectDeepLink()},resetUri(){br.wcUri=void 0,br.wcPairingExpiry=void 0},finalizeWcConnection(){var r,i;const{wcLinking:t,recentWallet:e}=pr.state;t&&et.setWalletConnectDeepLink(t),e&&et.setAppKitRecent(e),mr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((i=(r=jt.state.data)==null?void 0:r.wallet)==null?void 0:i.name)||"Unknown"}})},setWcBasic(t){br.wcBasic=t},setUri(t){br.wcUri=t,br.wcPairingExpiry=dt.getPairingExpiry()},setWcLinking(t){br.wcLinking=t},setWcError(t){br.wcError=t,br.buffering=!1},setRecentWallet(t){br.recentWallet=t},setBuffering(t){br.buffering=t},setStatus(t){br.status=t},async disconnect(t){try{Nr.setLoading(!0,t),await Lc.clearSessions(),await le.disconnect(t),Nr.setLoading(!1,t),wt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},bc=Ar({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Yn={state:bc,subscribe(t){return pi(bc,()=>t(bc))},set(t){Object.assign(bc,{...bc,...t})}};function Kt(t,e,r){const i=t[e.name];if(typeof i=="function")return i;const s=t[r];return typeof s=="function"?s:n=>e(t,n)}function Ps(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new LV(t.type);return`${t.name}(${Kh(t.inputs,{includeName:e})})`}function Kh(t,{includeName:e=!1}={}){return t?t.map(r=>TV(r,{includeName:e})).join(e?", ":","):""}function TV(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Kh(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function ts(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function $r(t){return ts(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const G8="2.25.0";let wc={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${G8}`};class Be extends Error{constructor(e,r={}){var f;const i=(()=>{var m;return r.cause instanceof Be?r.cause.details:(m=r.cause)!=null&&m.message?r.cause.message:r.details})(),s=r.cause instanceof Be&&r.cause.docsPath||r.docsPath,n=(f=wc.getDocsUrl)==null?void 0:f.call(wc,{...r,docsPath:s}),c=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...n?[`Docs: ${n}`]:[],...i?[`Details: ${i}`]:[],...wc.version?[`Version: ${wc.version}`]:[]].join(`
`);super(c,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=G8}walk(e){return Z8(this,e)}}function Z8(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Z8(t.cause,e):e?null:t}class RV extends Be{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class QA extends Be{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Y8 extends Be{constructor({data:e,params:r,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Kh(r,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=i}}class Gh extends Be{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class NV extends Be{constructor({expectedLength:e,givenLength:r,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class PV extends Be{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${$r(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class OV extends Be{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class J8 extends Be{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class kV extends Be{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Q8 extends Be{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class zl extends Be{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class BV extends Be{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class DV extends Be{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ps(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Ps(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class fre extends Be{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}}class Hv extends Be{constructor({abiItem:e,data:r,params:i,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Kh(i,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=i,this.size=s}}class X8 extends Be{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ps(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class $V extends Be{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class UV extends Be{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}class FV extends Be{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class LV extends Be{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class lre extends Be{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class eM extends Be{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}}class tM extends Be{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}class XA extends Be{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${r} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function Ja(t,{dir:e,size:r=32}={}){return typeof t=="string"?Cs(t,{dir:e,size:r}):qV(t,{dir:e,size:r})}function Cs(t,{dir:e,size:r=32}={}){if(r===null)return t;const i=t.replace("0x","");if(i.length>r*2)throw new tM({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function qV(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new tM({size:t.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const n=e==="right";i[n?s:r-s-1]=t[n?s:t.length-s-1]}return i}class rM extends Be{constructor({max:e,min:r,signed:i,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class jV extends Be{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class zV extends Be{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Nn(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,i=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=e==="left"?r.slice(i):r.slice(0,r.length-i),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function mn(t,{size:e}){if($r(t)>e)throw new zV({givenSize:$r(t),maxSize:e})}function un(t,e={}){const{signed:r}=e;e.size&&mn(t,{size:e.size});const i=BigInt(t);if(!r)return i;const s=(t.length-2)/2,n=(1n<<BigInt(s)*8n-1n)-1n;return i<=n?i:i-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Os(t,e={}){return Number(un(t,e))}function iM(t,e={}){let r=Pn(t);return e.size&&(mn(r,{size:e.size}),r=Nn(r,{dir:"right"})),new TextDecoder().decode(r)}const HV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ht(t,e={}){return typeof t=="number"||typeof t=="bigint"?Rt(t,e):typeof t=="string"?Zh(t,e):typeof t=="boolean"?nM(t,e):Wr(t,e)}function nM(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(mn(r,{size:e.size}),Ja(r,{size:e.size})):r}function Wr(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=HV[t[s]];const i=`0x${r}`;return typeof e.size=="number"?(mn(i,{size:e.size}),Ja(i,{dir:"right",size:e.size})):i}function Rt(t,e={}){const{signed:r,size:i}=e,s=BigInt(t);let n;i?r?n=(1n<<BigInt(i)*8n-1n)-1n:n=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(n=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof n=="bigint"&&r?-n-1n:0;if(n&&s>n||s<c){const m=typeof t=="bigint"?"n":"";throw new rM({max:n?`${n}${m}`:void 0,min:`${c}${m}`,signed:r,size:i,value:`${t}${m}`})}const f=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?Ja(f,{size:i}):f}const WV=new TextEncoder;function Zh(t,e={}){const r=WV.encode(t);return Wr(r,e)}const VV=new TextEncoder;function lf(t,e={}){return typeof t=="number"||typeof t=="bigint"?GV(t,e):typeof t=="boolean"?KV(t,e):ts(t)?Pn(t,e):ho(t,e)}function KV(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(mn(r,{size:e.size}),Ja(r,{size:e.size})):r}const Vn={zero:48,nine:57,A:65,F:70,a:97,f:102};function e6(t){if(t>=Vn.zero&&t<=Vn.nine)return t-Vn.zero;if(t>=Vn.A&&t<=Vn.F)return t-(Vn.A-10);if(t>=Vn.a&&t<=Vn.f)return t-(Vn.a-10)}function Pn(t,e={}){let r=t;e.size&&(mn(r,{size:e.size}),r=Ja(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,n=new Uint8Array(s);for(let c=0,f=0;c<s;c++){const m=e6(i.charCodeAt(f++)),p=e6(i.charCodeAt(f++));if(m===void 0||p===void 0)throw new Be(`Invalid byte sequence ("${i[f-2]}${i[f-1]}" in "${i}").`);n[c]=m*16+p}return n}function GV(t,e){const r=Rt(t,e);return Pn(r)}function ho(t,e={}){const r=VV.encode(t);return typeof e.size=="number"?(mn(r,{size:e.size}),Ja(r,{dir:"right",size:e.size})):r}function ks(t,e){const r=e||"hex",i=R4(ts(t,{strict:!1})?lf(t):t);return r==="bytes"?i:ht(i)}const ZV=t=>ks(lf(t));function YV(t){return ZV(t)}function JV(t){let e=!0,r="",i=0,s="",n=!1;for(let c=0;c<t.length;c++){const f=t[c];if(["(",")",","].includes(f)&&(e=!0),f==="("&&i++,f===")"&&i--,!!e){if(i===0){if(f===" "&&["event","function",""].includes(s))s="";else if(s+=f,f===")"){n=!0;break}continue}if(f===" "){t[c-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=f,r+=f}}if(!n)throw new Be("Unable to normalize signature.");return s}const QV=t=>{const e=typeof t=="string"?t:EN(t);return JV(e)};function sM(t){return YV(QV(t))}const yy=sM;class xi extends Be{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Yh extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const xg=new Yh(8192);function Jh(t,e){if(xg.has(`${t}.${e}`))return xg.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),i=ks(ho(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let c=0;c<40;c+=2)i[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(i[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const n=`0x${s.join("")}`;return xg.set(`${t}.${e}`,n),n}function so(t,e){if(!ei(t,{strict:!1}))throw new xi({address:t});return Jh(t,e)}const XV=/^0x[a-fA-F0-9]{40}$/,Mg=new Yh(8192);function ei(t,e){const{strict:r=!0}=e??{},i=`${t}.${r}`;if(Mg.has(i))return Mg.get(i);const s=XV.test(t)?t.toLowerCase()===t?!0:r?Jh(t)===t:!0:!1;return Mg.set(i,s),s}function xo(t){return typeof t[0]=="string"?ss(t):eK(t)}function eK(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let i=0;for(const s of t)r.set(s,i),i+=s.length;return r}function ss(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function nu(t,e,r,{strict:i}={}){return ts(t,{strict:!1})?tK(t,e,r,{strict:i}):cM(t,e,r,{strict:i})}function oM(t,e){if(typeof e=="number"&&e>0&&e>$r(t)-1)throw new eM({offset:e,position:"start",size:$r(t)})}function aM(t,e,r){if(typeof e=="number"&&typeof r=="number"&&$r(t)!==r-e)throw new eM({offset:r,position:"end",size:$r(t)})}function cM(t,e,r,{strict:i}={}){oM(t,e);const s=t.slice(e,r);return i&&aM(s,e,r),s}function tK(t,e,r,{strict:i}={}){oM(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&aM(s,e,r),s}const hre=/^(.*)\[([0-9]*)\]$/,dre=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rK=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function uM(t,e){if(t.length!==e.length)throw new OV({expectedLength:t.length,givenLength:e.length});const r=iK({params:t,values:e}),i=wy(r);return i.length===0?"0x":i}function iK({params:t,values:e}){const r=[];for(let i=0;i<t.length;i++)r.push(by({param:t[i],value:e[i]}));return r}function by({param:t,value:e}){const r=_y(t.type);if(r){const[i,s]=r;return sK(e,{length:i,param:{...t,type:s}})}if(t.type==="tuple")return fK(e,{param:t});if(t.type==="address")return nK(e);if(t.type==="bool")return aK(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const i=t.type.startsWith("int"),[,,s="256"]=rK.exec(t.type)??[];return cK(e,{signed:i,size:Number(s)})}if(t.type.startsWith("bytes"))return oK(e,{param:t});if(t.type==="string")return uK(e);throw new $V(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function wy(t){let e=0;for(let n=0;n<t.length;n++){const{dynamic:c,encoded:f}=t[n];c?e+=32:e+=$r(f)}const r=[],i=[];let s=0;for(let n=0;n<t.length;n++){const{dynamic:c,encoded:f}=t[n];c?(r.push(Rt(e+s,{size:32})),i.push(f),s+=$r(f)):r.push(f)}return xo([...r,...i])}function nK(t){if(!ei(t))throw new xi({address:t});return{dynamic:!1,encoded:Cs(t.toLowerCase())}}function sK(t,{length:e,param:r}){const i=e===null;if(!Array.isArray(t))throw new FV(t);if(!i&&t.length!==e)throw new NV({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let s=!1;const n=[];for(let c=0;c<t.length;c++){const f=by({param:r,value:t[c]});f.dynamic&&(s=!0),n.push(f)}if(i||s){const c=wy(n);if(i){const f=Rt(n.length,{size:32});return{dynamic:!0,encoded:n.length>0?xo([f,c]):f}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:xo(n.map(({encoded:c})=>c))}}function oK(t,{param:e}){const[,r]=e.type.split("bytes"),i=$r(t);if(!r){let s=t;return i%32!==0&&(s=Cs(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:xo([Cs(Rt(i,{size:32})),s])}}if(i!==Number.parseInt(r))throw new PV({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:Cs(t,{dir:"right"})}}function aK(t){if(typeof t!="boolean")throw new Be(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Cs(nM(t))}}function cK(t,{signed:e,size:r=256}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(t>i||t<s)throw new rM({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Rt(t,{size:32,signed:e})}}function uK(t){const e=Zh(t),r=Math.ceil($r(e)/32),i=[];for(let s=0;s<r;s++)i.push(Cs(nu(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:xo([Cs(Rt($r(e),{size:32})),...i])}}function fK(t,{param:e}){let r=!1;const i=[];for(let s=0;s<e.components.length;s++){const n=e.components[s],c=Array.isArray(t)?s:n.name,f=by({param:n,value:t[c]});i.push(f),f.dynamic&&(r=!0)}return{dynamic:r,encoded:r?wy(i):xo(i.map(({encoded:s})=>s))}}function _y(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Ey=t=>nu(sM(t),0,4);function Ay(t){const{abi:e,args:r=[],name:i}=t,s=ts(i,{strict:!1}),n=e.filter(f=>s?f.type==="function"?Ey(f)===i:f.type==="event"?yy(f)===i:!1:"name"in f&&f.name===i);if(n.length===0)return;if(n.length===1)return n[0];let c;for(const f of n){if(!("inputs"in f))continue;if(!r||r.length===0){if(!f.inputs||f.inputs.length===0)return f;continue}if(!f.inputs||f.inputs.length===0||f.inputs.length!==r.length)continue;if(r.every((p,d)=>{const y="inputs"in f&&f.inputs[d];return y?Wv(p,y):!1})){if(c&&"inputs"in c&&c.inputs){const p=fM(f.inputs,c.inputs,r);if(p)throw new DV({abiItem:f,type:p[0]},{abiItem:c,type:p[1]})}c=f}}return c||n[0]}function Wv(t,e){const r=typeof t,i=e.type;switch(i){case"address":return ei(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,n)=>Wv(Object.values(t)[n],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(t)&&t.every(s=>Wv(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function fM(t,e,r){for(const i in t){const s=t[i],n=e[i];if(s.type==="tuple"&&n.type==="tuple"&&"components"in s&&"components"in n)return fM(s.components,n.components,r[i]);const c=[s.type,n.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?ei(r[i],{strict:!1}):c.includes("address")&&c.includes("bytes")?ei(r[i],{strict:!1}):!1)return c}}function lK(t,{method:e}){var i,s;const r={};return t.transport.type==="fallback"&&((s=(i=t.transport).onResponse)==null||s.call(i,({method:n,response:c,status:f,transport:m})=>{f==="success"&&e===n&&(r[c]=m.request)})),n=>r[n]||t.request}function $n(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const t6="/docs/contract/encodeFunctionData";function hK(t){const{abi:e,args:r,functionName:i}=t;let s=e[0];if(i){const n=Ay({abi:e,args:r,name:i});if(!n)throw new zl(i,{docsPath:t6});s=n}if(s.type!=="function")throw new zl(void 0,{docsPath:t6});return{abi:[s],functionName:Ey(Ps(s))}}function Qa(t){const{args:e}=t,{abi:r,functionName:i}=(()=>{var f;return t.abi.length===1&&((f=t.functionName)!=null&&f.startsWith("0x"))?t:hK(t)})(),s=r[0],n=i,c="inputs"in s&&s.inputs?uM(s.inputs,e??[]):void 0;return ss([n,c??"0x"])}const lM={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},dK={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},pK={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class r6 extends Be{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class hM extends Be{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class mK extends Be{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const gK={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new mK({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new hM({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new r6({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new r6({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function xy(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(gK);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function vK(t,e={}){typeof e.size<"u"&&mn(t,{size:e.size});const r=Wr(t,e);return un(r,e)}function yK(t,e={}){let r=t;if(typeof e.size<"u"&&(mn(r,{size:e.size}),r=Nn(r)),r.length>1||r[0]>1)throw new jV(r);return!!r[0]}function Jn(t,e={}){typeof e.size<"u"&&mn(t,{size:e.size});const r=Wr(t,e);return Os(r,e)}function bK(t,e={}){let r=t;return typeof e.size<"u"&&(mn(r,{size:e.size}),r=Nn(r,{dir:"right"})),new TextDecoder().decode(r)}function Qh(t,e){const r=typeof e=="string"?Pn(e):e,i=xy(r);if($r(r)===0&&t.length>0)throw new Gh;if($r(e)&&$r(e)<32)throw new Y8({data:typeof e=="string"?e:Wr(e),params:t,size:$r(e)});let s=0;const n=[];for(let c=0;c<t.length;++c){const f=t[c];i.setPosition(s);const[m,p]=ya(i,f,{staticPosition:0});s+=p,n.push(m)}return n}function ya(t,e,{staticPosition:r}){const i=_y(e.type);if(i){const[s,n]=i;return _K(t,{...e,type:n},{length:s,staticPosition:r})}if(e.type==="tuple")return MK(t,e,{staticPosition:r});if(e.type==="address")return wK(t);if(e.type==="bool")return EK(t);if(e.type.startsWith("bytes"))return AK(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return xK(t,e);if(e.type==="string")return CK(t,{staticPosition:r});throw new UV(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const i6=32,Vv=32;function wK(t){const e=t.readBytes(32);return[Jh(Wr(cM(e,-20))),32]}function _K(t,e,{length:r,staticPosition:i}){if(!r){const c=Jn(t.readBytes(Vv)),f=i+c,m=f+i6;t.setPosition(f);const p=Jn(t.readBytes(i6)),d=su(e);let y=0;const _=[];for(let x=0;x<p;++x){t.setPosition(m+(d?x*32:y));const[M,C]=ya(t,e,{staticPosition:m});y+=C,_.push(M)}return t.setPosition(i+32),[_,32]}if(su(e)){const c=Jn(t.readBytes(Vv)),f=i+c,m=[];for(let p=0;p<r;++p){t.setPosition(f+p*32);const[d]=ya(t,e,{staticPosition:f});m.push(d)}return t.setPosition(i+32),[m,32]}let s=0;const n=[];for(let c=0;c<r;++c){const[f,m]=ya(t,e,{staticPosition:i+s});s+=m,n.push(f)}return[n,s]}function EK(t){return[yK(t.readBytes(32),{size:32}),32]}function AK(t,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const c=Jn(t.readBytes(32));t.setPosition(r+c);const f=Jn(t.readBytes(32));if(f===0)return t.setPosition(r+32),["0x",32];const m=t.readBytes(f);return t.setPosition(r+32),[Wr(m),32]}return[Wr(t.readBytes(Number.parseInt(s),32)),32]}function xK(t,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[i>48?vK(s,{signed:r}):Jn(s,{signed:r}),32]}function MK(t,e,{staticPosition:r}){const i=e.components.length===0||e.components.some(({name:c})=>!c),s=i?[]:{};let n=0;if(su(e)){const c=Jn(t.readBytes(Vv)),f=r+c;for(let m=0;m<e.components.length;++m){const p=e.components[m];t.setPosition(f+n);const[d,y]=ya(t,p,{staticPosition:f});n+=y,s[i?m:p==null?void 0:p.name]=d}return t.setPosition(r+32),[s,32]}for(let c=0;c<e.components.length;++c){const f=e.components[c],[m,p]=ya(t,f,{staticPosition:r});s[i?c:f==null?void 0:f.name]=m,n+=p}return[s,n]}function CK(t,{staticPosition:e}){const r=Jn(t.readBytes(32)),i=e+r;t.setPosition(i);const s=Jn(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const n=t.readBytes(s,32),c=bK(Nn(n));return t.setPosition(e+32),[c,32]}function su(t){var i;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=t.components)==null?void 0:i.some(su);const r=_y(t.type);return!!(r&&su({...t,type:r[1]}))}function SK(t){const{abi:e,data:r}=t,i=nu(r,0,4);if(i==="0x")throw new Gh;const n=[...e||[],dK,pK].find(c=>c.type==="error"&&i===Ey(Ps(c)));if(!n)throw new J8(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:n,args:"inputs"in n&&n.inputs&&n.inputs.length>0?Qh(n.inputs,nu(r,4)):void 0,errorName:n.name}}const Gi=(t,e,r)=>JSON.stringify(t,(i,s)=>typeof s=="bigint"?s.toString():s,r);function dM({abiItem:t,args:e,includeFunctionName:r=!0,includeName:i=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((s,n)=>`${i&&s.name?`${s.name}: `:""}${typeof e[n]=="object"?Gi(e[n]):e[n]}`).join(", ")})`}const IK={gwei:9,wei:18},TK={ether:-9,wei:9},RK={ether:-18,gwei:-9};function Xa(t,e){let r=t.toString();const i=r.startsWith("-");i&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,n]=[r.slice(0,r.length-e),r.slice(r.length-e)];return n=n.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${n?`.${n}`:""}`}function My(t,e="wei"){return Xa(t,IK[e])}function Ai(t,e="wei"){return Xa(t,TK[e])}class NK extends Be{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class PK extends Be{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function n6(t){return t.reduce((e,{slot:r,value:i})=>`${e}        ${r}: ${i}
`,"")}function OK(t){return t.reduce((e,{address:r,...i})=>{let s=`${e}    ${r}:
`;return i.nonce&&(s+=`      nonce: ${i.nonce}
`),i.balance&&(s+=`      balance: ${i.balance}
`),i.code&&(s+=`      code: ${i.code}
`),i.state&&(s+=`      state:
`,s+=n6(i.state)),i.stateDiff&&(s+=`      stateDiff:
`,s+=n6(i.stateDiff)),s},`  State Override:
`).slice(0,-1)}function hf(t){const e=Object.entries(t).map(([i,s])=>s===void 0||s===!1?null:[i,s]).filter(Boolean),r=e.reduce((i,[s])=>Math.max(i,s.length),0);return e.map(([i,s])=>`  ${`${i}:`.padEnd(r+1)}  ${s}`).join(`
`)}class kK extends Be{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class BK extends Be{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class DK extends Be{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",hf(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class $K extends Be{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class UK extends Be{constructor(e,{account:r,docsPath:i,chain:s,data:n,gas:c,gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:d,to:y,value:_}){var M;const x=hf({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:y,value:typeof _<"u"&&`${My(_)} ${((M=s==null?void 0:s.nativeCurrency)==null?void 0:M.symbol)||"ETH"}`,data:n,gas:c,gasPrice:typeof f<"u"&&`${Ai(f)} gwei`,maxFeePerGas:typeof m<"u"&&`${Ai(m)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${Ai(p)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",x].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class pM extends Be{constructor({blockHash:e,blockNumber:r,blockTag:i,hash:s,index:n}){let c="Transaction";i&&n!==void 0&&(c=`Transaction at block time "${i}" at index "${n}"`),e&&n!==void 0&&(c=`Transaction at block hash "${e}" at index "${n}"`),r&&n!==void 0&&(c=`Transaction at block number "${r}" at index "${n}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`,{name:"TransactionNotFoundError"})}}class mM extends Be{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class FK extends Be{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const LK=t=>t,Cy=t=>t;class qK extends Be{constructor(e,{account:r,docsPath:i,chain:s,data:n,gas:c,gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:d,to:y,value:_,stateOverride:x}){var T;const M=r?$n(r):void 0;let C=hf({from:M==null?void 0:M.address,to:y,value:typeof _<"u"&&`${My(_)} ${((T=s==null?void 0:s.nativeCurrency)==null?void 0:T.symbol)||"ETH"}`,data:n,gas:c,gasPrice:typeof f<"u"&&`${Ai(f)} gwei`,maxFeePerGas:typeof m<"u"&&`${Ai(m)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${Ai(p)} gwei`,nonce:d});x&&(C+=`
${OK(x)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",C].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gM extends Be{constructor(e,{abi:r,args:i,contractAddress:s,docsPath:n,functionName:c,sender:f}){const m=Ay({abi:r,args:i,name:c}),p=m?dM({abiItem:m,args:i,includeFunctionName:!1,includeName:!1}):void 0,d=m?Ps(m,{includeName:!0}):void 0,y=hf({address:s&&LK(s),function:d,args:p&&p!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${p}`,sender:f});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],y&&"Contract Call:",y].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=i,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=f}}class Kv extends Be{constructor({abi:e,data:r,functionName:i,message:s}){let n,c,f,m;if(r&&r!=="0x")try{c=SK({abi:e,data:r});const{abiItem:d,errorName:y,args:_}=c;if(y==="Error")m=_[0];else if(y==="Panic"){const[x]=_;m=lM[x]}else{const x=d?Ps(d,{includeName:!0}):void 0,M=d&&_?dM({abiItem:d,args:_,includeFunctionName:!1,includeName:!1}):void 0;f=[x?`Error: ${x}`:"",M&&M!=="()"?`       ${[...Array((y==null?void 0:y.length)??0).keys()].map(()=>" ").join("")}${M}`:""]}}catch(d){n=d}else s&&(m=s);let p;n instanceof J8&&(p=n.signature,f=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(m&&m!=="execution reverted"||p?[`The contract function "${i}" reverted with the following ${p?"signature":"reason"}:`,m||p].join(`
`):`The contract function "${i}" reverted.`,{cause:n,metaMessages:f,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=r,this.reason=m,this.signature=p}}class jK extends Be{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class zK extends Be{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Sy extends Be{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class qc extends Be{constructor({body:e,cause:r,details:i,headers:s,status:n,url:c}){super("HTTP request failed.",{cause:r,details:i,metaMessages:[n&&`Status: ${n}`,`URL: ${Cy(c)}`,e&&`Request body: ${Gi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=n,this.url=c}}class Iy extends Be{constructor({body:e,error:r,url:i}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Cy(i)}`,`Request body: ${Gi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class s6 extends Be{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Cy(r)}`,`Request body: ${Gi(e)}`],name:"TimeoutError"})}}const HK=-1;class Si extends Be{constructor(e,{code:r,docsPath:i,metaMessages:s,name:n,shortMessage:c}){super(c,{cause:e,docsPath:i,metaMessages:s||(e==null?void 0:e.metaMessages),name:n||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n||e.name,this.code=e instanceof Iy?e.code:r??HK}}class ec extends Si{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class ou extends Si{constructor(e){super(e,{code:ou.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class au extends Si{constructor(e){super(e,{code:au.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class cu extends Si{constructor(e,{method:r}={}){super(e,{code:cu.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class uu extends Si{constructor(e){super(e,{code:uu.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Mo extends Si{constructor(e){super(e,{code:Mo.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class fu extends Si{constructor(e){super(e,{code:fu.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(fu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class lu extends Si{constructor(e){super(e,{code:lu.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ss extends Si{constructor(e){super(e,{code:Ss.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ta extends Si{constructor(e){super(e,{code:Ta.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class oo extends Si{constructor(e,{method:r}={}){super(e,{code:oo.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ra extends Si{constructor(e){super(e,{code:Ra.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class hu extends Si{constructor(e){super(e,{code:hu.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class kr extends ec{constructor(e){super(e,{code:kr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class du extends ec{constructor(e){super(e,{code:du.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(du,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class pu extends ec{constructor(e,{method:r}={}){super(e,{code:pu.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(pu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mu extends ec{constructor(e){super(e,{code:mu.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class gu extends ec{constructor(e){super(e,{code:gu.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(gu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class On extends ec{constructor(e){super(e,{code:On.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class WK extends Si{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const VK=3;function Hl(t,{abi:e,address:r,args:i,docsPath:s,functionName:n,sender:c}){const f=t instanceof Sy?t:t instanceof Be?t.walk(M=>"data"in M)||t.walk():{},{code:m,data:p,details:d,message:y,shortMessage:_}=f,x=t instanceof Gh?new jK({functionName:n}):[VK,Mo.code].includes(m)&&(p||d||y||_)?new Kv({abi:e,data:typeof p=="object"?p.data:p,functionName:n,message:f instanceof Iy?d:_??y}):t;return new gM(x,{abi:e,args:i,contractAddress:r,docsPath:s,functionName:n,sender:c})}function KK(t){const e=ks(`0x${t.substring(4)}`).substring(26);return Jh(`0x${e}`)}async function GK({hash:t,signature:e}){const r=ts(t)?t:ht(t),{secp256k1:i}=await Ei(async()=>{const{secp256k1:c}=await import("./secp256k1-aZ9g9wnK.js");return{secp256k1:c}},__vite__mapDeps([0,1,2]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:p,s:d,v:y,yParity:_}=e,x=Number(_??y),M=o6(x);return new i.Signature(un(p),un(d)).addRecoveryBit(M)}const c=ts(e)?e:ht(e),f=Os(`0x${c.slice(130)}`),m=o6(f);return i.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(m)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function o6(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function ZK({hash:t,signature:e}){return KK(await GK({hash:t,signature:e}))}function Bs(t,e="hex"){const r=vM(t),i=xy(new Uint8Array(r.length));return r.encode(i),e==="hex"?Wr(i.bytes):i.bytes}function vM(t){return Array.isArray(t)?YK(t.map(e=>vM(e))):JK(t)}function YK(t){const e=t.reduce((s,n)=>s+n.length,0),r=yM(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:n}of t)n(s)}}}function JK(t){const e=typeof t=="string"?Pn(t):t,r=yM(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function yM(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Be("Length is too large.")}function QK(t){const{chainId:e,nonce:r,to:i}=t,s=t.contractAddress??t.address,n=ks(ss(["0x05",Bs([e?Rt(e):"0x",s,r?Rt(r):"0x"])]));return i==="bytes"?Pn(n):n}async function bM(t){const{authorization:e,signature:r}=t;return ZK({hash:QK(e),signature:r??e})}class XK extends Be{constructor(e,{account:r,docsPath:i,chain:s,data:n,gas:c,gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:d,to:y,value:_}){var M;const x=hf({from:r==null?void 0:r.address,to:y,value:typeof _<"u"&&`${My(_)} ${((M=s==null?void 0:s.nativeCurrency)==null?void 0:M.symbol)||"ETH"}`,data:n,gas:c,gasPrice:typeof f<"u"&&`${Ai(f)} gwei`,maxFeePerGas:typeof m<"u"&&`${Ai(m)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${Ai(p)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",x].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ao extends Be{constructor({cause:e,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ao,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Co extends Be{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ai(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Co,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Gv extends Be{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ai(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Gv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Zv extends Be{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Zv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Yv extends Be{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Yv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Jv extends Be{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Jv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Qv extends Be{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Qv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Xv extends Be{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class e1 extends Be{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(e1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class t1 extends Be{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(t1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class vu extends Be{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Ai(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${Ai(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(vu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Xh extends Be{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Ty(t,e){const r=(t.details||"").toLowerCase(),i=t instanceof Be?t.walk(s=>(s==null?void 0:s.code)===ao.code):t;return i instanceof Be?new ao({cause:t,message:i.details}):ao.nodeMessage.test(r)?new ao({cause:t,message:t.details}):Co.nodeMessage.test(r)?new Co({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Gv.nodeMessage.test(r)?new Gv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Zv.nodeMessage.test(r)?new Zv({cause:t,nonce:e==null?void 0:e.nonce}):Yv.nodeMessage.test(r)?new Yv({cause:t,nonce:e==null?void 0:e.nonce}):Jv.nodeMessage.test(r)?new Jv({cause:t,nonce:e==null?void 0:e.nonce}):Qv.nodeMessage.test(r)?new Qv({cause:t}):Xv.nodeMessage.test(r)?new Xv({cause:t,gas:e==null?void 0:e.gas}):e1.nodeMessage.test(r)?new e1({cause:t,gas:e==null?void 0:e.gas}):t1.nodeMessage.test(r)?new t1({cause:t}):vu.nodeMessage.test(r)?new vu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Xh({cause:t})}function eG(t,{docsPath:e,...r}){const i=(()=>{const s=Ty(t,r);return s instanceof Xh?t:s})();return new XK(i,{docsPath:e,...r})}function Ry(t,{format:e}){if(!e)return{};const r={};function i(n){const c=Object.keys(n);for(const f of c)f in t&&(r[f]=t[f]),n[f]&&typeof n[f]=="object"&&!Array.isArray(n[f])&&i(n[f])}const s=e(t||{});return i(s),r}function Ny(t,e){return({exclude:r,format:i})=>({exclude:r,format:s=>{const n=e(s);if(r)for(const c of r)delete n[c];return{...n,...i(s)}},type:t})}const tG={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Py(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=rG(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>Wr(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Rt(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Rt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Rt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Rt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Rt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Rt(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=tG[t.type]),typeof t.value<"u"&&(e.value=Rt(t.value)),e}function rG(t){return t.map(e=>({address:e.address,r:e.r?Rt(BigInt(e.r)):e.r,s:e.s?Rt(BigInt(e.s)):e.s,chainId:Rt(e.chainId),nonce:Rt(e.nonce),...typeof e.yParity<"u"?{yParity:Rt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Rt(e.v)}:{}}))}function a6(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:i})=>{if(r.length!==66)throw new XA({size:r.length,targetSize:66,type:"hex"});if(i.length!==66)throw new XA({size:i.length,targetSize:66,type:"hex"});return e[r]=i,e},{})}function iG(t){const{balance:e,nonce:r,state:i,stateDiff:s,code:n}=t,c={};if(n!==void 0&&(c.code=n),e!==void 0&&(c.balance=Rt(e)),r!==void 0&&(c.nonce=Rt(r)),i!==void 0&&(c.state=a6(i)),s!==void 0){if(c.state)throw new PK;c.stateDiff=a6(s)}return c}function wM(t){if(!t)return;const e={};for(const{address:r,...i}of t){if(!ei(r,{strict:!1}))throw new xi({address:r});if(e[r])throw new NK({address:r});e[r]=iG(i)}return e}const ed=2n**256n-1n;function td(t){const{account:e,gasPrice:r,maxFeePerGas:i,maxPriorityFeePerGas:s,to:n}=t,c=e?$n(e):void 0;if(c&&!ei(c.address))throw new xi({address:c.address});if(n&&!ei(n))throw new xi({address:n});if(typeof r<"u"&&(typeof i<"u"||typeof s<"u"))throw new kK;if(i&&i>ed)throw new Co({maxFeePerGas:i});if(s&&i&&s>i)throw new vu({maxFeePerGas:i,maxPriorityFeePerGas:s})}class nG extends Be{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Oy extends Be{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class sG extends Be{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ai(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class _M extends Be{constructor({blockHash:e,blockNumber:r}){let i="Block";e&&(i=`Block at hash "${e}"`),r&&(i=`Block at number "${r}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}const EM={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function rd(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Os(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Os(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?EM[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=aG(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const oG=Ny("transaction",rd);function aG(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function AM(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:rd(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const cG=Ny("block",AM);async function yu(t,{blockHash:e,blockNumber:r,blockTag:i,includeTransactions:s}={}){var d,y,_;const n=i??"latest",c=s??!1,f=r!==void 0?Rt(r):void 0;let m=null;if(e?m=await t.request({method:"eth_getBlockByHash",params:[e,c]},{dedupe:!0}):m=await t.request({method:"eth_getBlockByNumber",params:[f||n,c]},{dedupe:!!f}),!m)throw new _M({blockHash:e,blockNumber:r});return(((_=(y=(d=t.chain)==null?void 0:d.formatters)==null?void 0:y.block)==null?void 0:_.format)||AM)(m)}async function xM(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function uG(t,e){var n,c;const{block:r,chain:i=t.chain,request:s}=e||{};try{const f=((n=i==null?void 0:i.fees)==null?void 0:n.maxPriorityFeePerGas)??((c=i==null?void 0:i.fees)==null?void 0:c.defaultPriorityFee);if(typeof f=="function"){const p=r||await Kt(t,yu,"getBlock")({}),d=await f({block:p,client:t,request:s});if(d===null)throw new Error;return d}if(typeof f<"u")return f;const m=await t.request({method:"eth_maxPriorityFeePerGas"});return un(m)}catch{const[f,m]=await Promise.all([r?Promise.resolve(r):Kt(t,yu,"getBlock")({}),Kt(t,xM,"getGasPrice")({})]);if(typeof f.baseFeePerGas!="bigint")throw new Oy;const p=m-f.baseFeePerGas;return p<0n?0n:p}}async function c6(t,e){var _,x;const{block:r,chain:i=t.chain,request:s,type:n="eip1559"}=e||{},c=await(async()=>{var M,C;return typeof((M=i==null?void 0:i.fees)==null?void 0:M.baseFeeMultiplier)=="function"?i.fees.baseFeeMultiplier({block:r,client:t,request:s}):((C=i==null?void 0:i.fees)==null?void 0:C.baseFeeMultiplier)??1.2})();if(c<1)throw new nG;const m=10**(((_=c.toString().split(".")[1])==null?void 0:_.length)??0),p=M=>M*BigInt(Math.ceil(c*m))/BigInt(m),d=r||await Kt(t,yu,"getBlock")({});if(typeof((x=i==null?void 0:i.fees)==null?void 0:x.estimateFeesPerGas)=="function"){const M=await i.fees.estimateFeesPerGas({block:r,client:t,multiply:p,request:s,type:n});if(M!==null)return M}if(n==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Oy;const M=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await uG(t,{block:d,chain:i,request:s}),C=p(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??C+M,maxPriorityFeePerGas:M}}return{gasPrice:(s==null?void 0:s.gasPrice)??p(await Kt(t,xM,"getGasPrice")({}))}}async function fG(t,{address:e,blockTag:r="latest",blockNumber:i}){const s=await t.request({method:"eth_getTransactionCount",params:[e,i?Rt(i):r]},{dedupe:!!i});return Os(s)}function ky(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(n=>Pn(n)):t.blobs,s=[];for(const n of i)s.push(Uint8Array.from(e.blobToKzgCommitment(n)));return r==="bytes"?s:s.map(n=>Wr(n))}function By(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(c=>Pn(c)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(c=>Pn(c)):t.commitments,n=[];for(let c=0;c<i.length;c++){const f=i[c],m=s[c];n.push(Uint8Array.from(e.computeBlobKzgProof(f,m)))}return r==="bytes"?n:n.map(c=>Wr(c))}function lG(t,e){return tO(ts(t,{strict:!1})?lf(t):t)}function hG(t){const{commitment:e,version:r=1}=t,i=t.to??(typeof e=="string"?"hex":"bytes"),s=lG(e);return s.set([r],0),i==="bytes"?s:Wr(s)}function MM(t){const{commitments:e,version:r}=t,i=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const n of e)s.push(hG({commitment:n,to:i,version:r}));return s}const u6=6,CM=32,Dy=4096,SM=CM*Dy,f6=SM*u6-1-1*Dy*u6,IM=1;class dG extends Be{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class TM extends Be{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class pG extends Be{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class mG extends Be{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${IM}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function gG(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?Pn(t.data):t.data,i=$r(r);if(!i)throw new TM;if(i>f6)throw new dG({maxSize:f6,size:i});const s=[];let n=!0,c=0;for(;n;){const f=xy(new Uint8Array(SM));let m=0;for(;m<Dy;){const p=r.slice(c,c+(CM-1));if(f.pushByte(0),f.pushBytes(p),p.length<31){f.pushByte(128),n=!1;break}m++,c+=31}s.push(f)}return e==="bytes"?s.map(f=>f.bytes):s.map(f=>Wr(f.bytes))}function RM(t){const{data:e,kzg:r,to:i}=t,s=t.blobs??gG({data:e,to:i}),n=t.commitments??ky({blobs:s,kzg:r,to:i}),c=t.proofs??By({blobs:s,commitments:n,kzg:r,to:i}),f=[];for(let m=0;m<s.length;m++)f.push({blob:s[m],commitment:n[m],proof:c[m]});return f}function NM(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new DK({transaction:t})}async function PM(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Os(e)}const OM=["blobVersionedHashes","chainId","fees","gas","nonce","type"],l6=new Map;async function $y(t,e){const{account:r=t.account,blobs:i,chain:s,gas:n,kzg:c,nonce:f,nonceManager:m,parameters:p=OM,type:d}=e,y=r&&$n(r),_={...e,...y?{from:y==null?void 0:y.address}:{}};let x;async function M(){return x||(x=await Kt(t,yu,"getBlock")({blockTag:"latest"}),x)}let C;async function T(){return C||(s?s.id:typeof e.chainId<"u"?e.chainId:(C=await Kt(t,PM,"getChainId")({}),C))}if(p.includes("nonce")&&typeof f>"u"&&y)if(m){const S=await T();_.nonce=await m.consume({address:y.address,chainId:S,client:t})}else _.nonce=await Kt(t,fG,"getTransactionCount")({address:y.address,blockTag:"pending"});if((p.includes("blobVersionedHashes")||p.includes("sidecars"))&&i&&c){const S=ky({blobs:i,kzg:c});if(p.includes("blobVersionedHashes")){const I=MM({commitments:S,to:"hex"});_.blobVersionedHashes=I}if(p.includes("sidecars")){const I=By({blobs:i,commitments:S,kzg:c}),N=RM({blobs:i,commitments:S,proofs:I,to:"hex"});_.sidecars=N}}if(p.includes("chainId")&&(_.chainId=await T()),(p.includes("fees")||p.includes("type"))&&typeof d>"u")try{_.type=NM(_)}catch{let S=l6.get(t.uid);if(typeof S>"u"){const I=await M();S=typeof(I==null?void 0:I.baseFeePerGas)=="bigint",l6.set(t.uid,S)}_.type=S?"eip1559":"legacy"}if(p.includes("fees"))if(_.type!=="legacy"&&_.type!=="eip2930"){if(typeof _.maxFeePerGas>"u"||typeof _.maxPriorityFeePerGas>"u"){const S=await M(),{maxFeePerGas:I,maxPriorityFeePerGas:N}=await c6(t,{block:S,chain:s,request:_});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<N)throw new sG({maxPriorityFeePerGas:N});_.maxPriorityFeePerGas=N,_.maxFeePerGas=I}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Oy;if(typeof e.gasPrice>"u"){const S=await M(),{gasPrice:I}=await c6(t,{block:S,chain:s,request:_,type:"legacy"});_.gasPrice=I}}return p.includes("gas")&&typeof n>"u"&&(_.gas=await Kt(t,BM,"estimateGas")({..._,account:y&&{address:y.address,type:"json-rpc"}})),td(_),delete _.parameters,_}async function kM(t,{address:e,blockNumber:r,blockTag:i="latest"}){const s=r?Rt(r):void 0,n=await t.request({method:"eth_getBalance",params:[e,s||i]});return BigInt(n)}async function BM(t,e){var s,n,c;const{account:r=t.account}=e,i=r?$n(r):void 0;try{let l=function(g){const{block:w,request:A,rpcStateOverride:v}=g;return t.request({method:"eth_estimateGas",params:v?[A,w??"latest",v]:w?[A,w]:[A]})};const{accessList:f,authorizationList:m,blobs:p,blobVersionedHashes:d,blockNumber:y,blockTag:_,data:x,gas:M,gasPrice:C,maxFeePerBlobGas:T,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:N,value:O,stateOverride:D,...$}=await $y(t,{...e,parameters:(i==null?void 0:i.type)==="local"?void 0:["blobVersionedHashes"]}),G=(y?Rt(y):void 0)||_,L=wM(D),te=await(async()=>{if($.to)return $.to;if(m&&m.length>0)return await bM({authorization:m[0]}).catch(()=>{throw new Be("`to` is required. Could not infer from `authorizationList`")})})();td(e);const E=(c=(n=(s=t.chain)==null?void 0:s.formatters)==null?void 0:n.transactionRequest)==null?void 0:c.format,u=(E||Py)({...Ry($,{format:E}),from:i==null?void 0:i.address,accessList:f,authorizationList:m,blobs:p,blobVersionedHashes:d,data:x,gas:M,gasPrice:C,maxFeePerBlobGas:T,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:N,to:te,value:O});let h=BigInt(await l({block:G,request:u,rpcStateOverride:L}));if(m){const g=await kM(t,{address:u.from}),w=await Promise.all(m.map(async A=>{const{address:v}=A,a=await l({block:G,request:{authorizationList:void 0,data:x,from:i==null?void 0:i.address,to:v,value:Rt(g)},rpcStateOverride:L}).catch(()=>100000n);return 2n*BigInt(a)}));h+=w.reduce((A,v)=>A+v,0n)}return h}catch(f){throw eG(f,{...e,account:i,chain:t.chain})}}function vG(t,e){if(!ei(t,{strict:!1}))throw new xi({address:t});if(!ei(e,{strict:!1}))throw new xi({address:e});return t.toLowerCase()===e.toLowerCase()}const h6="/docs/contract/decodeEventLog";function yG(t){const{abi:e,data:r,strict:i,topics:s}=t,n=i??!0,[c,...f]=s;if(!c)throw new kV({docsPath:h6});const m=e.length===1?e[0]:e.find(C=>C.type==="event"&&c===yy(Ps(C)));if(!(m&&"name"in m)||m.type!=="event")throw new Q8(c,{docsPath:h6});const{name:p,inputs:d}=m,y=d==null?void 0:d.some(C=>!("name"in C&&C.name));let _=y?[]:{};const x=d.filter(C=>"indexed"in C&&C.indexed);for(let C=0;C<x.length;C++){const T=x[C],S=f[C];if(!S)throw new X8({abiItem:m,param:T});_[y?C:T.name||C]=bG({param:T,value:S})}const M=d.filter(C=>!("indexed"in C&&C.indexed));if(M.length>0){if(r&&r!=="0x")try{const C=Qh(M,r);if(C)if(y)_=[..._,...C];else for(let T=0;T<M.length;T++)_[M[T].name]=C[T]}catch(C){if(n)throw C instanceof Y8||C instanceof hM?new Hv({abiItem:m,data:r,params:M,size:$r(r)}):C}else if(n)throw new Hv({abiItem:m,data:"0x",params:M,size:0})}return{eventName:p,args:Object.values(_).length>0?_:void 0}}function bG({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Qh([t],e)||[])[0]}function wG(t){const{abi:e,args:r,logs:i,strict:s=!0}=t,n=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return i.map(c=>{var f;try{const m=e.find(d=>d.type==="event"&&c.topics[0]===yy(d));if(!m)return null;const p=yG({...c,abi:[m],strict:s});return n&&!n.includes(p.eventName)||!_G({args:p.args,inputs:m.inputs,matchArgs:r})?null:{...p,...c}}catch(m){let p,d;if(m instanceof Q8)return null;if(m instanceof Hv||m instanceof X8){if(s)return null;p=m.abiItem.name,d=(f=m.abiItem.inputs)==null?void 0:f.some(y=>!("name"in y&&y.name))}return{...c,args:d?[]:{},eventName:p}}}).filter(Boolean)}function _G(t){const{args:e,inputs:r,matchArgs:i}=t;if(!i)return!0;if(!e)return!1;function s(n,c,f){try{return n.type==="address"?vG(c,f):n.type==="string"||n.type==="bytes"?ks(lf(c))===f:c===f}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((n,c)=>{if(n==null)return!0;const f=r[c];return f?(Array.isArray(n)?n:[n]).some(p=>s(f,p,e[c])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([n,c])=>{if(c==null)return!0;const f=r.find(p=>p.name===n);return f?(Array.isArray(c)?c:[c]).some(p=>s(f,p,e[n])):!1}):!1}function DM(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const Cg="/docs/contract/decodeFunctionResult";function df(t){const{abi:e,args:r,functionName:i,data:s}=t;let n=e[0];if(i){const f=Ay({abi:e,args:r,name:i});if(!f)throw new zl(i,{docsPath:Cg});n=f}if(n.type!=="function")throw new zl(void 0,{docsPath:Cg});if(!n.outputs)throw new BV(n.name,{docsPath:Cg});const c=Qh(n.outputs,s);if(c&&c.length>1)return c;if(c&&c.length===1)return c[0]}const r1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],$M=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],UM=[...$M,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],EG=[...$M,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],d6=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],p6=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],AG="0x82ad56cb",xG="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",MG="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";class i1 extends Be{constructor({blockNumber:e,chain:r,contract:i}){super(`Chain "${r.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class CG extends Be{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class SG extends Be{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class FM extends Be{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class id extends Be{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Sg="/docs/contract/encodeDeployData";function LM(t){const{abi:e,args:r,bytecode:i}=t;if(!r||r.length===0)return i;const s=e.find(c=>"type"in c&&c.type==="constructor");if(!s)throw new RV({docsPath:Sg});if(!("inputs"in s))throw new QA({docsPath:Sg});if(!s.inputs||s.inputs.length===0)throw new QA({docsPath:Sg});const n=uM(s.inputs,r);return ss([i,n])}function pf({blockNumber:t,chain:e,contract:r}){var s;const i=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!i)throw new i1({chain:e,contract:{name:r}});if(t&&i.blockCreated&&i.blockCreated>t)throw new i1({blockNumber:t,chain:e,contract:{name:r,blockCreated:i.blockCreated}});return i.address}function IG(t,{docsPath:e,...r}){const i=(()=>{const s=Ty(t,r);return s instanceof Xh?t:s})();return new qK(i,{docsPath:e,...r})}function qM(){let t=()=>{},e=()=>{};return{promise:new Promise((i,s)=>{t=i,e=s}),resolve:t,reject:e}}const Ig=new Map;function jM({fn:t,id:e,shouldSplitBatch:r,wait:i=0,sort:s}){const n=async()=>{const d=m();c();const y=d.map(({args:_})=>_);y.length!==0&&t(y).then(_=>{s&&Array.isArray(_)&&_.sort(s);for(let x=0;x<d.length;x++){const{resolve:M}=d[x];M==null||M([_[x],_])}}).catch(_=>{for(let x=0;x<d.length;x++){const{reject:M}=d[x];M==null||M(_)}})},c=()=>Ig.delete(e),f=()=>m().map(({args:d})=>d),m=()=>Ig.get(e)||[],p=d=>Ig.set(e,[...m(),d]);return{flush:c,async schedule(d){const{promise:y,resolve:_,reject:x}=qM();return(r==null?void 0:r([...f(),d]))&&n(),m().length>0?(p({args:d,resolve:_,reject:x}),y):(p({args:d,resolve:_,reject:x}),setTimeout(n,i),y)}}}async function zM(t,e){var E,o,u,l;const{account:r=t.account,batch:i=!!((E=t.batch)!=null&&E.multicall),blockNumber:s,blockTag:n="latest",accessList:c,blobs:f,code:m,data:p,factory:d,factoryData:y,gas:_,gasPrice:x,maxFeePerBlobGas:M,maxFeePerGas:C,maxPriorityFeePerGas:T,nonce:S,to:I,value:N,stateOverride:O,...D}=e,$=r?$n(r):void 0;if(m&&(d||y))throw new Be("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(m&&I)throw new Be("Cannot provide both `code` & `to` as parameters.");const z=m&&p,G=d&&y&&I&&p,L=z||G,te=z?NG({code:m,data:p}):G?PG({data:p,factory:d,factoryData:y,to:I}):p;try{td(e);const g=(s?Rt(s):void 0)||n,w=wM(O),A=(l=(u=(o=t.chain)==null?void 0:o.formatters)==null?void 0:u.transactionRequest)==null?void 0:l.format,a=(A||Py)({...Ry(D,{format:A}),from:$==null?void 0:$.address,accessList:c,blobs:f,data:te,gas:_,gasPrice:x,maxFeePerBlobGas:M,maxFeePerGas:C,maxPriorityFeePerGas:T,nonce:S,to:L?void 0:I,value:N});if(i&&TG({request:a})&&!w)try{return await RG(t,{...a,blockNumber:s,blockTag:n})}catch(R){if(!(R instanceof FM)&&!(R instanceof i1))throw R}const b=await t.request({method:"eth_call",params:w?[a,g,w]:[a,g]});return b==="0x"?{data:void 0}:{data:b}}catch(h){const g=OG(h),{offchainLookup:w,offchainLookupSignature:A}=await Ei(async()=>{const{offchainLookup:v,offchainLookupSignature:a}=await import("./ccip-PreNGXUi.js");return{offchainLookup:v,offchainLookupSignature:a}},__vite__mapDeps([3,1,2]));if(t.ccipRead!==!1&&(g==null?void 0:g.slice(0,10))===A&&I)return{data:await w(t,{data:g,to:I})};throw L&&(g==null?void 0:g.slice(0,10))==="0x101bb98d"?new zK({factory:d}):IG(h,{...e,account:$,chain:t.chain})}}function TG({request:t}){const{data:e,to:r,...i}=t;return!(!e||e.startsWith(AG)||!r||Object.values(i).filter(s=>typeof s<"u").length>0)}async function RG(t,e){var C;const{batchSize:r=1024,wait:i=0}=typeof((C=t.batch)==null?void 0:C.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:n="latest",data:c,multicallAddress:f,to:m}=e;let p=f;if(!p){if(!t.chain)throw new FM;p=pf({blockNumber:s,chain:t.chain,contract:"multicall3"})}const y=(s?Rt(s):void 0)||n,{schedule:_}=jM({id:`${t.uid}.${y}`,wait:i,shouldSplitBatch(T){return T.reduce((I,{data:N})=>I+(N.length-2),0)>r*2},fn:async T=>{const S=T.map(O=>({allowFailure:!0,callData:O.data,target:O.to})),I=Qa({abi:r1,args:[S],functionName:"aggregate3"}),N=await t.request({method:"eth_call",params:[{data:I,to:p},y]});return df({abi:r1,args:[S],functionName:"aggregate3",data:N||"0x"})}}),[{returnData:x,success:M}]=await _({data:c,to:m});if(!M)throw new Sy({data:x});return x==="0x"?{data:void 0}:{data:x}}function NG(t){const{code:e,data:r}=t;return LM({abi:g4(["constructor(bytes, bytes)"]),bytecode:xG,args:[e,r]})}function PG(t){const{data:e,factory:r,factoryData:i,to:s}=t;return LM({abi:g4(["constructor(address, bytes, address, bytes)"]),bytecode:MG,args:[s,e,r,i]})}function OG(t){var r;if(!(t instanceof Be))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function So(t,e){const{abi:r,address:i,args:s,functionName:n,...c}=e,f=Qa({abi:r,args:s,functionName:n});try{const{data:m}=await Kt(t,zM,"call")({...c,data:f,to:i});return df({abi:r,args:s,functionName:n,data:m||"0x"})}catch(m){throw Hl(m,{abi:r,address:i,args:s,docsPath:"/docs/contract/readContract",functionName:n})}}const Tg=new Map,m6=new Map;let kG=0;function Wl(t,e,r){const i=++kG,s=()=>Tg.get(t)||[],n=()=>{const d=s();Tg.set(t,d.filter(y=>y.id!==i))},c=()=>{const d=s();if(!d.some(_=>_.id===i))return;const y=m6.get(t);d.length===1&&y&&y(),n()},f=s();if(Tg.set(t,[...f,{id:i,fns:e}]),f&&f.length>0)return c;const m={};for(const d in e)m[d]=(...y)=>{var x,M;const _=s();if(_.length!==0)for(const C of _)(M=(x=C.fns)[d])==null||M.call(x,...y)};const p=r(m);return typeof p=="function"&&m6.set(t,p),c}async function Vl(t){return new Promise(e=>setTimeout(e,t))}function HM(t,{emitOnBegin:e,initialWaitTime:r,interval:i}){let s=!0;const n=()=>s=!1;return(async()=>{let f;e&&(f=await t({unpoll:n}));const m=await(r==null?void 0:r(f))??i;await Vl(m);const p=async()=>{s&&(await t({unpoll:n}),await Vl(i),p())};p()})(),n}const BG=new Map,DG=new Map;function $G(t){const e=(s,n)=>({clear:()=>n.delete(s),get:()=>n.get(s),set:c=>n.set(s,c)}),r=e(t,BG),i=e(t,DG);return{clear:()=>{r.clear(),i.clear()},promise:r,response:i}}async function UG(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const i=$G(e),s=i.response.get();if(s&&r>0&&new Date().getTime()-s.created.getTime()<r)return s.data;let n=i.promise.get();n||(n=t(),i.promise.set(n));try{const c=await n;return i.response.set({created:new Date,data:c}),c}finally{i.promise.clear()}}const FG=t=>`blockNumber.${t}`;async function LG(t,{cacheTime:e=t.cacheTime}={}){const r=await UG(()=>t.request({method:"eth_blockNumber"}),{cacheKey:FG(t.uid),cacheTime:e});return BigInt(r)}async function qG(t,{filter:e}){const r="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const s=i.map(n=>DM(n));return!("abi"in e)||!e.abi?s:wG({abi:e.abi,logs:s,strict:r})}async function jG(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class Uy extends Be{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Rg extends Be{constructor({docsPath:e,metaMessages:r,type:i}){super(`Account type "${i}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function zG({chain:t,currentChainId:e}){if(!t)throw new SG;if(e!==t.id)throw new CG({chain:t,currentChainId:e})}function HG(t,{docsPath:e,...r}){const i=(()=>{const s=Ty(t,r);return s instanceof Xh?t:s})();return new UK(i,{docsPath:e,...r})}async function WG(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Ng=new Yh(128);async function WM(t,e){var S,I,N,O;const{account:r=t.account,chain:i=t.chain,accessList:s,authorizationList:n,blobs:c,data:f,gas:m,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:y,maxPriorityFeePerGas:_,nonce:x,value:M,...C}=e;if(typeof r>"u")throw new Uy({docsPath:"/docs/actions/wallet/sendTransaction"});const T=r?$n(r):null;try{td(e);const D=await(async()=>{if(e.to)return e.to;if(e.to!==null&&n&&n.length>0)return await bM({authorization:n[0]}).catch(()=>{throw new Be("`to` is required. Could not infer from `authorizationList`.")})})();if((T==null?void 0:T.type)==="json-rpc"||T===null){let $;i!==null&&($=await Kt(t,PM,"getChainId")({}),zG({currentChainId:$,chain:i}));const z=(N=(I=(S=t.chain)==null?void 0:S.formatters)==null?void 0:I.transactionRequest)==null?void 0:N.format,L=(z||Py)({...Ry(C,{format:z}),accessList:s,authorizationList:n,blobs:c,chainId:$,data:f,from:T==null?void 0:T.address,gas:m,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:y,maxPriorityFeePerGas:_,nonce:x,to:D,value:M}),te=Ng.get(t.uid),E=te?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:E,params:[L]},{retryCount:0})}catch(o){if(te===!1)throw o;const u=o;if(u.name==="InvalidInputRpcError"||u.name==="InvalidParamsRpcError"||u.name==="MethodNotFoundRpcError"||u.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(l=>(Ng.set(t.uid,!0),l)).catch(l=>{const h=l;throw h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"?(Ng.set(t.uid,!1),u):h});throw u}}if((T==null?void 0:T.type)==="local"){const $=await Kt(t,$y,"prepareTransactionRequest")({account:T,accessList:s,authorizationList:n,blobs:c,chain:i,data:f,gas:m,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:y,maxPriorityFeePerGas:_,nonce:x,nonceManager:T.nonceManager,parameters:[...OM,"sidecars"],value:M,...C,to:D}),z=(O=i==null?void 0:i.serializers)==null?void 0:O.transaction,G=await T.signTransaction($,{serializer:z});return await Kt(t,WG,"sendRawTransaction")({serializedTransaction:G})}throw(T==null?void 0:T.type)==="smart"?new Rg({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Rg({docsPath:"/docs/actions/wallet/sendTransaction",type:T==null?void 0:T.type})}catch(D){throw D instanceof Rg?D:HG(D,{...e,account:T,chain:e.chain||void 0})}}async function VG(t,e){const{abi:r,account:i=t.account,address:s,args:n,dataSuffix:c,functionName:f,...m}=e;if(typeof i>"u")throw new Uy({docsPath:"/docs/contract/writeContract"});const p=i?$n(i):null,d=Qa({abi:r,args:n,functionName:f});try{return await Kt(t,WM,"sendTransaction")({data:`${d}${c?c.replace("0x",""):""}`,to:s,account:p,...m})}catch(y){throw Hl(y,{abi:r,address:s,args:n,docsPath:"/docs/contract/writeContract",functionName:f,sender:p==null?void 0:p.address})}}const n1=256;let Qf=n1,Xf;function VM(t=11){if(!Xf||Qf+t>n1*2){Xf="",Qf=0;for(let e=0;e<n1;e++)Xf+=(256+Math.random()*256|0).toString(16).substring(1)}return Xf.substring(Qf,Qf+++t)}function KM(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,ccipRead:i,key:s="base",name:n="Base Client",pollingInterval:c=4e3,type:f="base"}=t,m=t.chain,p=t.account?$n(t.account):void 0,{config:d,request:y,value:_}=t.transport({chain:m,pollingInterval:c}),x={...d,..._},M={account:p,batch:e,cacheTime:r,ccipRead:i,chain:m,key:s,name:n,pollingInterval:c,request:y,transport:x,type:f,uid:VM()};function C(T){return S=>{const I=S(T);for(const O in M)delete I[O];const N={...T,...I};return Object.assign(N,{extend:C(N)})}}return Object.assign(M,{extend:C(M)})}const el=new Yh(8192);function KG(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(el.get(r))return el.get(r);const i=t().finally(()=>el.delete(r));return el.set(r,i),i}function Kl(t,{delay:e=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((s,n)=>{const c=async({count:f=0}={})=>{const m=async({error:p})=>{const d=typeof e=="function"?e({count:f,error:p}):e;d&&await Vl(d),c({count:f+1})};try{const p=await t();s(p)}catch(p){if(f<r&&await i({count:f,error:p}))return m({error:p});n(p)}};c()})}function GG(t,e={}){return async(r,i={})=>{var y;const{dedupe:s=!1,methods:n,retryDelay:c=150,retryCount:f=3,uid:m}={...e,...i},{method:p}=r;if((y=n==null?void 0:n.exclude)!=null&&y.includes(p))throw new oo(new Error("method not supported"),{method:p});if(n!=null&&n.include&&!n.include.includes(p))throw new oo(new Error("method not supported"),{method:p});const d=s?Zh(`${m}.${Gi(r)}`):void 0;return KG(()=>Kl(async()=>{try{return await t(r)}catch(_){const x=_;switch(x.code){case ou.code:throw new ou(x);case au.code:throw new au(x);case cu.code:throw new cu(x,{method:r.method});case uu.code:throw new uu(x);case Mo.code:throw new Mo(x);case fu.code:throw new fu(x);case lu.code:throw new lu(x);case Ss.code:throw new Ss(x);case Ta.code:throw new Ta(x);case oo.code:throw new oo(x,{method:r.method});case Ra.code:throw new Ra(x);case hu.code:throw new hu(x);case kr.code:throw new kr(x);case du.code:throw new du(x);case pu.code:throw new pu(x);case mu.code:throw new mu(x);case gu.code:throw new gu(x);case On.code:throw new On(x);case 5e3:throw new kr(x);default:throw _ instanceof Be?_:new WK(x)}}},{delay:({count:_,error:x})=>{var M;if(x&&x instanceof qc){const C=(M=x==null?void 0:x.headers)==null?void 0:M.get("Retry-After");if(C!=null&&C.match(/\d/))return Number.parseInt(C)*1e3}return~~(1<<_)*c},retryCount:f,shouldRetry:({error:_})=>ZG(_)}),{enabled:s,id:d})}}function ZG(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ra.code||t.code===Mo.code:t instanceof qc&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Fy({key:t,methods:e,name:r,request:i,retryCount:s=3,retryDelay:n=150,timeout:c,type:f},m){const p=VM();return{config:{key:t,methods:e,name:r,request:i,retryCount:s,retryDelay:n,timeout:c,type:f},request:GG(i,{methods:e,retryCount:s,retryDelay:n,uid:p}),value:m}}function YG(t,e={}){const{key:r="custom",methods:i,name:s="Custom Provider",retryDelay:n}=e;return({retryCount:c})=>Fy({key:r,methods:i,name:s,request:t.request.bind(t),retryCount:e.retryCount??c,retryDelay:n,type:"custom"})}function g6(t,e={}){const{key:r="fallback",name:i="Fallback",rank:s=!1,shouldThrow:n=JG,retryCount:c,retryDelay:f}=e;return({chain:m,pollingInterval:p=4e3,timeout:d,...y})=>{let _=t,x=()=>{};const M=Fy({key:r,name:i,async request({method:C,params:T}){let S;const I=async(N=0)=>{const O=_[N]({...y,chain:m,retryCount:0,timeout:d});try{const D=await O.request({method:C,params:T});return x({method:C,params:T,response:D,transport:O,status:"success"}),D}catch(D){if(x({error:D,method:C,params:T,transport:O,status:"error"}),n(D)||N===_.length-1||(S??(S=_.slice(N+1).some($=>{const{include:z,exclude:G}=$({chain:m}).config.methods||{};return z?z.includes(C):G?!G.includes(C):!0})),!S))throw D;return I(N+1)}};return I()},retryCount:c,retryDelay:f,type:"fallback"},{onResponse:C=>x=C,transports:_.map(C=>C({chain:m,retryCount:0}))});if(s){const C=typeof s=="object"?s:{};QG({chain:m,interval:C.interval??p,onTransports:T=>_=T,ping:C.ping,sampleCount:C.sampleCount,timeout:C.timeout,transports:_,weights:C.weights})}return M}}function JG(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Ta.code||t.code===kr.code||ao.nodeMessage.test(t.message)||t.code===5e3))}function QG({chain:t,interval:e=4e3,onTransports:r,ping:i,sampleCount:s=10,timeout:n=1e3,transports:c,weights:f={}}){const{stability:m=.7,latency:p=.3}=f,d=[],y=async()=>{const _=await Promise.all(c.map(async C=>{const T=C({chain:t,retryCount:0,timeout:n}),S=Date.now();let I,N;try{await(i?i({transport:T}):T.request({method:"net_listening"})),N=1}catch{N=0}finally{I=Date.now()}return{latency:I-S,success:N}}));d.push(_),d.length>s&&d.shift();const x=Math.max(...d.map(C=>Math.max(...C.map(({latency:T})=>T)))),M=c.map((C,T)=>{const S=d.map($=>$[T].latency),N=1-S.reduce(($,z)=>$+z,0)/S.length/x,O=d.map($=>$[T].success),D=O.reduce(($,z)=>$+z,0)/O.length;return D===0?[0,T]:[p*N+m*D,T]}).sort((C,T)=>T[0]-C[0]);r(M.map(([,C])=>c[C])),await Vl(e),y()};y()}class XG extends Be{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function GM(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,n)=>{(async()=>{let c;try{const f=new AbortController;r>0&&(c=setTimeout(()=>{i?f.abort():n(e)},r)),s(await t({signal:(f==null?void 0:f.signal)||null}))}catch(f){(f==null?void 0:f.name)==="AbortError"&&n(e),n(f)}finally{clearTimeout(c)}})()})}function eZ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const v6=eZ();function tZ(t,e={}){return{async request(r){var y;const{body:i,onRequest:s=e.onRequest,onResponse:n=e.onResponse,timeout:c=e.timeout??1e4}=r,f={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:m,method:p,signal:d}=f;try{const _=await GM(async({signal:M})=>{const C={...f,body:Array.isArray(i)?Gi(i.map(N=>({jsonrpc:"2.0",id:N.id??v6.take(),...N}))):Gi({jsonrpc:"2.0",id:i.id??v6.take(),...i}),headers:{"Content-Type":"application/json",...m},method:p||"POST",signal:d||(c>0?M:null)},T=new Request(t,C),S=await(s==null?void 0:s(T,C))??{...C,url:t};return await fetch(S.url??t,S)},{errorInstance:new s6({body:i,url:t}),timeout:c,signal:!0});n&&await n(_);let x;if((y=_.headers.get("Content-Type"))!=null&&y.startsWith("application/json"))x=await _.json();else{x=await _.text();try{x=JSON.parse(x||"{}")}catch(M){if(_.ok)throw M;x={error:x}}}if(!_.ok)throw new qc({body:i,details:Gi(x.error)||_.statusText,headers:_.headers,status:_.status,url:t});return x}catch(_){throw _ instanceof qc||_ instanceof s6?_:new qc({body:i,cause:_,url:t})}}}}function Pg(t,e={}){const{batch:r,fetchOptions:i,key:s="http",methods:n,name:c="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:m,retryDelay:p,raw:d}=e;return({chain:y,retryCount:_,timeout:x})=>{const{batchSize:M=1e3,wait:C=0}=typeof r=="object"?r:{},T=e.retryCount??_,S=x??e.timeout??1e4,I=t||(y==null?void 0:y.rpcUrls.default.http[0]);if(!I)throw new XG;const N=tZ(I,{fetchOptions:i,onRequest:f,onResponse:m,timeout:S});return Fy({key:s,methods:n,name:c,async request({method:O,params:D}){const $={method:O,params:D},{schedule:z}=jM({id:I,wait:C,shouldSplitBatch(E){return E.length>M},fn:E=>N.request({body:E}),sort:(E,o)=>E.id-o.id}),G=async E=>r?z(E):[await N.request({body:E})],[{error:L,result:te}]=await G($);if(d)return{error:L,result:te};if(L)throw new Iy({body:$,error:L,url:I});return te},retryCount:T,retryDelay:p,timeout:S,type:"http"},{fetchOptions:i,url:I})}}function Ly(t,e){var i,s,n,c,f,m;if(!(t instanceof Be))return!1;const r=t.walk(p=>p instanceof Kv);return r instanceof Kv?!!(((i=r.data)==null?void 0:i.errorName)==="ResolverNotFound"||((s=r.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((n=r.data)==null?void 0:n.errorName)==="ResolverNotContract"||((c=r.data)==null?void 0:c.errorName)==="ResolverError"||((f=r.data)==null?void 0:f.errorName)==="HttpError"||(m=r.reason)!=null&&m.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===lM[50]):!1}function ZM(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ts(e)?e:null}function Al(t){let e=new Uint8Array(32).fill(0);if(!t)return Wr(e);const r=t.split(".");for(let i=r.length-1;i>=0;i-=1){const s=ZM(r[i]),n=s?lf(s):ks(ho(r[i]),"bytes");e=ks(xo([e,n]),"bytes")}return Wr(e)}function rZ(t){return`[${t.slice(2)}]`}function iZ(t){const e=new Uint8Array(32).fill(0);return t?ZM(t)||ks(ho(t)):Wr(e)}function qy(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(ho(e).byteLength+2);let i=0;const s=e.split(".");for(let n=0;n<s.length;n++){let c=ho(s[n]);c.byteLength>255&&(c=ho(rZ(iZ(s[n])))),r[i]=c.length,r.set(c,i+1),i+=c.length+1}return r.byteLength!==i+1?r.slice(0,i+1):r}async function nZ(t,e){const{blockNumber:r,blockTag:i,coinType:s,name:n,gatewayUrls:c,strict:f}=e,{chain:m}=t,p=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return pf({blockNumber:r,chain:m,contract:"ensUniversalResolver"})})(),d=m==null?void 0:m.ensTlds;if(d&&!d.some(y=>n.endsWith(y)))return null;try{const y=Qa({abi:p6,functionName:"addr",...s!=null?{args:[Al(n),BigInt(s)]}:{args:[Al(n)]}}),_={address:p,abi:UM,functionName:"resolve",args:[ht(qy(n)),y],blockNumber:r,blockTag:i},x=Kt(t,So,"readContract"),M=c?await x({..._,args:[..._.args,c]}):await x(_);if(M[0]==="0x")return null;const C=df({abi:p6,args:s!=null?[Al(n),BigInt(s)]:void 0,functionName:"addr",data:M[0]});return C==="0x"||Nn(C)==="0x00"?null:C}catch(y){if(f)throw y;if(Ly(y,"resolve"))return null;throw y}}class sZ extends Be{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class _c extends Be{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class jy extends Be{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class oZ extends Be{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const aZ=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,cZ=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,uZ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,fZ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function lZ(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const i=new Image;i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},i.src=t})}}function y6(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function YM({uri:t,gatewayUrls:e}){const r=uZ.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const i=y6(e==null?void 0:e.ipfs,"https://ipfs.io"),s=y6(e==null?void 0:e.arweave,"https://arweave.net"),n=t.match(aZ),{protocol:c,subpath:f,target:m,subtarget:p=""}=(n==null?void 0:n.groups)||{},d=c==="ipns:/"||f==="ipns/",y=c==="ipfs:/"||f==="ipfs/"||cZ.test(t);if(t.startsWith("http")&&!d&&!y){let x=t;return e!=null&&e.arweave&&(x=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:x,isOnChain:!1,isEncoded:!1}}if((d||y)&&m)return{uri:`${i}/${d?"ipns":"ipfs"}/${m}${p}`,isOnChain:!1,isEncoded:!1};if(c==="ar:/"&&m)return{uri:`${s}/${m}${p||""}`,isOnChain:!1,isEncoded:!1};let _=t.replace(fZ,"");if(_.startsWith("<svg")&&(_=`data:image/svg+xml;base64,${btoa(_)}`),_.startsWith("data:")||_.startsWith("{"))return{uri:_,isOnChain:!0,isEncoded:!1};throw new jy({uri:t})}function JM(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new sZ({data:t});return t.image||t.image_url||t.image_data}async function hZ({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await zy({gatewayUrls:t,uri:JM(r)})}catch{throw new jy({uri:e})}}async function zy({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:i}=YM({uri:e,gatewayUrls:t});if(i||await lZ(r))return r;throw new jy({uri:e})}function dZ(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,i,s]=e.split("/"),[n,c]=r.split(":"),[f,m]=i.split(":");if(!n||n.toLowerCase()!=="eip155")throw new _c({reason:"Only EIP-155 supported"});if(!c)throw new _c({reason:"Chain ID not found"});if(!m)throw new _c({reason:"Contract address not found"});if(!s)throw new _c({reason:"Token ID not found"});if(!f)throw new _c({reason:"ERC namespace not found"});return{chainID:Number.parseInt(c),namespace:f.toLowerCase(),contractAddress:m,tokenID:s}}async function pZ(t,{nft:e}){if(e.namespace==="erc721")return So(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return So(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new oZ({namespace:e.namespace})}async function mZ(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?gZ(t,{gatewayUrls:e,record:r}):zy({uri:r,gatewayUrls:e})}async function gZ(t,{gatewayUrls:e,record:r}){const i=dZ(r),s=await pZ(t,{nft:i}),{uri:n,isOnChain:c,isEncoded:f}=YM({uri:s,gatewayUrls:e});if(c&&(n.includes("data:application/json;base64,")||n.startsWith("{"))){const p=f?atob(n.replace("data:application/json;base64,","")):n,d=JSON.parse(p);return zy({uri:JM(d),gatewayUrls:e})}let m=i.tokenID;return i.namespace==="erc1155"&&(m=m.replace("0x","").padStart(64,"0")),hZ({gatewayUrls:e,uri:n.replace(/(?:0x)?{id}/,m)})}async function vZ(t,e){const{blockNumber:r,blockTag:i,key:s,name:n,gatewayUrls:c,strict:f}=e,{chain:m}=t,p=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return pf({blockNumber:r,chain:m,contract:"ensUniversalResolver"})})(),d=m==null?void 0:m.ensTlds;if(d&&!d.some(y=>n.endsWith(y)))return null;try{const y={address:p,abi:UM,functionName:"resolve",args:[ht(qy(n)),Qa({abi:d6,functionName:"text",args:[Al(n),s]})],blockNumber:r,blockTag:i},_=Kt(t,So,"readContract"),x=c?await _({...y,args:[...y.args,c]}):await _(y);if(x[0]==="0x")return null;const M=df({abi:d6,functionName:"text",data:x[0]});return M===""?null:M}catch(y){if(f)throw y;if(Ly(y,"resolve"))return null;throw y}}async function yZ(t,{blockNumber:e,blockTag:r,assetGatewayUrls:i,name:s,gatewayUrls:n,strict:c,universalResolverAddress:f}){const m=await Kt(t,vZ,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:f,gatewayUrls:n,strict:c});if(!m)return null;try{return await mZ(t,{record:m,gatewayUrls:i})}catch{return null}}async function bZ(t,{address:e,blockNumber:r,blockTag:i,gatewayUrls:s,strict:n,universalResolverAddress:c}){let f=c;if(!f){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");f=pf({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const m=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const p={address:f,abi:EG,functionName:"reverse",args:[ht(qy(m))],blockNumber:r,blockTag:i},d=Kt(t,So,"readContract"),[y,_]=s?await d({...p,args:[...p.args,s]}):await d(p);return e.toLowerCase()!==_.toLowerCase()?null:y}catch(p){if(n)throw p;if(Ly(p,"reverse"))return null;throw p}}async function wZ(t){const e=lK(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function tc(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function _Z(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:i}=r,s=r.address;if(!ei(s))throw new xi({address:s});if(i<0)throw new id({chainId:i})}Hy(t)}function EZ(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new TM;for(const r of e){const i=$r(r),s=Os(nu(r,0,1));if(i!==32)throw new pG({hash:r,size:i});if(s!==IM)throw new mG({hash:r,version:s})}}Hy(t)}function Hy(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new id({chainId:e});if(s&&!ei(s))throw new xi({address:s});if(i&&i>ed)throw new Co({maxFeePerGas:i});if(r&&i&&r>i)throw new vu({maxFeePerGas:i,maxPriorityFeePerGas:r})}function AZ(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:i,maxFeePerGas:s,to:n}=t;if(e<=0)throw new id({chainId:e});if(n&&!ei(n))throw new xi({address:n});if(r||s)throw new Be("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(i&&i>ed)throw new Co({maxFeePerGas:i})}function xZ(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:i,maxFeePerGas:s,to:n}=t;if(n&&!ei(n))throw new xi({address:n});if(typeof e<"u"&&e<=0)throw new id({chainId:e});if(r||s)throw new Be("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(i&&i>ed)throw new Co({maxFeePerGas:i})}function nd(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:i,storageKeys:s}=t[r];for(let n=0;n<s.length;n++)if(s[n].length-2!==64)throw new $K({storageKey:s[n]});if(!ei(i,{strict:!1}))throw new xi({address:i});e.push([i,s])}return e}function MZ(t,e){const r=NM(t);return r==="eip1559"?IZ(t,e):r==="eip2930"?TZ(t,e):r==="eip4844"?SZ(t,e):r==="eip7702"?CZ(t,e):RZ(t,e)}function CZ(t,e){const{authorizationList:r,chainId:i,gas:s,nonce:n,to:c,value:f,maxFeePerGas:m,maxPriorityFeePerGas:p,accessList:d,data:y}=t;_Z(t);const _=nd(d),x=NZ(r);return ss(["0x04",Bs([ht(i),n?ht(n):"0x",p?ht(p):"0x",m?ht(m):"0x",s?ht(s):"0x",c??"0x",f?ht(f):"0x",y??"0x",_,x,...mf(t,e)])])}function SZ(t,e){const{chainId:r,gas:i,nonce:s,to:n,value:c,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:p,accessList:d,data:y}=t;EZ(t);let _=t.blobVersionedHashes,x=t.sidecars;if(t.blobs&&(typeof _>"u"||typeof x>"u")){const N=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map($=>Wr($)),O=t.kzg,D=ky({blobs:N,kzg:O});if(typeof _>"u"&&(_=MM({commitments:D})),typeof x>"u"){const $=By({blobs:N,commitments:D,kzg:O});x=RM({blobs:N,commitments:D,proofs:$})}}const M=nd(d),C=[ht(r),s?ht(s):"0x",p?ht(p):"0x",m?ht(m):"0x",i?ht(i):"0x",n??"0x",c?ht(c):"0x",y??"0x",M,f?ht(f):"0x",_??[],...mf(t,e)],T=[],S=[],I=[];if(x)for(let N=0;N<x.length;N++){const{blob:O,commitment:D,proof:$}=x[N];T.push(O),S.push(D),I.push($)}return ss(["0x03",Bs(x?[C,T,S,I]:C)])}function IZ(t,e){const{chainId:r,gas:i,nonce:s,to:n,value:c,maxFeePerGas:f,maxPriorityFeePerGas:m,accessList:p,data:d}=t;Hy(t);const y=nd(p),_=[ht(r),s?ht(s):"0x",m?ht(m):"0x",f?ht(f):"0x",i?ht(i):"0x",n??"0x",c?ht(c):"0x",d??"0x",y,...mf(t,e)];return ss(["0x02",Bs(_)])}function TZ(t,e){const{chainId:r,gas:i,data:s,nonce:n,to:c,value:f,accessList:m,gasPrice:p}=t;AZ(t);const d=nd(m),y=[ht(r),n?ht(n):"0x",p?ht(p):"0x",i?ht(i):"0x",c??"0x",f?ht(f):"0x",s??"0x",d,...mf(t,e)];return ss(["0x01",Bs(y)])}function RZ(t,e){const{chainId:r=0,gas:i,data:s,nonce:n,to:c,value:f,gasPrice:m}=t;xZ(t);let p=[n?ht(n):"0x",m?ht(m):"0x",i?ht(i):"0x",c??"0x",f?ht(f):"0x",s??"0x"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const x=27n+(e.v===27n?0n:1n);if(e.v!==x)throw new BK({v:e.v});return x})(),y=Nn(e.r),_=Nn(e.s);p=[...p,ht(d),y==="0x00"?"0x":y,_==="0x00"?"0x":_]}else r>0&&(p=[...p,ht(r),"0x","0x"]);return Bs(p)}function mf(t,e){const r=e??t,{v:i,yParity:s}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof i>"u"&&typeof s>"u")return[];const n=Nn(r.r),c=Nn(r.s);return[typeof s=="number"?s?ht(1):"0x":i===0n?"0x":i===1n?ht(1):i===27n?"0x":ht(1),n==="0x00"?"0x":n,c==="0x00"?"0x":c]}function NZ(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:i,nonce:s,...n}=r,c=r.address;e.push([i?ht(i):"0x",c,s?ht(s):"0x",...mf({},n)])}return e}const PZ={"0x0":"reverted","0x1":"success"};function QM(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>DM(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Os(t.transactionIndex):null,status:t.status?PZ[t.status]:null,type:t.type?EM[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const OZ=Ny("transactionReceipt",QM);class kZ extends Be{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function BZ(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new kZ({value:t});let[r,i="0"]=t.split(".");const s=r.startsWith("-");if(s&&(r=r.slice(1)),i=i.replace(/(0+)$/,""),e===0)Math.round(+`.${i}`)===1&&(r=`${BigInt(r)+1n}`),i="";else if(i.length>e){const[n,c,f]=[i.slice(0,e-1),i.slice(e-1,e),i.slice(e)],m=Math.round(+`${c}.${f}`);m>9?i=`${BigInt(n)+BigInt(1)}0`.padStart(n.length+1,"0"):i=`${n}${m}`,i.length>e&&(i=i.slice(1),r=`${BigInt(r)+1n}`),i=i.slice(0,e)}else i=i.padEnd(e,"0");return BigInt(`${s?"-":""}${r}${i}`)}async function XM(t,{blockHash:e,blockNumber:r,blockTag:i,hash:s,index:n}){var d,y,_;const c=i||"latest",f=r!==void 0?Rt(r):void 0;let m=null;if(s?m=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?m=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Rt(n)]},{dedupe:!0}):m=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||c,Rt(n)]},{dedupe:!!f}),!m)throw new pM({blockHash:e,blockNumber:r,blockTag:c,hash:s,index:n});return(((_=(y=(d=t.chain)==null?void 0:d.formatters)==null?void 0:y.transaction)==null?void 0:_.format)||rd)(m)}async function b6(t,{hash:e}){var s,n,c;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new mM({hash:e});return(((c=(n=(s=t.chain)==null?void 0:s.formatters)==null?void 0:n.transactionReceipt)==null?void 0:c.format)||QM)(r)}async function DZ(t,e){var T;const{allowFailure:r=!0,batchSize:i,blockNumber:s,blockTag:n,multicallAddress:c,stateOverride:f}=e,m=e.contracts,p=i??(typeof((T=t.batch)==null?void 0:T.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=c;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=pf({blockNumber:s,chain:t.chain,contract:"multicall3"})}const y=[[]];let _=0,x=0;for(let S=0;S<m.length;S++){const{abi:I,address:N,args:O,functionName:D}=m[S];try{const $=Qa({abi:I,args:O,functionName:D});x+=($.length-2)/2,p>0&&x>p&&y[_].length>0&&(_++,x=($.length-2)/2,y[_]=[]),y[_]=[...y[_],{allowFailure:!0,callData:$,target:N}]}catch($){const z=Hl($,{abi:I,address:N,args:O,docsPath:"/docs/contract/multicall",functionName:D});if(!r)throw z;y[_]=[...y[_],{allowFailure:!0,callData:"0x",target:N}]}}const M=await Promise.allSettled(y.map(S=>Kt(t,So,"readContract")({abi:r1,address:d,args:[S],blockNumber:s,blockTag:n,functionName:"aggregate3",stateOverride:f}))),C=[];for(let S=0;S<M.length;S++){const I=M[S];if(I.status==="rejected"){if(!r)throw I.reason;for(let O=0;O<y[S].length;O++)C.push({status:"failure",error:I.reason,result:void 0});continue}const N=I.value;for(let O=0;O<N.length;O++){const{returnData:D,success:$}=N[O],{callData:z}=y[S][O],{abi:G,address:L,functionName:te,args:E}=m[C.length];try{if(z==="0x")throw new Gh;if(!$)throw new Sy({data:D});const o=df({abi:G,args:E,data:D,functionName:te});C.push(r?{result:o,status:"success"}:o)}catch(o){const u=Hl(o,{abi:G,address:L,args:E,docsPath:"/docs/contract/multicall",functionName:te});if(!r)throw u;C.push({error:u,result:void 0,status:"failure"})}}}if(C.length!==m.length)throw new Be("multicall results mismatch");return C}function $Z(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:i,onError:s,poll:n,pollingInterval:c=t.pollingInterval}){const f=typeof n<"u"?n:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let m;return f?(()=>{const y=Gi(["watchBlockNumber",t.uid,e,r,c]);return Wl(y,{onBlockNumber:i,onError:s},_=>HM(async()=>{var x;try{const M=await Kt(t,LG,"getBlockNumber")({cacheTime:0});if(m){if(M===m)return;if(M-m>1&&r)for(let C=m+1n;C<M;C++)_.onBlockNumber(C,m),m=C}(!m||M>m)&&(_.onBlockNumber(M,m),m=M)}catch(M){(x=_.onError)==null||x.call(_,M)}},{emitOnBegin:e,interval:c}))})():(()=>{const y=Gi(["watchBlockNumber",t.uid,e,r]);return Wl(y,{onBlockNumber:i,onError:s},_=>{let x=!0,M=()=>x=!1;return(async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(I=>I.config.type==="webSocket");return S?S.value:t.transport}return t.transport})(),{unsubscribe:T}=await C.subscribe({params:["newHeads"],onData(S){var N;if(!x)return;const I=un((N=S.result)==null?void 0:N.number);_.onBlockNumber(I,m),m=I},onError(S){var I;(I=_.onError)==null||I.call(_,S)}});M=T,x||M()}catch(C){s==null||s(C)}})(),()=>M()})})()}async function UZ(t,{confirmations:e=1,hash:r,onReplaced:i,pollingInterval:s=t.pollingInterval,retryCount:n=6,retryDelay:c=({count:m})=>~~(1<<m)*200,timeout:f=18e4}){const m=Gi(["waitForTransactionReceipt",t.uid,r]);let p,d,y,_=!1;const{promise:x,resolve:M,reject:C}=qM(),T=f?setTimeout(()=>C(new FK({hash:r})),f):void 0,S=Wl(m,{onReplaced:i,resolve:M,reject:C},I=>{const N=Kt(t,$Z,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(O){const D=z=>{clearTimeout(T),N(),z(),S()};let $=O;if(!_)try{if(y){if(e>1&&(!y.blockNumber||$-y.blockNumber+1n<e))return;D(()=>I.resolve(y));return}if(p||(_=!0,await Kl(async()=>{p=await Kt(t,XM,"getTransaction")({hash:r}),p.blockNumber&&($=p.blockNumber)},{delay:c,retryCount:n}),_=!1),y=await Kt(t,b6,"getTransactionReceipt")({hash:r}),e>1&&(!y.blockNumber||$-y.blockNumber+1n<e))return;D(()=>I.resolve(y))}catch(z){if(z instanceof pM||z instanceof mM){if(!p){_=!1;return}try{d=p,_=!0;const G=await Kl(()=>Kt(t,yu,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:c,retryCount:n,shouldRetry:({error:E})=>E instanceof _M});_=!1;const L=G.transactions.find(({from:E,nonce:o})=>E===d.from&&o===d.nonce);if(!L||(y=await Kt(t,b6,"getTransactionReceipt")({hash:L.hash}),e>1&&(!y.blockNumber||$-y.blockNumber+1n<e)))return;let te="replaced";L.to===d.to&&L.value===d.value&&L.input===d.input?te="repriced":L.from===L.to&&L.value===0n&&(te="cancelled"),D(()=>{var E;(E=I.onReplaced)==null||E.call(I,{reason:te,replacedTransaction:d,transaction:L,transactionReceipt:y}),I.resolve(y)})}catch(G){D(()=>I.reject(G))}}else D(()=>I.reject(z))}}})});return x}function FZ(t,{batch:e=!0,onError:r,onTransactions:i,poll:s,pollingInterval:n=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const p=Gi(["watchPendingTransactions",t.uid,e,n]);return Wl(p,{onTransactions:i,onError:r},d=>{let y;const _=HM(async()=>{var x;try{if(!y)try{y=await Kt(t,wZ,"createPendingTransactionFilter")({});return}catch(C){throw _(),C}const M=await Kt(t,qG,"getFilterChanges")({filter:y});if(M.length===0)return;if(e)d.onTransactions(M);else for(const C of M)d.onTransactions([C])}catch(M){(x=d.onError)==null||x.call(d,M)}},{emitOnBegin:!0,interval:n});return async()=>{y&&await Kt(t,jG,"uninstallFilter")({filter:y}),_()}})})():(()=>{let p=!0,d=()=>p=!1;return(async()=>{try{const{unsubscribe:y}=await t.transport.subscribe({params:["newPendingTransactions"],onData(_){if(!p)return;const x=_.result;i([x])},onError(_){r==null||r(_)}});d=y,p||d()}catch(y){r==null||r(y)}})(),()=>d()})()}async function LZ(t,{account:e=t.account,message:r}){if(!e)throw new Uy({docsPath:"/docs/actions/wallet/signMessage"});const i=$n(e);if(i.signMessage)return i.signMessage({message:r});const s=typeof r=="string"?Zh(r):r.raw instanceof Uint8Array?ht(r.raw):r.raw;return t.request({method:"personal_sign",params:[s,i.address]},{retryCount:0})}const Og={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Xa(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],i=parseInt(r,10);return isNaN(i)?"0x0":`0x${i.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},w6={async getMyTokensWithBalance(t){const e=nt.state.address,r=le.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,r);if(s)return this.filterLowQualityTokens(s)}const i=await ft.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(t,e){var r,i;try{const s=Og.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),n=await pr.getCapabilities(t);if(!((i=(r=n==null?void 0:n[s])==null?void 0:r.assetDiscovery)!=null&&i.supported))return null;const c=await pr.walletGetAssets({account:t,chainFilter:[s]});return Og.isWalletGetAssetsResponse(c)?(c[s]||[]).map(m=>Og.createBalance(m,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:le.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Ot=Ar({tokenBalances:[],loading:!1}),_6={state:Ot,subscribe(t){return pi(Ot,()=>t(Ot))},subscribeKey(t,e){return Mi(Ot,t,e)},setToken(t){t&&(Ot.token=go(t))},setTokenAmount(t){Ot.sendTokenAmount=t},setReceiverAddress(t){Ot.receiverAddress=t},setReceiverProfileImageUrl(t){Ot.receiverProfileImageUrl=t},setReceiverProfileName(t){Ot.receiverProfileName=t},setGasPrice(t){Ot.gasPrice=t},setGasPriceInUsd(t){Ot.gasPriceInUSD=t},setNetworkBalanceInUsd(t){Ot.networkBalanceInUSD=t},setLoading(t){Ot.loading=t},sendToken(){var t;switch((t=le.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,r,i,s;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(mr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=le.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((r=this.state.token)!=null&&r.quantity.decimals)&&(mr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT,token:(i=this.state.token)==null?void 0:i.symbol,amount:this.state.sendTokenAmount,network:((s=le.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var n,c;Ot.loading=!0;const e=(n=le.state.activeCaipNetwork)==null?void 0:n.caipNetworkId,r=(c=le.state.activeCaipNetwork)==null?void 0:c.chainNamespace,i=le.state.activeCaipAddress,s=i?dt.getPlainAddress(i):void 0;if(Ot.lastRetry&&!dt.isAllowedRetry(Ot.lastRetry,30*Dr.ONE_SEC_MS))return Ot.loading=!1,[];try{if(s&&e&&r){const f=await w6.getMyTokensWithBalance();return Ot.tokenBalances=f,Ot.lastRetry=void 0,f}}catch(f){Ot.lastRetry=Date.now(),t==null||t(f),Xr.showError("Token Balance Unavailable")}finally{Ot.loading=!1}return[]},fetchNetworkBalance(){if(Ot.tokenBalances.length===0)return;const t=w6.mapBalancesToSwapTokens(Ot.tokenBalances);if(!t)return;const e=t.find(r=>r.address===le.getActiveNetworkTokenAddress());e&&(Ot.networkBalanceInUSD=e?bf.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return bf.bigNumber(t).eq(0)?!0:bf.bigNumber(bf.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){let t=!0;return nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:Ot.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(Ot.networkBalanceInUSD,Ot.gasPriceInUSD)),t},async sendNativeToken(t){var n,c,f,m;jt.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,r=nt.state.address,i=pr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await pr.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),Xr.showSuccess("Transaction started"),mr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((n=this.state.token)==null?void 0:n.symbol)||"",amount:t.sendTokenAmount,network:((c=le.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(p){console.error("SendController:sendERC20Token - failed to send native token",p);const d=p instanceof Error?p.message:"Unknown error";mr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:d,isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((f=this.state.token)==null?void 0:f.symbol)||"",amount:t.sendTokenAmount,network:((m=le.state.activeCaipNetwork)==null?void 0:m.caipNetworkId)||""}}),Xr.showError("Something went wrong")}},async sendERC20Token(t){var r,i;jt.pushTransactionStack({view:"Account",goBack:!1});const e=pr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(nt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=dt.getPlainAddress(t.tokenAddress);await pr.writeContract({fromAddress:nt.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:eI.getERC20Abi(s),chainNamespace:"eip155"}),Xr.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const n=s instanceof Error?s.message:"Unknown error";mr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:n,isSmartAccount:nt.state.preferredAccountType===Rr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((i=le.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),Xr.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){Xr.showError("Please enter a valid amount and receiver address");return}jt.pushTransactionStack({view:"Account",goBack:!1}),pr.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),nt.fetchTokenBalance()}).catch(t=>{Xr.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){Ot.token=void 0,Ot.sendTokenAmount=void 0,Ot.receiverAddress=void 0,Ot.receiverProfileImageUrl=void 0,Ot.receiverProfileName=void 0,Ot.loading=!1,Ot.tokenBalances=[]}},kg={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},tl={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},He=Ar({chains:qS(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),le={state:He,subscribe(t){return pi(He,()=>{t(He)})},subscribeKey(t,e){return Mi(He,t,e)},subscribeChainProp(t,e,r){let i;return pi(He.chains,()=>{var n;const s=r||He.activeChain;if(s){const c=(n=He.chains.get(s))==null?void 0:n[t];i!==c&&(i=c,e(c))}})},initialize(t,e,r){const{chainId:i,namespace:s}=et.getActiveNetworkProps(),n=e==null?void 0:e.find(p=>p.id.toString()===(i==null?void 0:i.toString())),f=t.find(p=>(p==null?void 0:p.namespace)===s)||(t==null?void 0:t[0]),m=new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!f)&&(He.noAdapters=!0),He.noAdapters||(He.activeChain=f==null?void 0:f.namespace,He.activeCaipNetwork=n,this.setChainNetworkData(f==null?void 0:f.namespace,{caipNetwork:n}),He.activeChain&&Yn.set({activeChain:f==null?void 0:f.namespace})),m.forEach(p=>{const d=e==null?void 0:e.filter(y=>y.chainNamespace===p);le.state.chains.set(p,{namespace:p,networkState:Ar({...tl,caipNetwork:d==null?void 0:d[0]}),accountState:Ar(kg),caipNetworks:d??[],...r}),this.setRequestedCaipNetworks(d??[],p)})},removeAdapter(t){var e,r;if(He.activeChain===t){const i=Array.from(He.chains.entries()).find(([s])=>s!==t);if(i){const s=(r=(e=i[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];s&&this.setActiveCaipNetwork(s)}}He.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},i){He.chains.set(t.namespace,{namespace:t.namespace,networkState:{...tl,caipNetwork:i[0]},accountState:kg,caipNetworks:i,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((i==null?void 0:i.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=He.chains.get(t.chainNamespace);if(e){const i=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(s=>s.id===t.id)||i.push(t),He.chains.set(t.chainNamespace,{...e,caipNetworks:i}),this.setRequestedCaipNetworks(i,t.chainNamespace)}},removeNetwork(t,e){var i,s,n;const r=He.chains.get(t);if(r){const c=((i=He.activeCaipNetwork)==null?void 0:i.id)===e,f=[...((s=r.caipNetworks)==null?void 0:s.filter(m=>m.id!==e))||[]];c&&((n=r==null?void 0:r.caipNetworks)!=null&&n[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),He.chains.set(t,{...r,caipNetworks:f}),this.setRequestedCaipNetworks(f||[],t)}},setAdapterNetworkState(t,e){const r=He.chains.get(t);r&&(r.networkState={...r.networkState||tl,...e},He.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const i=He.chains.get(t);if(i){const s={...i.accountState||kg,...e};He.chains.set(t,{...i,accountState:s}),(He.chains.size===1||He.activeChain===t)&&(e.caipAddress&&(He.activeCaipAddress=e.caipAddress),nt.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const r=He.chains.get(t);if(r){const i={...r.networkState||tl,...e};He.chains.set(t,{...r,networkState:i})}},setAccountProp(t,e,r,i=!0){this.setChainAccountData(r,{[t]:e},i),t==="status"&&e==="disconnected"&&r&&wt.removeConnectorId(r)},setActiveNamespace(t){var i,s;He.activeChain=t;const e=t?He.chains.get(t):void 0,r=(i=e==null?void 0:e.networkState)==null?void 0:i.caipNetwork;r!=null&&r.id&&t&&(He.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,He.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),et.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),Yn.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var i,s,n;if(!t)return;He.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=He.chains.get(t.chainNamespace);He.activeChain=t.chainNamespace,He.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(i=e==null?void 0:e.accountState)!=null&&i.address?He.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:He.activeCaipAddress=void 0,this.setAccountProp("caipAddress",He.activeCaipAddress,t.chainNamespace),e&&nt.replaceState(e.accountState),_6.resetSend(),Yn.set({activeChain:He.activeChain,selectedNetworkId:(n=He.activeCaipNetwork)==null?void 0:n.caipNetworkId}),et.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&Fe.state.enableNetworkSwitch&&!Fe.state.allowUnsupportedChain&&!pr.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=He.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==le.state.activeChain,r=(s=le.getNetworkData(t))==null?void 0:s.caipNetwork,i=le.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&i&&await le.switchActiveNetwork(i)},async switchActiveNetwork(t){var s;const e=le.state.chains.get(le.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(n=>{var c;return n.id===((c=He.activeCaipNetwork)==null?void 0:c.id)}))&&jt.goBack();const i=this.getNetworkControllerClient(t.chainNamespace);i&&(await i.switchCaipNetwork(t),mr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||He.activeChain,r=He.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||He.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=He.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var s;let r=He.activeChain;if(e&&(r=e),!r)return;const i=(s=He.chains.get(r))==null?void 0:s.accountState;if(i)return i[t]},getNetworkProp(t,e){var i;const r=(i=He.chains.get(e))==null?void 0:i.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=He.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:i=[]}=(e==null?void 0:e.networkState)||{};return dt.sortRequestedNetworks(r,i)},getAllRequestedCaipNetworks(){const t=[];return He.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return He.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return He.activeCaipNetwork},getActiveCaipAddress(){return He.activeCaipAddress},getApprovedCaipNetworkIds(t){var i;const e=He.chains.get(t);return((i=e==null?void 0:e.networkState)==null?void 0:i.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||He.activeCaipNetwork,i=this.getRequestedCaipNetworks(t);return i.length?i==null?void 0:i.some(s=>s.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!He.activeChain)return!0;const e=this.getRequestedCaipNetworks(He.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var i;const t=Yc.caipNetworkIdToNumber((i=He.activeCaipNetwork)==null?void 0:i.caipNetworkId),e=He.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var i,s;const t=((i=He.activeCaipNetwork)==null?void 0:i.chainNamespace)||"eip155",e=((s=He.activeCaipNetwork)==null?void 0:s.id)||1,r=Dr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){Nr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=He.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Dr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");He.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),wt.removeConnectorId(e)},async disconnect(t){const e=lI(t);try{_6.resetSend();const r=await Promise.allSettled(e.map(async([s,n])=>{var c;try{const{caipAddress:f}=this.getAccountData(s)||{};f&&((c=n.connectionControllerClient)!=null&&c.disconnect)&&await n.connectionControllerClient.disconnect(s),this.resetAccount(s),this.resetNetwork(s)}catch(f){throw new Error(`Failed to disconnect chain ${s}: ${f.message}`)}}));pr.resetWcConnection();const i=r.filter(s=>s.status==="rejected");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(", "));et.deleteConnectedSocialProvider(),t?wt.removeConnectorId(t):wt.resetConnectorIds(),mr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),mr.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){He.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,i;const t=[];let e;if(He.chains.forEach(s=>{Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(i=(r=He.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:i[0]:void 0,e}},getAccountData(t){var e;return t?(e=le.state.chains.get(t))==null?void 0:e.accountState:nt.state},getNetworkData(t){var r;const e=t||He.activeChain;if(e)return(r=le.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var s,n,c;if(!t)return;const r=le.state.chains.get(t),i=(s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(f=>f.id===e);return i||((n=r==null?void 0:r.networkState)==null?void 0:n.caipNetwork)||((c=r==null?void 0:r.caipNetworks)==null?void 0:c[0])},getRequestedCaipNetworkIds(){const t=wt.state.filterByNamespace;return(t?[He.chains.get(t)]:Array.from(He.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)}},qZ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},eC=dt.getBlockchainApiUrl(),Ni=Ar({clientId:null,api:new Eh({baseUrl:eC,clientId:null}),supportedChains:{http:[],ws:[]}}),ft={state:Ni,async get(t){const{st:e,sv:r}=ft.getSdkProperties(),i=Fe.state.projectId,s={...t.params||{},st:e,sv:r,projectId:i};return Ni.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Fe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Ni.supportedChains.http.length||await ft.getSupportedNetworks()}catch{return!1}return Ni.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await ft.get({path:"v1/supported-chains"});return Ni.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await ft.isNetworkSupported(e))return{avatar:"",name:""};const i=et.getIdentityFromCacheForAddress(t);if(i)return i;const s=await ft.get({path:`/v1/identity/${t}`,params:{sender:le.state.activeCaipAddress?dt.getPlainAddress(le.state.activeCaipAddress):void 0}});return et.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:r,signal:i,cache:s,chainId:n}){var f;return await ft.isNetworkSupported((f=le.state.activeCaipNetwork)==null?void 0:f.caipNetworkId)?ft.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:n},signal:i,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:i,gasPrice:s}){var c;return await ft.isNetworkSupported((c=le.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?ft.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:i,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ft.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ni.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Fe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var i;return await ft.isNetworkSupported((i=le.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?ft.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:r}=ft.getSdkProperties();if(!await ft.isNetworkSupported((s=le.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return ft.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:i,disableEstimate:s}){var c;if(!await ft.isNetworkSupported((c=le.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return Ni.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Dr.CONVERT_SLIPPAGE_TOLERANCE},projectId:Fe.state.projectId,from:e,to:r,userAddress:i,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var c;const{st:i,sv:s}=ft.getSdkProperties();if(!await ft.isNetworkSupported((c=le.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return ft.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:i,sv:s}})},async getBalance(t,e,r){var p;const{st:i,sv:s}=ft.getSdkProperties();if(!await ft.isNetworkSupported((p=le.state.activeCaipNetwork)==null?void 0:p.caipNetworkId))return Xr.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,f=et.getBalanceCacheForCaipAddress(c);if(f)return f;const m=await ft.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:i,sv:s}});return et.updateBalanceCache({caipAddress:c,balance:m,timestamp:Date.now()}),m},async lookupEnsName(t){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ft.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ft.get({path:`/v1/profile/reverse/${t}`,params:{sender:nt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ft.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:i}){var n;return await ft.isNetworkSupported((n=le.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ni.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:i},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:i,paymentAmount:s}){var f;return await ft.isNetworkSupported((f=le.state.activeCaipNetwork)==null?void 0:f.caipNetworkId)?(await Ni.api.post({path:"/v1/generators/onrampurl",params:{projectId:Fe.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:i,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await ft.isNetworkSupported((e=le.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ft.get({path:"/v1/onramp/options"})}catch{return qZ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:i}){var s;try{return await ft.isNetworkSupported((s=le.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Ni.api.post({path:"/v1/onramp/quote",params:{projectId:Fe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:i}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await ft.isNetworkSupported((r=le.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ft.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var s;return await ft.isNetworkSupported((s=le.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Ni.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Fe.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){Ni.clientId=t,Ni.api=new Eh({baseUrl:eC,clientId:t})}},En=Ar({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),nt={state:En,replaceState(t){t&&Object.assign(En,go(t))},subscribe(t){return le.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let i;return le.subscribeChainProp("accountState",s=>{if(s){const n=s[t];i!==n&&(i=n,e(n))}},r)},setStatus(t,e){le.setAccountProp("status",t,e)},getCaipAddress(t){return le.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?dt.getPlainAddress(t):void 0;e===le.state.activeChain&&(le.state.activeCaipAddress=t),le.setAccountProp("caipAddress",t,e),le.setAccountProp("address",r,e)},setBalance(t,e,r){le.setAccountProp("balance",t,r),le.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){le.setAccountProp("profileName",t,e)},setProfileImage(t,e){le.setAccountProp("profileImage",t,e)},setUser(t,e){le.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){le.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){le.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){le.setAccountProp("currentTab",t,le.state.activeChain)},setTokenBalance(t,e){t&&le.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){le.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){le.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const i=le.getAccountProp("addressLabels",r)||new Map;i.set(t,e),le.setAccountProp("addressLabels",i,r)},removeAddressLabel(t,e){const r=le.getAccountProp("addressLabels",e)||new Map;r.delete(t),le.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){le.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){le.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&le.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){le.setAccountProp("socialWindow",t?go(t):void 0,e)},setFarcasterUrl(t,e){le.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var n,c;En.balanceLoading=!0;const e=(n=le.state.activeCaipNetwork)==null?void 0:n.caipNetworkId,r=(c=le.state.activeCaipNetwork)==null?void 0:c.chainNamespace,i=le.state.activeCaipAddress,s=i?dt.getPlainAddress(i):void 0;if(En.lastRetry&&!dt.isAllowedRetry(En.lastRetry,30*Dr.ONE_SEC_MS))return En.balanceLoading=!1,[];try{if(s&&e&&r){const m=(await ft.getBalance(s,e)).balances.filter(p=>p.quantity.decimals!=="0");return this.setTokenBalance(m,r),En.lastRetry=void 0,En.balanceLoading=!1,m}}catch(f){En.lastRetry=Date.now(),t==null||t(f),Xr.showError("Token Balance Unavailable")}finally{En.balanceLoading=!1}return[]},resetAccount(t){le.resetAccount(t)}},yi=Ar({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Nr={state:yi,subscribe(t){return pi(yi,()=>t(yi))},subscribeKey(t,e){return Mi(yi,t,e)},async open(t){var s;const e=nt.state.status==="connected";pr.state.wcBasic?St.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await St.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await le.switchActiveNamespace(t.namespace),Nr.setLoading(!0,t.namespace)):Nr.setLoading(!0),wt.setFilterByNamespace(t==null?void 0:t.namespace);const r=(s=le.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress;le.state.noAdapters&&!r?dt.isMobile()?jt.reset("AllWallets"):jt.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?jt.reset(t.view):r?jt.reset("Account"):jt.reset("Connect"),yi.open=!0,Yn.set({open:!0}),mr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=Fe.state.enableEmbedded,e=!!le.state.activeCaipAddress;yi.open&&mr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),yi.open=!1,Nr.clearLoading(),t?e?jt.replace("Account"):jt.push("Connect"):Yn.set({open:!1}),pr.resetUri()},setLoading(t,e){e&&yi.loadingNamespaceMap.set(e,t),yi.loading=t,Yn.set({loading:t})},clearLoading(){yi.loadingNamespaceMap.clear(),yi.loading=!1},shake(){yi.shake||(yi.shake=!0,setTimeout(()=>{yi.shake=!1},500))}},E6=2147483648,jZ={convertEVMChainIdToCoinType(t){if(t>=E6)throw new Error("Invalid chainId");return(E6|t)>>>0}},ji=Ar({suggestions:[],loading:!1}),tC={state:ji,subscribe(t){return pi(ji,()=>t(ji))},subscribeKey(t,e){return Mi(ji,t,e)},async resolveName(t){var e,r;try{return await ft.lookupEnsName(t)}catch(i){const s=i;throw new Error(((r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await ft.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ji.loading=!0,ji.suggestions=[];const e=await ft.getEnsNameSuggestions(t);return ji.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],ji.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{ji.loading=!1}},async getNamesForAddress(t){try{if(!le.state.activeCaipNetwork)return[];const r=et.getEnsFromCacheForAddress(t);if(r)return r;const i=await ft.reverseLookupEnsName({address:t});return et.updateEnsCache({address:t,ens:i,timestamp:Date.now()}),i}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=le.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=nt.state.address,i=wt.getAuthConnector();if(!r||!i)throw new Error("Address or auth connector not found");ji.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});jt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ji.loading=!1}});const n=await pr.signMessage(s),c=e.id;if(!c)throw new Error("Network not found");const f=jZ.convertEVMChainIdToCoinType(Number(c));await ft.registerEnsName({coinType:f,address:r,signature:n,message:s}),nt.setProfileName(t,e.chainNamespace),jt.replace("RegisterAccountNameSuccess")}catch(s){const n=this.parseEnsApiError(s,`Error registering name ${t}`);throw jt.replace("RegisterAccountName"),new Error(n)}finally{ji.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var i,s;const r=t;return((s=(i=r==null?void 0:r.reasons)==null?void 0:i[0])==null?void 0:s.description)||e}},_r={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},xs={ConnectorExplorerIds:{[Ue.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ue.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ue.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ue.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ue.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[_r.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[_r.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[_r.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[_r.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[_r.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[_r.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[_r.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[_r.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[_r.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[_r.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[_r.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ue.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ue.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ue.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ue.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ue.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ue.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ue.CONNECTOR_ID.COINBASE]:"Coinbase",[Ue.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ue.CONNECTOR_ID.LEDGER]:"Ledger",[Ue.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ue.CONNECTOR_ID.INJECTED]:"INJECTED",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ue.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ue.CONNECTOR_ID.AUTH]:"AUTH"}},Gl={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,i])=>{e[`${_r.EIP155}:${r}`]=i}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},ma={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${zZ()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function zZ(){return typeof window<"u"}const HZ={createLogger(t,e="error"){const r=qa({level:e}),{logger:i}=I1({opts:r});return i.error=(...s)=>{for(const n of s)if(n instanceof Error){t(n,...s);return}t(void 0,...s)},i}},WZ="rpc.walletconnect.org";function VZ(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Bg=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],In={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===WZ}catch{r=!1}if(r){const i=new URL(t);return i.searchParams.has("projectId")||i.searchParams.set("projectId",e),i.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ue.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ue.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var s,n,c;const i=(c=(n=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:n.http)==null?void 0:c[0];return Bg.includes(e)?VZ(e,r):i||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:i}){var _,x,M,C,T;const s=this.getChainNamespace(t),n=this.getCaipNetworkId(t),c=(_=t.rpcUrls.default.http)==null?void 0:_[0],f=this.getDefaultRpcUrl(t,n,r),m=((C=(M=(x=t==null?void 0:t.rpcUrls)==null?void 0:x.chainDefault)==null?void 0:M.http)==null?void 0:C[0])||c,p=((T=i==null?void 0:i[n])==null?void 0:T.map(S=>S.url))||[],d=[...p,f],y=[...p];return m&&!y.includes(m)&&y.push(m),{...t,chainNamespace:s,caipNetworkId:n,assets:{imageId:xs.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:d},chainDefault:{http:y}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:i}){return t.map(s=>In.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:i,projectId:r}))},getViemTransport(t,e,r){const i=[];if(r==null||r.forEach(s=>{i.push(Pg(s.url,s.config))}),Bg.includes(t.caipNetworkId)){const s=this.getDefaultRpcUrl(t,t.caipNetworkId,e);i.push(Pg(s,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return g6(i)},extendWagmiTransports(t,e,r){if(Bg.includes(t.caipNetworkId)){const i=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return g6([r,Pg(i)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ue.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var m;const e=et.getActiveCaipNetworkId(),r=le.getAllRequestedCaipNetworks(),i=Array.from(((m=le.state.chains)==null?void 0:m.keys())||[]),s=e==null?void 0:e.split(":")[0],n=s?i.includes(s):!1,c=r==null?void 0:r.find(p=>p.caipNetworkId===e);return n&&!c&&e?this.getUnsupportedNetwork(e):c||t||(r==null?void 0:r[0])}},Zl={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},bi=Ar({providers:{...Zl},providerIds:{...Zl}}),Wt={state:bi,subscribeKey(t,e){return Mi(bi,t,e)},subscribe(t){return pi(bi,()=>{t(bi)})},subscribeProviders(t){return pi(bi.providers,()=>t(bi.providers))},setProvider(t,e){e&&(bi.providers[t]=go(e))},getProvider(t){return bi.providers[t]},setProviderId(t,e){e&&(bi.providerIds[t]=e)},getProviderId(t){if(t)return bi.providerIds[t]},reset(){bi.providers={...Zl},bi.providerIds={...Zl}},resetChain(t){bi.providers[t]=void 0,bi.providerIds[t]=void 0}},A6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Jr={set(t,e){ki.isClient&&localStorage.setItem(`${tt.STORAGE_KEY}${t}`,e)},get(t){return ki.isClient?localStorage.getItem(`${tt.STORAGE_KEY}${t}`):null},delete(t,e){ki.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${tt.STORAGE_KEY}${t}`))}},rl=30*1e3,ki={checkIfAllowedToTriggerEmail(){const t=Jr.get(tt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<rl){const r=Math.ceil((rl-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=Jr.get(tt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<rl)return Math.ceil((rl-e)/1e3)}return 0},checkIfRequestExists(t){return Rr.NOT_SAFE_RPC_METHODS.includes(t.method)||Rr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(A6.transactionHash))||(t==null?void 0:t.match(A6.signedMessage)))?tt.RPC_RESPONSE_TYPE_TX:tt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Rr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Dt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const n={};for(const c of s)n[c]=c;return n},t.getValidEnumValues=s=>{const n=t.objectKeys(s).filter(f=>typeof s[s[f]]!="number"),c={};for(const f of n)c[f]=s[f];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(n){return s[n]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const n=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&n.push(c);return n},t.find=(s,n)=>{for(const c of s)if(n(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,n=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(n)}t.joinValues=i,t.jsonStringifyReplacer=(s,n)=>typeof n=="bigint"?n.toString():n})(Dt||(Dt={}));var s1;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(s1||(s1={}));const Ke=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=t=>{switch(typeof t){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return isNaN(t)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(t)?Ke.array:t===null?Ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ke.promise:typeof Map<"u"&&t instanceof Map?Ke.map:typeof Set<"u"&&t instanceof Set?Ke.set:typeof Date<"u"&&t instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Le=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ln extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(n){return n.message},i={_errors:[]},s=n=>{for(const c of n.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)i._errors.push(r(c));else{let f=i,m=0;for(;m<c.path.length;){const p=c.path[m];m===c.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(r(c))):f[p]=f[p]||{_errors:[]},f=f[p],m++}}};return s(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},i=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}ln.create=t=>new ln(t);const bu=(t,e)=>{let r;switch(t.code){case Le.invalid_type:t.received===Ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Dt.jsonStringifyReplacer)}`;break;case Le.unrecognized_keys:r=`Unrecognized key(s) in object: ${Dt.joinValues(t.keys,", ")}`;break;case Le.invalid_union:r="Invalid input";break;case Le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Dt.joinValues(t.options)}`;break;case Le.invalid_enum_value:r=`Invalid enum value. Expected ${Dt.joinValues(t.options)}, received '${t.received}'`;break;case Le.invalid_arguments:r="Invalid function arguments";break;case Le.invalid_return_type:r="Invalid function return type";break;case Le.invalid_date:r="Invalid date";break;case Le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Dt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Le.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Le.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Le.custom:r="Invalid input";break;case Le.invalid_intersection_types:r="Intersection results could not be merged";break;case Le.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Le.not_finite:r="Number must be finite";break;default:r=e.defaultError,Dt.assertNever(t)}return{message:r}};let rC=bu;function GZ(t){rC=t}function Yl(){return rC}const Jl=t=>{const{data:e,path:r,errorMaps:i,issueData:s}=t,n=[...r,...s.path||[]],c={...s,path:n};let f="";const m=i.filter(p=>!!p).slice().reverse();for(const p of m)f=p(c,{data:e,defaultError:f}).message;return{...s,path:n,message:s.message||f}},ZZ=[];function Je(t,e){const r=Jl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Yl(),bu].filter(i=>!!i)});t.common.issues.push(r)}class ci{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const i=[];for(const s of r){if(s.status==="aborted")return yt;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,r){const i=[];for(const s of r)i.push({key:await s.key,value:await s.value});return ci.mergeObjectSync(e,i)}static mergeObjectSync(e,r){const i={};for(const s of r){const{key:n,value:c}=s;if(n.status==="aborted"||c.status==="aborted")return yt;n.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(i[n.value]=c.value)}return{status:e.value,value:i}}}const yt=Object.freeze({status:"aborted"}),iC=t=>({status:"dirty",value:t}),mi=t=>({status:"valid",value:t}),o1=t=>t.status==="aborted",a1=t=>t.status==="dirty",wu=t=>t.status==="valid",Ql=t=>typeof Promise<"u"&&t instanceof Promise;var st;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class kn{constructor(e,r,i,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const x6=(t,e)=>{if(wu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ln(t.common.issues);return this._error=r,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:i,description:s}=t;if(e&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,f)=>c.code!=="invalid_type"?{message:f.defaultError}:typeof f.data>"u"?{message:i??f.defaultError}:{message:r??f.defaultError},description:s}}class It{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ys(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ci,ctx:{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ql(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const i=this.safeParse(e,r);if(i.success)return i.data;throw i.error}safeParse(e,r){var i;const s={common:{issues:[],async:(i=r==null?void 0:r.async)!==null&&i!==void 0?i:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},n=this._parseSync({data:e,path:s.path,parent:s});return x6(s,n)}async parseAsync(e,r){const i=await this.safeParseAsync(e,r);if(i.success)return i.data;throw i.error}async safeParseAsync(e,r){const i={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},s=this._parse({data:e,path:i.path,parent:i}),n=await(Ql(s)?s:Promise.resolve(s));return x6(i,n)}refine(e,r){const i=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,n)=>{const c=e(s),f=()=>n.addIssue({code:Le.custom,...i(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(f(),!1)):c?!0:(f(),!1)})}refinement(e,r){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof r=="function"?r(i,s):r),!1))}_refinement(e){return new dn({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qn.create(this,this._def)}nullable(){return Ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hn.create(this,this._def)}promise(){return Pa.create(this,this._def)}or(e){return xu.create([this,e],this._def)}and(e){return Mu.create(this,e,this._def)}transform(e){return new dn({..._t(this._def),schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ru({..._t(this._def),innerType:this,defaultValue:r,typeName:ut.ZodDefault})}brand(){return new sC({typeName:ut.ZodBranded,type:this,..._t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new rh({..._t(this._def),innerType:this,catchValue:r,typeName:ut.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return gf.create(this,e)}readonly(){return nh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YZ=/^c[^\s-]{8,}$/i,JZ=/^[a-z][a-z0-9]*$/,QZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,XZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eY=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dg;const rY=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,iY=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nY=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function sY(t,e){return!!((e==="v4"||!e)&&rY.test(t)||(e==="v6"||!e)&&iY.test(t))}class fn extends It{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ke.string){const n=this._getOrReturnCtx(e);return Je(n,{code:Le.invalid_type,expected:Ke.string,received:n.parsedType}),yt}const i=new ci;let s;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if(n.kind==="max")e.data.length>n.value&&(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if(n.kind==="length"){const c=e.data.length>n.value,f=e.data.length<n.value;(c||f)&&(s=this._getOrReturnCtx(e,s),c?Je(s,{code:Le.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):f&&Je(s,{code:Le.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),i.dirty())}else if(n.kind==="email")eY.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"email",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="emoji")Dg||(Dg=new RegExp(tY,"u")),Dg.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"emoji",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="uuid")XZ.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"uuid",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="cuid")YZ.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"cuid",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="cuid2")JZ.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"cuid2",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="ulid")QZ.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"ulid",code:Le.invalid_string,message:n.message}),i.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Je(s,{validation:"url",code:Le.invalid_string,message:n.message}),i.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"regex",code:Le.invalid_string,message:n.message}),i.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),i.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.invalid_string,validation:{startsWith:n.value},message:n.message}),i.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.invalid_string,validation:{endsWith:n.value},message:n.message}),i.dirty()):n.kind==="datetime"?nY(n).test(e.data)||(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.invalid_string,validation:"datetime",message:n.message}),i.dirty()):n.kind==="ip"?sY(e.data,n.version)||(s=this._getOrReturnCtx(e,s),Je(s,{validation:"ip",code:Le.invalid_string,message:n.message}),i.dirty()):Dt.assertNever(n);return{status:i.value,value:e.data}}_regex(e,r,i){return this.refinement(s=>e.test(s),{validation:r,code:Le.invalid_string,...st.errToObj(i)})}_addCheck(e){return new fn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...st.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...st.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...st.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...st.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...st.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...st.errToObj(r)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new fn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fn.create=t=>{var e;return new fn({checks:[],typeName:ut.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};function oY(t,e){const r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=r>i?r:i,n=parseInt(t.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return n%c/Math.pow(10,s)}class Ds extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ke.number){const n=this._getOrReturnCtx(e);return Je(n,{code:Le.invalid_type,expected:Ke.number,received:n.parsedType}),yt}let i;const s=new ci;for(const n of this._def.checks)n.kind==="int"?Dt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="multipleOf"?oY(e.data,n.value)!==0&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.not_finite,message:n.message}),s.dirty()):Dt.assertNever(n);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,i,s){return new Ds({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:st.toString(s)}]})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Dt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ds.create=t=>new Ds({checks:[],typeName:ut.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class $s extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ke.bigint){const n=this._getOrReturnCtx(e);return Je(n,{code:Le.invalid_type,expected:Ke.bigint,received:n.parsedType}),yt}let i;const s=new ci;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Le.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):Dt.assertNever(n);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,i,s){return new $s({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:st.toString(s)}]})}_addCheck(e){return new $s({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}$s.create=t=>{var e;return new $s({checks:[],typeName:ut.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};class _u extends It{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ke.boolean){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.boolean,received:i.parsedType}),yt}return mi(e.data)}}_u.create=t=>new _u({typeName:ut.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class Io extends It{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ke.date){const n=this._getOrReturnCtx(e);return Je(n,{code:Le.invalid_type,expected:Ke.date,received:n.parsedType}),yt}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return Je(n,{code:Le.invalid_date}),yt}const i=new ci;let s;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),i.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(s=this._getOrReturnCtx(e,s),Je(s,{code:Le.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),i.dirty()):Dt.assertNever(n);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Io({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Io.create=t=>new Io({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ut.ZodDate,..._t(t)});class Xl extends It{_parse(e){if(this._getType(e)!==Ke.symbol){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.symbol,received:i.parsedType}),yt}return mi(e.data)}}Xl.create=t=>new Xl({typeName:ut.ZodSymbol,..._t(t)});class Eu extends It{_parse(e){if(this._getType(e)!==Ke.undefined){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.undefined,received:i.parsedType}),yt}return mi(e.data)}}Eu.create=t=>new Eu({typeName:ut.ZodUndefined,..._t(t)});class Au extends It{_parse(e){if(this._getType(e)!==Ke.null){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.null,received:i.parsedType}),yt}return mi(e.data)}}Au.create=t=>new Au({typeName:ut.ZodNull,..._t(t)});class Na extends It{constructor(){super(...arguments),this._any=!0}_parse(e){return mi(e.data)}}Na.create=t=>new Na({typeName:ut.ZodAny,..._t(t)});class po extends It{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mi(e.data)}}po.create=t=>new po({typeName:ut.ZodUnknown,..._t(t)});class rs extends It{_parse(e){const r=this._getOrReturnCtx(e);return Je(r,{code:Le.invalid_type,expected:Ke.never,received:r.parsedType}),yt}}rs.create=t=>new rs({typeName:ut.ZodNever,..._t(t)});class eh extends It{_parse(e){if(this._getType(e)!==Ke.undefined){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.void,received:i.parsedType}),yt}return mi(e.data)}}eh.create=t=>new eh({typeName:ut.ZodVoid,..._t(t)});class hn extends It{_parse(e){const{ctx:r,status:i}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ke.array)return Je(r,{code:Le.invalid_type,expected:Ke.array,received:r.parsedType}),yt;if(s.exactLength!==null){const c=r.data.length>s.exactLength.value,f=r.data.length<s.exactLength.value;(c||f)&&(Je(r,{code:c?Le.too_big:Le.too_small,minimum:f?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Je(r,{code:Le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Je(r,{code:Le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((c,f)=>s.type._parseAsync(new kn(r,c,r.path,f)))).then(c=>ci.mergeArray(i,c));const n=[...r.data].map((c,f)=>s.type._parseSync(new kn(r,c,r.path,f)));return ci.mergeArray(i,n)}get element(){return this._def.type}min(e,r){return new hn({...this._def,minLength:{value:e,message:st.toString(r)}})}max(e,r){return new hn({...this._def,maxLength:{value:e,message:st.toString(r)}})}length(e,r){return new hn({...this._def,exactLength:{value:e,message:st.toString(r)}})}nonempty(e){return this.min(1,e)}}hn.create=(t,e)=>new hn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ut.ZodArray,..._t(e)});function fa(t){if(t instanceof xr){const e={};for(const r in t.shape){const i=t.shape[r];e[r]=Qn.create(fa(i))}return new xr({...t._def,shape:()=>e})}else return t instanceof hn?new hn({...t._def,type:fa(t.element)}):t instanceof Qn?Qn.create(fa(t.unwrap())):t instanceof Ro?Ro.create(fa(t.unwrap())):t instanceof Bn?Bn.create(t.items.map(e=>fa(e))):t}class xr extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Dt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ke.object){const p=this._getOrReturnCtx(e);return Je(p,{code:Le.invalid_type,expected:Ke.object,received:p.parsedType}),yt}const{status:i,ctx:s}=this._processInputParams(e),{shape:n,keys:c}=this._getCached(),f=[];if(!(this._def.catchall instanceof rs&&this._def.unknownKeys==="strip"))for(const p in s.data)c.includes(p)||f.push(p);const m=[];for(const p of c){const d=n[p],y=s.data[p];m.push({key:{status:"valid",value:p},value:d._parse(new kn(s,y,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof rs){const p=this._def.unknownKeys;if(p==="passthrough")for(const d of f)m.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(p==="strict")f.length>0&&(Je(s,{code:Le.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const d of f){const y=s.data[d];m.push({key:{status:"valid",value:d},value:p._parse(new kn(s,y,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const d of m){const y=await d.key;p.push({key:y,value:await d.value,alwaysSet:d.alwaysSet})}return p}).then(p=>ci.mergeObjectSync(i,p)):ci.mergeObjectSync(i,m)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,i)=>{var s,n,c,f;const m=(c=(n=(s=this._def).errorMap)===null||n===void 0?void 0:n.call(s,r,i).message)!==null&&c!==void 0?c:i.defaultError;return r.code==="unrecognized_keys"?{message:(f=st.errToObj(e).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ut.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){const r={};return Dt.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(r[i]=this.shape[i])}),new xr({...this._def,shape:()=>r})}omit(e){const r={};return Dt.objectKeys(this.shape).forEach(i=>{e[i]||(r[i]=this.shape[i])}),new xr({...this._def,shape:()=>r})}deepPartial(){return fa(this)}partial(e){const r={};return Dt.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];e&&!e[i]?r[i]=s:r[i]=s.optional()}),new xr({...this._def,shape:()=>r})}required(e){const r={};return Dt.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])r[i]=this.shape[i];else{let n=this.shape[i];for(;n instanceof Qn;)n=n._def.innerType;r[i]=n}}),new xr({...this._def,shape:()=>r})}keyof(){return nC(Dt.objectKeys(this.shape))}}xr.create=(t,e)=>new xr({shape:()=>t,unknownKeys:"strip",catchall:rs.create(),typeName:ut.ZodObject,..._t(e)});xr.strictCreate=(t,e)=>new xr({shape:()=>t,unknownKeys:"strict",catchall:rs.create(),typeName:ut.ZodObject,..._t(e)});xr.lazycreate=(t,e)=>new xr({shape:t,unknownKeys:"strip",catchall:rs.create(),typeName:ut.ZodObject,..._t(e)});class xu extends It{_parse(e){const{ctx:r}=this._processInputParams(e),i=this._def.options;function s(n){for(const f of n)if(f.result.status==="valid")return f.result;for(const f of n)if(f.result.status==="dirty")return r.common.issues.push(...f.ctx.common.issues),f.result;const c=n.map(f=>new ln(f.ctx.common.issues));return Je(r,{code:Le.invalid_union,unionErrors:c}),yt}if(r.common.async)return Promise.all(i.map(async n=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await n._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(s);{let n;const c=[];for(const m of i){const p={...r,common:{...r.common,issues:[]},parent:null},d=m._parseSync({data:r.data,path:r.path,parent:p});if(d.status==="valid")return d;d.status==="dirty"&&!n&&(n={result:d,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(n)return r.common.issues.push(...n.ctx.common.issues),n.result;const f=c.map(m=>new ln(m));return Je(r,{code:Le.invalid_union,unionErrors:f}),yt}}get options(){return this._def.options}}xu.create=(t,e)=>new xu({options:t,typeName:ut.ZodUnion,..._t(e)});const xl=t=>t instanceof Su?xl(t.schema):t instanceof dn?xl(t.innerType()):t instanceof Iu?[t.value]:t instanceof Us?t.options:t instanceof Tu?Object.keys(t.enum):t instanceof Ru?xl(t._def.innerType):t instanceof Eu?[void 0]:t instanceof Au?[null]:null;class sd extends It{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.object)return Je(r,{code:Le.invalid_type,expected:Ke.object,received:r.parsedType}),yt;const i=this.discriminator,s=r.data[i],n=this.optionsMap.get(s);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,i){const s=new Map;for(const n of r){const c=xl(n.shape[e]);if(!c)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const f of c){if(s.has(f))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(f)}`);s.set(f,n)}}return new sd({typeName:ut.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,..._t(i)})}}function c1(t,e){const r=ys(t),i=ys(e);if(t===e)return{valid:!0,data:t};if(r===Ke.object&&i===Ke.object){const s=Dt.objectKeys(e),n=Dt.objectKeys(t).filter(f=>s.indexOf(f)!==-1),c={...t,...e};for(const f of n){const m=c1(t[f],e[f]);if(!m.valid)return{valid:!1};c[f]=m.data}return{valid:!0,data:c}}else if(r===Ke.array&&i===Ke.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let n=0;n<t.length;n++){const c=t[n],f=e[n],m=c1(c,f);if(!m.valid)return{valid:!1};s.push(m.data)}return{valid:!0,data:s}}else return r===Ke.date&&i===Ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Mu extends It{_parse(e){const{status:r,ctx:i}=this._processInputParams(e),s=(n,c)=>{if(o1(n)||o1(c))return yt;const f=c1(n.value,c.value);return f.valid?((a1(n)||a1(c))&&r.dirty(),{status:r.value,value:f.data}):(Je(i,{code:Le.invalid_intersection_types}),yt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([n,c])=>s(n,c)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Mu.create=(t,e,r)=>new Mu({left:t,right:e,typeName:ut.ZodIntersection,..._t(r)});class Bn extends It{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ke.array)return Je(i,{code:Le.invalid_type,expected:Ke.array,received:i.parsedType}),yt;if(i.data.length<this._def.items.length)return Je(i,{code:Le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&i.data.length>this._def.items.length&&(Je(i,{code:Le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...i.data].map((c,f)=>{const m=this._def.items[f]||this._def.rest;return m?m._parse(new kn(i,c,i.path,f)):null}).filter(c=>!!c);return i.common.async?Promise.all(n).then(c=>ci.mergeArray(r,c)):ci.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new Bn({...this._def,rest:e})}}Bn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bn({items:t,typeName:ut.ZodTuple,rest:null,..._t(e)})};class Cu extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ke.object)return Je(i,{code:Le.invalid_type,expected:Ke.object,received:i.parsedType}),yt;const s=[],n=this._def.keyType,c=this._def.valueType;for(const f in i.data)s.push({key:n._parse(new kn(i,f,i.path,f)),value:c._parse(new kn(i,i.data[f],i.path,f))});return i.common.async?ci.mergeObjectAsync(r,s):ci.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,i){return r instanceof It?new Cu({keyType:e,valueType:r,typeName:ut.ZodRecord,..._t(i)}):new Cu({keyType:fn.create(),valueType:e,typeName:ut.ZodRecord,..._t(r)})}}class th extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ke.map)return Je(i,{code:Le.invalid_type,expected:Ke.map,received:i.parsedType}),yt;const s=this._def.keyType,n=this._def.valueType,c=[...i.data.entries()].map(([f,m],p)=>({key:s._parse(new kn(i,f,i.path,[p,"key"])),value:n._parse(new kn(i,m,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of c){const p=await m.key,d=await m.value;if(p.status==="aborted"||d.status==="aborted")return yt;(p.status==="dirty"||d.status==="dirty")&&r.dirty(),f.set(p.value,d.value)}return{status:r.value,value:f}})}else{const f=new Map;for(const m of c){const p=m.key,d=m.value;if(p.status==="aborted"||d.status==="aborted")return yt;(p.status==="dirty"||d.status==="dirty")&&r.dirty(),f.set(p.value,d.value)}return{status:r.value,value:f}}}}th.create=(t,e,r)=>new th({valueType:e,keyType:t,typeName:ut.ZodMap,..._t(r)});class To extends It{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ke.set)return Je(i,{code:Le.invalid_type,expected:Ke.set,received:i.parsedType}),yt;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(Je(i,{code:Le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(Je(i,{code:Le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const n=this._def.valueType;function c(m){const p=new Set;for(const d of m){if(d.status==="aborted")return yt;d.status==="dirty"&&r.dirty(),p.add(d.value)}return{status:r.value,value:p}}const f=[...i.data.values()].map((m,p)=>n._parse(new kn(i,m,i.path,p)));return i.common.async?Promise.all(f).then(m=>c(m)):c(f)}min(e,r){return new To({...this._def,minSize:{value:e,message:st.toString(r)}})}max(e,r){return new To({...this._def,maxSize:{value:e,message:st.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}To.create=(t,e)=>new To({valueType:t,minSize:null,maxSize:null,typeName:ut.ZodSet,..._t(e)});class ba extends It{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.function)return Je(r,{code:Le.invalid_type,expected:Ke.function,received:r.parsedType}),yt;function i(f,m){return Jl({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Yl(),bu].filter(p=>!!p),issueData:{code:Le.invalid_arguments,argumentsError:m}})}function s(f,m){return Jl({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Yl(),bu].filter(p=>!!p),issueData:{code:Le.invalid_return_type,returnTypeError:m}})}const n={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Pa){const f=this;return mi(async function(...m){const p=new ln([]),d=await f._def.args.parseAsync(m,n).catch(x=>{throw p.addIssue(i(m,x)),p}),y=await Reflect.apply(c,this,d);return await f._def.returns._def.type.parseAsync(y,n).catch(x=>{throw p.addIssue(s(y,x)),p})})}else{const f=this;return mi(function(...m){const p=f._def.args.safeParse(m,n);if(!p.success)throw new ln([i(m,p.error)]);const d=Reflect.apply(c,this,p.data),y=f._def.returns.safeParse(d,n);if(!y.success)throw new ln([s(d,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ba({...this._def,args:Bn.create(e).rest(po.create())})}returns(e){return new ba({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,i){return new ba({args:e||Bn.create([]).rest(po.create()),returns:r||po.create(),typeName:ut.ZodFunction,..._t(i)})}}class Su extends It{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Su.create=(t,e)=>new Su({getter:t,typeName:ut.ZodLazy,..._t(e)});class Iu extends It{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Je(r,{received:r.data,code:Le.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Iu.create=(t,e)=>new Iu({value:t,typeName:ut.ZodLiteral,..._t(e)});function nC(t,e){return new Us({values:t,typeName:ut.ZodEnum,..._t(e)})}class Us extends It{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),i=this._def.values;return Je(r,{expected:Dt.joinValues(i),received:r.parsedType,code:Le.invalid_type}),yt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),i=this._def.values;return Je(r,{received:r.data,code:Le.invalid_enum_value,options:i}),yt}return mi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Us.create(e)}exclude(e){return Us.create(this.options.filter(r=>!e.includes(r)))}}Us.create=nC;class Tu extends It{_parse(e){const r=Dt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Ke.string&&i.parsedType!==Ke.number){const s=Dt.objectValues(r);return Je(i,{expected:Dt.joinValues(s),received:i.parsedType,code:Le.invalid_type}),yt}if(r.indexOf(e.data)===-1){const s=Dt.objectValues(r);return Je(i,{received:i.data,code:Le.invalid_enum_value,options:s}),yt}return mi(e.data)}get enum(){return this._def.values}}Tu.create=(t,e)=>new Tu({values:t,typeName:ut.ZodNativeEnum,..._t(e)});class Pa extends It{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.promise&&r.common.async===!1)return Je(r,{code:Le.invalid_type,expected:Ke.promise,received:r.parsedType}),yt;const i=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return mi(i.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pa.create=(t,e)=>new Pa({type:t,typeName:ut.ZodPromise,..._t(e)});class dn extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:i}=this._processInputParams(e),s=this._def.effect||null,n={addIssue:c=>{Je(i,c),c.fatal?r.abort():r.dirty()},get path(){return i.path}};if(n.addIssue=n.addIssue.bind(n),s.type==="preprocess"){const c=s.transform(i.data,n);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(c).then(f=>this._def.schema._parseAsync({data:f,path:i.path,parent:i})):this._def.schema._parseSync({data:c,path:i.path,parent:i})}if(s.type==="refinement"){const c=f=>{const m=s.refinement(f,n);if(i.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?yt:(f.status==="dirty"&&r.dirty(),c(f.value),{status:r.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?yt:(f.status==="dirty"&&r.dirty(),c(f.value).then(()=>({status:r.value,value:f.value}))))}if(s.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!wu(c))return c;const f=s.transform(c.value,n);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>wu(c)?Promise.resolve(s.transform(c.value,n)).then(f=>({status:r.value,value:f})):c);Dt.assertNever(s)}}dn.create=(t,e,r)=>new dn({schema:t,typeName:ut.ZodEffects,effect:e,..._t(r)});dn.createWithPreprocess=(t,e,r)=>new dn({schema:e,effect:{type:"preprocess",transform:t},typeName:ut.ZodEffects,..._t(r)});class Qn extends It{_parse(e){return this._getType(e)===Ke.undefined?mi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qn.create=(t,e)=>new Qn({innerType:t,typeName:ut.ZodOptional,..._t(e)});class Ro extends It{_parse(e){return this._getType(e)===Ke.null?mi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ro.create=(t,e)=>new Ro({innerType:t,typeName:ut.ZodNullable,..._t(e)});class Ru extends It{_parse(e){const{ctx:r}=this._processInputParams(e);let i=r.data;return r.parsedType===Ke.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ru.create=(t,e)=>new Ru({innerType:t,typeName:ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class rh extends It{_parse(e){const{ctx:r}=this._processInputParams(e),i={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ql(s)?s.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ln(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ln(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}rh.create=(t,e)=>new rh({innerType:t,typeName:ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class ih extends It{_parse(e){if(this._getType(e)!==Ke.nan){const i=this._getOrReturnCtx(e);return Je(i,{code:Le.invalid_type,expected:Ke.nan,received:i.parsedType}),yt}return{status:"valid",value:e.data}}}ih.create=t=>new ih({typeName:ut.ZodNaN,..._t(t)});const aY=Symbol("zod_brand");class sC extends It{_parse(e){const{ctx:r}=this._processInputParams(e),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class gf extends It{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?yt:n.status==="dirty"?(r.dirty(),iC(n.value)):this._def.out._parseAsync({data:n.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?yt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,r){return new gf({in:e,out:r,typeName:ut.ZodPipeline})}}class nh extends It{_parse(e){const r=this._def.innerType._parse(e);return wu(r)&&(r.value=Object.freeze(r.value)),r}}nh.create=(t,e)=>new nh({innerType:t,typeName:ut.ZodReadonly,..._t(e)});const oC=(t,e={},r)=>t?Na.create().superRefine((i,s)=>{var n,c;if(!t(i)){const f=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,m=(c=(n=f.fatal)!==null&&n!==void 0?n:r)!==null&&c!==void 0?c:!0,p=typeof f=="string"?{message:f}:f;s.addIssue({code:"custom",...p,fatal:m})}}):Na.create(),cY={object:xr.lazycreate};var ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ut||(ut={}));const uY=(t,e={message:`Input not instance of ${t.name}`})=>oC(r=>r instanceof t,e),aC=fn.create,cC=Ds.create,fY=ih.create,lY=$s.create,uC=_u.create,hY=Io.create,dY=Xl.create,pY=Eu.create,mY=Au.create,gY=Na.create,vY=po.create,yY=rs.create,bY=eh.create,wY=hn.create,_Y=xr.create,EY=xr.strictCreate,AY=xu.create,xY=sd.create,MY=Mu.create,CY=Bn.create,SY=Cu.create,IY=th.create,TY=To.create,RY=ba.create,NY=Su.create,PY=Iu.create,OY=Us.create,kY=Tu.create,BY=Pa.create,M6=dn.create,DY=Qn.create,$Y=Ro.create,UY=dn.createWithPreprocess,FY=gf.create,LY=()=>aC().optional(),qY=()=>cC().optional(),jY=()=>uC().optional(),zY={string:t=>fn.create({...t,coerce:!0}),number:t=>Ds.create({...t,coerce:!0}),boolean:t=>_u.create({...t,coerce:!0}),bigint:t=>$s.create({...t,coerce:!0}),date:t=>Io.create({...t,coerce:!0})},HY=yt;var ne=Object.freeze({__proto__:null,defaultErrorMap:bu,setErrorMap:GZ,getErrorMap:Yl,makeIssue:Jl,EMPTY_PATH:ZZ,addIssueToContext:Je,ParseStatus:ci,INVALID:yt,DIRTY:iC,OK:mi,isAborted:o1,isDirty:a1,isValid:wu,isAsync:Ql,get util(){return Dt},get objectUtil(){return s1},ZodParsedType:Ke,getParsedType:ys,ZodType:It,ZodString:fn,ZodNumber:Ds,ZodBigInt:$s,ZodBoolean:_u,ZodDate:Io,ZodSymbol:Xl,ZodUndefined:Eu,ZodNull:Au,ZodAny:Na,ZodUnknown:po,ZodNever:rs,ZodVoid:eh,ZodArray:hn,ZodObject:xr,ZodUnion:xu,ZodDiscriminatedUnion:sd,ZodIntersection:Mu,ZodTuple:Bn,ZodRecord:Cu,ZodMap:th,ZodSet:To,ZodFunction:ba,ZodLazy:Su,ZodLiteral:Iu,ZodEnum:Us,ZodNativeEnum:Tu,ZodPromise:Pa,ZodEffects:dn,ZodTransformer:dn,ZodOptional:Qn,ZodNullable:Ro,ZodDefault:Ru,ZodCatch:rh,ZodNaN:ih,BRAND:aY,ZodBranded:sC,ZodPipeline:gf,ZodReadonly:nh,custom:oC,Schema:It,ZodSchema:It,late:cY,get ZodFirstPartyTypeKind(){return ut},coerce:zY,any:gY,array:wY,bigint:lY,boolean:uC,date:hY,discriminatedUnion:xY,effect:M6,enum:OY,function:RY,instanceof:uY,intersection:MY,lazy:NY,literal:PY,map:IY,nan:fY,nativeEnum:kY,never:yY,null:mY,nullable:$Y,number:cC,object:_Y,oboolean:jY,onumber:qY,optional:DY,ostring:LY,pipeline:FY,preprocess:UY,promise:BY,record:SY,set:TY,strictObject:EY,string:aC,symbol:dY,transformer:M6,tuple:CY,undefined:pY,union:AY,unknown:vY,void:bY,NEVER:HY,ZodIssueCode:Le,quotelessJson:KZ,ZodError:ln});const Mr=ne.object({message:ne.string()});function Ze(t){return ne.literal(tt[t])}ne.object({accessList:ne.array(ne.string()),blockHash:ne.string().nullable(),blockNumber:ne.string().nullable(),chainId:ne.string().or(ne.number()),from:ne.string(),gas:ne.string(),hash:ne.string(),input:ne.string().nullable(),maxFeePerGas:ne.string(),maxPriorityFeePerGas:ne.string(),nonce:ne.string(),r:ne.string(),s:ne.string(),to:ne.string(),transactionIndex:ne.string().nullable(),type:ne.string(),v:ne.string(),value:ne.string()});const WY=ne.object({chainId:ne.string().or(ne.number())}),VY=ne.object({email:ne.string().email()}),KY=ne.object({otp:ne.string()}),GY=ne.object({uri:ne.string()}),ZY=ne.object({chainId:ne.optional(ne.string().or(ne.number())),preferredAccountType:ne.optional(ne.string())}),YY=ne.object({provider:ne.enum(["google","github","apple","facebook","x","discord"])}),JY=ne.object({email:ne.string().email()}),QY=ne.object({otp:ne.string()}),XY=ne.object({otp:ne.string()}),eJ=ne.object({themeMode:ne.optional(ne.enum(["light","dark"])),themeVariables:ne.optional(ne.record(ne.string(),ne.string().or(ne.number()))),w3mThemeVariables:ne.optional(ne.record(ne.string(),ne.string()))}),tJ=ne.object({metadata:ne.object({name:ne.string(),description:ne.string(),url:ne.string(),icons:ne.array(ne.string())}).optional(),sdkVersion:ne.string().optional(),sdkType:ne.string().optional(),projectId:ne.string()}),rJ=ne.object({type:ne.string()}),iJ=ne.object({action:ne.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),nJ=ne.object({url:ne.string()}),sJ=ne.object({userName:ne.string()}),oJ=ne.object({email:ne.string().optional().nullable(),address:ne.string(),chainId:ne.string().or(ne.number()),accounts:ne.array(ne.object({address:ne.string(),type:ne.enum([Rr.ACCOUNT_TYPES.EOA,Rr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:ne.string().optional().nullable()}),aJ=ne.object({action:ne.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),cJ=ne.object({email:ne.string().email().optional().nullable(),address:ne.string(),chainId:ne.string().or(ne.number()),smartAccountDeployed:ne.optional(ne.boolean()),accounts:ne.array(ne.object({address:ne.string(),type:ne.enum([Rr.ACCOUNT_TYPES.EOA,Rr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:ne.optional(ne.string())}),uJ=ne.object({uri:ne.string()}),fJ=ne.object({isConnected:ne.boolean()}),lJ=ne.object({chainId:ne.string().or(ne.number())}),hJ=ne.object({chainId:ne.string().or(ne.number())}),dJ=ne.object({newEmail:ne.string().email()}),pJ=ne.object({smartAccountEnabledNetworks:ne.array(ne.number())});ne.object({address:ne.string(),isDeployed:ne.boolean()});const mJ=ne.object({version:ne.string().optional()}),gJ=ne.object({type:ne.string(),address:ne.string()}),vJ=ne.any(),yJ=ne.object({method:ne.literal("eth_accounts")}),bJ=ne.object({method:ne.literal("eth_blockNumber")}),wJ=ne.object({method:ne.literal("eth_call"),params:ne.array(ne.any())}),_J=ne.object({method:ne.literal("eth_chainId")}),EJ=ne.object({method:ne.literal("eth_estimateGas"),params:ne.array(ne.any())}),AJ=ne.object({method:ne.literal("eth_feeHistory"),params:ne.array(ne.any())}),xJ=ne.object({method:ne.literal("eth_gasPrice")}),MJ=ne.object({method:ne.literal("eth_getAccount"),params:ne.array(ne.any())}),CJ=ne.object({method:ne.literal("eth_getBalance"),params:ne.array(ne.any())}),SJ=ne.object({method:ne.literal("eth_getBlockByHash"),params:ne.array(ne.any())}),IJ=ne.object({method:ne.literal("eth_getBlockByNumber"),params:ne.array(ne.any())}),TJ=ne.object({method:ne.literal("eth_getBlockReceipts"),params:ne.array(ne.any())}),RJ=ne.object({method:ne.literal("eth_getBlockTransactionCountByHash"),params:ne.array(ne.any())}),NJ=ne.object({method:ne.literal("eth_getBlockTransactionCountByNumber"),params:ne.array(ne.any())}),PJ=ne.object({method:ne.literal("eth_getCode"),params:ne.array(ne.any())}),OJ=ne.object({method:ne.literal("eth_getFilterChanges"),params:ne.array(ne.any())}),kJ=ne.object({method:ne.literal("eth_getFilterLogs"),params:ne.array(ne.any())}),BJ=ne.object({method:ne.literal("eth_getLogs"),params:ne.array(ne.any())}),DJ=ne.object({method:ne.literal("eth_getProof"),params:ne.array(ne.any())}),$J=ne.object({method:ne.literal("eth_getStorageAt"),params:ne.array(ne.any())}),UJ=ne.object({method:ne.literal("eth_getTransactionByBlockHashAndIndex"),params:ne.array(ne.any())}),FJ=ne.object({method:ne.literal("eth_getTransactionByBlockNumberAndIndex"),params:ne.array(ne.any())}),LJ=ne.object({method:ne.literal("eth_getTransactionByHash"),params:ne.array(ne.any())}),qJ=ne.object({method:ne.literal("eth_getTransactionCount"),params:ne.array(ne.any())}),jJ=ne.object({method:ne.literal("eth_getTransactionReceipt"),params:ne.array(ne.any())}),zJ=ne.object({method:ne.literal("eth_getUncleCountByBlockHash"),params:ne.array(ne.any())}),HJ=ne.object({method:ne.literal("eth_getUncleCountByBlockNumber"),params:ne.array(ne.any())}),WJ=ne.object({method:ne.literal("eth_maxPriorityFeePerGas")}),VJ=ne.object({method:ne.literal("eth_newBlockFilter")}),KJ=ne.object({method:ne.literal("eth_newFilter"),params:ne.array(ne.any())}),GJ=ne.object({method:ne.literal("eth_newPendingTransactionFilter")}),ZJ=ne.object({method:ne.literal("eth_sendRawTransaction"),params:ne.array(ne.any())}),YJ=ne.object({method:ne.literal("eth_syncing"),params:ne.array(ne.any())}),JJ=ne.object({method:ne.literal("eth_uninstallFilter"),params:ne.array(ne.any())}),C6=ne.object({method:ne.literal("personal_sign"),params:ne.array(ne.any())}),QJ=ne.object({method:ne.literal("eth_signTypedData_v4"),params:ne.array(ne.any())}),XJ=ne.object({method:ne.literal("eth_sendTransaction"),params:ne.array(ne.any())}),eQ=ne.object({method:ne.literal("solana_signMessage"),params:ne.object({message:ne.string(),pubkey:ne.string()})}),tQ=ne.object({method:ne.literal("solana_signTransaction"),params:ne.object({transaction:ne.string()})}),rQ=ne.object({method:ne.literal("solana_signAllTransactions"),params:ne.object({transactions:ne.array(ne.string())})}),iQ=ne.object({method:ne.literal("solana_signAndSendTransaction"),params:ne.object({transaction:ne.string(),options:ne.object({skipPreflight:ne.boolean().optional(),preflightCommitment:ne.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:ne.number().optional(),minContextSlot:ne.number().optional()}).optional()})}),nQ=ne.object({method:ne.literal("wallet_sendCalls"),params:ne.array(ne.object({chainId:ne.string().or(ne.number()).optional(),from:ne.string().optional(),version:ne.string().optional(),capabilities:ne.any().optional(),calls:ne.array(ne.object({to:ne.string().startsWith("0x"),data:ne.string().startsWith("0x").optional(),value:ne.string().optional()}))}))}),sQ=ne.object({method:ne.literal("wallet_getCallsStatus"),params:ne.array(ne.string())}),oQ=ne.object({method:ne.literal("wallet_getCapabilities")}),aQ=ne.object({method:ne.literal("wallet_grantPermissions"),params:ne.array(ne.any())}),cQ=ne.object({method:ne.literal("wallet_revokePermissions"),params:ne.any()}),uQ=ne.object({method:ne.literal("wallet_getAssets"),params:ne.any()}),S6=ne.object({token:ne.string()}),Ye=ne.object({id:ne.string().optional()}),Ec={appEvent:Ye.extend({type:Ze("APP_SWITCH_NETWORK"),payload:WY}).or(Ye.extend({type:Ze("APP_CONNECT_EMAIL"),payload:VY})).or(Ye.extend({type:Ze("APP_CONNECT_DEVICE")})).or(Ye.extend({type:Ze("APP_CONNECT_OTP"),payload:KY})).or(Ye.extend({type:Ze("APP_CONNECT_SOCIAL"),payload:GY})).or(Ye.extend({type:Ze("APP_GET_FARCASTER_URI")})).or(Ye.extend({type:Ze("APP_CONNECT_FARCASTER")})).or(Ye.extend({type:Ze("APP_GET_USER"),payload:ne.optional(ZY)})).or(Ye.extend({type:Ze("APP_GET_SOCIAL_REDIRECT_URI"),payload:YY})).or(Ye.extend({type:Ze("APP_SIGN_OUT")})).or(Ye.extend({type:Ze("APP_IS_CONNECTED"),payload:ne.optional(S6)})).or(Ye.extend({type:Ze("APP_GET_CHAIN_ID")})).or(Ye.extend({type:Ze("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ye.extend({type:Ze("APP_INIT_SMART_ACCOUNT")})).or(Ye.extend({type:Ze("APP_SET_PREFERRED_ACCOUNT"),payload:rJ})).or(Ye.extend({type:Ze("APP_RPC_REQUEST"),payload:C6.or(uQ).or(yJ).or(bJ).or(wJ).or(_J).or(EJ).or(AJ).or(xJ).or(MJ).or(CJ).or(SJ).or(IJ).or(TJ).or(RJ).or(NJ).or(PJ).or(OJ).or(kJ).or(BJ).or(DJ).or($J).or(UJ).or(FJ).or(LJ).or(qJ).or(jJ).or(zJ).or(HJ).or(WJ).or(VJ).or(KJ).or(GJ).or(ZJ).or(YJ).or(JJ).or(C6).or(QJ).or(XJ).or(eQ).or(tQ).or(rQ).or(iQ).or(sQ).or(nQ).or(oQ).or(aQ).or(cQ)})).or(Ye.extend({type:Ze("APP_UPDATE_EMAIL"),payload:JY})).or(Ye.extend({type:Ze("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:QY})).or(Ye.extend({type:Ze("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:XY})).or(Ye.extend({type:Ze("APP_SYNC_THEME"),payload:eJ})).or(Ye.extend({type:Ze("APP_SYNC_DAPP_DATA"),payload:tJ})).or(Ye.extend({type:Ze("APP_RELOAD")})),frameEvent:Ye.extend({type:Ze("FRAME_SWITCH_NETWORK_ERROR"),payload:Mr}).or(Ye.extend({type:Ze("FRAME_SWITCH_NETWORK_SUCCESS"),payload:hJ})).or(Ye.extend({type:Ze("FRAME_CONNECT_EMAIL_SUCCESS"),payload:iJ})).or(Ye.extend({type:Ze("FRAME_CONNECT_EMAIL_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:nJ})).or(Ye.extend({type:Ze("FRAME_GET_FARCASTER_URI_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:sJ})).or(Ye.extend({type:Ze("FRAME_CONNECT_FARCASTER_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_CONNECT_OTP_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_CONNECT_OTP_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_CONNECT_DEVICE_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:oJ})).or(Ye.extend({type:Ze("FRAME_CONNECT_SOCIAL_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_GET_USER_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_GET_USER_SUCCESS"),payload:cJ})).or(Ye.extend({type:Ze("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:uJ})).or(Ye.extend({type:Ze("FRAME_SIGN_OUT_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_SIGN_OUT_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_IS_CONNECTED_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_IS_CONNECTED_SUCCESS"),payload:fJ})).or(Ye.extend({type:Ze("FRAME_GET_CHAIN_ID_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_GET_CHAIN_ID_SUCCESS"),payload:lJ})).or(Ye.extend({type:Ze("FRAME_RPC_REQUEST_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_RPC_REQUEST_SUCCESS"),payload:vJ})).or(Ye.extend({type:Ze("FRAME_SESSION_UPDATE"),payload:S6})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_SUCCESS"),payload:aJ})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:dJ})).or(Ye.extend({type:Ze("FRAME_SYNC_THEME_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_SYNC_THEME_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ye.extend({type:Ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:pJ})).or(Ye.extend({type:Ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:gJ})).or(Ye.extend({type:Ze("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_READY"),payload:mJ})).or(Ye.extend({type:Ze("FRAME_RELOAD_ERROR"),payload:Mr})).or(Ye.extend({type:Ze("FRAME_RELOAD_SUCCESS")}))};function $g(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class fQ{constructor({projectId:e,isAppClient:r=!1,chainId:i="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.rpcUrl=Ue.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const n=document.getElementById("w3m-iframe");this.iframe&&!n&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(n,c,f)=>{function m({data:p}){if(!$g(tt.FRAME_EVENT_KEY,p))return;const d=Ec.frameEvent.parse(p);d.id===n&&(c(d),window.removeEventListener("message",m))}ki.isClient&&(window.addEventListener("message",m),f.addEventListener("abort",()=>{window.removeEventListener("message",m)}))},onFrameEvent:n=>{ki.isClient&&window.addEventListener("message",({data:c})=>{if(!$g(tt.FRAME_EVENT_KEY,c))return;const f=Ec.frameEvent.parse(c);n(f)})},onAppEvent:n=>{ki.isClient&&window.addEventListener("message",({data:c})=>{if(!$g(tt.APP_EVENT_KEY,c))return;const f=Ec.appEvent.parse(c);n(f)})},postAppEvent:n=>{var c;if(ki.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");Ec.appEvent.parse(n),this.iframe.contentWindow.postMessage(n,"*")}},postFrameEvent:n=>{if(ki.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ec.frameEvent.parse(n),parent.postMessage(n,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((n,c)=>{this.frameLoadPromiseResolver={resolve:n,reject:c}}),r&&(this.frameLoadPromise=new Promise((n,c)=>{this.frameLoadPromiseResolver={resolve:n,reject:c}}),ki.isClient)){const n=document.createElement("iframe");n.id="w3m-iframe",n.src=`${MV}?projectId=${e}&chainId=${i}&version=${SV}&enableLogger=${s}`,n.name="w3m-secure-iframe",n.style.position="fixed",n.style.zIndex="999999",n.style.display="none",n.style.animationDelay="0s, 50ms",n.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",n.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=n,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var f;c.type==="@w3m-frame/READY"&&((f=this.frameLoadPromiseResolver)==null||f.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class lQ{constructor(e){var n;const r=qa({level:CV}),{logger:i,chunkLoggerController:s}=I1({opts:r});this.logger=ui(i,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((n=this.chunkLoggerController)!=null&&n.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var c;(c=this.chunkLoggerController)!=null&&c.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class hQ{constructor({projectId:e,chainId:r,enableLogger:i=!0,onTimeout:s}){this.openRpcRequests=[],i&&(this.w3mLogger=new lQ(e)),this.w3mFrame=new fQ({projectId:e,isAppClient:!0,chainId:r,enableLogger:i}),this.onTimeout=s,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(n=>{this.w3mFrame.events.onFrameEvent(c=>{c.type===tt.FRAME_READY&&(this.initPromise=void 0,n())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!Jr.get(tt.EMAIL_LOGIN_USED_KEY)}getEmail(){return Jr.get(tt.EMAIL)}getUsername(){return Jr.get(tt.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:tt.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{ki.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const i=await this.appEvent({type:tt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),i}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting email"),i}}async connectDevice(){var e;try{return this.appEvent({type:tt.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:tt.APP_CONNECT_OTP,payload:e})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting otp"),i}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:tt.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:tt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:tt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error getting social redirect uri"),i}}async updateEmail(e){var r;try{const i=await this.appEvent({type:tt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),i}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error updating email"),i}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:tt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error updating email primary otp"),i}}async updateEmailSecondaryOtp(e){var r;try{const i=await this.appEvent({type:tt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(i.newEmail),i}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error updating email secondary otp"),i}}async syncTheme(e){var r;try{return this.appEvent({type:tt.APP_SYNC_THEME,payload:e})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error syncing theme"),i}}async syncDappData(e){var r;try{return this.appEvent({type:tt.APP_SYNC_DAPP_DATA,payload:e})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error syncing dapp data"),i}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:tt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:tt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error setting preferred account"),i}}async connect(e){var r;try{const i=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:tt.APP_GET_USER,payload:{...e,chainId:i}});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting"),i}}async getUser(e){var r;try{const i=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:tt.APP_GET_USER,payload:{...e,chainId:i}});return this.user=s,s}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting"),i}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const i=await this.appEvent({type:tt.APP_CONNECT_SOCIAL,payload:{uri:e}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:tt.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:tt.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const i=await this.appEvent({type:tt.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(i.chainId),i}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error switching network"),i}}async disconnect(){var e;try{const r=await this.appEvent({type:tt.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,i,s,n;try{if(Rr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const c=await this.appEvent({type:tt.APP_RPC_REQUEST,payload:e});return(i=this.rpcSuccessHandler)==null||i.call(this,c,e),c}catch(c){throw(s=this.rpcErrorHandler)==null||s.call(this,c,e),(n=this.w3mLogger)==null||n.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_IS_CONNECTED_ERROR&&e(),r.type===tt.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===tt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Rr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===tt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===tt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:i})=>{Rr.SAFE_RPC_METHODS.includes(i)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function i(f){return f.replace("@w3m-app/","")}const s=new AbortController,n=i(e.type);return[tt.APP_CONNECT_EMAIL,tt.APP_CONNECT_DEVICE,tt.APP_CONNECT_OTP,tt.APP_CONNECT_SOCIAL,tt.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(n)&&(r=setTimeout(()=>{var f;(f=this.onTimeout)==null||f.call(this),s.abort()},3e4)),new Promise((f,m)=>{var y,_,x;const p=Math.random().toString(36).substring(7);if((x=(y=this.w3mLogger)==null?void 0:(_=y.logger).info)==null||x.call(_,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p}),n==="RPC_REQUEST"){const M=e;this.openRpcRequests=[...this.openRpcRequests,{...M.payload,abortController:s}]}s.signal.addEventListener("abort",()=>{n==="RPC_REQUEST"?m(new Error("Request was aborted")):n!=="GET_FARCASTER_URI"&&m(new Error("Something went wrong"))});function d(M,C){var T,S,I;M.id===p&&((S=C==null?void 0:(T=C.logger).info)==null||S.call(T,{framEvent:M,id:p},"Received frame response"),M.type===`@w3m-frame/${n}_SUCCESS`?(r&&clearTimeout(r),"payload"in M&&f(M.payload),f(void 0)):M.type===`@w3m-frame/${n}_ERROR`&&(r&&clearTimeout(r),"payload"in M&&m(new Error(((I=M.payload)==null?void 0:I.message)||"An error occurred")),m(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,M=>d(M,this.w3mLogger),s.signal)})}setNewLastEmailLoginTime(){Jr.set(tt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Jr.set(tt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Jr.set(tt.EMAIL,e),Jr.set(tt.EMAIL_LOGIN_USED_KEY,"true"),Jr.delete(tt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Jr.delete(tt.EMAIL_LOGIN_USED_KEY),Jr.delete(tt.EMAIL),Jr.delete(tt.LAST_USED_CHAIN_KEY),Jr.delete(tt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Jr.set(tt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Jr.get(tt.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){Jr.set(tt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class wa{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:i,onTimeout:s}){return wa.instance||(wa.instance=new hQ({projectId:e,chainId:r,enableLogger:i,onTimeout:s})),wa.instance}}var I6={};const dQ={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof We<"u"&&typeof I6<"u"?I6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},u1={filterOutDuplicatesByRDNS(t){const e=Fe.state.enableEIP6963?wt.state.connectors:[],r=et.getRecentWallets(),i=e.map(f=>{var m;return(m=f.info)==null?void 0:m.rdns}).filter(Boolean),s=r.map(f=>f.rdns).filter(Boolean),n=i.concat(s);if(n.includes("io.metamask.mobile")&&dt.isMobile()){const f=n.indexOf("io.metamask.mobile");n[f]="io.metamask"}return t.filter(f=>!n.includes(String(f==null?void 0:f.rdns)))},filterOutDuplicatesByIds(t){const e=wt.state.connectors.filter(f=>f.type==="ANNOUNCED"||f.type==="INJECTED"),r=et.getRecentWallets(),i=e.map(f=>f.explorerId),s=r.map(f=>f.id),n=i.concat(s);return t.filter(f=>!n.includes(f==null?void 0:f.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=wt.state,r=e.filter(n=>n.type==="ANNOUNCED").reduce((n,c)=>{var f;return(f=c.info)!=null&&f.rdns&&(n[c.info.rdns]=!0),n},{});return t.map(n=>({...n,installed:!!n.rdns&&!!r[n.rdns??""]})).sort((n,c)=>Number(c.installed)-Number(n.installed))},getConnectOrderMethod(t,e){var m;const r=(t==null?void 0:t.connectMethodsOrder)||((m=Fe.state.features)==null?void 0:m.connectMethodsOrder),i=e||wt.state.connectors;if(r)return r;const{injected:s,announced:n}=Ml.getConnectorsByType(i,St.state.recommended,St.state.featured),c=s.filter(Ml.showConnector),f=n.filter(Ml.showConnector);return c.length||f.length?["wallet","email","social"]:dQ.DEFAULT_CONNECT_METHOD_ORDER}},Ml={getConnectorsByType(t,e,r){const{customWallets:i}=Fe.state,s=et.getRecentWallets(),n=u1.filterOutDuplicateWallets(e),c=u1.filterOutDuplicateWallets(r),f=t.filter(y=>y.type==="MULTI_CHAIN"),m=t.filter(y=>y.type==="ANNOUNCED"),p=t.filter(y=>y.type==="INJECTED"),d=t.filter(y=>y.type==="EXTERNAL");return{custom:i,recent:s,external:d,multiChain:f,announced:m,injected:p,recommended:n,featured:c}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,r=!!e&&St.state.excludedWallets.some(n=>n.rdns===e),i=!!t.name&&St.state.excludedWallets.some(n=>Gl.isLowerCaseMatch(n.name,t.name));return!(t.type==="INJECTED"&&(!dt.isMobile()&&t.name==="Browser Wallet"||!e&&!pr.checkInstalled()||r||i)||t.type==="ANNOUNCED"&&(r||i))},getIsConnectedWithWC(){return Array.from(le.state.chains.values()).some(r=>wt.getConnectorId(r.namespace)===Ue.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:i,announced:s,injected:n,multiChain:c,external:f,overriddenConnectors:m=(p=>(p=Fe.state.features)==null?void 0:p.connectorTypeOrder)()??[]}){const d=Ml.getIsConnectedWithWC(),x=[{type:"walletConnect",isEnabled:Fe.state.enableWalletConnect&&!d},{type:"recent",isEnabled:i.length>0},{type:"injected",isEnabled:[...n,...s,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:f.length>0},{type:"recommended",isEnabled:t.length>0}].filter(S=>S.isEnabled),M=new Set(x.map(S=>S.type)),C=m.filter(S=>M.has(S)).map(S=>({type:S,isEnabled:!0})),T=x.filter(({type:S})=>!C.some(({type:N})=>N===S));return Array.from(new Set([...C,...T].map(({type:S})=>S)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Cl=globalThis,Wy=Cl.ShadowRoot&&(Cl.ShadyCSS===void 0||Cl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,fC=Symbol(),T6=new WeakMap;let pQ=class{constructor(e,r,i){if(this._$cssResult$=!0,i!==fC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Wy&&e===void 0){const i=r!==void 0&&r.length===1;i&&(e=T6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&T6.set(r,e))}return e}toString(){return this.cssText}};const mQ=t=>new pQ(typeof t=="string"?t:t+"",void 0,fC),gQ=(t,e)=>{if(Wy)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const i=document.createElement("style"),s=Cl.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,t.appendChild(i)}},R6=Wy?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const i of e.cssRules)r+=i.cssText;return mQ(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:vQ,defineProperty:yQ,getOwnPropertyDescriptor:bQ,getOwnPropertyNames:wQ,getOwnPropertySymbols:_Q,getPrototypeOf:EQ}=Object,Is=globalThis,N6=Is.trustedTypes,AQ=N6?N6.emptyScript:"",Ug=Is.reactiveElementPolyfillSupport,jc=(t,e)=>t,f1={toAttribute(t,e){switch(e){case Boolean:t=t?AQ:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},lC=(t,e)=>!vQ(t,e),P6={attribute:!0,type:String,converter:f1,reflect:!1,hasChanged:lC};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Is.litPropertyMetadata??(Is.litPropertyMetadata=new WeakMap);let Ac=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=P6){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(e,i,r);s!==void 0&&yQ(this.prototype,e,s)}}static getPropertyDescriptor(e,r,i){const{get:s,set:n}=bQ(this.prototype,e)??{get(){return this[r]},set(c){this[r]=c}};return{get(){return s==null?void 0:s.call(this)},set(c){const f=s==null?void 0:s.call(this);n.call(this,c),this.requestUpdate(e,f,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??P6}static _$Ei(){if(this.hasOwnProperty(jc("elementProperties")))return;const e=EQ(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(jc("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(jc("properties"))){const r=this.properties,i=[...wQ(r),..._Q(r)];for(const s of i)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const s of i)r.unshift(R6(s))}else e!==void 0&&r.push(R6(e));return r}static _$Eu(e,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return gQ(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var i;return(i=r.hostConnected)==null?void 0:i.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var i;return(i=r.hostDisconnected)==null?void 0:i.call(r)})}attributeChangedCallback(e,r,i){this._$AK(e,i)}_$EC(e,r){var n;const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){const c=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:f1).toAttribute(r,i.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const c=i.getPropertyOptions(s),f=typeof c.converter=="function"?{fromAttribute:c.converter}:((n=c.converter)==null?void 0:n.fromAttribute)!==void 0?c.converter:f1;this._$Em=s,this[s]=f.fromAttribute(r,c.type),this._$Em=null}}requestUpdate(e,r,i){if(e!==void 0){if(i??(i=this.constructor.getPropertyOptions(e)),!(i.hasChanged??lC)(this[e],r))return;this.P(e,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,i){this._$AL.has(e)||this._$AL.set(e,r),i.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,c]of this._$Ep)this[n]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,c]of s)c.wrapped!==!0||this._$AL.has(n)||this[n]===void 0||this.P(n,this[n],c)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(i=this._$EO)==null||i.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(r)):this._$EU()}catch(s){throw e=!1,this._$EU(),s}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdated)==null?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}};Ac.elementStyles=[],Ac.shadowRootOptions={mode:"open"},Ac[jc("elementProperties")]=new Map,Ac[jc("finalized")]=new Map,Ug==null||Ug({ReactiveElement:Ac}),(Is.reactiveElementVersions??(Is.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zc=globalThis,sh=zc.trustedTypes,O6=sh?sh.createPolicy("lit-html",{createHTML:t=>t}):void 0,hC="$lit$",bs=`lit$${Math.random().toFixed(9).slice(2)}$`,dC="?"+bs,xQ=`<${dC}>`,No=document,oh=()=>No.createComment(""),Nu=t=>t===null||typeof t!="object"&&typeof t!="function",Vy=Array.isArray,MQ=t=>Vy(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Fg=`[ 	
\f\r]`,xc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,k6=/-->/g,B6=/>/g,Zs=RegExp(`>|${Fg}(?:([^\\s"'>=/]+)(${Fg}*=${Fg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),D6=/'/g,$6=/"/g,pC=/^(?:script|style|textarea|title)$/i,Pu=Symbol.for("lit-noChange"),jr=Symbol.for("lit-nothing"),U6=new WeakMap,co=No.createTreeWalker(No,129);function mC(t,e){if(!Vy(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return O6!==void 0?O6.createHTML(e):e}const CQ=(t,e)=>{const r=t.length-1,i=[];let s,n=e===2?"<svg>":e===3?"<math>":"",c=xc;for(let f=0;f<r;f++){const m=t[f];let p,d,y=-1,_=0;for(;_<m.length&&(c.lastIndex=_,d=c.exec(m),d!==null);)_=c.lastIndex,c===xc?d[1]==="!--"?c=k6:d[1]!==void 0?c=B6:d[2]!==void 0?(pC.test(d[2])&&(s=RegExp("</"+d[2],"g")),c=Zs):d[3]!==void 0&&(c=Zs):c===Zs?d[0]===">"?(c=s??xc,y=-1):d[1]===void 0?y=-2:(y=c.lastIndex-d[2].length,p=d[1],c=d[3]===void 0?Zs:d[3]==='"'?$6:D6):c===$6||c===D6?c=Zs:c===k6||c===B6?c=xc:(c=Zs,s=void 0);const x=c===Zs&&t[f+1].startsWith("/>")?" ":"";n+=c===xc?m+xQ:y>=0?(i.push(p),m.slice(0,y)+hC+m.slice(y)+bs+x):m+bs+(y===-2?f:x)}return[mC(t,n+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let l1=class gC{constructor({strings:e,_$litType$:r},i){let s;this.parts=[];let n=0,c=0;const f=e.length-1,m=this.parts,[p,d]=CQ(e,r);if(this.el=gC.createElement(p,i),co.currentNode=this.el.content,r===2||r===3){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(s=co.nextNode())!==null&&m.length<f;){if(s.nodeType===1){if(s.hasAttributes())for(const y of s.getAttributeNames())if(y.endsWith(hC)){const _=d[c++],x=s.getAttribute(y).split(bs),M=/([.?@])?(.*)/.exec(_);m.push({type:1,index:n,name:M[2],strings:x,ctor:M[1]==="."?IQ:M[1]==="?"?TQ:M[1]==="@"?RQ:od}),s.removeAttribute(y)}else y.startsWith(bs)&&(m.push({type:6,index:n}),s.removeAttribute(y));if(pC.test(s.tagName)){const y=s.textContent.split(bs),_=y.length-1;if(_>0){s.textContent=sh?sh.emptyScript:"";for(let x=0;x<_;x++)s.append(y[x],oh()),co.nextNode(),m.push({type:2,index:++n});s.append(y[_],oh())}}}else if(s.nodeType===8)if(s.data===dC)m.push({type:2,index:n});else{let y=-1;for(;(y=s.data.indexOf(bs,y+1))!==-1;)m.push({type:7,index:n}),y+=bs.length-1}n++}}static createElement(e,r){const i=No.createElement("template");return i.innerHTML=e,i}};function Oa(t,e,r=t,i){var c,f;if(e===Pu)return e;let s=i!==void 0?(c=r._$Co)==null?void 0:c[i]:r._$Cl;const n=Nu(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((f=s==null?void 0:s._$AO)==null||f.call(s,!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,r,i)),i!==void 0?(r._$Co??(r._$Co=[]))[i]=s:r._$Cl=s),s!==void 0&&(e=Oa(t,s._$AS(t,e.values),s,i)),e}let SQ=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:i}=this._$AD,s=((e==null?void 0:e.creationScope)??No).importNode(r,!0);co.currentNode=s;let n=co.nextNode(),c=0,f=0,m=i[0];for(;m!==void 0;){if(c===m.index){let p;m.type===2?p=new vC(n,n.nextSibling,this,e):m.type===1?p=new m.ctor(n,m.name,m.strings,this,e):m.type===6&&(p=new NQ(n,this,e)),this._$AV.push(p),m=i[++f]}c!==(m==null?void 0:m.index)&&(n=co.nextNode(),c++)}return co.currentNode=No,s}p(e){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}},vC=class yC{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,i,s){this.type=2,this._$AH=jr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Oa(this,e,r),Nu(e)?e===jr||e==null||e===""?(this._$AH!==jr&&this._$AR(),this._$AH=jr):e!==this._$AH&&e!==Pu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):MQ(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==jr&&Nu(this._$AH)?this._$AA.nextSibling.data=e:this.T(No.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=l1.createElement(mC(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(r);else{const c=new SQ(s,this),f=c.u(this.options);c.p(r),this.T(f),this._$AH=c}}_$AC(e){let r=U6.get(e.strings);return r===void 0&&U6.set(e.strings,r=new l1(e)),r}k(e){Vy(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of e)s===r.length?r.push(i=new yC(this.O(oh()),this.O(oh()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,r);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}},od=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,i,s,n){this.type=1,this._$AH=jr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=jr}_$AI(e,r=this,i,s){const n=this.strings;let c=!1;if(n===void 0)e=Oa(this,e,r,0),c=!Nu(e)||e!==this._$AH&&e!==Pu,c&&(this._$AH=e);else{const f=e;let m,p;for(e=n[0],m=0;m<n.length-1;m++)p=Oa(this,f[i+m],r,m),p===Pu&&(p=this._$AH[m]),c||(c=!Nu(p)||p!==this._$AH[m]),p===jr?e=jr:e!==jr&&(e+=(p??"")+n[m+1]),this._$AH[m]=p}c&&!s&&this.j(e)}j(e){e===jr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},IQ=class extends od{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===jr?void 0:e}},TQ=class extends od{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==jr)}},RQ=class extends od{constructor(e,r,i,s,n){super(e,r,i,s,n),this.type=5}_$AI(e,r=this){if((e=Oa(this,e,r,0)??jr)===Pu)return;const i=this._$AH,s=e===jr&&i!==jr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==jr&&(i===jr||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}},NQ=class{constructor(e,r,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Oa(this,e)}};const Lg=zc.litHtmlPolyfillSupport;Lg==null||Lg(l1,vC),(zc.litHtmlVersions??(zc.litHtmlVersions=[])).push("3.2.1");/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Sl=globalThis,Ky=Sl.ShadowRoot&&(Sl.ShadyCSS===void 0||Sl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Gy=Symbol(),F6=new WeakMap;let bC=class{constructor(e,r,i){if(this._$cssResult$=!0,i!==Gy)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Ky&&e===void 0){const i=r!==void 0&&r.length===1;i&&(e=F6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&F6.set(r,e))}return e}toString(){return this.cssText}};const zi=t=>new bC(typeof t=="string"?t:t+"",void 0,Gy),_a=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((i,s,n)=>i+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new bC(r,t,Gy)},PQ=(t,e)=>{if(Ky)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const i=document.createElement("style"),s=Sl.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,t.appendChild(i)}},L6=Ky?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const i of e.cssRules)r+=i.cssText;return zi(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:OQ,defineProperty:kQ,getOwnPropertyDescriptor:BQ,getOwnPropertyNames:DQ,getOwnPropertySymbols:$Q,getPrototypeOf:UQ}=Object,Ts=globalThis,q6=Ts.trustedTypes,FQ=q6?q6.emptyScript:"",qg=Ts.reactiveElementPolyfillSupport,Hc=(t,e)=>t,h1={toAttribute(t,e){switch(e){case Boolean:t=t?FQ:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},wC=(t,e)=>!OQ(t,e),j6={attribute:!0,type:String,converter:h1,reflect:!1,hasChanged:wC};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ts.litPropertyMetadata??(Ts.litPropertyMetadata=new WeakMap);let la=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=j6){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(e,i,r);s!==void 0&&kQ(this.prototype,e,s)}}static getPropertyDescriptor(e,r,i){const{get:s,set:n}=BQ(this.prototype,e)??{get(){return this[r]},set(c){this[r]=c}};return{get(){return s==null?void 0:s.call(this)},set(c){const f=s==null?void 0:s.call(this);n.call(this,c),this.requestUpdate(e,f,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??j6}static _$Ei(){if(this.hasOwnProperty(Hc("elementProperties")))return;const e=UQ(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Hc("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Hc("properties"))){const r=this.properties,i=[...DQ(r),...$Q(r)];for(const s of i)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const s of i)r.unshift(L6(s))}else e!==void 0&&r.push(L6(e));return r}static _$Eu(e,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return PQ(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var i;return(i=r.hostConnected)==null?void 0:i.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var i;return(i=r.hostDisconnected)==null?void 0:i.call(r)})}attributeChangedCallback(e,r,i){this._$AK(e,i)}_$EC(e,r){var n;const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){const c=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:h1).toAttribute(r,i.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const c=i.getPropertyOptions(s),f=typeof c.converter=="function"?{fromAttribute:c.converter}:((n=c.converter)==null?void 0:n.fromAttribute)!==void 0?c.converter:h1;this._$Em=s,this[s]=f.fromAttribute(r,c.type),this._$Em=null}}requestUpdate(e,r,i){if(e!==void 0){if(i??(i=this.constructor.getPropertyOptions(e)),!(i.hasChanged??wC)(this[e],r))return;this.P(e,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,i){this._$AL.has(e)||this._$AL.set(e,r),i.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,c]of this._$Ep)this[n]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,c]of s)c.wrapped!==!0||this._$AL.has(n)||this[n]===void 0||this.P(n,this[n],c)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(i=this._$EO)==null||i.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(r)):this._$EU()}catch(s){throw e=!1,this._$EU(),s}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdated)==null?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}};la.elementStyles=[],la.shadowRootOptions={mode:"open"},la[Hc("elementProperties")]=new Map,la[Hc("finalized")]=new Map,qg==null||qg({ReactiveElement:la}),(Ts.reactiveElementVersions??(Ts.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Wc=globalThis,ah=Wc.trustedTypes,z6=ah?ah.createPolicy("lit-html",{createHTML:t=>t}):void 0,_C="$lit$",ws=`lit$${Math.random().toFixed(9).slice(2)}$`,EC="?"+ws,LQ=`<${EC}>`,Po=document,Ou=()=>Po.createComment(""),ku=t=>t===null||typeof t!="object"&&typeof t!="function",Zy=Array.isArray,qQ=t=>Zy(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",jg=`[ 	
\f\r]`,Mc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H6=/-->/g,W6=/>/g,Ys=RegExp(`>|${jg}(?:([^\\s"'>=/]+)(${jg}*=${jg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),V6=/'/g,K6=/"/g,AC=/^(?:script|style|textarea|title)$/i,xC=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),xre=xC(1),Mre=xC(2),ka=Symbol.for("lit-noChange"),zr=Symbol.for("lit-nothing"),G6=new WeakMap,uo=Po.createTreeWalker(Po,129);function MC(t,e){if(!Zy(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return z6!==void 0?z6.createHTML(e):e}const jQ=(t,e)=>{const r=t.length-1,i=[];let s,n=e===2?"<svg>":e===3?"<math>":"",c=Mc;for(let f=0;f<r;f++){const m=t[f];let p,d,y=-1,_=0;for(;_<m.length&&(c.lastIndex=_,d=c.exec(m),d!==null);)_=c.lastIndex,c===Mc?d[1]==="!--"?c=H6:d[1]!==void 0?c=W6:d[2]!==void 0?(AC.test(d[2])&&(s=RegExp("</"+d[2],"g")),c=Ys):d[3]!==void 0&&(c=Ys):c===Ys?d[0]===">"?(c=s??Mc,y=-1):d[1]===void 0?y=-2:(y=c.lastIndex-d[2].length,p=d[1],c=d[3]===void 0?Ys:d[3]==='"'?K6:V6):c===K6||c===V6?c=Ys:c===H6||c===W6?c=Mc:(c=Ys,s=void 0);const x=c===Ys&&t[f+1].startsWith("/>")?" ":"";n+=c===Mc?m+LQ:y>=0?(i.push(p),m.slice(0,y)+_C+m.slice(y)+ws+x):m+ws+(y===-2?f:x)}return[MC(t,n+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class Bu{constructor({strings:e,_$litType$:r},i){let s;this.parts=[];let n=0,c=0;const f=e.length-1,m=this.parts,[p,d]=jQ(e,r);if(this.el=Bu.createElement(p,i),uo.currentNode=this.el.content,r===2||r===3){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(s=uo.nextNode())!==null&&m.length<f;){if(s.nodeType===1){if(s.hasAttributes())for(const y of s.getAttributeNames())if(y.endsWith(_C)){const _=d[c++],x=s.getAttribute(y).split(ws),M=/([.?@])?(.*)/.exec(_);m.push({type:1,index:n,name:M[2],strings:x,ctor:M[1]==="."?HQ:M[1]==="?"?WQ:M[1]==="@"?VQ:ad}),s.removeAttribute(y)}else y.startsWith(ws)&&(m.push({type:6,index:n}),s.removeAttribute(y));if(AC.test(s.tagName)){const y=s.textContent.split(ws),_=y.length-1;if(_>0){s.textContent=ah?ah.emptyScript:"";for(let x=0;x<_;x++)s.append(y[x],Ou()),uo.nextNode(),m.push({type:2,index:++n});s.append(y[_],Ou())}}}else if(s.nodeType===8)if(s.data===EC)m.push({type:2,index:n});else{let y=-1;for(;(y=s.data.indexOf(ws,y+1))!==-1;)m.push({type:7,index:n}),y+=ws.length-1}n++}}static createElement(e,r){const i=Po.createElement("template");return i.innerHTML=e,i}}function Ba(t,e,r=t,i){var c,f;if(e===ka)return e;let s=i!==void 0?(c=r._$Co)==null?void 0:c[i]:r._$Cl;const n=ku(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((f=s==null?void 0:s._$AO)==null||f.call(s,!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,r,i)),i!==void 0?(r._$Co??(r._$Co=[]))[i]=s:r._$Cl=s),s!==void 0&&(e=Ba(t,s._$AS(t,e.values),s,i)),e}class zQ{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:i}=this._$AD,s=((e==null?void 0:e.creationScope)??Po).importNode(r,!0);uo.currentNode=s;let n=uo.nextNode(),c=0,f=0,m=i[0];for(;m!==void 0;){if(c===m.index){let p;m.type===2?p=new vf(n,n.nextSibling,this,e):m.type===1?p=new m.ctor(n,m.name,m.strings,this,e):m.type===6&&(p=new KQ(n,this,e)),this._$AV.push(p),m=i[++f]}c!==(m==null?void 0:m.index)&&(n=uo.nextNode(),c++)}return uo.currentNode=Po,s}p(e){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}}class vf{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,i,s){this.type=2,this._$AH=zr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Ba(this,e,r),ku(e)?e===zr||e==null||e===""?(this._$AH!==zr&&this._$AR(),this._$AH=zr):e!==this._$AH&&e!==ka&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):qQ(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==zr&&ku(this._$AH)?this._$AA.nextSibling.data=e:this.T(Po.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Bu.createElement(MC(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(r);else{const c=new zQ(s,this),f=c.u(this.options);c.p(r),this.T(f),this._$AH=c}}_$AC(e){let r=G6.get(e.strings);return r===void 0&&G6.set(e.strings,r=new Bu(e)),r}k(e){Zy(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of e)s===r.length?r.push(i=new vf(this.O(Ou()),this.O(Ou()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,r);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class ad{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,i,s,n){this.type=1,this._$AH=zr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=zr}_$AI(e,r=this,i,s){const n=this.strings;let c=!1;if(n===void 0)e=Ba(this,e,r,0),c=!ku(e)||e!==this._$AH&&e!==ka,c&&(this._$AH=e);else{const f=e;let m,p;for(e=n[0],m=0;m<n.length-1;m++)p=Ba(this,f[i+m],r,m),p===ka&&(p=this._$AH[m]),c||(c=!ku(p)||p!==this._$AH[m]),p===zr?e=zr:e!==zr&&(e+=(p??"")+n[m+1]),this._$AH[m]=p}c&&!s&&this.j(e)}j(e){e===zr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class HQ extends ad{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===zr?void 0:e}}class WQ extends ad{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==zr)}}class VQ extends ad{constructor(e,r,i,s,n){super(e,r,i,s,n),this.type=5}_$AI(e,r=this){if((e=Ba(this,e,r,0)??zr)===ka)return;const i=this._$AH,s=e===zr&&i!==zr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==zr&&(i===zr||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class KQ{constructor(e,r,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Ba(this,e)}}const zg=Wc.litHtmlPolyfillSupport;zg==null||zg(Bu,vf),(Wc.litHtmlVersions??(Wc.litHtmlVersions=[])).push("3.2.1");const GQ=(t,e,r)=>{const i=(r==null?void 0:r.renderBefore)??e;let s=i._$litPart$;if(s===void 0){const n=(r==null?void 0:r.renderBefore)??null;i._$litPart$=s=new vf(e.insertBefore(Ou(),n),n,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Il extends la{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=GQ(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ka}}var lx;Il._$litElement$=!0,Il.finalized=!0,(lx=globalThis.litElementHydrateSupport)==null||lx.call(globalThis,{LitElement:Il});const Hg=globalThis.litElementPolyfillSupport;Hg==null||Hg({LitElement:Il});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let Vc,Rs,Ns;function Cre(t,e){Vc=document.createElement("style"),Rs=document.createElement("style"),Ns=document.createElement("style"),Vc.textContent=Ea(t).core.cssText,Rs.textContent=Ea(t).dark.cssText,Ns.textContent=Ea(t).light.cssText,document.head.appendChild(Vc),document.head.appendChild(Rs),document.head.appendChild(Ns),CC(e)}function CC(t){Rs&&Ns&&(t==="light"?(Rs.removeAttribute("media"),Ns.media="enabled"):(Ns.removeAttribute("media"),Rs.media="enabled"))}function ZQ(t){Vc&&Rs&&Ns&&(Vc.textContent=Ea(t).core.cssText,Rs.textContent=Ea(t).dark.cssText,Ns.textContent=Ea(t).light.cssText)}function Ea(t){return{core:_a`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${zi(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${zi((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${zi((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${zi((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${zi((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:_a`
      :root {
        --w3m-color-mix: ${zi((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${zi(Gn(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${zi(Gn(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:_a`
      :root {
        --w3m-color-mix: ${zi((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${zi(Gn(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${zi(Gn(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Sre=_a`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ire=_a`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Tre=_a`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function YQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let p=0;p<e.length;p++)e[p]=255;for(let p=0;p<t.length;p++){const d=t.charAt(p),y=d.charCodeAt(0);if(e[y]!==255)throw new TypeError(d+" is ambiguous");e[y]=p}const r=t.length,i=t.charAt(0),s=Math.log(r)/Math.log(256),n=Math.log(256)/Math.log(r);function c(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";let d=0,y=0,_=0;const x=p.length;for(;_!==x&&p[_]===0;)_++,d++;const M=(x-_)*n+1>>>0,C=new Uint8Array(M);for(;_!==x;){let I=p[_],N=0;for(let O=M-1;(I!==0||N<y)&&O!==-1;O--,N++)I+=256*C[O]>>>0,C[O]=I%r>>>0,I=I/r>>>0;if(I!==0)throw new Error("Non-zero carry");y=N,_++}let T=M-y;for(;T!==M&&C[T]===0;)T++;let S=i.repeat(d);for(;T<M;++T)S+=t.charAt(C[T]);return S}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;let d=0,y=0,_=0;for(;p[d]===i;)y++,d++;const x=(p.length-d)*s+1>>>0,M=new Uint8Array(x);for(;d<p.length;){const I=p.charCodeAt(d);if(I>255)return;let N=e[I];if(N===255)return;let O=0;for(let D=x-1;(N!==0||O<_)&&D!==-1;D--,O++)N+=r*M[D]>>>0,M[D]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");_=O,d++}let C=x-_;for(;C!==x&&M[C]===0;)C++;const T=new Uint8Array(y+(x-C));let S=y;for(;C!==x;)T[S++]=M[C++];return T}function m(p){const d=f(p);if(d)return d;throw new Error("Non-base"+r+" character")}return{encode:c,decodeUnsafe:f,decode:m}}var JQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const QQ=YQ(JQ),il={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},XQ={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},eX={block:cG({format(t){var r;return{transactions:(r=t.transactions)==null?void 0:r.map(i=>{if(typeof i=="string")return i;const s=rd(i);return s.typeHex==="0x7e"&&(s.isSystemTx=i.isSystemTx,s.mint=i.mint?un(i.mint):void 0,s.sourceHash=i.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:oG({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?un(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:OZ({format(t){return{l1GasPrice:t.l1GasPrice?un(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?un(t.l1GasUsed):null,l1Fee:t.l1Fee?un(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function tX(t,e){return nX(t)?iX(t):MZ(t,e)}const rX={transaction:tX};function iX(t){sX(t);const{sourceHash:e,data:r,from:i,gas:s,isSystemTx:n,mint:c,to:f,value:m}=t,p=[e,i,f??"0x",c?ht(c):"0x",m?ht(m):"0x",s?ht(s):"0x",n?"0x1":"0x",r??"0x"];return ss(["0x7e",Bs(p)])}function nX(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function sX(t){const{from:e,to:r}=t;if(e&&!ei(e))throw new xi({address:e});if(r&&!ei(r))throw new xi({address:r})}const ch={contracts:XQ,formatters:eX,serializers:rX},oX=tc({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),aX=tc({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),Cc=1,cX=tc({...ch,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ch.contracts,disputeGameFactory:{[Cc]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Cc]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Cc]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Cc]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Cc}),Sc=11155111,uX=tc({...ch,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...ch.contracts,disputeGameFactory:{[Sc]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Sc]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Sc]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Sc]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Sc}),SC=tc({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),fX=tc({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function yf(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Z6=yf({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Y6=yf({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});yf({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});yf({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});yf({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const lX={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},cd={getMethodsByChainNamespace(t){return lX[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},i=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>i.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>i.add(s)),e.events&&Object.keys(e.events).forEach(s=>i.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[n]=s.split(":");n&&i.add(n)}),i.forEach(s=>{r[s]||(r[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,n])=>{r[s]&&(r[s].methods=n)}),e.chains&&Object.entries(e.chains).forEach(([s,n])=>{r[s]&&(r[s].chains=n)}),e.events&&Object.entries(e.events).forEach(([s,n])=>{r[s]&&(r[s].events=n)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([n,c])=>{const[f,m]=n.split(":");!f||!m||!r[f]||(r[f].rpcMap||(r[f].rpcMap={}),s.has(f)||(r[f].rpcMap={},s.add(f)),r[f].rpcMap[m]=c)})}return r},createNamespaces(t,e){const r=t.reduce((i,s)=>{const{id:n,chainNamespace:c,rpcUrls:f}=s,m=f.default.http[0];i[c]||(i[c]=this.createDefaultNamespace(c));const p=`${c}:${n}`,d=i[c];switch(d.chains.push(p),p){case Z6.caipNetworkId:d.chains.push(Z6.deprecatedCaipNetworkId);break;case Y6.caipNetworkId:d.chains.push(Y6.deprecatedCaipNetworkId);break}return d!=null&&d.rpcMap&&m&&(d.rpcMap[n]=m),i},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var i;const e=await tC.resolveName(t);return((i=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:i.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],i=e.accounts.map(s=>{const[n,c]=s.split(":");return`${n}:${c}`});return Array.from(new Set([...r,...i]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class Yy{constructor({provider:e,caipNetworks:r,namespace:i}){this.id=Ue.CONNECTOR_ID.WALLET_CONNECT,this.name=xs.ConnectorNamesMap[Ue.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=xs.ConnectorImageIds[Ue.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=r,this.provider=e,this.chain=i}get chains(){return this.caipNetworks}async connectWalletConnect(){if(!await this.authenticate()){const r=Fe.state.universalProviderConfigOverride,i=cd.createNamespaces(this.caipNetworks,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Lc.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:hX})}}const hX=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class IC{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:Ue.CONNECTOR_ID.AUTH,type:"AUTH",name:Ue.CONNECTOR_NAMES.AUTH,provider:e,imageId:xs.ConnectorImageIds[Ue.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(i=>r.has(i.id)?!1:(r.add(i.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){nt.setStatus(e,r)}on(e,r){var i;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(i=this.eventListeners.get(e))==null||i.add(r)}off(e,r){const i=this.eventListeners.get(e);i&&i.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const i=this.eventListeners.get(e);i&&i.forEach(s=>s(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:i}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(i==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(s&&i==="AUTH"){const n=s;await n.switchNetwork(r.caipNetworkId);const c=await n.getUser({chainId:r.caipNetworkId,preferredAccountType:Fe.state.defaultAccountTypes[r.chainNamespace]});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof Yy);if(!e)throw new Error("WalletConnectConnector not found");return e}}class dX extends IC{setUniversalProvider(e){this.addConnector(new Yy({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,n,c,f;const r=this.provider,i=((f=(c=(n=(s=r==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:n[e])==null?void 0:c.accounts)==null?void 0:f.map(m=>{const[,,p]=m.split(":");return p}).filter((m,p,d)=>d.indexOf(m)===p))||[];return Promise.resolve({accounts:i.map(m=>dt.createAccount(e,m,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var n,c,f,m,p;if(!(e.caipNetwork&&Dr.BALANCE_SUPPORTED_CHAINS.includes((n=e.caipNetwork)==null?void 0:n.chainNamespace))||(c=e.caipNetwork)!=null&&c.testnet)return{balance:"0.00",symbol:((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)||""};if(nt.state.balanceLoading&&e.chainId===((m=le.state.activeCaipNetwork)==null?void 0:m.id))return{balance:nt.state.balance||"0.00",symbol:nt.state.balanceSymbol||""};const s=(await nt.fetchTokenBalance()).find(d=>{var y,_;return d.chainId===`${(y=e.caipNetwork)==null?void 0:y.chainNamespace}:${e.chainId}`&&d.symbol===((_=e.caipNetwork)==null?void 0:_.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((p=e.caipNetwork)==null?void 0:p.nativeCurrency.symbol)||""}}async signMessage(e){var c,f,m;const{provider:r,message:i,address:s}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let n="";return((c=le.state.activeCaipNetwork)==null?void 0:c.chainNamespace)===Ue.CHAIN.SOLANA?n=(await r.request({method:"solana_signMessage",params:{message:QQ.encode(new TextEncoder().encode(i)),pubkey:s}},(f=le.state.activeCaipNetwork)==null?void 0:f.caipNetworkId)).signature:n=await r.request({method:"personal_sign",params:[i,s]},(m=le.state.activeCaipNetwork)==null?void 0:m.caipNetworkId),{signature:n}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,n,c,f,m,p;const{caipNetwork:r}=e,i=this.getWalletConnectConnector();if(r.chainNamespace===Ue.CHAIN.EVM)try{await((s=i.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:ht(r.id)}]}))}catch(d){if(d.code===il.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||d.code===il.ERROR_INVALID_CHAIN_ID||d.code===il.ERROR_CODE_DEFAULT||((c=(n=d==null?void 0:d.data)==null?void 0:n.originalError)==null?void 0:c.code)===il.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((p=i.provider)==null?void 0:p.request({method:"wallet_addEthereumChain",params:[{chainId:ht(r.id),rpcUrls:[(f=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:f.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(m=r.blockExplorers)==null?void 0:m.default.url]}]}))}catch{throw new Error("Chain is not supported")}}i.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(i=>i.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class pX{constructor(e){var r;this.hasSwitchedToPreferredAccountTypeOnConnect=!1,this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=i=>{var s,n;if(i){const c=(s=le.getNetworkData(i))==null?void 0:s.caipNetwork;return c||((n=le.getRequestedCaipNetworks(i).filter(f=>f.chainNamespace===i))==null?void 0:n[0])}return le.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const i=this.getCaipNetwork();if(i)return i.id},this.getCaipNetworks=i=>le.getRequestedCaipNetworks(i),this.getActiveChainNamespace=()=>le.state.activeChain,this.setRequestedCaipNetworks=(i,s)=>{le.setRequestedCaipNetworks(i,s)},this.getApprovedCaipNetworkIds=()=>le.getAllApprovedCaipNetworkIds(),this.getCaipAddress=i=>le.state.activeChain===i||!i?le.state.activeCaipAddress:le.getAccountProp("caipAddress",i),this.setClientId=i=>{ft.setClientId(i)},this.getProvider=i=>Wt.getProvider(i),this.getProviderType=i=>Wt.getProviderId(i),this.getPreferredAccountType=()=>nt.state.preferredAccountType,this.setCaipAddress=(i,s)=>{nt.setCaipAddress(i,s)},this.setBalance=(i,s,n)=>{nt.setBalance(i,s,n)},this.setProfileName=(i,s)=>{nt.setProfileName(i,s)},this.setProfileImage=(i,s)=>{nt.setProfileImage(i,s)},this.setUser=(i,s)=>{nt.setUser(i,s),Fe.state.enableEmbedded&&Nr.close()},this.resetAccount=i=>{nt.resetAccount(i)},this.setCaipNetwork=i=>{le.setActiveCaipNetwork(i)},this.setCaipNetworkOfNamespace=(i,s)=>{le.setChainNetworkData(s,{caipNetwork:i})},this.setAllAccounts=(i,s)=>{nt.setAllAccounts(i,s),Fe.setHasMultipleAddresses((i==null?void 0:i.length)>1)},this.setStatus=(i,s)=>{nt.setStatus(i,s),wt.isConnected()?et.setConnectionStatus("connected"):et.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=i=>le.getAccountProp("address",i),this.setConnectors=i=>{const s=[...wt.getConnectors(),...i];wt.setConnectors(s)},this.fetchIdentity=i=>ft.fetchIdentity(i),this.getReownName=i=>tC.getNamesForAddress(i),this.getConnectors=()=>wt.getConnectors(),this.getConnectorImage=i=>wx.getConnectorImage(i),this.setConnectedWalletInfo=(i,s)=>{const n=Wt.getProviderId(s),c=i?{...i,type:n}:void 0;nt.setConnectedWalletInfo(c,s)},this.getIsConnectedState=()=>!!le.state.activeCaipAddress,this.addAddressLabel=(i,s,n)=>{nt.addAddressLabel(i,s,n)},this.removeAddressLabel=(i,s)=>{nt.removeAddressLabel(i,s)},this.getAddress=i=>le.state.activeChain===i||!i?nt.state.address:le.getAccountProp("address",i),this.setApprovedCaipNetworksData=i=>le.setApprovedCaipNetworksData(i),this.resetNetwork=i=>{le.resetNetwork(i)},this.addConnector=i=>{wt.addConnector(i)},this.resetWcConnection=()=>{pr.resetWcConnection()},this.setAddressExplorerUrl=(i,s)=>{nt.setAddressExplorerUrl(i,s)},this.setSmartAccountDeployed=(i,s)=>{nt.setSmartAccountDeployed(i,s)},this.setSmartAccountEnabledNetworks=(i,s)=>{le.setSmartAccountEnabledNetworks(i,s)},this.setPreferredAccountType=(i,s)=>{nt.setPreferredAccountType(i,s)},this.setEIP6963Enabled=i=>{Fe.setEIP6963Enabled(i)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((r=this.caipNetworks)==null?void 0:r.map(i=>i.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),Yn.set({initialized:!0})}sendInitializeEvent(e){var i;const{...r}=e;delete r.adapters,mr.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(s=>s.id),siweConfig:{options:((i=e.siweConfig)==null?void 0:i.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&oi.setThemeMode(e.themeMode),e.themeVariables&&oi.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");le.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&le.setActiveCaipNetwork(r)}initializeConnectionController(e){pr.setWcBasic(e.basic??!1)}initializeConnectorController(){wt.initialize(this.chainNamespaces)}initializeOptionsController(e){var s;Fe.setDebug(e.debug!==!1),Fe.setEnableWalletConnect(e.enableWalletConnect!==!1),Fe.setEnableWalletGuide(e.enableWalletGuide!==!1),Fe.setEnableWallets(e.enableWallets!==!1),Fe.setEIP6963Enabled(e.enableEIP6963!==!1),Fe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Fe.setEnableAuthLogger(e.enableAuthLogger!==!1),Fe.setCustomRpcUrls(e.customRpcUrls),Fe.setSdkVersion(e.sdkVersion),Fe.setProjectId(e.projectId),Fe.setEnableEmbedded(e.enableEmbedded),Fe.setAllWallets(e.allWallets),Fe.setIncludeWalletIds(e.includeWalletIds),Fe.setExcludeWalletIds(e.excludeWalletIds),Fe.setFeaturedWalletIds(e.featuredWalletIds),Fe.setTokens(e.tokens),Fe.setTermsConditionsUrl(e.termsConditionsUrl),Fe.setPrivacyPolicyUrl(e.privacyPolicyUrl),Fe.setCustomWallets(e.customWallets),Fe.setFeatures(e.features),Fe.setAllowUnsupportedChain(e.allowUnsupportedChain),Fe.setDefaultAccountTypes(e.defaultAccountTypes),Fe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Fe.setMetadata(e.metadata),Fe.setDisableAppend(e.disableAppend),Fe.setEnableEmbedded(e.enableEmbedded),Fe.setSIWX(e.siwx),!e.projectId){ga.open(ma.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(n=>n.namespace===Ue.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Fe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,i,s;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((i=document.querySelector('meta[property="og:description"]'))==null?void 0:i.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const i=In.getUnsupportedNetwork(`${r}:${e}`);le.setActiveCaipNetwork(i)}}getDefaultNetwork(){return In.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return In.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return In.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(s=>{var n;return s.id===((n=e.defaultNetwork)==null?void 0:n.id)});return r?In.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var n;const e=le.state.activeChain,r=this.getAdapter(e),i=(n=this.getCaipNetwork(e))==null?void 0:n.id;if(!r)throw new Error("Adapter not found");const s=await r.connectWalletConnect(i);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),et.setConnectedNamespaces([...le.state.chains.keys()]),this.chainNamespaces.forEach(c=>{wt.setConnectorId(_r.CONNECTOR_TYPE_WALLET_CONNECT,c)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:i,provider:s,chain:n,caipNetwork:c})=>{var x,M,C,T,S,I,N;const f=le.state.activeChain,m=n||f,p=this.getAdapter(m);if(n&&n!==f&&!c){const O=(x=this.caipNetworks)==null?void 0:x.find(D=>D.chainNamespace===n);O&&this.setCaipNetwork(O)}if(!p)throw new Error("Adapter not found");const d=this.getCaipNetwork(m),y=await p.connect({id:e,info:r,type:i,provider:s,chainId:(c==null?void 0:c.id)||(d==null?void 0:d.id),rpcUrl:((T=(C=(M=c==null?void 0:c.rpcUrls)==null?void 0:M.default)==null?void 0:C.http)==null?void 0:T[0])||((N=(I=(S=d==null?void 0:d.rpcUrls)==null?void 0:S.default)==null?void 0:I.http)==null?void 0:N[0])});if(!y)return;et.addConnectedNamespace(m),this.syncProvider({...y,chainNamespace:m}),await this.syncAccount({...y,chainNamespace:m});const{accounts:_}=await p.getAccounts({namespace:m,id:e});this.setAllAccounts(_,m)},reconnectExternal:async({id:e,info:r,type:i,provider:s})=>{var f;const n=le.state.activeChain,c=this.getAdapter(n);c!=null&&c.reconnect&&(await(c==null?void 0:c.reconnect({id:e,info:r,type:i,provider:s,chainId:(f=this.getCaipNetwork())==null?void 0:f.id})),et.addConnectedNamespace(n))},disconnect:async e=>{const r=e||le.state.activeChain,i=this.getAdapter(r),s=Wt.getProvider(r),n=Wt.getProviderId(r);await(i==null?void 0:i.disconnect({provider:s,providerType:n})),et.removeConnectedNamespace(r),Wt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.hasSwitchedToPreferredAccountTypeOnConnect=!1},checkInstalled:e=>e?e.some(r=>{var i;return!!((i=window.ethereum)!=null&&i[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(le.state.activeChain),i=await(r==null?void 0:r.signMessage({message:e,address:nt.state.address,provider:Wt.getProvider(le.state.activeChain)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Ue.CHAIN.EVM){const r=this.getAdapter(le.state.activeChain),i=Wt.getProvider(le.state.activeChain),s=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ue.CHAIN.EVM){const r=this.getAdapter(le.state.activeChain),i=Wt.getProvider(le.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const n=await(r==null?void 0:r.estimateGas({...e,provider:i,caipNetwork:s}));return(n==null?void 0:n.gas)||0n}return 0n},getEnsAvatar:async()=>{var i;const e=this.getAdapter(le.state.activeChain),r=await(e==null?void 0:e.getProfile({address:nt.state.address,chainId:Number((i=this.getCaipNetwork())==null?void 0:i.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(le.state.activeChain),i=this.getCaipNetwork();if(!i)return!1;const s=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:i}));return(s==null?void 0:s.address)||!1},writeContract:async e=>{const r=this.getAdapter(le.state.activeChain),i=this.getCaipNetwork(),s=this.getCaipAddress(),n=Wt.getProvider(le.state.activeChain);if(!i||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const c=await(r==null?void 0:r.writeContract({...e,caipNetwork:i,provider:n,caipAddress:s}));return c==null?void 0:c.hash},parseUnits:(e,r)=>{const i=this.getAdapter(le.state.activeChain);return(i==null?void 0:i.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const i=this.getAdapter(le.state.activeChain);return(i==null?void 0:i.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(le.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(le.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(le.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(le.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},pr.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,i,s,n,c;if(Wt.getProviderId(le.state.activeChain)===_r.CONNECTOR_TYPE_WALLET_CONNECT){const f=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces;return{supportsAllNetworks:((c=(n=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:n.peer)==null?void 0:c.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(f)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Wt.getProvider(r),n=Wt.getProviderId(r);if(e.chainNamespace===le.state.activeChain){const c=this.getAdapter(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:s,providerType:n}))}else if(this.setCaipNetwork(e),n===_r.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(r);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const i=r.chains||[],s=r.accounts.map(n=>{const{chainId:c,chainNamespace:f}=os.parseCaipAddress(n);return`${f}:${c}`});return Array.from(new Set([...i,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,i)=>{var n;const s=e==null?void 0:e.find(c=>c.namespace===i);return s?(r[i]=s,r[i].namespace=i,r[i].construct({namespace:i,projectId:(n=this.options)==null?void 0:n.projectId,networks:this.caipNetworks})):r[i]=new dX({namespace:i,networks:this.caipNetworks}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const i=et.getConnectionStatus();i==="connected"?this.setStatus("connecting",e):i==="disconnected"?(et.clearAddressCache(),this.setStatus(i,e)):this.setStatus(i,e),r.on("switchNetwork",({address:s,chainId:n})=>{var p;const c=(p=this.caipNetworks)==null?void 0:p.find(d=>d.id===n||d.caipNetworkId===n),f=le.state.activeChain===e,m=le.getAccountProp("address",e);if(c){const d=f&&s?s:m;d&&this.syncAccount({address:d,chainId:n,chainNamespace:e})}else this.setUnsupportedNetwork(n)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const s=nt.state.address,n=le.state.activeCaipNetwork;!s||!(n!=null&&n.id)||this.updateNativeBalance(s,n.id,n.chainNamespace)}),r.on("accountChanged",({address:s,chainId:n})=>{var f,m;const c=le.state.activeChain===e;c&&n?this.syncAccount({address:s,chainId:n,chainNamespace:e}):c&&((f=le.state.activeCaipNetwork)!=null&&f.id)?this.syncAccount({address:s,chainId:(m=le.state.activeCaipNetwork)==null?void 0:m.id,chainNamespace:e}):this.syncAccountInfo(s,n,e)})}async createUniversalProviderForAdapter(e){var r,i,s;await this.getUniversalProvider(),this.universalProvider&&((s=(i=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:i.setUniversalProvider)==null||s.call(i,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=wt.getConnectorId(e);switch(this.setStatus("connecting",e),r){case Ue.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ue.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var c,f,m;const r=this.getAdapter(e),i=wt.getConnectorId(e),s=this.getCaipNetwork(e),n=wt.getConnectors(e).find(p=>p.id===i);try{if(!r||!n)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const p=await(r==null?void 0:r.syncConnection({namespace:e,id:n.id,chainId:s.id,rpcUrl:(m=(f=(c=s==null?void 0:s.rpcUrls)==null?void 0:c.default)==null?void 0:f.http)==null?void 0:m[0]}));if(p){const d=await(r==null?void 0:r.getAccounts({namespace:e,id:n.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([dt.createAccount(e,p.address,"eoa")],e),this.syncProvider({...p,chainNamespace:e}),await this.syncAccount({...p,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var f,m,p,d,y;const i=this.getAdapter(r),s=((d=(p=(m=(f=this.universalProvider)==null?void 0:f.session)==null?void 0:m.namespaces)==null?void 0:p[r])==null?void 0:d.accounts)||[],n=(y=le.state.activeCaipNetwork)==null?void 0:y.id,c=s.find(_=>{const{chainId:x}=os.parseCaipAddress(_);return x===(n==null?void 0:n.toString())})||s[0];if(c){const _=os.validateCaipAddress(c),{chainId:x,address:M}=os.parseCaipAddress(_);if(Wt.setProviderId(r,_r.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&le.state.activeCaipNetwork&&(i==null?void 0:i.namespace)!==Ue.CHAIN.EVM){const C=i==null?void 0:i.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:le.state.activeCaipNetwork});Wt.setProvider(r,C)}else Wt.setProvider(r,this.universalProvider);wt.setConnectorId(Ue.CONNECTOR_ID.WALLET_CONNECT,r),et.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:M,chainId:x,chainNamespace:r})}else this.setStatus("disconnected",r);await le.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var i,s,n,c,f;const r=(f=(c=(n=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.namespaces)==null?void 0:n[e])==null?void 0:c.accounts)==null?void 0:f.map(m=>{const{address:p}=os.parseCaipAddress(m);return p}).filter((m,p,d)=>d.indexOf(m)===p);r&&this.setAllAccounts(r.map(m=>dt.createAccount(e,m,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:i,chainNamespace:s}){Wt.setProviderId(s,e),Wt.setProvider(s,r),wt.setConnectorId(i,s)}async syncAccount(e){var y,_,x,M,C,T;const r=e.chainNamespace===le.state.activeChain,i=le.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:n,chainNamespace:c}=e,{chainId:f}=et.getActiveNetworkProps(),m=n||f,p=((y=le.state.activeCaipNetwork)==null?void 0:y.name)===Ue.UNSUPPORTED_NETWORK_NAME,d=le.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(p&&!d)&&m){let S=(_=this.caipNetworks)==null?void 0:_.find(O=>O.id.toString()===m.toString()),I=(x=this.caipNetworks)==null?void 0:x.find(O=>O.chainNamespace===c);if(!d&&!S&&!I){const O=this.getApprovedCaipNetworkIds()||[],D=O.find(z=>{var G;return((G=os.parseCaipNetworkId(z))==null?void 0:G.chainId)===m.toString()}),$=O.find(z=>{var G;return((G=os.parseCaipNetworkId(z))==null?void 0:G.chainNamespace)===c});S=(M=this.caipNetworks)==null?void 0:M.find(z=>z.caipNetworkId===D),I=(C=this.caipNetworks)==null?void 0:C.find(z=>z.caipNetworkId===$||"deprecatedCaipNetworkId"in z&&z.deprecatedCaipNetworkId===$)}const N=S||I;(N==null?void 0:N.chainNamespace)===le.state.activeChain?Fe.state.enableNetworkSwitch&&!Fe.state.allowUnsupportedChain&&((T=le.state.activeCaipNetwork)==null?void 0:T.name)===Ue.UNSUPPORTED_NETWORK_NAME?le.showUnsupportedChainUI():this.setCaipNetwork(N):r||i&&this.setCaipNetworkOfNamespace(i,c),this.syncConnectedWalletInfo(c),Gl.isLowerCaseMatch(s,nt.state.address)||this.syncAccountInfo(s,N==null?void 0:N.id,c),r?await this.syncBalance({address:s,chainId:N==null?void 0:N.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:i==null?void 0:i.id,chainNamespace:c})}}async syncAccountInfo(e,r,i){const s=this.getCaipAddress(i),n=r||(s==null?void 0:s.split(":")[1]);if(!n)return;const c=`${i}:${n}:${e}`;this.setCaipAddress(c,i),await this.syncIdentity({address:e,chainId:n,chainNamespace:i})}async syncReownName(e,r){try{const i=await this.getReownName(e);if(i[0]){const s=i[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var s;const r=wt.getConnectorId(e),i=Wt.getProviderId(e);if(i===_r.CONNECTOR_TYPE_ANNOUNCED||i===_r.CONNECTOR_TYPE_INJECTED){if(r){const n=this.getConnectors().find(c=>c.id===r);if(n){const{info:c,name:f,imageUrl:m}=n,p=m||this.getConnectorImage(n);this.setConnectedWalletInfo({name:f,icon:p,...c},e)}}}else if(i===_r.CONNECTOR_TYPE_WALLET_CONNECT){const n=Wt.getProvider(e);n!=null&&n.session&&this.setConnectedWalletInfo({...n.session.peer.metadata,name:n.session.peer.metadata.name,icon:(s=n.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(r)if(r===Ue.CONNECTOR_ID.COINBASE){const n=this.getConnectors().find(c=>c.id===Ue.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(n)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!Yc.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(i=>{var s;return i.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,i){const s=this.getAdapter(i);if(s){const n=await s.getBalance({address:e,chainId:r,caipNetwork:this.getCaipNetwork(i),tokens:this.options.tokens});this.setBalance(n.balance,n.symbol,i)}}async initializeUniversalAdapter(){var i,s,n,c,f,m,p,d,y,_;const e=HZ.createLogger((x,...M)=>{x&&this.handleAlertError(x),console.error(...M)}),r={projectId:(i=this.options)==null?void 0:i.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(n=this.options)==null?void 0:n.metadata.name:"",description:(c=this.options)!=null&&c.metadata?(f=this.options)==null?void 0:f.metadata.description:"",url:(m=this.options)!=null&&m.metadata?(p=this.options)==null?void 0:p.metadata.url:"",icons:(d=this.options)!=null&&d.metadata?(y=this.options)==null?void 0:y.metadata.icons:[""]},logger:e};Fe.setManualWCControl(!!((_=this.options)!=null&&_.manualWCControl)),this.universalProvider=this.options.universalProvider??await AV.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{pr.setUri(e)}),this.universalProvider.on("connect",pr.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),pr.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var s;const r=(s=this.caipNetworks)==null?void 0:s.find(n=>n.id==e),i=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(i==null?void 0:i.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(cd.isSessionEventData(e)){const{name:r,data:i}=e.params.event;r==="accountsChanged"&&Array.isArray(i)&&dt.isCaipAddress(i[0])&&this.syncAccount(os.parseCaipAddress(i[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&dt.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){mr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(ma.UniversalProviderErrors).find(([,{message:f}])=>e.message.includes(f)),[i,s]=r??[],{message:n,alertErrorKey:c}=s??{};if(i&&n&&!this.reportedAlertErrors[i]){const f=ma.ALERT_ERRORS[c];f&&(ga.open(f,"error"),this.reportedAlertErrors[i]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var s;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const i=e;i.namespace=r,i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=i)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&pr.setUri(e.uri),await Nr.open(e)}async close(){await this.injectModalUi(),Nr.close()}setLoading(e,r){Nr.setLoading(e,r)}async disconnect(e){await pr.disconnect(e)}getError(){return""}getChainId(){var e;return(e=le.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var i;const r=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id===e.id);if(!r){ga.open(ma.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await le.switchActiveNetwork(r)}getWalletProvider(){return le.state.activeChain?Wt.state.providers[le.state.activeChain]:null}getWalletProviderType(){return Wt.getProviderId(le.state.activeChain)}subscribeProviders(e){return Wt.subscribeProviders(e)}getThemeMode(){return oi.state.themeMode}getThemeVariables(){return oi.state.themeVariables}setThemeMode(e){oi.setThemeMode(e),CC(oi.state.themeMode)}setTermsConditionsUrl(e){Fe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Fe.setPrivacyPolicyUrl(e)}setThemeVariables(e){oi.setThemeVariables(e),ZQ(oi.state.themeVariables)}subscribeTheme(e){return oi.subscribe(e)}getWalletInfo(){return nt.state.connectedWalletInfo}getAccount(e){const r=wt.getAuthConnector(e),i=le.getAccountData(e);if(i)return{allAccounts:i.allAccounts,caipAddress:i.caipAddress,address:dt.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:r?{user:i.user,authProvider:i.socialProvider||"email",accountType:i.preferredAccountType,isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const i=()=>{const s=this.getAccount(r);s&&e(s)};r?le.subscribeChainProp("accountState",i,r):le.subscribe(i),wt.subscribe(i)}subscribeNetwork(e){return le.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return nt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){nt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){le.subscribeKey("activeCaipNetwork",e)}getState(){return Yn.state}subscribeState(e){return Yn.subscribe(e)}showErrorMessage(e){Xr.showError(e)}showSuccessMessage(e){Xr.showSuccess(e)}getEvent(){return{...mr.state}}subscribeEvents(e){return mr.subscribe(e)}replace(e){jt.replace(e)}redirect(e){jt.push(e)}popTransactionStack(e){jt.popTransactionStack(e)}isOpen(){return Nr.state.open}isTransactionStackEmpty(){return jt.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=jt.state.transactionStack[jt.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Fe.setFeatures(e)}updateOptions(e){const i={...Fe.state||{},...e};Fe.setOptions(i)}setConnectMethodsOrder(e){Fe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Fe.setWalletFeaturesOrder(e)}setCollapseWallets(e){Fe.setCollapseWallets(e)}setSocialsOrder(e){Fe.setSocialsOrder(e)}getConnectMethodsOrder(){return u1.getConnectOrderMethod(Fe.state.features,wt.getConnectors())}removeAdapter(e){var n;const r=this.getIsConnectedState(),i=this.getAdapter(e);if(!i||!this.chainAdapters||r)return;const s=(n=this.caipNetworks)==null?void 0:n.filter(c=>c.chainNamespace!==e);le.removeAdapter(e),wt.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(c=>c!==e),this.caipNetworks=s,i.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,r){const i=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!i)return;const s=this.extendCaipNetworks({...this.options,networks:r});this.caipNetworks=[...this.caipNetworks||[],...s],this.createAdapter(e),this.initChainAdapter(i),le.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},s)}addNetwork(e,r){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const i=this.extendCaipNetwork(r,this.options);le.addNetwork(i),this.caipNetworks&&!((s=this.caipNetworks)!=null&&s.find(n=>n.id===i.id))&&this.caipNetworks.push(i)}removeNetwork(e,r){var n;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((n=this.caipNetworks)==null?void 0:n.find(c=>c.id===r)))throw new Error(`Network with ID ${r} not found`);if(!this.caipNetworks)return;const s=this.caipNetworks.filter(c=>c.chainNamespace===e&&c.id!==r);if(!(s!=null&&s.length))throw new Error("Cannot remove last network for a namespace");le.removeNetwork(e,r),this.caipNetworks=[...s]}}let J6=!1;class mX extends pX{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{ki.checkIfRequestExists(r)?ki.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(Rr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(Rr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,i)=>{const s=ki.checkIfRequestIsSafe(i),n=nt.state.address,c=le.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(),n&&(c!=null&&c.id)&&this.updateNativeBalance(n,c.id,c.chainNamespace)):(this.popTransactionStack(),n&&(c!=null&&c.id)&&this.updateNativeBalance(n,c.id,c.chainNamespace)))}),e.onNotConnected(()=>{const r=le.state.activeChain;wt.getConnectorId(r)===Ue.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var m;const i=le.state.activeChain,s=i===Ue.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`;this.setSmartAccountDeployed(!!r.smartAccountDeployed,i);const n=Fe.state.defaultAccountTypes[i];if(!(!!r.preferredAccountType&&Gl.isLowerCaseMatch(r.preferredAccountType,n))&&!this.hasSwitchedToPreferredAccountTypeOnConnect){this.hasSwitchedToPreferredAccountTypeOnConnect=!0;const{success:p}=await pr.setPreferredAccountType(n).then(()=>({success:!1})).catch(d=>(console.error("setPreferredAccountType error:",d),{success:!1}));if(p)return}else this.hasSwitchedToPreferredAccountTypeOnConnect=!0;Gl.isLowerCaseMatch(r.address,nt.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:i}),this.setCaipAddress(s,i),this.setUser({...nt.state.user||{},email:r.email},i),this.setPreferredAccountType(r.preferredAccountType||n,i);const f=(m=r.accounts)==null?void 0:m.map(p=>dt.createAccount(i,p.address,p.type||Fe.state.defaultAccountTypes[i]));this.setAllAccounts(f||[dt.createAccount(i,r.address,r.preferredAccountType||n)],i),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,i)}),e.onSocialConnected(({userName:r})=>{this.setUser({...nt.state.user||{},username:r},le.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,le.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:i})=>{r&&this.setPreferredAccountType(i,le.state.activeChain)})}async syncAuthConnector(e,r){var d,y,_,x;const i=Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!i)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const n=e.getEmail(),c=e.getUsername();this.setUser({...((d=nt.state)==null?void 0:d.user)||{},username:c,email:n},le.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:f}=await e.isConnected(),m=oi.getSnapshot(),p=Fe.getSnapshot();e.syncDappData({metadata:p.metadata,sdkVersion:p.sdkVersion,projectId:p.projectId,sdkType:p.sdkType}),e.syncTheme({themeMode:m.themeMode,themeVariables:m.themeVariables,w3mThemeVariables:Gn(m.themeVariables,m.themeMode)}),r&&i&&(f&&((y=this.connectionControllerClient)!=null&&y.connectExternal)?(await((x=this.connectionControllerClient)==null?void 0:x.connectExternal({id:Ue.CONNECTOR_ID.AUTH,info:{name:Ue.CONNECTOR_ID.AUTH},type:_r.CONNECTOR_TYPE_AUTH,provider:e,chainId:(_=le.state.activeCaipNetwork)==null?void 0:_.id,chain:r})),this.setStatus("connected",r)):wt.getConnectorId(r)===Ue.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),et.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!dt.isTelegram())return;const i=et.getTelegramSocialProvider();if(!i||typeof window>"u"||typeof document>"u")return;const n=new URL(window.location.href).searchParams.get("result_uri");if(!n)return;nt.setSocialProvider(i,e),await((r=this.authProvider)==null?void 0:r.init());const c=wt.getAuthConnector();i&&c&&(this.setLoading(!0,e),await c.provider.connectSocial(n),await pr.connectExternal(c,c.chain),et.setConnectedSocialProvider(i),et.removeTelegramSocialProvider(),mr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}}))}catch(i){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",i)}try{const i=new URL(window.location.href);i.searchParams.delete("result_uri"),window.history.replaceState({},document.title,i.toString())}catch(i){console.error("tma social login failed",i)}}createAuthProvider(e){var c,f,m,p,d,y,_,x,M,C,T;if(!Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const i=((f=(c=this.options)==null?void 0:c.features)==null?void 0:f.email)===void 0?Dr.DEFAULT_FEATURES.email:(p=(m=this.options)==null?void 0:m.features)==null?void 0:p.email,s=(y=(d=this.options)==null?void 0:d.features)!=null&&y.socials?((M=(x=(_=this.options)==null?void 0:_.features)==null?void 0:x.socials)==null?void 0:M.length)>0:Dr.DEFAULT_FEATURES.socials,n=i||s;!this.authProvider&&((C=this.options)!=null&&C.projectId)&&n&&(this.authProvider=wa.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(T=this.getCaipNetwork(e))==null?void 0:T.caipNetworkId,onTimeout:()=>{ga.open(ma.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(S=>{var I;S.open||(I=this.authProvider)==null||I.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,i,s;this.createAuthProvider(e),this.authProvider&&((s=(i=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:i.setAuthProvider)==null||s.call(i,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&St.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var n,c;if(!e)return;const r=le.state.activeChain,i=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===le.state.activeChain&&s){const f=this.getAdapter(i),m=Wt.getProvider(i),p=Wt.getProviderId(i);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:m,providerType:p})),this.setCaipNetwork(e)}else{const m=Wt.getProviderId(r)===_r.CONNECTOR_TYPE_AUTH,p=Wt.getProviderId(i),d=p===_r.CONNECTOR_TYPE_AUTH,y=Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(i);if((m||d)&&y)try{le.state.activeChain=e.chainNamespace,await((c=(n=this.connectionControllerClient)==null?void 0:n.connectExternal)==null?void 0:c.call(n,{id:Ue.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:i,chainId:e.id,type:_r.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const x=this.getAdapter(i);await(x==null?void 0:x.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:p}))}else p===_r.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:i}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:i}){var c;const s=`${i}:${r}`,n=(c=this.caipNetworks)==null?void 0:c.find(f=>f.caipNetworkId===s);if(i!==Ue.CHAIN.EVM||n!=null&&n.testnet){this.setProfileName(null,i),this.setProfileImage(null,i);return}try{const{name:f,avatar:m}=await this.fetchIdentity({address:e,caipNetworkId:s});if(this.setProfileName(f,i),this.setProfileImage(m,i),!f){const p=this.getAdapter(i),d=await(p==null?void 0:p.getProfile({address:e,chainId:Number(r)}));d!=null&&d.profileName?(this.setProfileName(d.profileName,i),d.profileImage&&this.setProfileImage(d.profileImage,i)):(await this.syncReownName(e,i),this.setProfileImage(null,i))}}catch{await this.syncReownName(e,i),r!==1&&this.setProfileImage(null,i)}}syncConnectedWalletInfo(e){const r=Wt.getProviderId(e);if(r===_r.CONNECTOR_TYPE_AUTH){const i=this.authProvider;if(i){const s=et.getConnectedSocialProvider()??"email",n=i.getEmail()??i.getUsername();this.setConnectedWalletInfo({name:r,identifier:n,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!J6&&dt.isClient()){const e={...Dr.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(Ei(()=>import("./embedded-wallet-Rc1atG0G.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,1,2]))),e.email&&r.push(Ei(()=>import("./email-B8o6yLKS.js"),__vite__mapDeps([14,5,13,9,12,8,15,10,1,2]))),e.socials&&r.push(Ei(()=>import("./socials-B3Nc1VnH.js"),__vite__mapDeps([16,5,17,8,9,18,12,13,19,7,1,20,21,2]))),e.swaps&&r.push(Ei(()=>import("./swaps-5E6hIXXM.js"),__vite__mapDeps([22,5,8,9,23,24,25,7,12,21,10,1,2]))),e.send&&r.push(Ei(()=>import("./send-Bt90mkLu.js"),__vite__mapDeps([26,5,8,9,12,13,25,7,10,27,1,2]))),e.receive&&r.push(Ei(()=>import("./receive-Cnbw_pTQ.js"),__vite__mapDeps([28,5,29,7,19,1,20,2]))),e.onramp&&r.push(Ei(()=>import("./onramp-DgMvgOxy.js"),__vite__mapDeps([30,5,31,32,1,21,12,7,9,33,17,8,13,10,2]))),e.history&&r.push(Ei(()=>import("./transactions-CyeoyA_c.js"),__vite__mapDeps([34,5,35,31,32,1,21,12,13,7,2])))),await Promise.all([...r,Ei(()=>import("./index-DczEZaT_.js"),__vite__mapDeps([36,5,7,9,27,12,37,24,11,33,8,35,31,32,1,21,13,23,10,15,17,18,6,29,19,20,2])),Ei(()=>import("./w3m-modal-DLF6rtp7.js"),__vite__mapDeps([38,5,11,7,12,9,24,37,1,2]))]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Fe.state.disableAppend&&!Fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}J6=!0}}}let ps;function gX(t){t&&(ps=t)}function Rre(){if(!ps)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(r){await(ps==null?void 0:ps.open(r))}async function e(){await(ps==null?void 0:ps.close())}return{open:t,close:e}}const vX="1.7.2";let nl;function yX(t){return nl||(nl=new mX({...t,sdkVersion:dt.generateSdkVersion(t.adapters??[],"react",vX)}),gX(nl)),nl}function di(t,e,r){const i=t[e.name];if(typeof i=="function")return i;const s=t[r];return typeof s=="function"?s:n=>e(t,n)}const Tl="2.16.7",bX=()=>`@wagmi/core@${Tl}`;var TC=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},uh,RC;let qs=class d1 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return bX()}constructor(e,r={}){var n;super(),uh.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=r.cause instanceof d1?r.cause.details:(n=r.cause)!=null&&n.message?r.cause.message:r.details,s=r.cause instanceof d1&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return TC(this,uh,"m",RC).call(this,this,e)}};uh=new WeakSet,RC=function t(e,r){return r!=null&&r(e)?e:e.cause?TC(this,uh,"m",t).call(this,e.cause,r):e};class Du extends qs{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class wX extends qs{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class _X extends qs{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class EX extends qs{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class AX extends qs{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class xX extends qs{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Q6(t,e){var i;let r;if(typeof e.connector=="function"?r=t._internal.connectors.setup(e.connector):r=e.connector,r.uid===t.state.current)throw new wX;try{t.setState(m=>({...m,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:s,...n}=e,c=await r.connect(n),f=c.accounts;return r.emitter.off("connect",t._internal.events.connect),r.emitter.on("change",t._internal.events.change),r.emitter.on("disconnect",t._internal.events.disconnect),await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",r.id)),t.setState(m=>({...m,connections:new Map(m.connections).set(r.uid,{accounts:f,chainId:c.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:f,chainId:c.chainId}}catch(s){throw t.setState(n=>({...n,status:n.current?"connected":"disconnected"})),s}}async function ud(t,e={}){let r;if(e.connector){const{connector:p}=e;if(t.state.status==="reconnecting"&&!p.getAccounts&&!p.getChainId)throw new xX({connector:p});const[d,y]=await Promise.all([p.getAccounts().catch(_=>{if(e.account===null)return[];throw _}),p.getChainId()]);r={accounts:d,chainId:y,connector:p}}else r=t.state.connections.get(t.state.current);if(!r)throw new _X;const i=e.chainId??r.chainId,s=await r.connector.getChainId();if(s!==r.chainId)throw new AX({connectionChainId:r.chainId,connectorChainId:s});const n=r.connector;if(n.getClient)return n.getClient({chainId:i});const c=$n(e.account??r.accounts[0]);if(c&&(c.address=so(c.address)),e.account&&!r.accounts.some(p=>p.toLowerCase()===c.address.toLowerCase()))throw new EX({address:c.address,connector:n});const f=t.chains.find(p=>p.id===i),m=await r.connector.getProvider({chainId:i});return KM({account:c,chain:f,name:"Connector Client",transport:p=>YG(m)({...p,retryCount:0})})}async function MX(t,e={}){var s,n;let r;if(e.connector)r=e.connector;else{const{connections:c,current:f}=t.state,m=c.get(f);r=m==null?void 0:m.connector}const i=t.state.connections;r&&(await r.disconnect(),r.emitter.off("change",t._internal.events.change),r.emitter.off("disconnect",t._internal.events.disconnect),r.emitter.on("connect",t._internal.events.connect),i.delete(r.uid)),t.setState(c=>{if(i.size===0)return{...c,connections:new Map,current:null,status:"disconnected"};const f=i.values().next().value;return{...c,connections:new Map(i),current:f.connector.uid}});{const c=t.state.current;if(!c)return;const f=(s=t.state.connections.get(c))==null?void 0:s.connector;if(!f)return;await((n=t.storage)==null?void 0:n.setItem("recentConnectorId",f.id))}}async function CX(t,e){const{chainId:r,connector:i,...s}=e;let n;e.account?n=e.account:n=(await ud(t,{account:e.account,chainId:r,connector:i})).account;const c=t.getClient({chainId:r});return di(c,BM,"estimateGas")({...s,account:n})}function NC(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(RK[t])}function fh(t){const e=t.state.current,r=t.state.connections.get(e),i=r==null?void 0:r.accounts,s=i==null?void 0:i[0],n=t.chains.find(f=>f.id===(r==null?void 0:r.chainId)),c=t.state.status;switch(c){case"connected":return{address:s,addresses:i,chain:n,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:c};case"reconnecting":return{address:s,addresses:i,chain:n,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:c};case"connecting":return{address:s,addresses:i,chain:n,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:c};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:c}}}async function SX(t,e){const{allowFailure:r=!0,chainId:i,contracts:s,...n}=e,c=t.getClient({chainId:i});return di(c,DZ,"multicall")({allowFailure:r,contracts:s,...n})}function IX(t,e){const{chainId:r,...i}=e,s=t.getClient({chainId:r});return di(s,So,"readContract")(i)}async function TX(t,e){var f;const{allowFailure:r=!0,blockNumber:i,blockTag:s,...n}=e,c=e.contracts;try{const m={};for(const[_,x]of c.entries()){const M=x.chainId??t.state.chainId;m[M]||(m[M]=[]),(f=m[M])==null||f.push({contract:x,index:_})}const p=()=>Object.entries(m).map(([_,x])=>SX(t,{...n,allowFailure:r,blockNumber:i,blockTag:s,chainId:Number.parseInt(_),contracts:x.map(({contract:M})=>M)})),d=(await Promise.all(p())).flat(),y=Object.values(m).flatMap(_=>_.map(({index:x})=>x));return d.reduce((_,x,M)=>(_&&(_[y[M]]=x),_),[])}catch(m){if(m instanceof gM)throw m;const p=()=>c.map(d=>IX(t,{...d,blockNumber:i,blockTag:s}));return r?(await Promise.allSettled(p())).map(d=>d.status==="fulfilled"?{result:d.value,status:"success"}:{error:d.reason,result:void 0,status:"failure"}):await Promise.all(p())}}async function RX(t,e){const{address:r,blockNumber:i,blockTag:s,chainId:n,token:c,unit:f="ether"}=e;if(c)try{return await X6(t,{balanceAddress:r,chainId:n,symbolType:"string",tokenAddress:c})}catch(_){if(_.name==="ContractFunctionExecutionError"){const x=await X6(t,{balanceAddress:r,chainId:n,symbolType:"bytes32",tokenAddress:c}),M=iM(Nn(x.symbol,{dir:"right"}));return{...x,symbol:M}}throw _}const m=t.getClient({chainId:n}),d=await di(m,kM,"getBalance")(i?{address:r,blockNumber:i}:{address:r,blockTag:s}),y=t.chains.find(_=>_.id===n)??m.chain;return{decimals:y.nativeCurrency.decimals,formatted:Xa(d,NC(f)),symbol:y.nativeCurrency.symbol,value:d}}async function X6(t,e){const{balanceAddress:r,chainId:i,symbolType:s,tokenAddress:n,unit:c}=e,f={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:n},[m,p,d]=await TX(t,{allowFailure:!1,contracts:[{...f,functionName:"balanceOf",args:[r],chainId:i},{...f,functionName:"decimals",chainId:i},{...f,functionName:"symbol",chainId:i}]}),y=Xa(m??"0",NC(c??p));return{decimals:p,formatted:y,symbol:d,value:m}}function lh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,i;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!lh(t[i],e[i]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=r;i--!==0;){const n=s[i];if(n&&!lh(t[n],e[n]))return!1}return!0}return t!==t&&e!==e}let sl=[];function aa(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||lh(sl,e)?sl:(sl=e,e)}function NX(t,e){const{chainId:r,...i}=e,s=t.getClient({chainId:r});return di(s,nZ,"getEnsAddress")(i)}function PX(t,e){const{chainId:r,...i}=e,s=t.getClient({chainId:r});return di(s,yZ,"getEnsAvatar")(i)}function OX(t,e){const{chainId:r,...i}=e,s=t.getClient({chainId:r});return di(s,bZ,"getEnsName")(i)}async function kX(t,e){const{account:r,chainId:i,...s}=e,n=r??fh(t).address,c=t.getClient({chainId:i});return di(c,$y,"prepareTransactionRequest")({...s,...n?{account:n}:{}})}let Wg=!1;async function BX(t,e={}){var p,d;if(Wg)return[];Wg=!0,t.setState(y=>({...y,status:y.current?"reconnecting":"connecting"}));const r=[];if((p=e.connectors)!=null&&p.length)for(const y of e.connectors){let _;typeof y=="function"?_=t._internal.connectors.setup(y):_=y,r.push(_)}else r.push(...t.connectors);let i;try{i=await((d=t.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,y]of t.state.connections)s[y.connector.id]=1;i&&(s[i]=0);const n=Object.keys(s).length>0?[...r].sort((y,_)=>(s[y.id]??10)-(s[_.id]??10)):r;let c=!1;const f=[],m=[];for(const y of n){const _=await y.getProvider().catch(()=>{});if(!_||m.some(C=>C===_)||!await y.isAuthorized())continue;const M=await y.connect({isReconnecting:!0}).catch(()=>null);M&&(y.emitter.off("connect",t._internal.events.connect),y.emitter.on("change",t._internal.events.change),y.emitter.on("disconnect",t._internal.events.disconnect),t.setState(C=>{const T=new Map(c?C.connections:new Map).set(y.uid,{accounts:M.accounts,chainId:M.chainId,connector:y});return{...C,current:c?C.current:y.uid,connections:T}}),f.push({accounts:M.accounts,chainId:M.chainId,connector:y}),m.push(_),c=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(c?t.setState(y=>({...y,status:"connected"})):t.setState(y=>({...y,connections:new Map,current:null,status:"disconnected"}))),Wg=!1,f}async function DX(t,e){const{account:r,chainId:i,connector:s,...n}=e;let c;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?c=t.getClient({chainId:i}):c=await ud(t,{account:r??void 0,chainId:i,connector:s}),await di(c,WM,"sendTransaction")({...n,...r?{account:r}:{},chain:i?{id:i}:null,gas:n.gas??void 0})}async function $X(t,e){const{account:r,connector:i,...s}=e;let n;return typeof r=="object"&&r.type==="local"?n=t.getClient():n=await ud(t,{account:r,connector:i}),di(n,LZ,"signMessage")({...s,...r?{account:r}:{}})}class vs extends qs{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class UX extends qs{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function FX(t,e){var c;const{addEthereumChainParameter:r,chainId:i}=e,s=t.state.connections.get(((c=e.connector)==null?void 0:c.uid)??t.state.current);if(s){const f=s.connector;if(!f.switchChain)throw new UX({connector:f});return await f.switchChain({addEthereumChainParameter:r,chainId:i})}const n=t.chains.find(f=>f.id===i);if(!n)throw new Du;return t.setState(f=>({...f,chainId:i})),n}function LX(t,e){const{onChange:r}=e;return t.subscribe(()=>fh(t),r,{equalityFn(i,s){const{connector:n,...c}=i,{connector:f,...m}=s;return lh(c,m)&&(n==null?void 0:n.id)===(f==null?void 0:f.id)&&(n==null?void 0:n.uid)===(f==null?void 0:f.uid)}})}function qX(t,e){const{onChange:r}=e;return t._internal.connectors.subscribe((i,s)=>{r(Object.values(i),s)})}function jX(t,e){const{syncConnectedChain:r=t._internal.syncConnectedChain,...i}=e;let s;const n=m=>{s&&s();const p=t.getClient({chainId:m});return s=di(p,FZ,"watchPendingTransactions")(i),s},c=n(e.chainId);let f;return r&&!e.chainId&&(f=t.subscribe(({chainId:m})=>m,async m=>n(m))),()=>{c==null||c(),f==null||f()}}async function zX(t,e){const{chainId:r,timeout:i=0,...s}=e,n=t.getClient({chainId:r}),f=await di(n,UZ,"waitForTransactionReceipt")({...s,timeout:i});if(f.status==="reverted"){const p=await di(n,XM,"getTransaction")({hash:f.transactionHash}),y=await di(n,zM,"call")({...p,data:p.input,gasPrice:p.type!=="eip1559"?p.gasPrice:void 0,maxFeePerGas:p.type==="eip1559"?p.maxFeePerGas:void 0,maxPriorityFeePerGas:p.type==="eip1559"?p.maxPriorityFeePerGas:void 0}),_=y!=null&&y.data?iM(`0x${y.data.substring(138)}`):"unknown reason";throw new Error(_)}return{...f,chainId:n.chain.id}}async function HX(t,e){const{account:r,chainId:i,connector:s,...n}=e;let c;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?c=t.getClient({chainId:i}):c=await ud(t,{account:r??void 0,chainId:i,connector:s}),await di(c,VG,"writeContract")({...n,...r?{account:r}:{},chain:i?{id:i}:null})}function Nre(t){return t}fd.type="injected";function fd(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function i(){const m=t.target;if(typeof m=="function"){const p=m();if(p)return p}return typeof m=="object"?m:typeof m=="string"?{...WX[m]??{id:m,name:`${m[0].toUpperCase()}${m.slice(1)}`,provider:`is${m[0].toUpperCase()}${m.slice(1)}`}}:{id:"injected",name:"Injected",provider(p){return p==null?void 0:p.ethereum}}}let s,n,c,f;return m=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},get supportsSimulation(){return!0},type:fd.type,async setup(){const p=await this.getProvider();p!=null&&p.on&&t.target&&(c||(c=this.onConnect.bind(this),p.on("connect",c)),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)))},async connect({chainId:p,isReconnecting:d}={}){var x,M,C,T,S,I;const y=await this.getProvider();if(!y)throw new vs;let _=[];if(d)_=await this.getAccounts().catch(()=>[]);else if(e)try{_=(T=(C=(M=(x=(await y.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:x.caveats)==null?void 0:M[0])==null?void 0:C.value)==null?void 0:T.map(O=>so(O)),_.length>0&&(_=await this.getAccounts())}catch(N){const O=N;if(O.code===kr.code)throw new kr(O);if(O.code===Ss.code)throw O}try{!(_!=null&&_.length)&&!d&&(_=(await y.request({method:"eth_requestAccounts"})).map(D=>so(D))),c&&(y.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),n||(n=this.onChainChanged.bind(this),y.on("chainChanged",n)),f||(f=this.onDisconnect.bind(this),y.on("disconnect",f));let N=await this.getChainId();if(p&&N!==p){const O=await this.switchChain({chainId:p}).catch(D=>{if(D.code===kr.code)throw D;return{id:N}});N=(O==null?void 0:O.id)??N}return e&&await((S=m.storage)==null?void 0:S.removeItem(`${this.id}.disconnected`)),t.target||await((I=m.storage)==null?void 0:I.setItem("injected.connected",!0)),{accounts:_,chainId:N}}catch(N){const O=N;throw O.code===kr.code?new kr(O):O.code===Ss.code?new Ss(O):O}},async disconnect(){var d,y;const p=await this.getProvider();if(!p)throw new vs;n&&(p.removeListener("chainChanged",n),n=void 0),f&&(p.removeListener("disconnect",f),f=void 0),c||(c=this.onConnect.bind(this),p.on("connect",c));try{await GM(()=>p.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=m.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),t.target||await((y=m.storage)==null?void 0:y.removeItem("injected.connected"))},async getAccounts(){const p=await this.getProvider();if(!p)throw new vs;return(await p.request({method:"eth_accounts"})).map(y=>so(y))},async getChainId(){const p=await this.getProvider();if(!p)throw new vs;const d=await p.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let p;const d=i();return typeof d.provider=="function"?p=d.provider(window):typeof d.provider=="string"?p=Rl(window,d.provider):p=d.provider,p&&!p.removeListener&&("off"in p&&typeof p.off=="function"?p.removeListener=p.off:p.removeListener=()=>{}),p},async isAuthorized(){var p,d;try{if(e&&await((p=m.storage)==null?void 0:p.getItem(`${this.id}.disconnected`))||!t.target&&!await((d=m.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const M=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",M),!!await this.getProvider()),C=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(S=>window.addEventListener("ethereum#initialized",()=>S(M()),{once:!0}))]:[],new Promise(S=>setTimeout(()=>S(M()),C))]))return!0}throw new vs}return!!(await Kl(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:p,chainId:d}){var M,C,T,S;const y=await this.getProvider();if(!y)throw new vs;const _=m.chains.find(I=>I.id===d);if(!_)throw new On(new Du);const x=new Promise(I=>{const N=O=>{"chainId"in O&&O.chainId===d&&(m.emitter.off("change",N),I())};m.emitter.on("change",N)});try{return await Promise.all([y.request({method:"wallet_switchEthereumChain",params:[{chainId:Rt(d)}]}).then(async()=>{await this.getChainId()===d&&m.emitter.emit("change",{chainId:d})}),x]),_}catch(I){const N=I;if(N.code===4902||((C=(M=N==null?void 0:N.data)==null?void 0:M.originalError)==null?void 0:C.code)===4902)try{const{default:O,...D}=_.blockExplorers??{};let $;p!=null&&p.blockExplorerUrls?$=p.blockExplorerUrls:O&&($=[O.url,...Object.values(D).map(L=>L.url)]);let z;(T=p==null?void 0:p.rpcUrls)!=null&&T.length?z=p.rpcUrls:z=[((S=_.rpcUrls.default)==null?void 0:S.http[0])??""];const G={blockExplorerUrls:$,chainId:Rt(d),chainName:(p==null?void 0:p.chainName)??_.name,iconUrls:p==null?void 0:p.iconUrls,nativeCurrency:(p==null?void 0:p.nativeCurrency)??_.nativeCurrency,rpcUrls:z};return await Promise.all([y.request({method:"wallet_addEthereumChain",params:[G]}).then(async()=>{if(await this.getChainId()===d)m.emitter.emit("change",{chainId:d});else throw new kr(new Error("User rejected switch after adding network."))}),x]),_}catch(O){throw new kr(O)}throw N.code===kr.code?new kr(N):new On(N)}},async onAccountsChanged(p){var d;if(p.length===0)this.onDisconnect();else if(m.emitter.listenerCount("connect")){const y=(await this.getChainId()).toString();this.onConnect({chainId:y}),e&&await((d=m.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else m.emitter.emit("change",{accounts:p.map(y=>so(y))})},onChainChanged(p){const d=Number(p);m.emitter.emit("change",{chainId:d})},async onConnect(p){const d=await this.getAccounts();if(d.length===0)return;const y=Number(p.chainId);m.emitter.emit("connect",{accounts:d,chainId:y});const _=await this.getProvider();_&&(c&&(_.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),_.on("accountsChanged",s)),n||(n=this.onChainChanged.bind(this),_.on("chainChanged",n)),f||(f=this.onDisconnect.bind(this),_.on("disconnect",f)))},async onDisconnect(p){const d=await this.getProvider();p&&p.code===1013&&d&&(await this.getAccounts()).length||(m.emitter.emit("disconnect"),d&&(n&&(d.removeListener("chainChanged",n),n=void 0),f&&(d.removeListener("disconnect",f),f=void 0),c||(c=this.onConnect.bind(this),d.on("connect",c))))}})}const WX={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Rl(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Rl(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of r)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:Rl(t,"isPhantom")}}};function Rl(t,e){function r(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const i=t.ethereum;if(i!=null&&i.providers)return i.providers.find(s=>r(s));if(i&&r(i))return i}function VX(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function KX(){const t=new Set;let e=[];const r=()=>VX(s=>{e.some(({info:n})=>n.uuid===s.info.uuid)||(e=[...e,s],t.forEach(n=>n(e,{added:[s]})))});let i=r();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),i==null||i()},findProvider({rdns:s}){return e.find(n=>n.info.rdns===s)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=r()},subscribe(s,{emitImmediately:n}={}){return t.add(s),n&&s(e,{added:e}),()=>t.delete(s)}}}const GX=t=>(e,r,i)=>{const s=i.subscribe;return i.subscribe=(c,f,m)=>{let p=c;if(f){const d=(m==null?void 0:m.equalityFn)||Object.is;let y=c(i.getState());p=_=>{const x=c(_);if(!d(y,x)){const M=y;f(y=x,M)}},m!=null&&m.fireImmediately&&f(y,y)}return s(p)},t(e,r,i)},ZX=GX;function YX(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var n;const c=m=>m===null?null:JSON.parse(m,void 0),f=(n=r.getItem(s))!=null?n:null;return f instanceof Promise?f.then(c):c(f)},setItem:(s,n)=>r.setItem(s,JSON.stringify(n,void 0)),removeItem:s=>r.removeItem(s)}}const p1=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(i){return p1(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return p1(i)(r)}}}},JX=(t,e)=>(r,i,s)=>{let n={storage:YX(()=>localStorage),partialize:C=>C,version:0,merge:(C,T)=>({...T,...C}),...e},c=!1;const f=new Set,m=new Set;let p=n.storage;if(!p)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...C)},i,s);const d=()=>{const C=n.partialize({...i()});return p.setItem(n.name,{state:C,version:n.version})},y=s.setState;s.setState=(C,T)=>{y(C,T),d()};const _=t((...C)=>{r(...C),d()},i,s);s.getInitialState=()=>_;let x;const M=()=>{var C,T;if(!p)return;c=!1,f.forEach(I=>{var N;return I((N=i())!=null?N:_)});const S=((T=n.onRehydrateStorage)==null?void 0:T.call(n,(C=i())!=null?C:_))||void 0;return p1(p.getItem.bind(p))(n.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==n.version){if(n.migrate)return[!0,n.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var N;const[O,D]=I;if(x=n.merge(D,(N=i())!=null?N:_),r(x,!0),O)return d()}).then(()=>{S==null||S(x,void 0),x=i(),c=!0,m.forEach(I=>I(x))}).catch(I=>{S==null||S(void 0,I)})};return s.persist={setOptions:C=>{n={...n,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p==null||p.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>M(),hasHydrated:()=>c,onHydrate:C=>(f.add(C),()=>{f.delete(C)}),onFinishHydration:C=>(m.add(C),()=>{m.delete(C)})},n.skipHydration||M(),x||_},QX=JX,ex=t=>{let e;const r=new Set,i=(p,d)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const _=e;e=d??(typeof y!="object"||y===null)?y:Object.assign({},e,y),r.forEach(x=>x(e,_))}},s=()=>e,f={setState:i,getState:s,getInitialState:()=>m,subscribe:p=>(r.add(p),()=>r.delete(p))},m=e=t(i,s,f);return f},Vg=t=>t?ex(t):ex;var Kg={exports:{}},tx;function XX(){return tx||(tx=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(m,p,d){this.fn=m,this.context=p,this.once=d||!1}function n(m,p,d,y,_){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new s(d,y||m,_),M=r?r+p:p;return m._events[M]?m._events[M].fn?m._events[M]=[m._events[M],x]:m._events[M].push(x):(m._events[M]=x,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new i:delete m._events[p]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],d,y;if(this._eventsCount===0)return p;for(y in d=this._events)e.call(d,y)&&p.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(d)):p},f.prototype.listeners=function(p){var d=r?r+p:p,y=this._events[d];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,x=y.length,M=new Array(x);_<x;_++)M[_]=y[_].fn;return M},f.prototype.listenerCount=function(p){var d=r?r+p:p,y=this._events[d];return y?y.fn?1:y.length:0},f.prototype.emit=function(p,d,y,_,x,M){var C=r?r+p:p;if(!this._events[C])return!1;var T=this._events[C],S=arguments.length,I,N;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,y),!0;case 4:return T.fn.call(T.context,d,y,_),!0;case 5:return T.fn.call(T.context,d,y,_,x),!0;case 6:return T.fn.call(T.context,d,y,_,x,M),!0}for(N=1,I=new Array(S-1);N<S;N++)I[N-1]=arguments[N];T.fn.apply(T.context,I)}else{var O=T.length,D;for(N=0;N<O;N++)switch(T[N].once&&this.removeListener(p,T[N].fn,void 0,!0),S){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,d);break;case 3:T[N].fn.call(T[N].context,d,y);break;case 4:T[N].fn.call(T[N].context,d,y,_);break;default:if(!I)for(D=1,I=new Array(S-1);D<S;D++)I[D-1]=arguments[D];T[N].fn.apply(T[N].context,I)}}return!0},f.prototype.on=function(p,d,y){return n(this,p,d,y,!1)},f.prototype.once=function(p,d,y){return n(this,p,d,y,!0)},f.prototype.removeListener=function(p,d,y,_){var x=r?r+p:p;if(!this._events[x])return this;if(!d)return c(this,x),this;var M=this._events[x];if(M.fn)M.fn===d&&(!_||M.once)&&(!y||M.context===y)&&c(this,x);else{for(var C=0,T=[],S=M.length;C<S;C++)(M[C].fn!==d||_&&!M[C].once||y&&M[C].context!==y)&&T.push(M[C]);T.length?this._events[x]=T.length===1?T[0]:T:c(this,x)}return this},f.prototype.removeAllListeners=function(p){var d;return p?(d=r?r+p:p,this._events[d]&&c(this,d)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,t.exports=f}(Kg)),Kg.exports}var eee=XX();const tee=vh(eee);class ree{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new tee})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const i=r[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}}function iee(t){return new ree(t)}function nee(t,e){return JSON.parse(t,(r,i)=>{let s=i;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(r,s))??s})}function rx(t,e){return t.slice(0,e).join(".")||"."}function ix(t,e){const{length:r}=t;for(let i=0;i<r;++i)if(t[i]===e)return i+1;return 0}function see(t,e){const r=typeof t=="function",i=typeof e=="function",s=[],n=[];return function(f,m){if(typeof m=="object")if(s.length){const p=ix(s,this);p===0?s[s.length]=this:(s.splice(p),n.splice(p)),n[n.length]=f;const d=ix(s,m);if(d!==0)return i?e.call(this,f,m,rx(n,d)):`[ref=${rx(n,d)}]`}else s[0]=m,n[0]=f;return r?t.call(this,f,m):m}}function oee(t,e,r,i){return JSON.stringify(t,see((s,n)=>{let c=n;return typeof c=="bigint"&&(c={__type:"bigint",value:n.toString()}),c instanceof Map&&(c={__type:"Map",value:Array.from(n.entries())}),(e==null?void 0:e(s,c))??c},i),r??void 0)}function aee(t){const{deserialize:e=nee,key:r="wagmi",serialize:i=oee,storage:s=PC}=t;function n(c){return c instanceof Promise?c.then(f=>f).catch(()=>null):c}return{...s,key:r,async getItem(c,f){const m=s.getItem(`${r}.${c}`),p=await n(m);return p?e(p)??null:f??null},async setItem(c,f){const m=`${r}.${c}`;f===null?await n(s.removeItem(m)):await n(s.setItem(m,i(f)))},async removeItem(c){await n(s.removeItem(`${r}.${c}`))}}}const PC={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function cee(){const t=typeof window<"u"&&window.localStorage?window.localStorage:PC;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,r){try{t.setItem(e,r)}catch{}}}}const m1=256;let ol=m1,al;function uee(t=11){if(!al||ol+t>m1*2){al="",ol=0;for(let e=0;e<m1;e++)al+=(256+Math.random()*256|0).toString(16).substring(1)}return al.substring(ol,ol+++t)}function fee(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=aee({storage:cee()}),syncConnectedChain:i=!0,ssr:s=!1,...n}=t,c=typeof window<"u"&&e?KX():void 0,f=Vg(()=>n.chains),m=Vg(()=>{const D=[],$=new Set;for(const z of n.connectors??[]){const G=p(z);if(D.push(G),!s&&G.rdns){const L=typeof G.rdns=="string"?[G.rdns]:G.rdns;for(const te of L)$.add(te)}}if(!s&&c){const z=c.getProviders();for(const G of z)$.has(G.info.rdns)||D.push(p(d(G)))}return D});function p(D){var G;const $=iee(uee()),z={...D({emitter:$,chains:f.getState(),storage:r,transports:n.transports}),emitter:$,uid:$.uid};return $.on("connect",N),(G=z.setup)==null||G.call(z),z}function d(D){const{info:$}=D,z=D.provider;return fd({target:{...$,id:$.rdns,provider:z}})}const y=new Map;function _(D={}){const $=D.chainId??T.getState().chainId,z=f.getState().find(L=>L.id===$);if(D.chainId&&!z)throw new Du;{const L=y.get(T.getState().chainId);if(L&&!z)return L;if(!z)throw new Du}{const L=y.get($);if(L)return L}let G;if(n.client)G=n.client({chain:z});else{const L=z.id,te=f.getState().map(u=>u.id),E={},o=Object.entries(n);for(const[u,l]of o)if(!(u==="chains"||u==="client"||u==="connectors"||u==="transports"))if(typeof l=="object")if(L in l)E[u]=l[L];else{if(te.some(g=>g in l))continue;E[u]=l}else E[u]=l;G=KM({...E,chain:z,batch:E.batch??{multicall:!0},transport:u=>n.transports[L]({...u,connectors:m})})}return y.set($,G),G}function x(){return{chainId:f.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let M;const C="0.0.0-canary-";Tl.startsWith(C)?M=Number.parseInt(Tl.replace(C,"")):M=Number.parseInt(Tl.split(".")[0]??"0");const T=Vg(ZX(r?QX(x,{migrate(D,$){if($===M)return D;const z=x(),G=S(D,z.chainId);return{...z,chainId:G}},name:"store",partialize(D){return{connections:{__type:"Map",value:Array.from(D.connections.entries()).map(([$,z])=>{const{id:G,name:L,type:te,uid:E}=z.connector;return[$,{...z,connector:{id:G,name:L,type:te,uid:E}}]})},chainId:D.chainId,current:D.current}},merge(D,$){typeof D=="object"&&D&&"status"in D&&delete D.status;const z=S(D,$.chainId);return{...$,...D,chainId:z}},skipHydration:s,storage:r,version:M}):x));T.setState(x());function S(D,$){return D&&typeof D=="object"&&"chainId"in D&&typeof D.chainId=="number"&&f.getState().some(z=>z.id===D.chainId)?D.chainId:$}i&&T.subscribe(({connections:D,current:$})=>{var z;return $?(z=D.get($))==null?void 0:z.chainId:void 0},D=>{if(f.getState().some(z=>z.id===D))return T.setState(z=>({...z,chainId:D??z.chainId}))}),c==null||c.subscribe(D=>{const $=new Set,z=new Set;for(const L of m.getState())if($.add(L.id),L.rdns){const te=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const E of te)z.add(E)}const G=[];for(const L of D){if(z.has(L.info.rdns))continue;const te=p(d(L));$.has(te.id)||G.push(te)}r&&!T.persist.hasHydrated()||m.setState(L=>[...L,...G],!0)});function I(D){T.setState($=>{const z=$.connections.get(D.uid);return z?{...$,connections:new Map($.connections).set(D.uid,{accounts:D.accounts??z.accounts,chainId:D.chainId??z.chainId,connector:z.connector})}:$})}function N(D){T.getState().status==="connecting"||T.getState().status==="reconnecting"||T.setState($=>{const z=m.getState().find(G=>G.uid===D.uid);return z?(z.emitter.listenerCount("connect")&&z.emitter.off("connect",I),z.emitter.listenerCount("change")||z.emitter.on("change",I),z.emitter.listenerCount("disconnect")||z.emitter.on("disconnect",O),{...$,connections:new Map($.connections).set(D.uid,{accounts:D.accounts,chainId:D.chainId,connector:z}),current:D.uid,status:"connected"}):$})}function O(D){T.setState($=>{const z=$.connections.get(D.uid);if(z){const L=z.connector;L.emitter.listenerCount("change")&&z.connector.emitter.off("change",I),L.emitter.listenerCount("disconnect")&&z.connector.emitter.off("disconnect",O),L.emitter.listenerCount("connect")||z.connector.emitter.on("connect",N)}if($.connections.delete(D.uid),$.connections.size===0)return{...$,connections:new Map,current:null,status:"disconnected"};const G=$.connections.values().next().value;return{...$,connections:new Map($.connections),current:G.connector.uid}})}return{get chains(){return f.getState()},get connectors(){return m.getState()},storage:r,getClient:_,get state(){return T.getState()},setState(D){let $;typeof D=="function"?$=D(T.getState()):$=D;const z=x();typeof $!="object"&&($=z),Object.keys(z).some(L=>!(L in $))&&($=z),T.setState($,!0)},subscribe(D,$,z){return T.subscribe(D,$,z?{...z,fireImmediately:z.emitImmediately}:void 0)},_internal:{mipd:c,store:T,ssr:!!s,syncConnectedChain:i,transports:n.transports,chains:{setState(D){const $=typeof D=="function"?D(f.getState()):D;if($.length!==0)return f.setState($,!0)},subscribe(D){return f.subscribe(D)}},connectors:{providerDetailToConnector:d,setup:p,setState(D){return m.setState(typeof D=="function"?D(m.getState()):D,!0)},subscribe(D){return m.subscribe(D)}},events:{change:I,connect:N,disconnect:O}}}}var lee="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const nx=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),sx=4;function hee(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),s=1,n=[0,1];for(let D=1;D<i;D++)n.push(s+=r());let c=r(),f=e;e+=c;let m=0,p=0;function d(){return m==0&&(p=p<<8|t[e++],m=8),p>>--m&1}const y=31,_=2**y,x=_>>>1,M=x>>1,C=_-1;let T=0;for(let D=0;D<y;D++)T=T<<1|d();let S=[],I=0,N=_;for(;;){let D=Math.floor(((T-I+1)*s-1)/N),$=0,z=i;for(;z-$>1;){let te=$+z>>>1;D<n[te]?z=te:$=te}if($==0)break;S.push($);let G=I+Math.floor(N*n[$]/s),L=I+Math.floor(N*n[$+1]/s)-1;for(;((G^L)&x)==0;)T=T<<1&C|d(),G=G<<1&C,L=L<<1&C|1;for(;G&~L&M;)T=T&x|T<<1&C>>>1|d(),G=G<<1^x,L=(L^x)<<1|x|1;I=G,N=1+L-G}let O=i-4;return S.map(D=>{switch(D-O){case 3:return O+65792+(t[f++]<<16|t[f++]<<8|t[f++]);case 2:return O+256+(t[f++]<<8|t[f++]);case 1:return O+t[f++];default:return D-1}})}function dee(t){let e=0;return()=>t[e++]}function OC(t){return dee(hee(pee(t)))}function pee(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,n)=>e[s.charCodeAt(0)]=n);let r=t.length,i=new Uint8Array(6*r>>3);for(let s=0,n=0,c=0,f=0;s<r;s++)f=f<<6|e[t.charCodeAt(s)],c+=6,c>=8&&(i[n++]=f>>(c-=8));return i}function mee(t){return t&1?~t>>1:t>>1}function gee(t,e){let r=Array(t);for(let i=0,s=0;i<t;i++)r[i]=s+=mee(e());return r}function $u(t,e=0){let r=[];for(;;){let i=t(),s=t();if(!s)break;e+=i;for(let n=0;n<s;n++)r.push(e+n);e+=s+1}return r}function kC(t){return Uu(()=>{let e=$u(t);if(e.length)return e})}function BC(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(vee(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(yee(r,t))}return e.flat()}function Uu(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function DC(t,e,r){let i=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)gee(t,r).forEach((n,c)=>i[c].push(n));return i}function vee(t,e){let r=1+e(),i=e(),s=Uu(e);return DC(s.length,1+t,e).flatMap((c,f)=>{let[m,...p]=c;return Array(s[f]).fill().map((d,y)=>{let _=y*i;return[m+y*r,p.map(x=>x+_)]})})}function yee(t,e){let r=1+e();return DC(r,1+t,e).map(s=>[s[0],s.slice(1)])}function bee(t){let e=[],r=$u(t);return s(i([]),[]),e;function i(n){let c=t(),f=Uu(()=>{let m=$u(t).map(p=>r[p]);if(m.length)return i(m)});return{S:c,B:f,Q:n}}function s({S:n,B:c},f,m){if(!(n&4&&m===f[f.length-1])){n&2&&(m=f[f.length-1]),n&1&&e.push(f);for(let p of c)for(let d of p.Q)s(p,[...f,d],m)}}}function wee(t){return t.toString(16).toUpperCase().padStart(2,"0")}function $C(t){return`{${wee(t)}}`}function _ee(t){let e=[];for(let r=0,i=t.length;r<i;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Da(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let i=[];for(let s=0;s<r;)i.push(String.fromCodePoint(...t.slice(s,s+=4096)));return i.join("")}function Eee(t,e){let r=t.length,i=r-e.length;for(let s=0;i==0&&s<r;s++)i=t[s]-e[s];return i}var Aee="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Fu=44032,hh=4352,dh=4449,ph=4519,UC=19,FC=21,$a=28,mh=FC*$a,xee=UC*mh,Mee=Fu+xee,Cee=hh+UC,See=dh+FC,Iee=ph+$a;function kc(t){return t>>24&255}function LC(t){return t&16777215}let g1,ox,v1,Nl;function Tee(){let t=OC(Aee);g1=new Map(kC(t).flatMap((e,r)=>e.map(i=>[i,r+1<<24]))),ox=new Set($u(t)),v1=new Map,Nl=new Map;for(let[e,r]of BC(t)){if(!ox.has(e)&&r.length==2){let[i,s]=r,n=Nl.get(i);n||(n=new Map,Nl.set(i,n)),n.set(s,e)}v1.set(e,r.reverse())}}function qC(t){return t>=Fu&&t<Mee}function Ree(t,e){if(t>=hh&&t<Cee&&e>=dh&&e<See)return Fu+(t-hh)*mh+(e-dh)*$a;if(qC(t)&&e>ph&&e<Iee&&(t-Fu)%$a==0)return t+(e-ph);{let r=Nl.get(t);return r&&(r=r.get(e),r)?r:-1}}function jC(t){g1||Tee();let e=[],r=[],i=!1;function s(n){let c=g1.get(n);c&&(i=!0,n|=c),e.push(n)}for(let n of t)for(;;){if(n<128)e.push(n);else if(qC(n)){let c=n-Fu,f=c/mh|0,m=c%mh/$a|0,p=c%$a;s(hh+f),s(dh+m),p>0&&s(ph+p)}else{let c=v1.get(n);c?r.push(...c):s(n)}if(!r.length)break;n=r.pop()}if(i&&e.length>1){let n=kc(e[0]);for(let c=1;c<e.length;c++){let f=kc(e[c]);if(f==0||n<=f){n=f;continue}let m=c-1;for(;;){let p=e[m+1];if(e[m+1]=e[m],e[m]=p,!m||(n=kc(e[--m]),n<=f))break}n=kc(e[c])}}return e}function Nee(t){let e=[],r=[],i=-1,s=0;for(let n of t){let c=kc(n),f=LC(n);if(i==-1)c==0?i=f:e.push(f);else if(s>0&&s>=c)c==0?(e.push(i,...r),r.length=0,i=f):r.push(f),s=c;else{let m=Ree(i,f);m>=0?i=m:s==0&&c==0?(e.push(i),i=f):(r.push(f),s=c)}}return i>=0&&e.push(i,...r),e}function zC(t){return jC(t).map(LC)}function Pee(t){return Nee(jC(t))}const ax=45,HC=".",WC=65039,VC=1,gh=t=>Array.from(t);function Lu(t,e){return t.P.has(e)||t.Q.has(e)}class Oee extends Array{get is_emoji(){return!0}}let y1,KC,fo,b1,GC,Aa,Gg,ha,Xs,cx,w1;function Jy(){if(y1)return;let t=OC(lee);const e=()=>$u(t),r=()=>new Set(e()),i=(d,y)=>y.forEach(_=>d.add(_));y1=new Map(BC(t)),KC=r(),fo=e(),b1=new Set(e().map(d=>fo[d])),fo=new Set(fo),GC=r(),r();let s=kC(t),n=t();const c=()=>{let d=new Set;return e().forEach(y=>i(d,s[y])),i(d,e()),d};Aa=Uu(d=>{let y=Uu(t).map(_=>_+96);if(y.length){let _=d>=n;y[0]-=32,y=Da(y),_&&(y=`Restricted[${y}]`);let x=c(),M=c(),C=!t();return{N:y,P:x,Q:M,M:C,R:_}}}),Gg=r(),ha=new Map;let f=e().concat(gh(Gg)).sort((d,y)=>d-y);f.forEach((d,y)=>{let _=t(),x=f[y]=_?f[y-_]:{V:[],M:new Map};x.V.push(d),Gg.has(d)||ha.set(d,x)});for(let{V:d,M:y}of new Set(ha.values())){let _=[];for(let M of d){let C=Aa.filter(S=>Lu(S,M)),T=_.find(({G:S})=>C.some(I=>S.has(I)));T||(T={G:new Set,V:[]},_.push(T)),T.V.push(M),i(T.G,C)}let x=_.flatMap(M=>gh(M.G));for(let{G:M,V:C}of _){let T=new Set(x.filter(S=>!M.has(S)));for(let S of C)y.set(S,T)}}Xs=new Set;let m=new Set;const p=d=>Xs.has(d)?m.add(d):Xs.add(d);for(let d of Aa){for(let y of d.P)p(y);for(let y of d.Q)p(y)}for(let d of Xs)!ha.has(d)&&!m.has(d)&&ha.set(d,VC);i(Xs,zC(Xs)),cx=bee(t).map(d=>Oee.from(d)).sort(Eee),w1=new Map;for(let d of cx){let y=[w1];for(let _ of d){let x=y.map(M=>{let C=M.get(_);return C||(C=new Map,M.set(_,C)),C});_===WC?y.push(...x):y=x}for(let _ of y)_.V=d}}function Qy(t){return(ZC(t)?"":`${Xy(ld([t]))} `)+$C(t)}function Xy(t){return`"${t}"`}function kee(t){if(t.length>=4&&t[2]==ax&&t[3]==ax)throw new Error(`invalid label extension: "${Da(t.slice(0,4))}"`)}function Bee(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function Dee(t){let e=t[0],r=nx.get(e);if(r)throw Kc(`leading ${r}`);let i=t.length,s=-1;for(let n=1;n<i;n++){e=t[n];let c=nx.get(e);if(c){if(s==n)throw Kc(`${r} + ${c}`);s=n+1,r=c}}if(s==i)throw Kc(`trailing ${r}`)}function ld(t,e=1/0,r=$C){let i=[];$ee(t[0])&&i.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,n=t.length;for(let c=0;c<n;c++){let f=t[c];ZC(f)&&(i.push(Da(t.slice(s,c))),i.push(r(f)),s=c+1)}return i.push(Da(t.slice(s,n))),i.join("")}function $ee(t,e){return Jy(),fo.has(t)}function ZC(t){return Jy(),GC.has(t)}function Uee(t){return jee(Fee(t,Pee,Wee))}function Fee(t,e,r){if(!t)return[];Jy();let i=0;return t.split(HC).map(s=>{let n=_ee(s),c={input:n,offset:i};i+=n.length+1;try{let f=c.tokens=Hee(n,e,r),m=f.length,p;if(!m)throw new Error("empty label");let d=c.output=f.flat();if(Bee(d),!(c.emoji=m>1||f[0].is_emoji)&&d.every(_=>_<128))kee(d),p="ASCII";else{let _=f.flatMap(x=>x.is_emoji?[]:x);if(!_.length)p="Emoji";else{if(fo.has(d[0]))throw Kc("leading combining mark");for(let C=1;C<m;C++){let T=f[C];if(!T.is_emoji&&fo.has(T[0]))throw Kc(`emoji + combining mark: "${Da(f[C-1])} + ${ld([T[0]])}"`)}Dee(d);let x=gh(new Set(_)),[M]=qee(x);zee(M,_),Lee(M,x),p=M.N}}c.type=p}catch(f){c.error=f}return c})}function Lee(t,e){let r,i=[];for(let s of e){let n=ha.get(s);if(n===VC)return;if(n){let c=n.M.get(s);if(r=r?r.filter(f=>c.has(f)):gh(c),!r.length)return}else i.push(s)}if(r){for(let s of r)if(i.every(n=>Lu(s,n)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function qee(t){let e=Aa;for(let r of t){let i=e.filter(s=>Lu(s,r));if(!i.length)throw Aa.some(s=>Lu(s,r))?JC(e[0],r):YC(r);if(e=i,i.length==1)break}return e}function jee(t){return t.map(({input:e,error:r,output:i})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${Xy(ld(e,63))}: ${s}`)}return Da(i)}).join(HC)}function YC(t){return new Error(`disallowed character: ${Qy(t)}`)}function JC(t,e){let r=Qy(e),i=Aa.find(s=>s.P.has(e));return i&&(r=`${i.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Kc(t){return new Error(`illegal placement: ${t}`)}function zee(t,e){for(let r of e)if(!Lu(t,r))throw JC(t,r);if(t.M){let r=zC(e);for(let i=1,s=r.length;i<s;i++)if(b1.has(r[i])){let n=i+1;for(let c;n<s&&b1.has(c=r[n]);n++)for(let f=i;f<n;f++)if(r[f]==c)throw new Error(`duplicate non-spacing marks: ${Qy(c)}`);if(n-i>sx)throw new Error(`excessive non-spacing marks: ${Xy(ld(r.slice(i-1,n)))} (${n-i}/${sx})`);i=n}}}function Hee(t,e,r){let i=[],s=[];for(t=t.slice().reverse();t.length;){let n=Vee(t);if(n)s.length&&(i.push(e(s)),s=[]),i.push(r(n));else{let c=t.pop();if(Xs.has(c))s.push(c);else{let f=y1.get(c);if(f)s.push(...f);else if(!KC.has(c))throw YC(c)}}}return s.length&&i.push(e(s)),i}function Wee(t){return t.filter(e=>e!=WC)}function Vee(t,e){let r=w1,i,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:n}=r;n&&(i=n,t.length=s)}return i}function Kee(t){return Uee(t)}function Gee(t){return Kee(t)}function Zee(t){let e=[];function r(i){return Yc.parseEvmChainId(i)||1}return i=>({id:Ue.CONNECTOR_ID.AUTH,name:Ue.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Ue.CHAIN.EVM,async connect(s={}){var y;const n=await this.getProvider();let c=s.chainId;if(s.isReconnecting){const _=Yc.parseEvmChainId(n.getLastUsedChainId()||""),x=(y=t.chains)==null?void 0:y[0].id;if(c=_||x,!c)throw new Error("ChainId not found in provider")}const{address:f,chainId:m,accounts:p}=await n.connect({chainId:c,preferredAccountType:Fe.state.defaultAccountTypes.eip155});e=(p==null?void 0:p.map(_=>_.address))||[f],await n.getSmartAccountEnabledNetworks();const d=r(m);return{accounts:e,account:f,chainId:d,chain:{id:d,unsuported:!1}}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(i.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=wa.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{ga.open(ma.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const s=await this.getProvider(),{chainId:n}=await s.getChainId();return r(n)},async isAuthorized(){const s=await this.getProvider();return Promise.resolve(s.getLoginEmailUsed())},async switchChain({chainId:s}){var n;try{const c=i.chains.find(p=>p.id===s);if(!c)throw new On(new Error("chain not found on connector."));const m=await(await this.getProvider()).connect({chainId:s,preferredAccountType:Fe.state.defaultAccountTypes.eip155});return e=((n=m==null?void 0:m.accounts)==null?void 0:n.map(p=>p.address))||[m.address],i.emitter.emit("change",{chainId:Number(s),accounts:e}),c}catch(c){throw c instanceof Error?new On(c):c}},onAccountsChanged(s){s.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:s.map(so)})},onChainChanged(s){const n=Number(s);i.emitter.emit("change",{chainId:n})},async onDisconnect(s){await(await this.getProvider()).disconnect()}})}eb.type="walletConnect";function eb(t,e,r){const i=t.isNewChainsStale??!0;let s,n,c,f,m,p,d;return y=>({id:"walletConnect",name:"WalletConnect",type:eb.type,async setup(){const _=await this.getProvider().catch(()=>null);_&&(f||(f=this.onConnect.bind(this),_.on("connect",f)),p||(p=this.onSessionDelete.bind(this),_.on("session_delete",p)))},async connect({..._}={}){try{const x=await this.getProvider();if(!x)throw new vs;m||(m=this.onDisplayUri,x.on("display_uri",m));const M=await this.isChainsStale();x.session&&M&&await x.disconnect();const C=Fe.state.universalProviderConfigOverride;if(!x.session||M){const N=cd.createNamespaces(r,C);await x.connect({optionalNamespaces:N,..."pairingTopic"in _?{pairingTopic:_.pairingTopic}:{}}),this.setRequestedChainsIds(r.map(O=>Number(O.id)))}const T=await this.getAccounts(),S=await this.getChainId();m&&(x.removeListener("display_uri",m),m=void 0),f&&(x.removeListener("connect",f),f=void 0),n||(n=this.onAccountsChanged.bind(this),x.on("accountsChanged",n)),c||(c=this.onChainChanged.bind(this),x.on("chainChanged",c)),d||(d=this.onDisconnect.bind(this),x.on("disconnect",d)),p||(p=this.onSessionDelete.bind(this),x.on("session_delete",p));const I=C==null?void 0:C.defaultChain;return x.setDefaultChain(I??`eip155:${S}`),{accounts:T,chainId:S}}catch(x){throw/(user rejected|connection request reset)/i.test(x==null?void 0:x.message)?new kr(x):x}},async disconnect(){const _=await this.getProvider();try{await(_==null?void 0:_.disconnect())}catch(x){if(!/No matching key/i.test(x.message))throw x}finally{c&&(_==null||_.removeListener("chainChanged",c),c=void 0),d&&(_==null||_.removeListener("disconnect",d),d=void 0),f||(f=this.onConnect.bind(this),_==null||_.on("connect",f)),n&&(_==null||_.removeListener("accountsChanged",n),n=void 0),p&&(_==null||_.removeListener("session_delete",p),p=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var C,T,S;const _=await this.getProvider();if(!((C=_==null?void 0:_.session)!=null&&C.namespaces))return[];const x=(S=(T=_==null?void 0:_.session)==null?void 0:T.namespaces[Ue.CHAIN.EVM])==null?void 0:S.accounts;return(x==null?void 0:x.map(I=>I.split(":")[2]))??[]},async getProvider({chainId:_}={}){var C,T;s||(s=await e.getUniversalProvider(),s==null||s.events.setMaxListeners(Number.POSITIVE_INFINITY));const x=et.getActiveNamespace(),M=(C=e.getCaipNetwork())==null?void 0:C.id;if(_&&M!==_&&x){const S=et.getStoredActiveCaipNetworkId(),I=e==null?void 0:e.getCaipNetworks(x),N=I==null?void 0:I.find(O=>O.id===S);N&&N.chainNamespace===Ue.CHAIN.EVM&&await((T=this.switchChain)==null?void 0:T.call(this,{chainId:Number(N.id)}))}return s},async getChainId(){var T,S,I,N;const _=(T=e.getCaipNetwork(Ue.CHAIN.EVM))==null?void 0:T.id;if(_)return _;const M=(N=(I=(S=(await this.getProvider()).session)==null?void 0:S.namespaces[Ue.CHAIN.EVM])==null?void 0:I.chains)==null?void 0:N[0],C=r.find(O=>O.id===M);return C==null?void 0:C.id},async isAuthorized(){try{const[_,x]=await Promise.all([this.getAccounts(),this.getProvider()]);return _.length?await this.isChainsStale()&&x.session?(await x.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:_,chainId:x}){var T,S,I,N;const M=await this.getProvider();if(!M)throw new vs;const C=r.find(O=>O.id===x);if(!C)throw new On(new Du);try{await M.request({method:"wallet_switchEthereumChain",params:[{chainId:Rt(x)}]}),C!=null&&C.caipNetworkId&&M.setDefaultChain(C==null?void 0:C.caipNetworkId),y.emitter.emit("change",{chainId:Number(x)});const O=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...O,x]),{...C,id:C.id}}catch(O){const D=O;if(/(?:user rejected)/iu.test(D.message))throw new kr(D);try{let $;_!=null&&_.blockExplorerUrls?$=_.blockExplorerUrls:$=(T=C.blockExplorers)!=null&&T.default.url?[(S=C.blockExplorers)==null?void 0:S.default.url]:[];const z=((N=(I=C.rpcUrls)==null?void 0:I.chainDefault)==null?void 0:N.http)||[],G={blockExplorerUrls:$,chainId:Rt(x),chainName:C.name,iconUrls:_==null?void 0:_.iconUrls,nativeCurrency:C.nativeCurrency,rpcUrls:z};await M.request({method:"wallet_addEthereumChain",params:[G]});const L=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...L,x]),{...C,id:C.id}}catch($){throw new kr($)}}},onAccountsChanged(_){_.length===0?this.onDisconnect():y.emitter.emit("change",{accounts:_.map(x=>so(x))})},onChainChanged(_){const x=Number(_);y.emitter.emit("change",{chainId:x})},onConnect(_){this.setRequestedChainsIds(r.map(x=>Number(x.id)))},async onDisconnect(_){this.setRequestedChainsIds([]),y.emitter.emit("disconnect");const x=await this.getProvider();n&&(x.removeListener("accountsChanged",n),n=void 0),c&&(x.removeListener("chainChanged",c),c=void 0),d&&(x.removeListener("disconnect",d),d=void 0),p&&(x.removeListener("session_delete",p),p=void 0),f||(f=this.onConnect.bind(this),x.on("connect",f))},onDisplayUri(_){y.emitter.emit("message",{type:"display_uri",data:_})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var M,C,T;if(!((M=s==null?void 0:s.session)!=null&&M.namespaces))return[];const _=(T=(C=s==null?void 0:s.session)==null?void 0:C.namespaces[Ue.CHAIN.EVM])==null?void 0:T.accounts;return(_==null?void 0:_.map(S=>Number.parseInt(S.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var x;const _=await((x=y.storage)==null?void 0:x.getItem(this.requestedChainsStorageKey))??[];return[...new Set(_)]},async isChainsStale(){if(!i)return!1;const _=y.chains.map(C=>C.id),x=this.getNamespaceChainsIds();if(x.length&&!x.some(C=>_.includes(C)))return!1;const M=await this.getRequestedChainsIds();return!_.every(C=>M.includes(Number(C)))},async setRequestedChainsIds(_){var x;await((x=y.storage)==null?void 0:x.setItem(this.requestedChainsStorageKey,_))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Ic=Ar({pendingTransactions:0}),ux={state:Ic,subscribeKey(t,e){return Mi(Ic,t,e)},increase(t){Ic[t]+=1},decrease(t){Ic[t]-=1},reset(t){Ic[t]=0}};function Yee(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const Jee={enable:!1,pollingInterval:3e4};class Qee extends IC{constructor(e){const r=In.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,networks:r,adapterType:Ue.ADAPTER_TYPES.WAGMI,namespace:Ue.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...Jee,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:r}),this.setupWatchers()}async getAccounts(e){var n;const r=this.getWagmiConnector(e.id);if(!r)return{accounts:[]};if(r.id===Ue.CONNECTOR_ID.AUTH){const c=r.provider,{address:f,accounts:m}=await c.connect({preferredAccountType:Fe.state.defaultAccountTypes.eip155});return Promise.resolve({accounts:(m||[{address:f,type:"eoa"}]).map(p=>dt.createAccount("eip155",p.address,p.type))})}const{addresses:i,address:s}=fh(this.wagmiConfig);return Promise.resolve({accounts:(n=i||[s])==null?void 0:n.map(c=>dt.createAccount("eip155",c||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(r=>r.id===e)}createConfig(e){this.caipNetworks=e.networks,this.wagmiChains=this.caipNetworks.filter(s=>s.chainNamespace===Ue.CHAIN.EVM);const r={},i=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var f,m;const n=(f=e.transports)==null?void 0:f[s.id],c=In.getCaipNetworkId(s);n?r[s.id]=In.extendWagmiTransports(s,e.projectId,n):r[s.id]=In.getViemTransport(s,e.projectId,(m=e.customRpcUrls)==null?void 0:m[c])}),this.wagmiConfig=fee({...e,chains:this.wagmiChains,connectors:i,transports:r})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=jX(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),ux.increase("pendingTransactions")}});const e=ux.subscribeKey("pendingTransactions",r=>{var i;r>=Ue.LIMITS.PENDING_TRANSACTIONS&&((i=this.unwatchPendingTransactions)==null||i.call(this),e())})}setupWatchers(){LX(this.wagmiConfig,{onChange:(e,r)=>{e.status==="disconnected"&&r.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(r==null?void 0:r.address)||r.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(r==null?void 0:r.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var i,s;const r=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:n}=await Ei(async()=>{const{coinbaseWallet:c}=await import("./index-DQ0sP7Yj.js");return{coinbaseWallet:c}},__vite__mapDeps([39,1,2]));n&&r.push(n({version:"4",appName:((i=e.metadata)==null?void 0:i.name)??"Unknown",appLogoUrl:((s=e.metadata)==null?void 0:s.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(n){console.error("Failed to import Coinbase Wallet SDK:",n)}r.forEach(n=>{const c=this.wagmiConfig._internal.connectors.setup(n);this.wagmiConfig._internal.connectors.setState(f=>[...f,c])})}addWagmiConnectors(e,r){var c,f,m,p,d;const i=[];e.enableWalletConnect!==!1&&i.push(eb(e,r,this.caipNetworks)),e.enableInjected!==!1&&i.push(fd({shimDisconnect:!0}));const s=((c=e.features)==null?void 0:c.email)===void 0?Dr.DEFAULT_FEATURES.email:(f=e.features)==null?void 0:f.email,n=(m=e.features)!=null&&m.socials?((d=(p=e.features)==null?void 0:p.socials)==null?void 0:d.length)>0:Dr.DEFAULT_FEATURES.socials;(s||n)&&i.push(Zee({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),i.forEach(y=>{const _=this.wagmiConfig._internal.connectors.setup(y);this.wagmiConfig._internal.connectors.setState(x=>[...x,_])})}async signMessage(e){try{return{signature:await $X(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:r}=fh(this.wagmiConfig),i={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:r,type:"legacy",parameters:["nonce"]};await kX(this.wagmiConfig,i);const s=await DX(this.wagmiConfig,i);return await zX(this.wagmiConfig,{hash:s,timeout:25e3}),{hash:s}}async writeContract(e){var c;const{caipNetwork:r,...i}=e,s=Number(Yc.caipNetworkIdToNumber(r.caipNetworkId));return{hash:await HX(this.wagmiConfig,{chain:(c=this.wagmiChains)==null?void 0:c[s],chainId:s,address:i.tokenAddress,account:i.fromAddress,abi:i.abi,functionName:i.method,args:i.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:r,caipNetwork:i}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let s=!1,n=!1;return tI(r)&&(n=await cd.resolveReownName(r)||!1),i.id===1&&(s=await NX(this.wagmiConfig,{name:Gee(r),chainId:i.id})),{address:s||n||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await CX(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return BZ(e.value,e.decimals)}formatUnits(e){return Xa(e.value,e.decimals)}async addWagmiConnector(e,r){var s;if(e.id===Ue.CONNECTOR_ID.AUTH||e.id===Ue.CONNECTOR_ID.WALLET_CONNECT)return;const i=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:xs.ConnectorExplorerIds[e.id],imageUrl:((s=r==null?void 0:r.connectorImages)==null?void 0:s[e.id])??e.icon,name:xs.ConnectorNamesMap[e.id]??e.name,imageId:xs.ConnectorImageIds[e.id],type:xs.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Ue.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:i,chain:this.namespace,chains:[]})}async syncConnectors(e,r){qX(this.wagmiConfig,{onChange:i=>i.forEach(s=>this.addWagmiConnector(s,e))}),await Promise.all(this.wagmiConfig.connectors.map(i=>this.addWagmiConnector(i,e))),this.addWagmiConnectors(e,r),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:r}=e,s=aa(this.wagmiConfig).find(f=>f.connector.id===r),n=this.getWagmiConnector(r),c=await(n==null?void 0:n.getProvider());return{chainId:Number(s==null?void 0:s.chainId),address:s==null?void 0:s.accounts[0],provider:c,type:s==null?void 0:s.connector.type,id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){const r=this.getWalletConnectConnector();await r.authenticate();const i=this.getWagmiConnector("walletConnect");if(!i)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");return await Q6(this.wagmiConfig,{connector:i,chainId:e?Number(e):void 0}),{clientId:await r.provider.client.core.crypto.getClientId()}}async connect(e){var p;const{id:r,provider:i,type:s,info:n,chainId:c}=e,f=this.getWagmiConnector(r);if(!f)throw new Error("connectionControllerClient:connectExternal - connector is undefined");i&&n&&f.id===Ue.CONNECTOR_ID.EIP6963&&((p=f.setEip6963Wallet)==null||p.call(f,{provider:i,info:n}));const m=await Q6(this.wagmiConfig,{connector:f,chainId:c?Number(c):void 0});return{address:m.accounts[0],chainId:m.chainId,provider:i,type:s,id:r}}async reconnect(e){const{id:r}=e,i=this.getWagmiConnector(r);if(!i)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await BX(this.wagmiConfig,{connectors:[i]})}async getBalance(e){var s;const r=e.address,i=(s=this.caipNetworks)==null?void 0:s.find(n=>n.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(i&&this.wagmiConfig){const n=`${i.caipNetworkId}:${e.address}`,c=this.balancePromises[n];if(c)return c;const f=et.getNativeBalanceCacheForCaipAddress(n);return f?{balance:f.balance,symbol:f.symbol}:(this.balancePromises[n]=new Promise(async m=>{var y,_;const p=Number(e.chainId),d=await RX(this.wagmiConfig,{address:e.address,chainId:p,token:(_=(y=e.tokens)==null?void 0:y[i.caipNetworkId])==null?void 0:_.address});et.updateNativeBalanceCache({caipAddress:n,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),m({balance:d.formatted,symbol:d.symbol})}).finally(()=>{delete this.balancePromises[n]}),this.balancePromises[n]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const r=e.chainId,i=await OX(this.wagmiConfig,{address:e.address,chainId:r});if(i){const s=await PX(this.wagmiConfig,{name:i,chainId:r});return{profileName:i,profileImage:s??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=aa(this.wagmiConfig);await Promise.all(e.map(async r=>{const i=this.getWagmiConnector(r.connector.id);i&&await MX(this.wagmiConfig,{connector:i})}))}async switchNetwork(e){await FX(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var f,m;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const i=aa(this.wagmiConfig)[0],s=i?this.getWagmiConnector(i.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const n=await s.getProvider();if(!n)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const c=(m=(f=n.session)==null?void 0:f.sessionProperties)==null?void 0:m.capabilities;if(c){const d=Yee(c)[e];if(d)return d}return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const i=aa(this.wagmiConfig)[0],s=i?this.getWagmiConnector(i.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const n=await s.getProvider();if(!n)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return n.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const i=aa(this.wagmiConfig)[0],s=i?this.getWagmiConnector(i.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const n=await s.getProvider();if(!n)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return n.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const i=aa(this.wagmiConfig)[0],s=i?this.getWagmiConnector(i.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const n=await s.getProvider();if(!n)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return n.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new Yy({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}}var fx={};const QC={mainnet:["ethereum","arbitrum","base"],testnet:["sepolia","arbitrum-sepolia","base-sepolia"]},Pre=["ethereum","arbitrum","base"],Xee={ethereum:{id:"ethereum",name:"Ethereum",chainId:1,isTestnet:!1,chainType:"EVM",rpcUrl:"https://eth.llamarpc.com",fallbackRpcUrls:["https://1rpc.io/eth","https://ethereum-rpc.publicnode.com"],blockExplorerUrl:"https://etherscan.io"},arbitrum:{id:"arbitrum",name:"Arbitrum",chainId:42161,isTestnet:!1,chainType:"EVM",rpcUrl:"https://arb1.arbitrum.io/rpc",fallbackRpcUrls:["https://1rpc.io/arb","https://arbitrum-one-rpc.publicnode.com"],blockExplorerUrl:"https://arbiscan.io"},bnb:{id:"bnb",name:"BNB Smart Chain",chainId:56,isTestnet:!1,chainType:"EVM",rpcUrl:"https://bsc-dataseed.bnbchain.org",blockExplorerUrl:"https://bscscan.com"},optimism:{id:"optimism",name:"Optimism",chainId:10,isTestnet:!1,chainType:"EVM",rpcUrl:"https://mainnet.optimism.io",fallbackRpcUrls:["https://1rpc.io/op","https://optimism-rpc.publicnode.com"],blockExplorerUrl:"https://optimistic.etherscan.io"},base:{id:"base",name:"Base",chainId:8453,isTestnet:!1,chainType:"EVM",rpcUrl:"https://base.llamarpc.com",fallbackRpcUrls:["https://1rpc.io/base","https://base-rpc.publicnode.com"],blockExplorerUrl:"https://basescan.org"},mantle:{id:"mantle",name:"Mantle",chainId:5e3,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.mantle.xyz",fallbackRpcUrls:["https://1rpc.io/mantle","https://mantle-rpc.publicnode.com"],blockExplorerUrl:"https://mantlescan.xyz"},avalanche:{id:"avalanche",name:"Avalanche",chainId:43114,isTestnet:!1,chainType:"EVM",rpcUrl:"https://avalanche-c-chain-rpc.publicnode.com",fallbackRpcUrls:["https://1rpc.io/avax/c"],blockExplorerUrl:"https://avascan.info"},sei:{id:"sei",name:"Sei",chainId:1329,isTestnet:!1,chainType:"EVM",rpcUrl:"https://sei.drpc.org",fallbackRpcUrls:["https://sei-public.nodies.app"],blockExplorerUrl:"https://seiscan.io"},morph:{id:"morph",name:"Morph",chainId:2818,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.morphl2.io",fallbackRpcUrls:["https://rpc-quicknode.morphl2.io"],blockExplorerUrl:"https://morphscan.io"},sonic:{id:"sonic",name:"Sonic",chainId:146,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.soniclabs.com",fallbackRpcUrls:["https://sonic-rpc.publicnode.com"],blockExplorerUrl:"https://sonicscan.org"},berachain:{id:"berachain",name:"Berachain",chainId:80094,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.berachain.com",fallbackRpcUrls:["https://berachain-rpc.publicnode.com"],blockExplorerUrl:"https://berascan.com"},story:{id:"story",name:"Story",chainId:1514,isTestnet:!1,chainType:"EVM",rpcUrl:"https://mainnet.storyrpc.io",fallbackRpcUrls:["https://rpc.ankr.com/story_mainnet"],blockExplorerUrl:"https://explorer.story.foundation"},mode:{id:"mode",name:"Mode",chainId:34443,isTestnet:!1,chainType:"EVM",rpcUrl:"https://mode.drpc.org",fallbackRpcUrls:["https://mainnet.mode.network"],blockExplorerUrl:"https://modescan.io"},plume:{id:"plume",name:"Plume",chainId:98866,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.plume.org",blockExplorerUrl:"https://explorer.plume.org"},abstract:{id:"abstract",name:"Abstract",chainId:2741,isTestnet:!1,chainType:"EVM",rpcUrl:"https://api.mainnet.abs.xyz",fallbackRpcUrls:["https://abstract.drpc.org"],blockExplorerUrl:"https://explorer.mainnet.abs.xyz"},monad:{id:"monad",name:"Monad",chainId:143,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.monad.xyz",blockExplorerUrl:"https://monadvision.com"},sepolia:{id:"sepolia",name:"Sepolia",chainId:11155111,isTestnet:!0,chainType:"EVM",rpcUrl:"https://eth-sepolia.public.blastapi.io",fallbackRpcUrls:["https://1rpc.io/sepolia","https://ethereum-sepolia-rpc.publicnode.com"],blockExplorerUrl:"https://sepolia.etherscan.io"},"arbitrum-sepolia":{id:"arbitrum-sepolia",name:"Arbitrum Sepolia",chainId:421614,isTestnet:!0,chainType:"EVM",rpcUrl:"https://sepolia-rollup.arbitrum.io/rpc",blockExplorerUrl:"https://sepolia.arbiscan.io"},bnbTestnet:{id:"bnbTestnet",name:"BNB Smart Chain Testnet",chainId:97,isTestnet:!0,chainType:"EVM",rpcUrl:"https://bsc-testnet.public.blastapi.io",blockExplorerUrl:"https://testnet.bscscan.com/"},"optimism-sepolia":{id:"optimism-sepolia",name:"Optimism Sepolia",chainId:11155420,isTestnet:!0,chainType:"EVM",rpcUrl:"https://sepolia.optimism.io",blockExplorerUrl:"https://sepolia-optimism.etherscan.io"},"base-sepolia":{id:"base-sepolia",name:"Base Sepolia",chainId:84532,isTestnet:!0,chainType:"EVM",rpcUrl:"https://base-sepolia-rpc.publicnode.com",blockExplorerUrl:"https://sepolia.basescan.org"},monadTestnet:{id:"monadTestnet",name:"Monad Testnet",chainId:10143,isTestnet:!0,chainType:"EVM",rpcUrl:"https://testnet-rpc.monad.xyz",blockExplorerUrl:"https://testnet.monadexplorer.com"},abstractTestnet:{id:"abstractTestnet",name:"Abstract Testnet",chainId:11124,isTestnet:!0,chainType:"EVM",rpcUrl:"https://api.testnet.abs.xyz",blockExplorerUrl:"https://sepolia.abscan.org/"},orderlyL2:{id:"orderlyL2",name:"Orderly L2",chainId:291,isTestnet:!1,chainType:"EVM",rpcUrl:"https://rpc.orderly.network",blockExplorerUrl:"https://explorer.orderly.network"},orderlyTestnet:{id:"orderlyTestnet",name:"Orderly Testnet",chainId:4460,isTestnet:!0,chainType:"EVM",rpcUrl:"https://testnet-rpc.orderly.org",blockExplorerUrl:"https://testnet-explorer.orderly.org"},"solana-mainnet-beta":{id:"solana-mainnet-beta",name:"Solana",chainId:900900900,isTestnet:!1,chainType:"SOL",rpcUrl:fx.SOLANA_MAINNET_RPC_URL||"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://solscan.io"},"solana-devnet":{id:"solana-devnet",name:"Solana Devnet",chainId:901901901,isTestnet:!0,chainType:"SOL",rpcUrl:fx.SOLANA_DEVNET_RPC_URL||"https://api.devnet.solana.com",blockExplorerUrl:"https://solscan.io"}},Ore={ethereum:"0xABD4C63d2616A5201454168269031355f4764337",arbitrum:"0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8",base:"0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8",sepolia:"0x779877A7B0D9E8603169DdbD7836e478b4624789","arbitrum-sepolia":"0xb1D4538B4571d411F07960EF2838Ce337FE1E80E","base-sepolia":"0xb1D4538B4571d411F07960EF2838Ce337FE1E80E","solana-mainnet-beta":"ABt79MkRXUsoHuV2CVQT32YMXQhTparKFjmidQxgiQ6E","solana-devnet":"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},kre={ethereum:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",arbitrum:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",base:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",sepolia:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238","arbitrum-sepolia":"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d","base-sepolia":"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d","solana-mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","solana-devnet":"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"};function ete(t){return Object.values(Xee).find(e=>e.chainId===t)}function Bre(t,e){const r=ete(e);return r?r.chainType==="SOL"&&r.isTestnet?`${r.blockExplorerUrl}/tx/${t}?cluster=devnet`:`${r.blockExplorerUrl}/tx/${t}`:null}function Dre(t){return{ethereum:"https://assets.coingecko.com/asset_platforms/images/279/small/ethereum.png",sepolia:"https://assets.coingecko.com/asset_platforms/images/279/small/ethereum.png",base:"https://assets.coingecko.com/asset_platforms/images/131/small/base-network.png","base-sepolia":"https://assets.coingecko.com/asset_platforms/images/131/small/base-network.png",arbitrum:"https://assets.coingecko.com/asset_platforms/images/33/small/AO_logomark.png?1706606717","arbitrum-sepolia":"https://assets.coingecko.com/asset_platforms/images/33/small/AO_logomark.png?1706606717"}[t]||"https://assets.coingecko.com/asset_platforms/images/279/small/ethereum.png"}const $re="0xE52f38D753e5428550976498675960b4A4571f9A",Ure={mainnet:{ethereum:{vaultAddress:"0x816f722424b49cf1275cc86da9840fbd5a6167e9"},arbitrum:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},bnb:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},optimism:{vaultAddress:"0x816f722424b49cf1275cc86da9840fbd5a6167e9"},base:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},mantle:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},avalanche:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},sei:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},morph:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},sonic:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},berachain:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},story:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},mode:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},plume:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},abstract:{vaultAddress:"0xE80F2396A266e898FBbD251b89CFE65B3e41fD18"},monad:{vaultAddress:"0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"},"solana-mainnet-beta":{vaultAddress:"ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q"},orderlyL2:{vaultManagerAddress:"0x14a6342A8C1Ef9856898F510FcCE377e46668F33",feeManagerAddress:"0x343Ca787e960cB2cCA0ce8cfB2f38c3739E28a1E",solConnectorAddress:"0xCecAe061aa078e13b5e70D5F9eCee90a3F2B6AeA",ledgerAddress:"0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203"}},staging:{sepolia:{vaultAddress:"0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f"},"arbitrum-sepolia":{vaultAddress:"0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f"},bnbTestnet:{vaultAddress:"0xaf2036D5143219fa00dDd90e7A2dbF3E36dba050"},"optimism-sepolia":{vaultAddress:"0xEfF2896077B6ff95379EfA89Ff903598190805EC"},"base-sepolia":{vaultAddress:"0xdc7348975aE9334DbdcB944DDa9163Ba8406a0ec"},monadTestnet:{vaultAddress:"0x9442e24203e999db4aE87E35Dc0c8F3C610c29A0"},"solana-devnet":{vaultAddress:"9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2"},orderlyTestnet:{vaultManagerAddress:"0x873c120b42C80D528389d85cEA9d4dC0197974aD",feeManagerAddress:"0x0B98ba78DDb29937d895c718ED167DD8f5B2972d",solConnectorAddress:"0x5Bf771A65d057e778C5f0Ed52A0003316f94322D",ledgerAddress:"0x1826B75e2ef249173FC735149AE4B8e9ea10abff"}},qa:{sepolia:{vaultAddress:"0xd5164A5a83c64E59F842bC091E06614b84D95fF5"},"arbitrum-sepolia":{vaultAddress:"0xB15a3a4D451311e03e34d9331C695078Ad5Cf5F1"},"base-sepolia":{vaultAddress:"0xEcb4abe96113c9caA3204e96C63C5377D02cb636"},"solana-devnet":{vaultAddress:"5zBjLor7vEraAt4zp2H82sy9MSqFoDnNa1Lx6EYKTYRZ"},orderlyTestnet:{vaultManagerAddress:"0x3B092aEe40Cb99174E8C73eF90935F9F35943B22",feeManagerAddress:"0x8A929891DE9a648B6A3D05d21362418f756cf728",solConnectorAddress:"0x45b6C6266A7A2170617d8A27A50C642fd68b91c4",ledgerAddress:"0x50F59504D3623Ad99302835da367676d1f7E3D44"}},dev:{sepolia:{vaultAddress:"0x1A26FBE7A6Dc6c12b8E10CD703b0c520Ee996B15"},"arbitrum-sepolia":{vaultAddress:"0x3ac2ba11ca2f9f109d50fb1a46d4c23fcadbbef6"},"solana-devnet":{vaultAddress:"EYJq9eU4GMRUriUJBgGoZ8YLQBXcWaciXuSsEXE7ieQS"},orderlyTestnet:{vaultManagerAddress:"0x4922872C26Befa37AdcA287fF68106013C82FeeD",feeManagerAddress:"0x835E970110E4a46BCA21A7551FEaA5F532F72701",solConnectorAddress:"0x9Dc724b24146BeDD2dA28b8C4B74126169B8f312",ledgerAddress:"0x8794E7260517B1766fc7b55cAfcd56e6bf08600e"}}};var tte={};const XC=tte.WALLET_CONNECT_PROJECT_ID||"67f3ccbaec6f6119a5c91a22793c89e3",rte={name:"Orderly One",description:"Create your own DEX on Orderly Network",url:"https://dex.orderly.network",icons:["https://dex.orderly.network/favicon.webp"]},eS={ethereum:SC,arbitrum:oX,base:cX,sepolia:fX,"arbitrum-sepolia":aX,"base-sepolia":uX},ite=QC.mainnet.map(t=>eS[t]),nte=QC.testnet.map(t=>eS[t]),tS=[...ite,...nte],ste=new Qee({networks:tS,projectId:XC,ssr:!1});yX({adapters:[ste],networks:tS,defaultNetwork:SC,projectId:XC,metadata:rte,defaultAccountTypes:{eip155:"eoa"},features:{analytics:!0,email:!1,socials:!1},themeVariables:{"--w3m-border-radius-master":"12px","--w3m-accent":"#7C3AED"}});const Fre="https://dex-api.orderly.network";let _1=null,E1=!1;function Lre(t){_1=t}function qre(){E1=!0,_1&&_1(),setTimeout(()=>{E1=!1},1e3)}function jre(){return E1}export{ga as $,Xee as A,Be as B,Du as C,uM as D,ts as E,jr as F,Ar as G,qc as H,Mi as I,pi as J,nt as K,le as L,Nr as M,Xr as N,wx as O,dt as P,ft as Q,jt as R,On as S,oi as T,kr as U,pr as V,Rr as W,bf as X,mr as Y,Ue as Z,Ei as _,fd as a,xi as a$,w6 as a0,Dr as a1,wt as a2,et as a3,IV as a4,Fe as a5,M4 as a6,Kte as a7,D1 as a8,Ul as a9,fte as aA,aa as aB,lh as aC,BX as aD,qs as aE,fh as aF,LX as aG,MX as aH,$X as aI,Lre as aJ,lt as aK,Gte as aL,tee as aM,Xa as aN,xt as aO,hte as aP,wD as aQ,i5 as aR,u1 as aS,Ml as aT,Q1 as aU,K1 as aV,X4 as aW,Fa as aX,XX as aY,rK as aZ,ei as a_,Gu as aa,Yte as ab,Zte as ac,tO as ad,Gn as ae,tC as af,IX as ag,zX as ah,HX as ai,kre as aj,Ore as ak,Dre as al,BZ as am,ste as an,cte as ao,ki as ap,_r as aq,an as ar,Lc as as,St as at,Cre as au,lC as av,f1 as aw,Pu as ax,_6 as ay,ute as az,ot as b,dre as b0,$r as b1,fre as b2,OV as b3,ss as b4,Ja as b5,Zh as b6,nM as b7,hre as b8,lre as b9,kk as bA,V4 as bB,Rk as bC,Nk as bD,ite as bE,nte as bF,Ure as bG,ks as bH,$re as bI,Pre as bJ,LM as ba,WM as bb,Jh as bc,Uy as bd,$n as be,Kt as bf,PM as bg,fG as bh,Rg as bi,td as bj,zG as bk,Py as bl,VG as bm,LZ as bn,WG as bo,$y as bp,ud as bq,RX as br,FX as bs,Vr as bt,R4 as bu,ry as bv,Ph as bw,F4 as bx,Qu as by,L4 as bz,Nre as c,Mre as d,Bre as e,ete as f,so as g,Fre as h,jre as i,qre as j,_a as k,Sre as l,Ire as m,Rt as n,dQ as o,Tre as p,Cy as q,Il as r,Gi as s,SK as t,Rre as u,vG as v,zM as w,xre as x,gr as y,xo as z};
